function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
function BH(n,t){for(var r=0;r<t.length;r++){const c=t[r];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in n)){const h=Object.getOwnPropertyDescriptor(c,d);h&&Object.defineProperty(n,d,h.get?h:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function r(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=r(d);fetch(d.href,h)}})();var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var AP={exports:{}},Vm={},vP={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),OH=Symbol.for("react.portal"),LH=Symbol.for("react.fragment"),jH=Symbol.for("react.strict_mode"),zH=Symbol.for("react.profiler"),VH=Symbol.for("react.provider"),FH=Symbol.for("react.context"),UH=Symbol.for("react.forward_ref"),HH=Symbol.for("react.suspense"),$H=Symbol.for("react.memo"),WH=Symbol.for("react.lazy"),MS=Symbol.iterator;function qH(n){return n===null||typeof n!="object"?null:(n=MS&&n[MS]||n["@@iterator"],typeof n=="function"?n:null)}var CP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yP=Object.assign,EP={};function xl(n,t,r){this.props=n,this.context=t,this.refs=EP,this.updater=r||CP}xl.prototype.isReactComponent={};xl.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};xl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function xP(){}xP.prototype=xl.prototype;function HA(n,t,r){this.props=n,this.context=t,this.refs=EP,this.updater=r||CP}var $A=HA.prototype=new xP;$A.constructor=HA;yP($A,xl.prototype);$A.isPureReactComponent=!0;var PS=Array.isArray,IP=Object.prototype.hasOwnProperty,WA={current:null},TP={key:!0,ref:!0,__self:!0,__source:!0};function DP(n,t,r){var c,d={},h=null,g=null;if(t!=null)for(c in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(h=""+t.key),t)IP.call(t,c)&&!TP.hasOwnProperty(c)&&(d[c]=t[c]);var w=arguments.length-2;if(w===1)d.children=r;else if(1<w){for(var m=Array(w),A=0;A<w;A++)m[A]=arguments[A+2];d.children=m}if(n&&n.defaultProps)for(c in w=n.defaultProps,w)d[c]===void 0&&(d[c]=w[c]);return{$$typeof:yh,type:n,key:h,ref:g,props:d,_owner:WA.current}}function GH(n,t){return{$$typeof:yh,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function qA(n){return typeof n=="object"&&n!==null&&n.$$typeof===yh}function KH(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return t[r]})}var NS=/\/+/g;function b0(n,t){return typeof n=="object"&&n!==null&&n.key!=null?KH(""+n.key):t.toString(36)}function vf(n,t,r,c,d){var h=typeof n;(h==="undefined"||h==="boolean")&&(n=null);var g=!1;if(n===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(n.$$typeof){case yh:case OH:g=!0}}if(g)return g=n,d=d(g),n=c===""?"."+b0(g,0):c,PS(d)?(r="",n!=null&&(r=n.replace(NS,"$&/")+"/"),vf(d,t,r,"",function(A){return A})):d!=null&&(qA(d)&&(d=GH(d,r+(!d.key||g&&g.key===d.key?"":(""+d.key).replace(NS,"$&/")+"/")+n)),t.push(d)),1;if(g=0,c=c===""?".":c+":",PS(n))for(var w=0;w<n.length;w++){h=n[w];var m=c+b0(h,w);g+=vf(h,t,r,m,d)}else if(m=qH(n),typeof m=="function")for(n=m.call(n),w=0;!(h=n.next()).done;)h=h.value,m=c+b0(h,w++),g+=vf(h,t,r,m,d);else if(h==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function qg(n,t,r){if(n==null)return n;var c=[],d=0;return vf(n,c,"","",function(h){return t.call(r,h,d++)}),c}function QH(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Wn={current:null},Cf={transition:null},YH={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:WA};Ve.Children={map:qg,forEach:function(n,t,r){qg(n,function(){t.apply(this,arguments)},r)},count:function(n){var t=0;return qg(n,function(){t++}),t},toArray:function(n){return qg(n,function(t){return t})||[]},only:function(n){if(!qA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ve.Component=xl;Ve.Fragment=LH;Ve.Profiler=zH;Ve.PureComponent=HA;Ve.StrictMode=jH;Ve.Suspense=HH;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YH;Ve.cloneElement=function(n,t,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var c=yP({},n.props),d=n.key,h=n.ref,g=n._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,g=WA.current),t.key!==void 0&&(d=""+t.key),n.type&&n.type.defaultProps)var w=n.type.defaultProps;for(m in t)IP.call(t,m)&&!TP.hasOwnProperty(m)&&(c[m]=t[m]===void 0&&w!==void 0?w[m]:t[m])}var m=arguments.length-2;if(m===1)c.children=r;else if(1<m){w=Array(m);for(var A=0;A<m;A++)w[A]=arguments[A+2];c.children=w}return{$$typeof:yh,type:n.type,key:d,ref:h,props:c,_owner:g}};Ve.createContext=function(n){return n={$$typeof:FH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:VH,_context:n},n.Consumer=n};Ve.createElement=DP;Ve.createFactory=function(n){var t=DP.bind(null,n);return t.type=n,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(n){return{$$typeof:UH,render:n}};Ve.isValidElement=qA;Ve.lazy=function(n){return{$$typeof:WH,_payload:{_status:-1,_result:n},_init:QH}};Ve.memo=function(n,t){return{$$typeof:$H,type:n,compare:t===void 0?null:t}};Ve.startTransition=function(n){var t=Cf.transition;Cf.transition={};try{n()}finally{Cf.transition=t}};Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ve.useCallback=function(n,t){return Wn.current.useCallback(n,t)};Ve.useContext=function(n){return Wn.current.useContext(n)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(n){return Wn.current.useDeferredValue(n)};Ve.useEffect=function(n,t){return Wn.current.useEffect(n,t)};Ve.useId=function(){return Wn.current.useId()};Ve.useImperativeHandle=function(n,t,r){return Wn.current.useImperativeHandle(n,t,r)};Ve.useInsertionEffect=function(n,t){return Wn.current.useInsertionEffect(n,t)};Ve.useLayoutEffect=function(n,t){return Wn.current.useLayoutEffect(n,t)};Ve.useMemo=function(n,t){return Wn.current.useMemo(n,t)};Ve.useReducer=function(n,t,r){return Wn.current.useReducer(n,t,r)};Ve.useRef=function(n){return Wn.current.useRef(n)};Ve.useState=function(n){return Wn.current.useState(n)};Ve.useSyncExternalStore=function(n,t,r){return Wn.current.useSyncExternalStore(n,t,r)};Ve.useTransition=function(){return Wn.current.useTransition()};Ve.version="18.2.0";vP.exports=Ve;var te=vP.exports;const GA=UA(te),ZH=BH({__proto__:null,default:GA},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JH=te,XH=Symbol.for("react.element"),e$=Symbol.for("react.fragment"),t$=Object.prototype.hasOwnProperty,n$=JH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i$={key:!0,ref:!0,__self:!0,__source:!0};function SP(n,t,r){var c,d={},h=null,g=null;r!==void 0&&(h=""+r),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(g=t.ref);for(c in t)t$.call(t,c)&&!i$.hasOwnProperty(c)&&(d[c]=t[c]);if(n&&n.defaultProps)for(c in t=n.defaultProps,t)d[c]===void 0&&(d[c]=t[c]);return{$$typeof:XH,type:n,key:h,ref:g,props:d,_owner:n$.current}}Vm.Fragment=e$;Vm.jsx=SP;Vm.jsxs=SP;AP.exports=Vm;var q=AP.exports,p_={},MP={exports:{}},Di={},PP={exports:{}},NP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(le,Ae){var fe=le.length;le.push(Ae);e:for(;0<fe;){var gt=fe-1>>>1,At=le[gt];if(0<d(At,Ae))le[gt]=Ae,le[fe]=At,fe=gt;else break e}}function r(le){return le.length===0?null:le[0]}function c(le){if(le.length===0)return null;var Ae=le[0],fe=le.pop();if(fe!==Ae){le[0]=fe;e:for(var gt=0,At=le.length,Qr=At>>>1;gt<Qr;){var gi=2*(gt+1)-1,Yr=le[gi],Mi=gi+1,br=le[Mi];if(0>d(Yr,fe))Mi<At&&0>d(br,Yr)?(le[gt]=br,le[Mi]=fe,gt=Mi):(le[gt]=Yr,le[gi]=fe,gt=gi);else if(Mi<At&&0>d(br,fe))le[gt]=br,le[Mi]=fe,gt=Mi;else break e}}return Ae}function d(le,Ae){var fe=le.sortIndex-Ae.sortIndex;return fe!==0?fe:le.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var g=Date,w=g.now();n.unstable_now=function(){return g.now()-w}}var m=[],A=[],y=1,E=null,v=3,T=!1,P=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(le){for(var Ae=r(A);Ae!==null;){if(Ae.callback===null)c(A);else if(Ae.startTime<=le)c(A),Ae.sortIndex=Ae.expirationTime,t(m,Ae);else break;Ae=r(A)}}function H(le){if(O=!1,z(le),!P)if(r(m)!==null)P=!0,Tn(K);else{var Ae=r(A);Ae!==null&&pi(H,Ae.startTime-le)}}function K(le,Ae){P=!1,O&&(O=!1,B(X),X=-1),T=!0;var fe=v;try{for(z(Ae),E=r(m);E!==null&&(!(E.expirationTime>Ae)||le&&!Re());){var gt=E.callback;if(typeof gt=="function"){E.callback=null,v=E.priorityLevel;var At=gt(E.expirationTime<=Ae);Ae=n.unstable_now(),typeof At=="function"?E.callback=At:E===r(m)&&c(m),z(Ae)}else c(m);E=r(m)}if(E!==null)var Qr=!0;else{var gi=r(A);gi!==null&&pi(H,gi.startTime-Ae),Qr=!1}return Qr}finally{E=null,v=fe,T=!1}}var Y=!1,Q=null,X=-1,V=5,ie=-1;function Re(){return!(n.unstable_now()-ie<V)}function et(){if(Q!==null){var le=n.unstable_now();ie=le;var Ae=!0;try{Ae=Q(!0,le)}finally{Ae?Fe():(Y=!1,Q=null)}}else Y=!1}var Fe;if(typeof R=="function")Fe=function(){R(et)};else if(typeof MessageChannel<"u"){var ui=new MessageChannel,hi=ui.port2;ui.port1.onmessage=et,Fe=function(){hi.postMessage(null)}}else Fe=function(){j(et,0)};function Tn(le){Q=le,Y||(Y=!0,Fe())}function pi(le,Ae){X=j(function(){le(n.unstable_now())},Ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){P||T||(P=!0,Tn(K))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(m)},n.unstable_next=function(le){switch(v){case 1:case 2:case 3:var Ae=3;break;default:Ae=v}var fe=v;v=Ae;try{return le()}finally{v=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var fe=v;v=le;try{return Ae()}finally{v=fe}},n.unstable_scheduleCallback=function(le,Ae,fe){var gt=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?gt+fe:gt):fe=gt,le){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=fe+At,le={id:y++,callback:Ae,priorityLevel:le,startTime:fe,expirationTime:At,sortIndex:-1},fe>gt?(le.sortIndex=fe,t(A,le),r(m)===null&&le===r(A)&&(O?(B(X),X=-1):O=!0,pi(H,fe-gt))):(le.sortIndex=At,t(m,le),P||T||(P=!0,Tn(K))),le},n.unstable_shouldYield=Re,n.unstable_wrapCallback=function(le){var Ae=v;return function(){var fe=v;v=Ae;try{return le.apply(this,arguments)}finally{v=fe}}}})(NP);PP.exports=NP;var r$=PP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=te,Ii=r$;function se(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BP=new Set,Fu={};function $a(n,t){ll(n,t),ll(n+"Capture",t)}function ll(n,t){for(Fu[n]=t,n=0;n<t.length;n++)BP.add(t[n])}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g_=Object.prototype.hasOwnProperty,o$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RS={},BS={};function s$(n){return g_.call(BS,n)?!0:g_.call(RS,n)?!1:o$.test(n)?BS[n]=!0:(RS[n]=!0,!1)}function a$(n,t,r,c){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function c$(n,t,r,c){if(t===null||typeof t>"u"||a$(n,t,r,c))return!0;if(c)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qn(n,t,r,c,d,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=r,this.propertyName=n,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){In[n]=new qn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];In[t]=new qn(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){In[n]=new qn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){In[n]=new qn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){In[n]=new qn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){In[n]=new qn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){In[n]=new qn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){In[n]=new qn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){In[n]=new qn(n,5,!1,n.toLowerCase(),null,!1,!1)});var KA=/[\-:]([a-z])/g;function QA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(KA,QA);In[t]=new qn(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(KA,QA);In[t]=new qn(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(KA,QA);In[t]=new qn(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){In[n]=new qn(n,1,!1,n.toLowerCase(),null,!1,!1)});In.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){In[n]=new qn(n,1,!1,n.toLowerCase(),null,!0,!0)});function YA(n,t,r,c){var d=In.hasOwnProperty(t)?In[t]:null;(d!==null?d.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c$(t,r,d,c)&&(r=null),c||d===null?s$(t)&&(r===null?n.removeAttribute(t):n.setAttribute(t,""+r)):d.mustUseProperty?n[d.propertyName]=r===null?d.type===3?!1:"":r:(t=d.attributeName,c=d.attributeNamespace,r===null?n.removeAttribute(t):(d=d.type,r=d===3||d===4&&r===!0?"":""+r,c?n.setAttributeNS(c,t,r):n.setAttribute(t,r))))}var Mo=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gg=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),ZA=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),OP=Symbol.for("react.provider"),LP=Symbol.for("react.context"),JA=Symbol.for("react.forward_ref"),m_=Symbol.for("react.suspense"),k_=Symbol.for("react.suspense_list"),XA=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),jP=Symbol.for("react.offscreen"),OS=Symbol.iterator;function tu(n){return n===null||typeof n!="object"?null:(n=OS&&n[OS]||n["@@iterator"],typeof n=="function"?n:null)}var Tt=Object.assign,w0;function pu(n){if(w0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w0=t&&t[1]||""}return`
`+w0+n}var _0=!1;function A0(n,t){if(!n||_0)return"";_0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var c=A}Reflect.construct(n,[],t)}else{try{t.call()}catch(A){c=A}n.call(t.prototype)}else{try{throw Error()}catch(A){c=A}n()}}catch(A){if(A&&c&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),h=c.stack.split(`
`),g=d.length-1,w=h.length-1;1<=g&&0<=w&&d[g]!==h[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==h[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==h[w]){var m=`
`+d[g].replace(" at new "," at ");return n.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",n.displayName)),m}while(1<=g&&0<=w);break}}}finally{_0=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?pu(n):""}function l$(n){switch(n.tag){case 5:return pu(n.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return n=A0(n.type,!1),n;case 11:return n=A0(n.type.render,!1),n;case 1:return n=A0(n.type,!0),n;default:return""}}function b_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case jc:return"Fragment";case Lc:return"Portal";case f_:return"Profiler";case ZA:return"StrictMode";case m_:return"Suspense";case k_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case LP:return(n.displayName||"Context")+".Consumer";case OP:return(n._context.displayName||"Context")+".Provider";case JA:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case XA:return t=n.displayName||null,t!==null?t:b_(n.type)||"Memo";case ns:t=n._payload,n=n._init;try{return b_(n(t))}catch{}}return null}function d$(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b_(t);case 8:return t===ZA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zP(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u$(n){var t=zP(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),c=""+n[t];if(!n.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,h=r.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){c=""+g,h.call(this,g)}}),Object.defineProperty(n,t,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(g){c=""+g},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Kg(n){n._valueTracker||(n._valueTracker=u$(n))}function VP(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var r=t.getValue(),c="";return n&&(c=zP(n)?n.checked?"true":"false":n.value),n=c,n!==r?(t.setValue(n),!0):!1}function Uf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function w_(n,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function LS(n,t){var r=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),n._wrapperState={initialChecked:c,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FP(n,t){t=t.checked,t!=null&&YA(n,"checked",t,!1)}function __(n,t){FP(n,t);var r=Ts(t.value),c=t.type;if(r!=null)c==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?A_(n,t.type,r):t.hasOwnProperty("defaultValue")&&A_(n,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function jS(n,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,r||t===n.value||(n.value=t),n.defaultValue=t}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function A_(n,t,r){(t!=="number"||Uf(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var gu=Array.isArray;function Jc(n,t,r,c){if(n=n.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<n.length;r++)d=t.hasOwnProperty("$"+n[r].value),n[r].selected!==d&&(n[r].selected=d),d&&c&&(n[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,d=0;d<n.length;d++){if(n[d].value===r){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}t!==null||n[d].disabled||(t=n[d])}t!==null&&(t.selected=!0)}}function v_(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zS(n,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(gu(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}n._wrapperState={initialValue:Ts(r)}}function UP(n,t){var r=Ts(t.value),c=Ts(t.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),t.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),c!=null&&(n.defaultValue=""+c)}function VS(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function HP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C_(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?HP(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qg,$P=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,c,d){MSApp.execUnsafeLocalFunction(function(){return n(t,r,c,d)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Qg=Qg||document.createElement("div"),Qg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Uu(n,t){if(t){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=t;return}}n.textContent=t}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h$=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(n){h$.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),yu[t]=yu[n]})});function WP(n,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yu.hasOwnProperty(n)&&yu[n]?(""+t).trim():t+"px"}function qP(n,t){n=n.style;for(var r in t)if(t.hasOwnProperty(r)){var c=r.indexOf("--")===0,d=WP(r,t[r],c);r==="float"&&(r="cssFloat"),c?n.setProperty(r,d):n[r]=d}}var p$=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y_(n,t){if(t){if(p$[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function E_(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x_=null;function ev(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var I_=null,Xc=null,el=null;function FS(n){if(n=Ih(n)){if(typeof I_!="function")throw Error(se(280));var t=n.stateNode;t&&(t=Wm(t),I_(n.stateNode,n.type,t))}}function GP(n){Xc?el?el.push(n):el=[n]:Xc=n}function KP(){if(Xc){var n=Xc,t=el;if(el=Xc=null,FS(n),t)for(n=0;n<t.length;n++)FS(t[n])}}function QP(n,t){return n(t)}function YP(){}var v0=!1;function ZP(n,t,r){if(v0)return n(t,r);v0=!0;try{return QP(n,t,r)}finally{v0=!1,(Xc!==null||el!==null)&&(YP(),KP())}}function Hu(n,t){var r=n.stateNode;if(r===null)return null;var c=Wm(r);if(c===null)return null;r=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var T_=!1;if(yo)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){T_=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{T_=!1}function g$(n,t,r,c,d,h,g,w,m){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(y){this.onError(y)}}var Eu=!1,Hf=null,$f=!1,D_=null,f$={onError:function(n){Eu=!0,Hf=n}};function m$(n,t,r,c,d,h,g,w,m){Eu=!1,Hf=null,g$.apply(f$,arguments)}function k$(n,t,r,c,d,h,g,w,m){if(m$.apply(this,arguments),Eu){if(Eu){var A=Hf;Eu=!1,Hf=null}else throw Error(se(198));$f||($f=!0,D_=A)}}function Wa(n){var t=n,r=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(r=t.return),n=t.return;while(n)}return t.tag===3?r:null}function JP(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function US(n){if(Wa(n)!==n)throw Error(se(188))}function b$(n){var t=n.alternate;if(!t){if(t=Wa(n),t===null)throw Error(se(188));return t!==n?null:n}for(var r=n,c=t;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){r=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return US(d),n;if(h===c)return US(d),t;h=h.sibling}throw Error(se(188))}if(r.return!==c.return)r=d,c=h;else{for(var g=!1,w=d.child;w;){if(w===r){g=!0,r=d,c=h;break}if(w===c){g=!0,c=d,r=h;break}w=w.sibling}if(!g){for(w=h.child;w;){if(w===r){g=!0,r=h,c=d;break}if(w===c){g=!0,c=h,r=d;break}w=w.sibling}if(!g)throw Error(se(189))}}if(r.alternate!==c)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?n:t}function XP(n){return n=b$(n),n!==null?e4(n):null}function e4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=e4(n);if(t!==null)return t;n=n.sibling}return null}var t4=Ii.unstable_scheduleCallback,HS=Ii.unstable_cancelCallback,w$=Ii.unstable_shouldYield,_$=Ii.unstable_requestPaint,zt=Ii.unstable_now,A$=Ii.unstable_getCurrentPriorityLevel,tv=Ii.unstable_ImmediatePriority,n4=Ii.unstable_UserBlockingPriority,Wf=Ii.unstable_NormalPriority,v$=Ii.unstable_LowPriority,i4=Ii.unstable_IdlePriority,Fm=null,Or=null;function C$(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Fm,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:x$,y$=Math.log,E$=Math.LN2;function x$(n){return n>>>=0,n===0?32:31-(y$(n)/E$|0)|0}var Yg=64,Zg=4194304;function fu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qf(n,t){var r=n.pendingLanes;if(r===0)return 0;var c=0,d=n.suspendedLanes,h=n.pingedLanes,g=r&268435455;if(g!==0){var w=g&~d;w!==0?c=fu(w):(h&=g,h!==0&&(c=fu(h)))}else g=r&~d,g!==0?c=fu(g):h!==0&&(c=fu(h));if(c===0)return 0;if(t!==0&&t!==c&&!(t&d)&&(d=c&-c,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if(c&4&&(c|=r&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=c;0<t;)r=31-pr(t),d=1<<r,c|=n[r],t&=~d;return c}function I$(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T$(n,t){for(var r=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,h=n.pendingLanes;0<h;){var g=31-pr(h),w=1<<g,m=d[g];m===-1?(!(w&r)||w&c)&&(d[g]=I$(w,t)):m<=t&&(n.expiredLanes|=w),h&=~w}}function S_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function r4(){var n=Yg;return Yg<<=1,!(Yg&4194240)&&(Yg=64),n}function C0(n){for(var t=[],r=0;31>r;r++)t.push(n);return t}function Eh(n,t,r){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-pr(t),n[t]=r}function D$(n,t){var r=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<r;){var d=31-pr(r),h=1<<d;t[d]=0,c[d]=-1,n[d]=-1,r&=~h}}function nv(n,t){var r=n.entangledLanes|=t;for(n=n.entanglements;r;){var c=31-pr(r),d=1<<c;d&t|n[c]&t&&(n[c]|=t),r&=~d}}var ot=0;function o4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var s4,iv,a4,c4,l4,M_=!1,Jg=[],ms=null,ks=null,bs=null,$u=new Map,Wu=new Map,rs=[],S$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $S(n,t){switch(n){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":$u.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(t.pointerId)}}function iu(n,t,r,c,d,h){return n===null||n.nativeEvent!==h?(n={blockedOn:t,domEventName:r,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},t!==null&&(t=Ih(t),t!==null&&iv(t)),n):(n.eventSystemFlags|=c,t=n.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),n)}function M$(n,t,r,c,d){switch(t){case"focusin":return ms=iu(ms,n,t,r,c,d),!0;case"dragenter":return ks=iu(ks,n,t,r,c,d),!0;case"mouseover":return bs=iu(bs,n,t,r,c,d),!0;case"pointerover":var h=d.pointerId;return $u.set(h,iu($u.get(h)||null,n,t,r,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Wu.set(h,iu(Wu.get(h)||null,n,t,r,c,d)),!0}return!1}function d4(n){var t=wa(n.target);if(t!==null){var r=Wa(t);if(r!==null){if(t=r.tag,t===13){if(t=JP(r),t!==null){n.blockedOn=t,l4(n.priority,function(){a4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yf(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var r=P_(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);x_=c,r.target.dispatchEvent(c),x_=null}else return t=Ih(r),t!==null&&iv(t),n.blockedOn=r,!1;t.shift()}return!0}function WS(n,t,r){yf(n)&&r.delete(t)}function P$(){M_=!1,ms!==null&&yf(ms)&&(ms=null),ks!==null&&yf(ks)&&(ks=null),bs!==null&&yf(bs)&&(bs=null),$u.forEach(WS),Wu.forEach(WS)}function ru(n,t){n.blockedOn===t&&(n.blockedOn=null,M_||(M_=!0,Ii.unstable_scheduleCallback(Ii.unstable_NormalPriority,P$)))}function qu(n){function t(d){return ru(d,n)}if(0<Jg.length){ru(Jg[0],n);for(var r=1;r<Jg.length;r++){var c=Jg[r];c.blockedOn===n&&(c.blockedOn=null)}}for(ms!==null&&ru(ms,n),ks!==null&&ru(ks,n),bs!==null&&ru(bs,n),$u.forEach(t),Wu.forEach(t),r=0;r<rs.length;r++)c=rs[r],c.blockedOn===n&&(c.blockedOn=null);for(;0<rs.length&&(r=rs[0],r.blockedOn===null);)d4(r),r.blockedOn===null&&rs.shift()}var tl=Mo.ReactCurrentBatchConfig,Gf=!0;function N$(n,t,r,c){var d=ot,h=tl.transition;tl.transition=null;try{ot=1,rv(n,t,r,c)}finally{ot=d,tl.transition=h}}function R$(n,t,r,c){var d=ot,h=tl.transition;tl.transition=null;try{ot=4,rv(n,t,r,c)}finally{ot=d,tl.transition=h}}function rv(n,t,r,c){if(Gf){var d=P_(n,t,r,c);if(d===null)N0(n,t,c,Kf,r),$S(n,c);else if(M$(d,n,t,r,c))c.stopPropagation();else if($S(n,c),t&4&&-1<S$.indexOf(n)){for(;d!==null;){var h=Ih(d);if(h!==null&&s4(h),h=P_(n,t,r,c),h===null&&N0(n,t,c,Kf,r),h===d)break;d=h}d!==null&&c.stopPropagation()}else N0(n,t,c,null,r)}}var Kf=null;function P_(n,t,r,c){if(Kf=null,n=ev(c),n=wa(n),n!==null)if(t=Wa(n),t===null)n=null;else if(r=t.tag,r===13){if(n=JP(t),n!==null)return n;n=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Kf=n,null}function u4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A$()){case tv:return 1;case n4:return 4;case Wf:case v$:return 16;case i4:return 536870912;default:return 16}default:return 16}}var hs=null,ov=null,Ef=null;function h4(){if(Ef)return Ef;var n,t=ov,r=t.length,c,d="value"in hs?hs.value:hs.textContent,h=d.length;for(n=0;n<r&&t[n]===d[n];n++);var g=r-n;for(c=1;c<=g&&t[r-c]===d[h-c];c++);return Ef=d.slice(n,1<c?1-c:void 0)}function xf(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Xg(){return!0}function qS(){return!1}function Si(n){function t(r,c,d,h,g){this._reactName=r,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(r=n[w],this[w]=r?r(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xg:qS,this.isPropagationStopped=qS,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),t}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=Si(Il),xh=Tt({},Il,{view:0,detail:0}),B$=Si(xh),y0,E0,ou,Um=Tt({},xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ou&&(ou&&n.type==="mousemove"?(y0=n.screenX-ou.screenX,E0=n.screenY-ou.screenY):E0=y0=0,ou=n),y0)},movementY:function(n){return"movementY"in n?n.movementY:E0}}),GS=Si(Um),O$=Tt({},Um,{dataTransfer:0}),L$=Si(O$),j$=Tt({},xh,{relatedTarget:0}),x0=Si(j$),z$=Tt({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),V$=Si(z$),F$=Tt({},Il,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),U$=Si(F$),H$=Tt({},Il,{data:0}),KS=Si(H$),$$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G$(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=q$[n])?!!t[n]:!1}function av(){return G$}var K$=Tt({},xh,{key:function(n){if(n.key){var t=$$[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=xf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?W$[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(n){return n.type==="keypress"?xf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Q$=Si(K$),Y$=Tt({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QS=Si(Y$),Z$=Tt({},xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),J$=Si(Z$),X$=Tt({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),eW=Si(X$),tW=Tt({},Um,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nW=Si(tW),iW=[9,13,27,32],cv=yo&&"CompositionEvent"in window,xu=null;yo&&"documentMode"in document&&(xu=document.documentMode);var rW=yo&&"TextEvent"in window&&!xu,p4=yo&&(!cv||xu&&8<xu&&11>=xu),YS=" ",ZS=!1;function g4(n,t){switch(n){case"keyup":return iW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zc=!1;function oW(n,t){switch(n){case"compositionend":return f4(t);case"keypress":return t.which!==32?null:(ZS=!0,YS);case"textInput":return n=t.data,n===YS&&ZS?null:n;default:return null}}function sW(n,t){if(zc)return n==="compositionend"||!cv&&g4(n,t)?(n=h4(),Ef=ov=hs=null,zc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p4&&t.locale!=="ko"?null:t.data;default:return null}}var aW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!aW[n.type]:t==="textarea"}function m4(n,t,r,c){GP(c),t=Qf(t,"onChange"),0<t.length&&(r=new sv("onChange","change",null,r,c),n.push({event:r,listeners:t}))}var Iu=null,Gu=null;function cW(n){I4(n,0)}function Hm(n){var t=Uc(n);if(VP(t))return n}function lW(n,t){if(n==="change")return t}var k4=!1;if(yo){var I0;if(yo){var T0="oninput"in document;if(!T0){var XS=document.createElement("div");XS.setAttribute("oninput","return;"),T0=typeof XS.oninput=="function"}I0=T0}else I0=!1;k4=I0&&(!document.documentMode||9<document.documentMode)}function e5(){Iu&&(Iu.detachEvent("onpropertychange",b4),Gu=Iu=null)}function b4(n){if(n.propertyName==="value"&&Hm(Gu)){var t=[];m4(t,Gu,n,ev(n)),ZP(cW,t)}}function dW(n,t,r){n==="focusin"?(e5(),Iu=t,Gu=r,Iu.attachEvent("onpropertychange",b4)):n==="focusout"&&e5()}function uW(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hm(Gu)}function hW(n,t){if(n==="click")return Hm(t)}function pW(n,t){if(n==="input"||n==="change")return Hm(t)}function gW(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var fr=typeof Object.is=="function"?Object.is:gW;function Ku(n,t){if(fr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var r=Object.keys(n),c=Object.keys(t);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var d=r[c];if(!g_.call(t,d)||!fr(n[d],t[d]))return!1}return!0}function t5(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function n5(n,t){var r=t5(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=t&&c>=t)return{node:r,offset:t-n};n=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=t5(r)}}function w4(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?w4(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function _4(){for(var n=window,t=Uf();t instanceof n.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)n=t.contentWindow;else break;t=Uf(n.document)}return t}function lv(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function fW(n){var t=_4(),r=n.focusedElem,c=n.selectionRange;if(t!==r&&r&&r.ownerDocument&&w4(r.ownerDocument.documentElement,r)){if(c!==null&&lv(r)){if(t=c.start,n=c.end,n===void 0&&(n=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(n,r.value.length);else if(n=(t=r.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var d=r.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!n.extend&&h>c&&(d=c,c=h,h=d),d=n5(r,h);var g=n5(r,c);d&&g&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==g.node||n.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),n.removeAllRanges(),h>c?(n.addRange(t),n.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),n.addRange(t)))}}for(t=[],n=r;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)n=t[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mW=yo&&"documentMode"in document&&11>=document.documentMode,Vc=null,N_=null,Tu=null,R_=!1;function i5(n,t,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R_||Vc==null||Vc!==Uf(c)||(c=Vc,"selectionStart"in c&&lv(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tu&&Ku(Tu,c)||(Tu=c,c=Qf(N_,"onSelect"),0<c.length&&(t=new sv("onSelect","select",null,t,r),n.push({event:t,listeners:c}),t.target=Vc)))}function ef(n,t){var r={};return r[n.toLowerCase()]=t.toLowerCase(),r["Webkit"+n]="webkit"+t,r["Moz"+n]="moz"+t,r}var Fc={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},D0={},A4={};yo&&(A4=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function $m(n){if(D0[n])return D0[n];if(!Fc[n])return n;var t=Fc[n],r;for(r in t)if(t.hasOwnProperty(r)&&r in A4)return D0[n]=t[r];return n}var v4=$m("animationend"),C4=$m("animationiteration"),y4=$m("animationstart"),E4=$m("transitionend"),x4=new Map,r5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(n,t){x4.set(n,t),$a(t,[n])}for(var S0=0;S0<r5.length;S0++){var M0=r5[S0],kW=M0.toLowerCase(),bW=M0[0].toUpperCase()+M0.slice(1);Rs(kW,"on"+bW)}Rs(v4,"onAnimationEnd");Rs(C4,"onAnimationIteration");Rs(y4,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(E4,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wW=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function o5(n,t,r){var c=n.type||"unknown-event";n.currentTarget=r,k$(c,t,void 0,n),n.currentTarget=null}function I4(n,t){t=(t&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],d=c.event;c=c.listeners;e:{var h=void 0;if(t)for(var g=c.length-1;0<=g;g--){var w=c[g],m=w.instance,A=w.currentTarget;if(w=w.listener,m!==h&&d.isPropagationStopped())break e;o5(d,w,A),h=m}else for(g=0;g<c.length;g++){if(w=c[g],m=w.instance,A=w.currentTarget,w=w.listener,m!==h&&d.isPropagationStopped())break e;o5(d,w,A),h=m}}}if($f)throw n=D_,$f=!1,D_=null,n}function bt(n,t){var r=t[z_];r===void 0&&(r=t[z_]=new Set);var c=n+"__bubble";r.has(c)||(T4(t,n,2,!1),r.add(c))}function P0(n,t,r){var c=0;t&&(c|=4),T4(r,n,c,t)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Qu(n){if(!n[tf]){n[tf]=!0,BP.forEach(function(r){r!=="selectionchange"&&(wW.has(r)||P0(r,!1,n),P0(r,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[tf]||(t[tf]=!0,P0("selectionchange",!1,t))}}function T4(n,t,r,c){switch(u4(t)){case 1:var d=N$;break;case 4:d=R$;break;default:d=rv}r=d.bind(null,t,r,n),d=void 0,!T_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(t,r,{capture:!0,passive:d}):n.addEventListener(t,r,!0):d!==void 0?n.addEventListener(t,r,{passive:d}):n.addEventListener(t,r,!1)}function N0(n,t,r,c,d){var h=c;if(!(t&1)&&!(t&2)&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var w=c.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=c.return;g!==null;){var m=g.tag;if((m===3||m===4)&&(m=g.stateNode.containerInfo,m===d||m.nodeType===8&&m.parentNode===d))return;g=g.return}for(;w!==null;){if(g=wa(w),g===null)return;if(m=g.tag,m===5||m===6){c=h=g;continue e}w=w.parentNode}}c=c.return}ZP(function(){var A=h,y=ev(r),E=[];e:{var v=x4.get(n);if(v!==void 0){var T=sv,P=n;switch(n){case"keypress":if(xf(r)===0)break e;case"keydown":case"keyup":T=Q$;break;case"focusin":P="focus",T=x0;break;case"focusout":P="blur",T=x0;break;case"beforeblur":case"afterblur":T=x0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=L$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=J$;break;case v4:case C4:case y4:T=V$;break;case E4:T=eW;break;case"scroll":T=B$;break;case"wheel":T=nW;break;case"copy":case"cut":case"paste":T=U$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=QS}var O=(t&4)!==0,j=!O&&n==="scroll",B=O?v!==null?v+"Capture":null:v;O=[];for(var R=A,z;R!==null;){z=R;var H=z.stateNode;if(z.tag===5&&H!==null&&(z=H,B!==null&&(H=Hu(R,B),H!=null&&O.push(Yu(R,H,z)))),j)break;R=R.return}0<O.length&&(v=new T(v,P,null,r,y),E.push({event:v,listeners:O}))}}if(!(t&7)){e:{if(v=n==="mouseover"||n==="pointerover",T=n==="mouseout"||n==="pointerout",v&&r!==x_&&(P=r.relatedTarget||r.fromElement)&&(wa(P)||P[Eo]))break e;if((T||v)&&(v=y.window===y?y:(v=y.ownerDocument)?v.defaultView||v.parentWindow:window,T?(P=r.relatedTarget||r.toElement,T=A,P=P?wa(P):null,P!==null&&(j=Wa(P),P!==j||P.tag!==5&&P.tag!==6)&&(P=null)):(T=null,P=A),T!==P)){if(O=GS,H="onMouseLeave",B="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(O=QS,H="onPointerLeave",B="onPointerEnter",R="pointer"),j=T==null?v:Uc(T),z=P==null?v:Uc(P),v=new O(H,R+"leave",T,r,y),v.target=j,v.relatedTarget=z,H=null,wa(y)===A&&(O=new O(B,R+"enter",P,r,y),O.target=z,O.relatedTarget=j,H=O),j=H,T&&P)t:{for(O=T,B=P,R=0,z=O;z;z=Pc(z))R++;for(z=0,H=B;H;H=Pc(H))z++;for(;0<R-z;)O=Pc(O),R--;for(;0<z-R;)B=Pc(B),z--;for(;R--;){if(O===B||B!==null&&O===B.alternate)break t;O=Pc(O),B=Pc(B)}O=null}else O=null;T!==null&&s5(E,v,T,O,!1),P!==null&&j!==null&&s5(E,j,P,O,!0)}}e:{if(v=A?Uc(A):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var K=lW;else if(JS(v))if(k4)K=pW;else{K=uW;var Y=dW}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(K=hW);if(K&&(K=K(n,A))){m4(E,K,r,y);break e}Y&&Y(n,v,A),n==="focusout"&&(Y=v._wrapperState)&&Y.controlled&&v.type==="number"&&A_(v,"number",v.value)}switch(Y=A?Uc(A):window,n){case"focusin":(JS(Y)||Y.contentEditable==="true")&&(Vc=Y,N_=A,Tu=null);break;case"focusout":Tu=N_=Vc=null;break;case"mousedown":R_=!0;break;case"contextmenu":case"mouseup":case"dragend":R_=!1,i5(E,r,y);break;case"selectionchange":if(mW)break;case"keydown":case"keyup":i5(E,r,y)}var Q;if(cv)e:{switch(n){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else zc?g4(n,r)&&(X="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(p4&&r.locale!=="ko"&&(zc||X!=="onCompositionStart"?X==="onCompositionEnd"&&zc&&(Q=h4()):(hs=y,ov="value"in hs?hs.value:hs.textContent,zc=!0)),Y=Qf(A,X),0<Y.length&&(X=new KS(X,n,null,r,y),E.push({event:X,listeners:Y}),Q?X.data=Q:(Q=f4(r),Q!==null&&(X.data=Q)))),(Q=rW?oW(n,r):sW(n,r))&&(A=Qf(A,"onBeforeInput"),0<A.length&&(y=new KS("onBeforeInput","beforeinput",null,r,y),E.push({event:y,listeners:A}),y.data=Q))}I4(E,t)})}function Yu(n,t,r){return{instance:n,listener:t,currentTarget:r}}function Qf(n,t){for(var r=t+"Capture",c=[];n!==null;){var d=n,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Hu(n,r),h!=null&&c.unshift(Yu(n,h,d)),h=Hu(n,t),h!=null&&c.push(Yu(n,h,d))),n=n.return}return c}function Pc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function s5(n,t,r,c,d){for(var h=t._reactName,g=[];r!==null&&r!==c;){var w=r,m=w.alternate,A=w.stateNode;if(m!==null&&m===c)break;w.tag===5&&A!==null&&(w=A,d?(m=Hu(r,h),m!=null&&g.unshift(Yu(r,m,w))):d||(m=Hu(r,h),m!=null&&g.push(Yu(r,m,w)))),r=r.return}g.length!==0&&n.push({event:t,listeners:g})}var _W=/\r\n?/g,AW=/\u0000|\uFFFD/g;function a5(n){return(typeof n=="string"?n:""+n).replace(_W,`
`).replace(AW,"")}function nf(n,t,r){if(t=a5(t),a5(n)!==t&&r)throw Error(se(425))}function Yf(){}var B_=null,O_=null;function L_(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j_=typeof setTimeout=="function"?setTimeout:void 0,vW=typeof clearTimeout=="function"?clearTimeout:void 0,c5=typeof Promise=="function"?Promise:void 0,CW=typeof queueMicrotask=="function"?queueMicrotask:typeof c5<"u"?function(n){return c5.resolve(null).then(n).catch(yW)}:j_;function yW(n){setTimeout(function(){throw n})}function R0(n,t){var r=t,c=0;do{var d=r.nextSibling;if(n.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(c===0){n.removeChild(d),qu(t);return}c--}else r!=="$"&&r!=="$?"&&r!=="$!"||c++;r=d}while(r);qu(t)}function ws(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function l5(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return n;t--}else r==="/$"&&t++}n=n.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Tl,Zu="__reactProps$"+Tl,Eo="__reactContainer$"+Tl,z_="__reactEvents$"+Tl,EW="__reactListeners$"+Tl,xW="__reactHandles$"+Tl;function wa(n){var t=n[Mr];if(t)return t;for(var r=n.parentNode;r;){if(t=r[Eo]||r[Mr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(n=l5(n);n!==null;){if(r=n[Mr])return r;n=l5(n)}return t}n=r,r=n.parentNode}return null}function Ih(n){return n=n[Mr]||n[Eo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Uc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(se(33))}function Wm(n){return n[Zu]||null}var V_=[],Hc=-1;function Bs(n){return{current:n}}function _t(n){0>Hc||(n.current=V_[Hc],V_[Hc]=null,Hc--)}function mt(n,t){Hc++,V_[Hc]=n.current,n.current=t}var Ds={},Ln=Bs(Ds),ci=Bs(!1),Ma=Ds;function dl(n,t){var r=n.type.contextTypes;if(!r)return Ds;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in r)d[h]=t[h];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=d),d}function li(n){return n=n.childContextTypes,n!=null}function Zf(){_t(ci),_t(Ln)}function d5(n,t,r){if(Ln.current!==Ds)throw Error(se(168));mt(Ln,t),mt(ci,r)}function D4(n,t,r){var c=n.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return r;c=c.getChildContext();for(var d in c)if(!(d in t))throw Error(se(108,d$(n)||"Unknown",d));return Tt({},r,c)}function Jf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ds,Ma=Ln.current,mt(Ln,n),mt(ci,ci.current),!0}function u5(n,t,r){var c=n.stateNode;if(!c)throw Error(se(169));r?(n=D4(n,t,Ma),c.__reactInternalMemoizedMergedChildContext=n,_t(ci),_t(Ln),mt(Ln,n)):_t(ci),mt(ci,r)}var mo=null,qm=!1,B0=!1;function S4(n){mo===null?mo=[n]:mo.push(n)}function IW(n){qm=!0,S4(n)}function Os(){if(!B0&&mo!==null){B0=!0;var n=0,t=ot;try{var r=mo;for(ot=1;n<r.length;n++){var c=r[n];do c=c(!0);while(c!==null)}mo=null,qm=!1}catch(d){throw mo!==null&&(mo=mo.slice(n+1)),t4(tv,Os),d}finally{ot=t,B0=!1}}return null}var $c=[],Wc=0,Xf=null,em=0,Fi=[],Ui=0,Pa=null,ko=1,bo="";function ga(n,t){$c[Wc++]=em,$c[Wc++]=Xf,Xf=n,em=t}function M4(n,t,r){Fi[Ui++]=ko,Fi[Ui++]=bo,Fi[Ui++]=Pa,Pa=n;var c=ko;n=bo;var d=32-pr(c)-1;c&=~(1<<d),r+=1;var h=32-pr(t)+d;if(30<h){var g=d-d%5;h=(c&(1<<g)-1).toString(32),c>>=g,d-=g,ko=1<<32-pr(t)+d|r<<d|c,bo=h+n}else ko=1<<h|r<<d|c,bo=n}function dv(n){n.return!==null&&(ga(n,1),M4(n,1,0))}function uv(n){for(;n===Xf;)Xf=$c[--Wc],$c[Wc]=null,em=$c[--Wc],$c[Wc]=null;for(;n===Pa;)Pa=Fi[--Ui],Fi[Ui]=null,bo=Fi[--Ui],Fi[Ui]=null,ko=Fi[--Ui],Fi[Ui]=null}var xi=null,yi=null,Ct=!1,ur=null;function P4(n,t){var r=Wi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=n,t=n.deletions,t===null?(n.deletions=[r],n.flags|=16):t.push(r)}function h5(n,t){switch(n.tag){case 5:var r=n.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,xi=n,yi=ws(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,xi=n,yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pa!==null?{id:ko,overflow:bo}:null,n.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wi(18,null,null,0),r.stateNode=t,r.return=n,n.child=r,xi=n,yi=null,!0):!1;default:return!1}}function F_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function U_(n){if(Ct){var t=yi;if(t){var r=t;if(!h5(n,t)){if(F_(n))throw Error(se(418));t=ws(r.nextSibling);var c=xi;t&&h5(n,t)?P4(c,r):(n.flags=n.flags&-4097|2,Ct=!1,xi=n)}}else{if(F_(n))throw Error(se(418));n.flags=n.flags&-4097|2,Ct=!1,xi=n}}}function p5(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xi=n}function rf(n){if(n!==xi)return!1;if(!Ct)return p5(n),Ct=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!L_(n.type,n.memoizedProps)),t&&(t=yi)){if(F_(n))throw N4(),Error(se(418));for(;t;)P4(n,t),t=ws(t.nextSibling)}if(p5(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(se(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(t===0){yi=ws(n.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}n=n.nextSibling}yi=null}}else yi=xi?ws(n.stateNode.nextSibling):null;return!0}function N4(){for(var n=yi;n;)n=ws(n.nextSibling)}function ul(){yi=xi=null,Ct=!1}function hv(n){ur===null?ur=[n]:ur.push(n)}var TW=Mo.ReactCurrentBatchConfig;function lr(n,t){if(n&&n.defaultProps){t=Tt({},t),n=n.defaultProps;for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}return t}var tm=Bs(null),nm=null,qc=null,pv=null;function gv(){pv=qc=nm=null}function fv(n){var t=tm.current;_t(tm),n._currentValue=t}function H_(n,t,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),n===r)break;n=n.return}}function nl(n,t){nm=n,pv=qc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(ai=!0),n.firstContext=null)}function Ki(n){var t=n._currentValue;if(pv!==n)if(n={context:n,memoizedValue:t,next:null},qc===null){if(nm===null)throw Error(se(308));qc=n,nm.dependencies={lanes:0,firstContext:n}}else qc=qc.next=n;return t}var _a=null;function mv(n){_a===null?_a=[n]:_a.push(n)}function R4(n,t,r,c){var d=t.interleaved;return d===null?(r.next=r,mv(t)):(r.next=d.next,d.next=r),t.interleaved=r,xo(n,c)}function xo(n,t){n.lanes|=t;var r=n.alternate;for(r!==null&&(r.lanes|=t),r=n,n=n.return;n!==null;)n.childLanes|=t,r=n.alternate,r!==null&&(r.childLanes|=t),r=n,n=n.return;return r.tag===3?r.stateNode:null}var is=!1;function kv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B4(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vo(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(n,t,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ye&2){var d=c.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),c.pending=t,xo(n,r)}return d=c.interleaved,d===null?(t.next=t,mv(c)):(t.next=d.next,d.next=t),c.interleaved=t,xo(n,r)}function If(n,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var c=t.lanes;c&=n.pendingLanes,r|=c,t.lanes=r,nv(n,r)}}function g5(n,t){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?d=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?d=h=t:h=h.next=t}else d=h=t;r={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=t:n.next=t,r.lastBaseUpdate=t}function im(n,t,r,c){var d=n.updateQueue;is=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var m=w,A=m.next;m.next=null,g===null?h=A:g.next=A,g=m;var y=n.alternate;y!==null&&(y=y.updateQueue,w=y.lastBaseUpdate,w!==g&&(w===null?y.firstBaseUpdate=A:w.next=A,y.lastBaseUpdate=m))}if(h!==null){var E=d.baseState;g=0,y=A=m=null,w=h;do{var v=w.lane,T=w.eventTime;if((c&v)===v){y!==null&&(y=y.next={eventTime:T,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var P=n,O=w;switch(v=t,T=r,O.tag){case 1:if(P=O.payload,typeof P=="function"){E=P.call(T,E,v);break e}E=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=O.payload,v=typeof P=="function"?P.call(T,E,v):P,v==null)break e;E=Tt({},E,v);break e;case 2:is=!0}}w.callback!==null&&w.lane!==0&&(n.flags|=64,v=d.effects,v===null?d.effects=[w]:v.push(w))}else T={eventTime:T,lane:v,tag:w.tag,payload:w.payload,callback:w.callback,next:null},y===null?(A=y=T,m=E):y=y.next=T,g|=v;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;v=w,w=v.next,v.next=null,d.lastBaseUpdate=v,d.shared.pending=null}}while(!0);if(y===null&&(m=E),d.baseState=m,d.firstBaseUpdate=A,d.lastBaseUpdate=y,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);Ra|=g,n.lanes=g,n.memoizedState=E}}function f5(n,t,r){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var c=n[t],d=c.callback;if(d!==null){if(c.callback=null,c=r,typeof d!="function")throw Error(se(191,d));d.call(c)}}}var O4=new RP.Component().refs;function $_(n,t,r,c){t=n.memoizedState,r=r(c,t),r=r==null?t:Tt({},t,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Gm={isMounted:function(n){return(n=n._reactInternals)?Wa(n)===n:!1},enqueueSetState:function(n,t,r){n=n._reactInternals;var c=$n(),d=vs(n),h=vo(c,d);h.payload=t,r!=null&&(h.callback=r),t=_s(n,h,d),t!==null&&(gr(t,n,d,c),If(t,n,d))},enqueueReplaceState:function(n,t,r){n=n._reactInternals;var c=$n(),d=vs(n),h=vo(c,d);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=_s(n,h,d),t!==null&&(gr(t,n,d,c),If(t,n,d))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var r=$n(),c=vs(n),d=vo(r,c);d.tag=2,t!=null&&(d.callback=t),t=_s(n,d,c),t!==null&&(gr(t,n,c,r),If(t,n,c))}};function m5(n,t,r,c,d,h,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,h,g):t.prototype&&t.prototype.isPureReactComponent?!Ku(r,c)||!Ku(d,h):!0}function L4(n,t,r){var c=!1,d=Ds,h=t.contextType;return typeof h=="object"&&h!==null?h=Ki(h):(d=li(t)?Ma:Ln.current,c=t.contextTypes,h=(c=c!=null)?dl(n,d):Ds),t=new t(r,h),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gm,n.stateNode=t,t._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=h),t}function k5(n,t,r,c){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,c),t.state!==n&&Gm.enqueueReplaceState(t,t.state,null)}function W_(n,t,r,c){var d=n.stateNode;d.props=r,d.state=n.memoizedState,d.refs=O4,kv(n);var h=t.contextType;typeof h=="object"&&h!==null?d.context=Ki(h):(h=li(t)?Ma:Ln.current,d.context=dl(n,h)),d.state=n.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&($_(n,t,h,r),d.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Gm.enqueueReplaceState(d,d.state,null),im(n,r,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function su(n,t,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var c=r.stateNode}if(!c)throw Error(se(147,n));var d=c,h=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var w=d.refs;w===O4&&(w=d.refs={}),g===null?delete w[h]:w[h]=g},t._stringRef=h,t)}if(typeof n!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,n))}return n}function of(n,t){throw n=Object.prototype.toString.call(t),Error(se(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function b5(n){var t=n._init;return t(n._payload)}function j4(n){function t(B,R){if(n){var z=B.deletions;z===null?(B.deletions=[R],B.flags|=16):z.push(R)}}function r(B,R){if(!n)return null;for(;R!==null;)t(B,R),R=R.sibling;return null}function c(B,R){for(B=new Map;R!==null;)R.key!==null?B.set(R.key,R):B.set(R.index,R),R=R.sibling;return B}function d(B,R){return B=Cs(B,R),B.index=0,B.sibling=null,B}function h(B,R,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<R?(B.flags|=2,R):z):(B.flags|=2,R)):(B.flags|=1048576,R)}function g(B){return n&&B.alternate===null&&(B.flags|=2),B}function w(B,R,z,H){return R===null||R.tag!==6?(R=U0(z,B.mode,H),R.return=B,R):(R=d(R,z),R.return=B,R)}function m(B,R,z,H){var K=z.type;return K===jc?y(B,R,z.props.children,H,z.key):R!==null&&(R.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ns&&b5(K)===R.type)?(H=d(R,z.props),H.ref=su(B,R,z),H.return=B,H):(H=Nf(z.type,z.key,z.props,null,B.mode,H),H.ref=su(B,R,z),H.return=B,H)}function A(B,R,z,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=H0(z,B.mode,H),R.return=B,R):(R=d(R,z.children||[]),R.return=B,R)}function y(B,R,z,H,K){return R===null||R.tag!==7?(R=Ia(z,B.mode,H,K),R.return=B,R):(R=d(R,z),R.return=B,R)}function E(B,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return R=U0(""+R,B.mode,z),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Gg:return z=Nf(R.type,R.key,R.props,null,B.mode,z),z.ref=su(B,null,R),z.return=B,z;case Lc:return R=H0(R,B.mode,z),R.return=B,R;case ns:var H=R._init;return E(B,H(R._payload),z)}if(gu(R)||tu(R))return R=Ia(R,B.mode,z,null),R.return=B,R;of(B,R)}return null}function v(B,R,z,H){var K=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return K!==null?null:w(B,R,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Gg:return z.key===K?m(B,R,z,H):null;case Lc:return z.key===K?A(B,R,z,H):null;case ns:return K=z._init,v(B,R,K(z._payload),H)}if(gu(z)||tu(z))return K!==null?null:y(B,R,z,H,null);of(B,z)}return null}function T(B,R,z,H,K){if(typeof H=="string"&&H!==""||typeof H=="number")return B=B.get(z)||null,w(R,B,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Gg:return B=B.get(H.key===null?z:H.key)||null,m(R,B,H,K);case Lc:return B=B.get(H.key===null?z:H.key)||null,A(R,B,H,K);case ns:var Y=H._init;return T(B,R,z,Y(H._payload),K)}if(gu(H)||tu(H))return B=B.get(z)||null,y(R,B,H,K,null);of(R,H)}return null}function P(B,R,z,H){for(var K=null,Y=null,Q=R,X=R=0,V=null;Q!==null&&X<z.length;X++){Q.index>X?(V=Q,Q=null):V=Q.sibling;var ie=v(B,Q,z[X],H);if(ie===null){Q===null&&(Q=V);break}n&&Q&&ie.alternate===null&&t(B,Q),R=h(ie,R,X),Y===null?K=ie:Y.sibling=ie,Y=ie,Q=V}if(X===z.length)return r(B,Q),Ct&&ga(B,X),K;if(Q===null){for(;X<z.length;X++)Q=E(B,z[X],H),Q!==null&&(R=h(Q,R,X),Y===null?K=Q:Y.sibling=Q,Y=Q);return Ct&&ga(B,X),K}for(Q=c(B,Q);X<z.length;X++)V=T(Q,B,X,z[X],H),V!==null&&(n&&V.alternate!==null&&Q.delete(V.key===null?X:V.key),R=h(V,R,X),Y===null?K=V:Y.sibling=V,Y=V);return n&&Q.forEach(function(Re){return t(B,Re)}),Ct&&ga(B,X),K}function O(B,R,z,H){var K=tu(z);if(typeof K!="function")throw Error(se(150));if(z=K.call(z),z==null)throw Error(se(151));for(var Y=K=null,Q=R,X=R=0,V=null,ie=z.next();Q!==null&&!ie.done;X++,ie=z.next()){Q.index>X?(V=Q,Q=null):V=Q.sibling;var Re=v(B,Q,ie.value,H);if(Re===null){Q===null&&(Q=V);break}n&&Q&&Re.alternate===null&&t(B,Q),R=h(Re,R,X),Y===null?K=Re:Y.sibling=Re,Y=Re,Q=V}if(ie.done)return r(B,Q),Ct&&ga(B,X),K;if(Q===null){for(;!ie.done;X++,ie=z.next())ie=E(B,ie.value,H),ie!==null&&(R=h(ie,R,X),Y===null?K=ie:Y.sibling=ie,Y=ie);return Ct&&ga(B,X),K}for(Q=c(B,Q);!ie.done;X++,ie=z.next())ie=T(Q,B,X,ie.value,H),ie!==null&&(n&&ie.alternate!==null&&Q.delete(ie.key===null?X:ie.key),R=h(ie,R,X),Y===null?K=ie:Y.sibling=ie,Y=ie);return n&&Q.forEach(function(et){return t(B,et)}),Ct&&ga(B,X),K}function j(B,R,z,H){if(typeof z=="object"&&z!==null&&z.type===jc&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Gg:e:{for(var K=z.key,Y=R;Y!==null;){if(Y.key===K){if(K=z.type,K===jc){if(Y.tag===7){r(B,Y.sibling),R=d(Y,z.props.children),R.return=B,B=R;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ns&&b5(K)===Y.type){r(B,Y.sibling),R=d(Y,z.props),R.ref=su(B,Y,z),R.return=B,B=R;break e}r(B,Y);break}else t(B,Y);Y=Y.sibling}z.type===jc?(R=Ia(z.props.children,B.mode,H,z.key),R.return=B,B=R):(H=Nf(z.type,z.key,z.props,null,B.mode,H),H.ref=su(B,R,z),H.return=B,B=H)}return g(B);case Lc:e:{for(Y=z.key;R!==null;){if(R.key===Y)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){r(B,R.sibling),R=d(R,z.children||[]),R.return=B,B=R;break e}else{r(B,R);break}else t(B,R);R=R.sibling}R=H0(z,B.mode,H),R.return=B,B=R}return g(B);case ns:return Y=z._init,j(B,R,Y(z._payload),H)}if(gu(z))return P(B,R,z,H);if(tu(z))return O(B,R,z,H);of(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,R!==null&&R.tag===6?(r(B,R.sibling),R=d(R,z),R.return=B,B=R):(r(B,R),R=U0(z,B.mode,H),R.return=B,B=R),g(B)):r(B,R)}return j}var hl=j4(!0),z4=j4(!1),Th={},Lr=Bs(Th),Ju=Bs(Th),Xu=Bs(Th);function Aa(n){if(n===Th)throw Error(se(174));return n}function bv(n,t){switch(mt(Xu,t),mt(Ju,n),mt(Lr,Th),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C_(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=C_(t,n)}_t(Lr),mt(Lr,t)}function pl(){_t(Lr),_t(Ju),_t(Xu)}function V4(n){Aa(Xu.current);var t=Aa(Lr.current),r=C_(t,n.type);t!==r&&(mt(Ju,n),mt(Lr,r))}function wv(n){Ju.current===n&&(_t(Lr),_t(Ju))}var Et=Bs(0);function rm(n){for(var t=n;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O0=[];function _v(){for(var n=0;n<O0.length;n++)O0[n]._workInProgressVersionPrimary=null;O0.length=0}var Tf=Mo.ReactCurrentDispatcher,L0=Mo.ReactCurrentBatchConfig,Na=0,xt=null,Yt=null,cn=null,om=!1,Du=!1,eh=0,DW=0;function Dn(){throw Error(se(321))}function Av(n,t){if(t===null)return!1;for(var r=0;r<t.length&&r<n.length;r++)if(!fr(n[r],t[r]))return!1;return!0}function vv(n,t,r,c,d,h){if(Na=h,xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tf.current=n===null||n.memoizedState===null?NW:RW,n=r(c,d),Du){h=0;do{if(Du=!1,eh=0,25<=h)throw Error(se(301));h+=1,cn=Yt=null,t.updateQueue=null,Tf.current=BW,n=r(c,d)}while(Du)}if(Tf.current=sm,t=Yt!==null&&Yt.next!==null,Na=0,cn=Yt=xt=null,om=!1,t)throw Error(se(300));return n}function Cv(){var n=eh!==0;return eh=0,n}function Sr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?xt.memoizedState=cn=n:cn=cn.next=n,cn}function Qi(){if(Yt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var t=cn===null?xt.memoizedState:cn.next;if(t!==null)cn=t,Yt=n;else{if(n===null)throw Error(se(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},cn===null?xt.memoizedState=cn=n:cn=cn.next=n}return cn}function th(n,t){return typeof t=="function"?t(n):t}function j0(n){var t=Qi(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=n;var c=Yt,d=c.baseQueue,h=r.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}c.baseQueue=d=h,r.pending=null}if(d!==null){h=d.next,c=c.baseState;var w=g=null,m=null,A=h;do{var y=A.lane;if((Na&y)===y)m!==null&&(m=m.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),c=A.hasEagerState?A.eagerState:n(c,A.action);else{var E={lane:y,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};m===null?(w=m=E,g=c):m=m.next=E,xt.lanes|=y,Ra|=y}A=A.next}while(A!==null&&A!==h);m===null?g=c:m.next=w,fr(c,t.memoizedState)||(ai=!0),t.memoizedState=c,t.baseState=g,t.baseQueue=m,r.lastRenderedState=c}if(n=r.interleaved,n!==null){d=n;do h=d.lane,xt.lanes|=h,Ra|=h,d=d.next;while(d!==n)}else d===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z0(n){var t=Qi(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=n;var c=r.dispatch,d=r.pending,h=t.memoizedState;if(d!==null){r.pending=null;var g=d=d.next;do h=n(h,g.action),g=g.next;while(g!==d);fr(h,t.memoizedState)||(ai=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,c]}function F4(){}function U4(n,t){var r=xt,c=Qi(),d=t(),h=!fr(c.memoizedState,d);if(h&&(c.memoizedState=d,ai=!0),c=c.queue,yv(W4.bind(null,r,c,n),[n]),c.getSnapshot!==t||h||cn!==null&&cn.memoizedState.tag&1){if(r.flags|=2048,nh(9,$4.bind(null,r,c,d,t),void 0,null),ln===null)throw Error(se(349));Na&30||H4(r,t,d)}return d}function H4(n,t,r){n.flags|=16384,n={getSnapshot:t,value:r},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.stores=[n]):(r=t.stores,r===null?t.stores=[n]:r.push(n))}function $4(n,t,r,c){t.value=r,t.getSnapshot=c,q4(t)&&G4(n)}function W4(n,t,r){return r(function(){q4(t)&&G4(n)})}function q4(n){var t=n.getSnapshot;n=n.value;try{var r=t();return!fr(n,r)}catch{return!0}}function G4(n){var t=xo(n,1);t!==null&&gr(t,n,1,-1)}function w5(n){var t=Sr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:n},t.queue=n,n=n.dispatch=PW.bind(null,xt,n),[t.memoizedState,n]}function nh(n,t,r,c){return n={tag:n,create:t,destroy:r,deps:c,next:null},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.lastEffect=n.next=n):(r=t.lastEffect,r===null?t.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,t.lastEffect=n)),n}function K4(){return Qi().memoizedState}function Df(n,t,r,c){var d=Sr();xt.flags|=n,d.memoizedState=nh(1|t,r,void 0,c===void 0?null:c)}function Km(n,t,r,c){var d=Qi();c=c===void 0?null:c;var h=void 0;if(Yt!==null){var g=Yt.memoizedState;if(h=g.destroy,c!==null&&Av(c,g.deps)){d.memoizedState=nh(t,r,h,c);return}}xt.flags|=n,d.memoizedState=nh(1|t,r,h,c)}function _5(n,t){return Df(8390656,8,n,t)}function yv(n,t){return Km(2048,8,n,t)}function Q4(n,t){return Km(4,2,n,t)}function Y4(n,t){return Km(4,4,n,t)}function Z4(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function J4(n,t,r){return r=r!=null?r.concat([n]):null,Km(4,4,Z4.bind(null,t,n),r)}function Ev(){}function X4(n,t){var r=Qi();t=t===void 0?null:t;var c=r.memoizedState;return c!==null&&t!==null&&Av(t,c[1])?c[0]:(r.memoizedState=[n,t],n)}function eN(n,t){var r=Qi();t=t===void 0?null:t;var c=r.memoizedState;return c!==null&&t!==null&&Av(t,c[1])?c[0]:(n=n(),r.memoizedState=[n,t],n)}function tN(n,t,r){return Na&21?(fr(r,t)||(r=r4(),xt.lanes|=r,Ra|=r,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,ai=!0),n.memoizedState=r)}function SW(n,t){var r=ot;ot=r!==0&&4>r?r:4,n(!0);var c=L0.transition;L0.transition={};try{n(!1),t()}finally{ot=r,L0.transition=c}}function nN(){return Qi().memoizedState}function MW(n,t,r){var c=vs(n);if(r={lane:c,action:r,hasEagerState:!1,eagerState:null,next:null},iN(n))rN(t,r);else if(r=R4(n,t,r,c),r!==null){var d=$n();gr(r,n,c,d),oN(r,t,c)}}function PW(n,t,r){var c=vs(n),d={lane:c,action:r,hasEagerState:!1,eagerState:null,next:null};if(iN(n))rN(t,d);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,w=h(g,r);if(d.hasEagerState=!0,d.eagerState=w,fr(w,g)){var m=t.interleaved;m===null?(d.next=d,mv(t)):(d.next=m.next,m.next=d),t.interleaved=d;return}}catch{}finally{}r=R4(n,t,d,c),r!==null&&(d=$n(),gr(r,n,c,d),oN(r,t,c))}}function iN(n){var t=n.alternate;return n===xt||t!==null&&t===xt}function rN(n,t){Du=om=!0;var r=n.pending;r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t}function oN(n,t,r){if(r&4194240){var c=t.lanes;c&=n.pendingLanes,r|=c,t.lanes=r,nv(n,r)}}var sm={readContext:Ki,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},NW={readContext:Ki,useCallback:function(n,t){return Sr().memoizedState=[n,t===void 0?null:t],n},useContext:Ki,useEffect:_5,useImperativeHandle:function(n,t,r){return r=r!=null?r.concat([n]):null,Df(4194308,4,Z4.bind(null,t,n),r)},useLayoutEffect:function(n,t){return Df(4194308,4,n,t)},useInsertionEffect:function(n,t){return Df(4,2,n,t)},useMemo:function(n,t){var r=Sr();return t=t===void 0?null:t,n=n(),r.memoizedState=[n,t],n},useReducer:function(n,t,r){var c=Sr();return t=r!==void 0?r(t):t,c.memoizedState=c.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},c.queue=n,n=n.dispatch=MW.bind(null,xt,n),[c.memoizedState,n]},useRef:function(n){var t=Sr();return n={current:n},t.memoizedState=n},useState:w5,useDebugValue:Ev,useDeferredValue:function(n){return Sr().memoizedState=n},useTransition:function(){var n=w5(!1),t=n[0];return n=SW.bind(null,n[1]),Sr().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,r){var c=xt,d=Sr();if(Ct){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),ln===null)throw Error(se(349));Na&30||H4(c,t,r)}d.memoizedState=r;var h={value:r,getSnapshot:t};return d.queue=h,_5(W4.bind(null,c,h,n),[n]),c.flags|=2048,nh(9,$4.bind(null,c,h,r,t),void 0,null),r},useId:function(){var n=Sr(),t=ln.identifierPrefix;if(Ct){var r=bo,c=ko;r=(c&~(1<<32-pr(c)-1)).toString(32)+r,t=":"+t+"R"+r,r=eh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DW++,t=":"+t+"r"+r.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},RW={readContext:Ki,useCallback:X4,useContext:Ki,useEffect:yv,useImperativeHandle:J4,useInsertionEffect:Q4,useLayoutEffect:Y4,useMemo:eN,useReducer:j0,useRef:K4,useState:function(){return j0(th)},useDebugValue:Ev,useDeferredValue:function(n){var t=Qi();return tN(t,Yt.memoizedState,n)},useTransition:function(){var n=j0(th)[0],t=Qi().memoizedState;return[n,t]},useMutableSource:F4,useSyncExternalStore:U4,useId:nN,unstable_isNewReconciler:!1},BW={readContext:Ki,useCallback:X4,useContext:Ki,useEffect:yv,useImperativeHandle:J4,useInsertionEffect:Q4,useLayoutEffect:Y4,useMemo:eN,useReducer:z0,useRef:K4,useState:function(){return z0(th)},useDebugValue:Ev,useDeferredValue:function(n){var t=Qi();return Yt===null?t.memoizedState=n:tN(t,Yt.memoizedState,n)},useTransition:function(){var n=z0(th)[0],t=Qi().memoizedState;return[n,t]},useMutableSource:F4,useSyncExternalStore:U4,useId:nN,unstable_isNewReconciler:!1};function gl(n,t){try{var r="",c=t;do r+=l$(c),c=c.return;while(c);var d=r}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:n,source:t,stack:d,digest:null}}function V0(n,t,r){return{value:n,source:null,stack:r??null,digest:t??null}}function q_(n,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var OW=typeof WeakMap=="function"?WeakMap:Map;function sN(n,t,r){r=vo(-1,r),r.tag=3,r.payload={element:null};var c=t.value;return r.callback=function(){cm||(cm=!0,nA=c),q_(n,t)},r}function aN(n,t,r){r=vo(-1,r),r.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=t.value;r.payload=function(){return c(d)},r.callback=function(){q_(n,t)}}var h=n.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){q_(n,t),typeof c!="function"&&(As===null?As=new Set([this]):As.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function A5(n,t,r){var c=n.pingCache;if(c===null){c=n.pingCache=new OW;var d=new Set;c.set(t,d)}else d=c.get(t),d===void 0&&(d=new Set,c.set(t,d));d.has(r)||(d.add(r),n=YW.bind(null,n,t,r),t.then(n,n))}function v5(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function C5(n,t,r,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===t?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vo(-1,1),t.tag=2,_s(r,t,1))),r.lanes|=1),n)}var LW=Mo.ReactCurrentOwner,ai=!1;function Un(n,t,r,c){t.child=n===null?z4(t,null,r,c):hl(t,n.child,r,c)}function y5(n,t,r,c,d){r=r.render;var h=t.ref;return nl(t,d),c=vv(n,t,r,c,h,d),r=Cv(),n!==null&&!ai?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~d,Io(n,t,d)):(Ct&&r&&dv(t),t.flags|=1,Un(n,t,c,d),t.child)}function E5(n,t,r,c,d){if(n===null){var h=r.type;return typeof h=="function"&&!Nv(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,cN(n,t,h,c,d)):(n=Nf(r.type,null,c,t,t.mode,d),n.ref=t.ref,n.return=t,t.child=n)}if(h=n.child,!(n.lanes&d)){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:Ku,r(g,c)&&n.ref===t.ref)return Io(n,t,d)}return t.flags|=1,n=Cs(h,c),n.ref=t.ref,n.return=t,t.child=n}function cN(n,t,r,c,d){if(n!==null){var h=n.memoizedProps;if(Ku(h,c)&&n.ref===t.ref)if(ai=!1,t.pendingProps=c=h,(n.lanes&d)!==0)n.flags&131072&&(ai=!0);else return t.lanes=n.lanes,Io(n,t,d)}return G_(n,t,r,c,d)}function lN(n,t,r){var c=t.pendingProps,d=c.children,h=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Kc,Ci),Ci|=r;else{if(!(r&1073741824))return n=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,mt(Kc,Ci),Ci|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:r,mt(Kc,Ci),Ci|=c}else h!==null?(c=h.baseLanes|r,t.memoizedState=null):c=r,mt(Kc,Ci),Ci|=c;return Un(n,t,d,r),t.child}function dN(n,t){var r=t.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function G_(n,t,r,c,d){var h=li(r)?Ma:Ln.current;return h=dl(t,h),nl(t,d),r=vv(n,t,r,c,h,d),c=Cv(),n!==null&&!ai?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~d,Io(n,t,d)):(Ct&&c&&dv(t),t.flags|=1,Un(n,t,r,d),t.child)}function x5(n,t,r,c,d){if(li(r)){var h=!0;Jf(t)}else h=!1;if(nl(t,d),t.stateNode===null)Sf(n,t),L4(t,r,c),W_(t,r,c,d),c=!0;else if(n===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var m=g.context,A=r.contextType;typeof A=="object"&&A!==null?A=Ki(A):(A=li(r)?Ma:Ln.current,A=dl(t,A));var y=r.getDerivedStateFromProps,E=typeof y=="function"||typeof g.getSnapshotBeforeUpdate=="function";E||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==c||m!==A)&&k5(t,g,c,A),is=!1;var v=t.memoizedState;g.state=v,im(t,c,g,d),m=t.memoizedState,w!==c||v!==m||ci.current||is?(typeof y=="function"&&($_(t,r,y,c),m=t.memoizedState),(w=is||m5(t,r,w,c,v,m,A))?(E||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=m),g.props=c,g.state=m,g.context=A,c=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{g=t.stateNode,B4(n,t),w=t.memoizedProps,A=t.type===t.elementType?w:lr(t.type,w),g.props=A,E=t.pendingProps,v=g.context,m=r.contextType,typeof m=="object"&&m!==null?m=Ki(m):(m=li(r)?Ma:Ln.current,m=dl(t,m));var T=r.getDerivedStateFromProps;(y=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==E||v!==m)&&k5(t,g,c,m),is=!1,v=t.memoizedState,g.state=v,im(t,c,g,d);var P=t.memoizedState;w!==E||v!==P||ci.current||is?(typeof T=="function"&&($_(t,r,T,c),P=t.memoizedState),(A=is||m5(t,r,A,c,v,P,m)||!1)?(y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,P,m),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,P,m)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&v===n.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&v===n.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=P),g.props=c,g.state=P,g.context=m,c=A):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&v===n.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&v===n.memoizedState||(t.flags|=1024),c=!1)}return K_(n,t,r,c,h,d)}function K_(n,t,r,c,d,h){dN(n,t);var g=(t.flags&128)!==0;if(!c&&!g)return d&&u5(t,r,!1),Io(n,t,h);c=t.stateNode,LW.current=t;var w=g&&typeof r.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,n!==null&&g?(t.child=hl(t,n.child,null,h),t.child=hl(t,null,w,h)):Un(n,t,w,h),t.memoizedState=c.state,d&&u5(t,r,!0),t.child}function uN(n){var t=n.stateNode;t.pendingContext?d5(n,t.pendingContext,t.pendingContext!==t.context):t.context&&d5(n,t.context,!1),bv(n,t.containerInfo)}function I5(n,t,r,c,d){return ul(),hv(d),t.flags|=256,Un(n,t,r,c),t.child}var Q_={dehydrated:null,treeContext:null,retryLane:0};function Y_(n){return{baseLanes:n,cachePool:null,transitions:null}}function hN(n,t,r){var c=t.pendingProps,d=Et.current,h=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:(d&2)!==0),w?(h=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),mt(Et,d&1),n===null)return U_(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=c.children,n=c.fallback,h?(c=t.mode,h=t.child,g={mode:"hidden",children:g},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=Zm(g,c,0,null),n=Ia(n,c,r,null),h.return=t,n.return=t,h.sibling=n,t.child=h,t.child.memoizedState=Y_(r),t.memoizedState=Q_,n):xv(t,g));if(d=n.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return jW(n,t,g,c,w,d,r);if(h){h=c.fallback,g=t.mode,d=n.child,w=d.sibling;var m={mode:"hidden",children:c.children};return!(g&1)&&t.child!==d?(c=t.child,c.childLanes=0,c.pendingProps=m,t.deletions=null):(c=Cs(d,m),c.subtreeFlags=d.subtreeFlags&14680064),w!==null?h=Cs(w,h):(h=Ia(h,g,r,null),h.flags|=2),h.return=t,c.return=t,c.sibling=h,t.child=c,c=h,h=t.child,g=n.child.memoizedState,g=g===null?Y_(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=n.childLanes&~r,t.memoizedState=Q_,c}return h=n.child,n=h.sibling,c=Cs(h,{mode:"visible",children:c.children}),!(t.mode&1)&&(c.lanes=r),c.return=t,c.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=c,t.memoizedState=null,c}function xv(n,t){return t=Zm({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function sf(n,t,r,c){return c!==null&&hv(c),hl(t,n.child,null,r),n=xv(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function jW(n,t,r,c,d,h,g){if(r)return t.flags&256?(t.flags&=-257,c=V0(Error(se(422))),sf(n,t,g,c)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(h=c.fallback,d=t.mode,c=Zm({mode:"visible",children:c.children},d,0,null),h=Ia(h,d,g,null),h.flags|=2,c.return=t,h.return=t,c.sibling=h,t.child=c,t.mode&1&&hl(t,n.child,null,g),t.child.memoizedState=Y_(g),t.memoizedState=Q_,h);if(!(t.mode&1))return sf(n,t,g,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var w=c.dgst;return c=w,h=Error(se(419)),c=V0(h,c,void 0),sf(n,t,g,c)}if(w=(g&n.childLanes)!==0,ai||w){if(c=ln,c!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|g)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,xo(n,d),gr(c,n,d,-1))}return Pv(),c=V0(Error(se(421))),sf(n,t,g,c)}return d.data==="$?"?(t.flags|=128,t.child=n.child,t=ZW.bind(null,n),d._reactRetry=t,null):(n=h.treeContext,yi=ws(d.nextSibling),xi=t,Ct=!0,ur=null,n!==null&&(Fi[Ui++]=ko,Fi[Ui++]=bo,Fi[Ui++]=Pa,ko=n.id,bo=n.overflow,Pa=t),t=xv(t,c.children),t.flags|=4096,t)}function T5(n,t,r){n.lanes|=t;var c=n.alternate;c!==null&&(c.lanes|=t),H_(n.return,t,r)}function F0(n,t,r,c,d){var h=n.memoizedState;h===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=r,h.tailMode=d)}function pN(n,t,r){var c=t.pendingProps,d=c.revealOrder,h=c.tail;if(Un(n,t,c.children,r),c=Et.current,c&2)c=c&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T5(n,r,t);else if(n.tag===19)T5(n,r,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(mt(Et,c),!(t.mode&1))t.memoizedState=null;else switch(d){case"forwards":for(r=t.child,d=null;r!==null;)n=r.alternate,n!==null&&rm(n)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),F0(t,!1,d,r,h);break;case"backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(n=d.alternate,n!==null&&rm(n)===null){t.child=d;break}n=d.sibling,d.sibling=r,r=d,d=n}F0(t,!0,r,null,h);break;case"together":F0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sf(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Io(n,t,r){if(n!==null&&(t.dependencies=n.dependencies),Ra|=t.lanes,!(r&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(se(153));if(t.child!==null){for(n=t.child,r=Cs(n,n.pendingProps),t.child=r,r.return=t;n.sibling!==null;)n=n.sibling,r=r.sibling=Cs(n,n.pendingProps),r.return=t;r.sibling=null}return t.child}function zW(n,t,r){switch(t.tag){case 3:uN(t),ul();break;case 5:V4(t);break;case 1:li(t.type)&&Jf(t);break;case 4:bv(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,d=t.memoizedProps.value;mt(tm,c._currentValue),c._currentValue=d;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(mt(Et,Et.current&1),t.flags|=128,null):r&t.child.childLanes?hN(n,t,r):(mt(Et,Et.current&1),n=Io(n,t,r),n!==null?n.sibling:null);mt(Et,Et.current&1);break;case 19:if(c=(r&t.childLanes)!==0,n.flags&128){if(c)return pN(n,t,r);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),mt(Et,Et.current),c)break;return null;case 22:case 23:return t.lanes=0,lN(n,t,r)}return Io(n,t,r)}var gN,Z_,fN,mN;gN=function(n,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z_=function(){};fN=function(n,t,r,c){var d=n.memoizedProps;if(d!==c){n=t.stateNode,Aa(Lr.current);var h=null;switch(r){case"input":d=w_(n,d),c=w_(n,c),h=[];break;case"select":d=Tt({},d,{value:void 0}),c=Tt({},c,{value:void 0}),h=[];break;case"textarea":d=v_(n,d),c=v_(n,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Yf)}y_(r,c);var g;r=null;for(A in d)if(!c.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var w=d[A];for(g in w)w.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Fu.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in c){var m=c[A];if(w=d!=null?d[A]:void 0,c.hasOwnProperty(A)&&m!==w&&(m!=null||w!=null))if(A==="style")if(w){for(g in w)!w.hasOwnProperty(g)||m&&m.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in m)m.hasOwnProperty(g)&&w[g]!==m[g]&&(r||(r={}),r[g]=m[g])}else r||(h||(h=[]),h.push(A,r)),r=m;else A==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,w=w?w.__html:void 0,m!=null&&w!==m&&(h=h||[]).push(A,m)):A==="children"?typeof m!="string"&&typeof m!="number"||(h=h||[]).push(A,""+m):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(A)?(m!=null&&A==="onScroll"&&bt("scroll",n),h||w===m||(h=[])):(h=h||[]).push(A,m))}r&&(h=h||[]).push("style",r);var A=h;(t.updateQueue=A)&&(t.flags|=4)}};mN=function(n,t,r,c){r!==c&&(t.flags|=4)};function au(n,t){if(!Ct)switch(n.tailMode){case"hidden":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Sn(n){var t=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(t)for(var d=n.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=r,t}function VW(n,t,r){var c=t.pendingProps;switch(uv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(t),null;case 1:return li(t.type)&&Zf(),Sn(t),null;case 3:return c=t.stateNode,pl(),_t(ci),_t(Ln),_v(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(rf(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ur!==null&&(oA(ur),ur=null))),Z_(n,t),Sn(t),null;case 5:wv(t);var d=Aa(Xu.current);if(r=t.type,n!==null&&t.stateNode!=null)fN(n,t,r,c,d),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(se(166));return Sn(t),null}if(n=Aa(Lr.current),rf(t)){c=t.stateNode,r=t.type;var h=t.memoizedProps;switch(c[Mr]=t,c[Zu]=h,n=(t.mode&1)!==0,r){case"dialog":bt("cancel",c),bt("close",c);break;case"iframe":case"object":case"embed":bt("load",c);break;case"video":case"audio":for(d=0;d<mu.length;d++)bt(mu[d],c);break;case"source":bt("error",c);break;case"img":case"image":case"link":bt("error",c),bt("load",c);break;case"details":bt("toggle",c);break;case"input":LS(c,h),bt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},bt("invalid",c);break;case"textarea":zS(c,h),bt("invalid",c)}y_(r,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var w=h[g];g==="children"?typeof w=="string"?c.textContent!==w&&(h.suppressHydrationWarning!==!0&&nf(c.textContent,w,n),d=["children",w]):typeof w=="number"&&c.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&nf(c.textContent,w,n),d=["children",""+w]):Fu.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&bt("scroll",c)}switch(r){case"input":Kg(c),jS(c,h,!0);break;case"textarea":Kg(c),VS(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Yf)}c=d,t.updateQueue=c,c!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=HP(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=g.createElement(r,{is:c.is}):(n=g.createElement(r),r==="select"&&(g=n,c.multiple?g.multiple=!0:c.size&&(g.size=c.size))):n=g.createElementNS(n,r),n[Mr]=t,n[Zu]=c,gN(n,t,!1,!1),t.stateNode=n;e:{switch(g=E_(r,c),r){case"dialog":bt("cancel",n),bt("close",n),d=c;break;case"iframe":case"object":case"embed":bt("load",n),d=c;break;case"video":case"audio":for(d=0;d<mu.length;d++)bt(mu[d],n);d=c;break;case"source":bt("error",n),d=c;break;case"img":case"image":case"link":bt("error",n),bt("load",n),d=c;break;case"details":bt("toggle",n),d=c;break;case"input":LS(n,c),d=w_(n,c),bt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=Tt({},c,{value:void 0}),bt("invalid",n);break;case"textarea":zS(n,c),d=v_(n,c),bt("invalid",n);break;default:d=c}y_(r,d),w=d;for(h in w)if(w.hasOwnProperty(h)){var m=w[h];h==="style"?qP(n,m):h==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&$P(n,m)):h==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Uu(n,m):typeof m=="number"&&Uu(n,""+m):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Fu.hasOwnProperty(h)?m!=null&&h==="onScroll"&&bt("scroll",n):m!=null&&YA(n,h,m,g))}switch(r){case"input":Kg(n),jS(n,c,!1);break;case"textarea":Kg(n),VS(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ts(c.value));break;case"select":n.multiple=!!c.multiple,h=c.value,h!=null?Jc(n,!!c.multiple,h,!1):c.defaultValue!=null&&Jc(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Yf)}switch(r){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Sn(t),null;case 6:if(n&&t.stateNode!=null)mN(n,t,n.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(se(166));if(r=Aa(Xu.current),Aa(Lr.current),rf(t)){if(c=t.stateNode,r=t.memoizedProps,c[Mr]=t,(h=c.nodeValue!==r)&&(n=xi,n!==null))switch(n.tag){case 3:nf(c.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&nf(c.nodeValue,r,(n.mode&1)!==0)}h&&(t.flags|=4)}else c=(r.nodeType===9?r:r.ownerDocument).createTextNode(c),c[Mr]=t,t.stateNode=c}return Sn(t),null;case 13:if(_t(Et),c=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ct&&yi!==null&&t.mode&1&&!(t.flags&128))N4(),ul(),t.flags|=98560,h=!1;else if(h=rf(t),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(se(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(se(317));h[Mr]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Sn(t),h=!1}else ur!==null&&(oA(ur),ur=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(t.child.flags|=8192,t.mode&1&&(n===null||Et.current&1?Jt===0&&(Jt=3):Pv())),t.updateQueue!==null&&(t.flags|=4),Sn(t),null);case 4:return pl(),Z_(n,t),n===null&&Qu(t.stateNode.containerInfo),Sn(t),null;case 10:return fv(t.type._context),Sn(t),null;case 17:return li(t.type)&&Zf(),Sn(t),null;case 19:if(_t(Et),h=t.memoizedState,h===null)return Sn(t),null;if(c=(t.flags&128)!==0,g=h.rendering,g===null)if(c)au(h,!1);else{if(Jt!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(g=rm(n),g!==null){for(t.flags|=128,au(h,!1),c=g.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=r,r=t.child;r!==null;)h=r,n=c,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=n,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,n=g.dependencies,h.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return mt(Et,Et.current&1|2),t.child}n=n.sibling}h.tail!==null&&zt()>fl&&(t.flags|=128,c=!0,au(h,!1),t.lanes=4194304)}else{if(!c)if(n=rm(g),n!==null){if(t.flags|=128,c=!0,r=n.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),au(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ct)return Sn(t),null}else 2*zt()-h.renderingStartTime>fl&&r!==1073741824&&(t.flags|=128,c=!0,au(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(r=h.last,r!==null?r.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=zt(),t.sibling=null,r=Et.current,mt(Et,c?r&1|2:r&1),t):(Sn(t),null);case 22:case 23:return Mv(),c=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(t.flags|=8192),c&&t.mode&1?Ci&1073741824&&(Sn(t),t.subtreeFlags&6&&(t.flags|=8192)):Sn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function FW(n,t){switch(uv(t),t.tag){case 1:return li(t.type)&&Zf(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return pl(),_t(ci),_t(Ln),_v(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return wv(t),null;case 13:if(_t(Et),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(se(340));ul()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return _t(Et),null;case 4:return pl(),null;case 10:return fv(t.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var af=!1,Nn=!1,UW=typeof WeakSet=="function"?WeakSet:Set,be=null;function Gc(n,t){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(c){Pt(n,t,c)}else r.current=null}function J_(n,t,r){try{r()}catch(c){Pt(n,t,c)}}var D5=!1;function HW(n,t){if(B_=Gf,n=_4(),lv(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,w=-1,m=-1,A=0,y=0,E=n,v=null;t:for(;;){for(var T;E!==r||d!==0&&E.nodeType!==3||(w=g+d),E!==h||c!==0&&E.nodeType!==3||(m=g+c),E.nodeType===3&&(g+=E.nodeValue.length),(T=E.firstChild)!==null;)v=E,E=T;for(;;){if(E===n)break t;if(v===r&&++A===d&&(w=g),v===h&&++y===c&&(m=g),(T=E.nextSibling)!==null)break;E=v,v=E.parentNode}E=T}r=w===-1||m===-1?null:{start:w,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(O_={focusedElem:n,selectionRange:r},Gf=!1,be=t;be!==null;)if(t=be,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,be=n;else for(;be!==null;){t=be;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var O=P.memoizedProps,j=P.memoizedState,B=t.stateNode,R=B.getSnapshotBeforeUpdate(t.elementType===t.type?O:lr(t.type,O),j);B.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(H){Pt(t,t.return,H)}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}return P=D5,D5=!1,P}function Su(n,t,r){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var h=d.destroy;d.destroy=void 0,h!==void 0&&J_(t,r,h)}d=d.next}while(d!==c)}}function Qm(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&n)===n){var c=r.create;r.destroy=c()}r=r.next}while(r!==t)}}function X_(n){var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof t=="function"?t(n):t.current=n}}function kN(n){var t=n.alternate;t!==null&&(n.alternate=null,kN(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Mr],delete t[Zu],delete t[z_],delete t[EW],delete t[xW])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bN(n){return n.tag===5||n.tag===3||n.tag===4}function S5(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eA(n,t,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(n,r)):(t=r,t.appendChild(n)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yf));else if(c!==4&&(n=n.child,n!==null))for(eA(n,t,r),n=n.sibling;n!==null;)eA(n,t,r),n=n.sibling}function tA(n,t,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,t?r.insertBefore(n,t):r.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(tA(n,t,r),n=n.sibling;n!==null;)tA(n,t,r),n=n.sibling}var _n=null,dr=!1;function es(n,t,r){for(r=r.child;r!==null;)wN(n,t,r),r=r.sibling}function wN(n,t,r){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Fm,r)}catch{}switch(r.tag){case 5:Nn||Gc(r,t);case 6:var c=_n,d=dr;_n=null,es(n,t,r),_n=c,dr=d,_n!==null&&(dr?(n=_n,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(dr?(n=_n,r=r.stateNode,n.nodeType===8?R0(n.parentNode,r):n.nodeType===1&&R0(n,r),qu(n)):R0(_n,r.stateNode));break;case 4:c=_n,d=dr,_n=r.stateNode.containerInfo,dr=!0,es(n,t,r),_n=c,dr=d;break;case 0:case 11:case 14:case 15:if(!Nn&&(c=r.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&J_(r,t,g),d=d.next}while(d!==c)}es(n,t,r);break;case 1:if(!Nn&&(Gc(r,t),c=r.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=r.memoizedProps,c.state=r.memoizedState,c.componentWillUnmount()}catch(w){Pt(r,t,w)}es(n,t,r);break;case 21:es(n,t,r);break;case 22:r.mode&1?(Nn=(c=Nn)||r.memoizedState!==null,es(n,t,r),Nn=c):es(n,t,r);break;default:es(n,t,r)}}function M5(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new UW),t.forEach(function(c){var d=JW.bind(null,n,c);r.has(c)||(r.add(c),c.then(d,d))})}}function cr(n,t){var r=t.deletions;if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];try{var h=n,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:_n=w.stateNode,dr=!1;break e;case 3:_n=w.stateNode.containerInfo,dr=!0;break e;case 4:_n=w.stateNode.containerInfo,dr=!0;break e}w=w.return}if(_n===null)throw Error(se(160));wN(h,g,d),_n=null,dr=!1;var m=d.alternate;m!==null&&(m.return=null),d.return=null}catch(A){Pt(d,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_N(t,n),t=t.sibling}function _N(n,t){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cr(t,n),Dr(n),c&4){try{Su(3,n,n.return),Qm(3,n)}catch(O){Pt(n,n.return,O)}try{Su(5,n,n.return)}catch(O){Pt(n,n.return,O)}}break;case 1:cr(t,n),Dr(n),c&512&&r!==null&&Gc(r,r.return);break;case 5:if(cr(t,n),Dr(n),c&512&&r!==null&&Gc(r,r.return),n.flags&32){var d=n.stateNode;try{Uu(d,"")}catch(O){Pt(n,n.return,O)}}if(c&4&&(d=n.stateNode,d!=null)){var h=n.memoizedProps,g=r!==null?r.memoizedProps:h,w=n.type,m=n.updateQueue;if(n.updateQueue=null,m!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&FP(d,h),E_(w,g);var A=E_(w,h);for(g=0;g<m.length;g+=2){var y=m[g],E=m[g+1];y==="style"?qP(d,E):y==="dangerouslySetInnerHTML"?$P(d,E):y==="children"?Uu(d,E):YA(d,y,E,A)}switch(w){case"input":__(d,h);break;case"textarea":UP(d,h);break;case"select":var v=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var T=h.value;T!=null?Jc(d,!!h.multiple,T,!1):v!==!!h.multiple&&(h.defaultValue!=null?Jc(d,!!h.multiple,h.defaultValue,!0):Jc(d,!!h.multiple,h.multiple?[]:"",!1))}d[Zu]=h}catch(O){Pt(n,n.return,O)}}break;case 6:if(cr(t,n),Dr(n),c&4){if(n.stateNode===null)throw Error(se(162));d=n.stateNode,h=n.memoizedProps;try{d.nodeValue=h}catch(O){Pt(n,n.return,O)}}break;case 3:if(cr(t,n),Dr(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(O){Pt(n,n.return,O)}break;case 4:cr(t,n),Dr(n);break;case 13:cr(t,n),Dr(n),d=n.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Dv=zt())),c&4&&M5(n);break;case 22:if(y=r!==null&&r.memoizedState!==null,n.mode&1?(Nn=(A=Nn)||y,cr(t,n),Nn=A):cr(t,n),Dr(n),c&8192){if(A=n.memoizedState!==null,(n.stateNode.isHidden=A)&&!y&&n.mode&1)for(be=n,y=n.child;y!==null;){for(E=be=y;be!==null;){switch(v=be,T=v.child,v.tag){case 0:case 11:case 14:case 15:Su(4,v,v.return);break;case 1:Gc(v,v.return);var P=v.stateNode;if(typeof P.componentWillUnmount=="function"){c=v,r=v.return;try{t=c,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(O){Pt(c,r,O)}}break;case 5:Gc(v,v.return);break;case 22:if(v.memoizedState!==null){N5(E);continue}}T!==null?(T.return=v,be=T):N5(E)}y=y.sibling}e:for(y=null,E=n;;){if(E.tag===5){if(y===null){y=E;try{d=E.stateNode,A?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=E.stateNode,m=E.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null,w.style.display=WP("display",g))}catch(O){Pt(n,n.return,O)}}}else if(E.tag===6){if(y===null)try{E.stateNode.nodeValue=A?"":E.memoizedProps}catch(O){Pt(n,n.return,O)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===n)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;y===E&&(y=null),E=E.return}y===E&&(y=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:cr(t,n),Dr(n),c&4&&M5(n);break;case 21:break;default:cr(t,n),Dr(n)}}function Dr(n){var t=n.flags;if(t&2){try{e:{for(var r=n.return;r!==null;){if(bN(r)){var c=r;break e}r=r.return}throw Error(se(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Uu(d,""),c.flags&=-33);var h=S5(n);tA(n,h,d);break;case 3:case 4:var g=c.stateNode.containerInfo,w=S5(n);eA(n,w,g);break;default:throw Error(se(161))}}catch(m){Pt(n,n.return,m)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function $W(n,t,r){be=n,AN(n)}function AN(n,t,r){for(var c=(n.mode&1)!==0;be!==null;){var d=be,h=d.child;if(d.tag===22&&c){var g=d.memoizedState!==null||af;if(!g){var w=d.alternate,m=w!==null&&w.memoizedState!==null||Nn;w=af;var A=Nn;if(af=g,(Nn=m)&&!A)for(be=d;be!==null;)g=be,m=g.child,g.tag===22&&g.memoizedState!==null?R5(d):m!==null?(m.return=g,be=m):R5(d);for(;h!==null;)be=h,AN(h),h=h.sibling;be=d,af=w,Nn=A}P5(n)}else d.subtreeFlags&8772&&h!==null?(h.return=d,be=h):P5(n)}}function P5(n){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nn||Qm(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!Nn)if(r===null)c.componentDidMount();else{var d=t.elementType===t.type?r.memoizedProps:lr(t.type,r.memoizedProps);c.componentDidUpdate(d,r.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&f5(t,h,c);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}f5(t,g,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var y=A.memoizedState;if(y!==null){var E=y.dehydrated;E!==null&&qu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Nn||t.flags&512&&X_(t)}catch(v){Pt(t,t.return,v)}}if(t===n){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function N5(n){for(;be!==null;){var t=be;if(t===n){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function R5(n){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qm(4,t)}catch(m){Pt(t,r,m)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var d=t.return;try{c.componentDidMount()}catch(m){Pt(t,d,m)}}var h=t.return;try{X_(t)}catch(m){Pt(t,h,m)}break;case 5:var g=t.return;try{X_(t)}catch(m){Pt(t,g,m)}}}catch(m){Pt(t,t.return,m)}if(t===n){be=null;break}var w=t.sibling;if(w!==null){w.return=t.return,be=w;break}be=t.return}}var WW=Math.ceil,am=Mo.ReactCurrentDispatcher,Iv=Mo.ReactCurrentOwner,qi=Mo.ReactCurrentBatchConfig,Ye=0,ln=null,Wt=null,yn=0,Ci=0,Kc=Bs(0),Jt=0,ih=null,Ra=0,Ym=0,Tv=0,Mu=null,si=null,Dv=0,fl=1/0,fo=null,cm=!1,nA=null,As=null,cf=!1,ps=null,lm=0,Pu=0,iA=null,Mf=-1,Pf=0;function $n(){return Ye&6?zt():Mf!==-1?Mf:Mf=zt()}function vs(n){return n.mode&1?Ye&2&&yn!==0?yn&-yn:TW.transition!==null?(Pf===0&&(Pf=r4()),Pf):(n=ot,n!==0||(n=window.event,n=n===void 0?16:u4(n.type)),n):1}function gr(n,t,r,c){if(50<Pu)throw Pu=0,iA=null,Error(se(185));Eh(n,r,c),(!(Ye&2)||n!==ln)&&(n===ln&&(!(Ye&2)&&(Ym|=r),Jt===4&&os(n,yn)),di(n,c),r===1&&Ye===0&&!(t.mode&1)&&(fl=zt()+500,qm&&Os()))}function di(n,t){var r=n.callbackNode;T$(n,t);var c=qf(n,n===ln?yn:0);if(c===0)r!==null&&HS(r),n.callbackNode=null,n.callbackPriority=0;else if(t=c&-c,n.callbackPriority!==t){if(r!=null&&HS(r),t===1)n.tag===0?IW(B5.bind(null,n)):S4(B5.bind(null,n)),CW(function(){!(Ye&6)&&Os()}),r=null;else{switch(o4(c)){case 1:r=tv;break;case 4:r=n4;break;case 16:r=Wf;break;case 536870912:r=i4;break;default:r=Wf}r=DN(r,vN.bind(null,n))}n.callbackPriority=t,n.callbackNode=r}}function vN(n,t){if(Mf=-1,Pf=0,Ye&6)throw Error(se(327));var r=n.callbackNode;if(il()&&n.callbackNode!==r)return null;var c=qf(n,n===ln?yn:0);if(c===0)return null;if(c&30||c&n.expiredLanes||t)t=dm(n,c);else{t=c;var d=Ye;Ye|=2;var h=yN();(ln!==n||yn!==t)&&(fo=null,fl=zt()+500,xa(n,t));do try{KW();break}catch(w){CN(n,w)}while(!0);gv(),am.current=h,Ye=d,Wt!==null?t=0:(ln=null,yn=0,t=Jt)}if(t!==0){if(t===2&&(d=S_(n),d!==0&&(c=d,t=rA(n,d))),t===1)throw r=ih,xa(n,0),os(n,c),di(n,zt()),r;if(t===6)os(n,c);else{if(d=n.current.alternate,!(c&30)&&!qW(d)&&(t=dm(n,c),t===2&&(h=S_(n),h!==0&&(c=h,t=rA(n,h))),t===1))throw r=ih,xa(n,0),os(n,c),di(n,zt()),r;switch(n.finishedWork=d,n.finishedLanes=c,t){case 0:case 1:throw Error(se(345));case 2:fa(n,si,fo);break;case 3:if(os(n,c),(c&130023424)===c&&(t=Dv+500-zt(),10<t)){if(qf(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){$n(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=j_(fa.bind(null,n,si,fo),t);break}fa(n,si,fo);break;case 4:if(os(n,c),(c&4194240)===c)break;for(t=n.eventTimes,d=-1;0<c;){var g=31-pr(c);h=1<<g,g=t[g],g>d&&(d=g),c&=~h}if(c=d,c=zt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*WW(c/1960))-c,10<c){n.timeoutHandle=j_(fa.bind(null,n,si,fo),c);break}fa(n,si,fo);break;case 5:fa(n,si,fo);break;default:throw Error(se(329))}}}return di(n,zt()),n.callbackNode===r?vN.bind(null,n):null}function rA(n,t){var r=Mu;return n.current.memoizedState.isDehydrated&&(xa(n,t).flags|=256),n=dm(n,t),n!==2&&(t=si,si=r,t!==null&&oA(t)),n}function oA(n){si===null?si=n:si.push.apply(si,n)}function qW(n){for(var t=n;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var c=0;c<r.length;c++){var d=r[c],h=d.getSnapshot;d=d.value;try{if(!fr(h(),d))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(n,t){for(t&=~Tv,t&=~Ym,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var r=31-pr(t),c=1<<r;n[r]=-1,t&=~c}}function B5(n){if(Ye&6)throw Error(se(327));il();var t=qf(n,0);if(!(t&1))return di(n,zt()),null;var r=dm(n,t);if(n.tag!==0&&r===2){var c=S_(n);c!==0&&(t=c,r=rA(n,c))}if(r===1)throw r=ih,xa(n,0),os(n,t),di(n,zt()),r;if(r===6)throw Error(se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,fa(n,si,fo),di(n,zt()),null}function Sv(n,t){var r=Ye;Ye|=1;try{return n(t)}finally{Ye=r,Ye===0&&(fl=zt()+500,qm&&Os())}}function Ba(n){ps!==null&&ps.tag===0&&!(Ye&6)&&il();var t=Ye;Ye|=1;var r=qi.transition,c=ot;try{if(qi.transition=null,ot=1,n)return n()}finally{ot=c,qi.transition=r,Ye=t,!(Ye&6)&&Os()}}function Mv(){Ci=Kc.current,_t(Kc)}function xa(n,t){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,vW(r)),Wt!==null)for(r=Wt.return;r!==null;){var c=r;switch(uv(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Zf();break;case 3:pl(),_t(ci),_t(Ln),_v();break;case 5:wv(c);break;case 4:pl();break;case 13:_t(Et);break;case 19:_t(Et);break;case 10:fv(c.type._context);break;case 22:case 23:Mv()}r=r.return}if(ln=n,Wt=n=Cs(n.current,null),yn=Ci=t,Jt=0,ih=null,Tv=Ym=Ra=0,si=Mu=null,_a!==null){for(t=0;t<_a.length;t++)if(r=_a[t],c=r.interleaved,c!==null){r.interleaved=null;var d=c.next,h=r.pending;if(h!==null){var g=h.next;h.next=d,c.next=g}r.pending=c}_a=null}return n}function CN(n,t){do{var r=Wt;try{if(gv(),Tf.current=sm,om){for(var c=xt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}om=!1}if(Na=0,cn=Yt=xt=null,Du=!1,eh=0,Iv.current=null,r===null||r.return===null){Jt=1,ih=t,Wt=null;break}e:{var h=n,g=r.return,w=r,m=t;if(t=yn,w.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var A=m,y=w,E=y.tag;if(!(y.mode&1)&&(E===0||E===11||E===15)){var v=y.alternate;v?(y.updateQueue=v.updateQueue,y.memoizedState=v.memoizedState,y.lanes=v.lanes):(y.updateQueue=null,y.memoizedState=null)}var T=v5(g);if(T!==null){T.flags&=-257,C5(T,g,w,h,t),T.mode&1&&A5(h,A,t),t=T,m=A;var P=t.updateQueue;if(P===null){var O=new Set;O.add(m),t.updateQueue=O}else P.add(m);break e}else{if(!(t&1)){A5(h,A,t),Pv();break e}m=Error(se(426))}}else if(Ct&&w.mode&1){var j=v5(g);if(j!==null){!(j.flags&65536)&&(j.flags|=256),C5(j,g,w,h,t),hv(gl(m,w));break e}}h=m=gl(m,w),Jt!==4&&(Jt=2),Mu===null?Mu=[h]:Mu.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var B=sN(h,m,t);g5(h,B);break e;case 1:w=m;var R=h.type,z=h.stateNode;if(!(h.flags&128)&&(typeof R.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(As===null||!As.has(z)))){h.flags|=65536,t&=-t,h.lanes|=t;var H=aN(h,w,t);g5(h,H);break e}}h=h.return}while(h!==null)}xN(r)}catch(K){t=K,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function yN(){var n=am.current;return am.current=sm,n===null?sm:n}function Pv(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),ln===null||!(Ra&268435455)&&!(Ym&268435455)||os(ln,yn)}function dm(n,t){var r=Ye;Ye|=2;var c=yN();(ln!==n||yn!==t)&&(fo=null,xa(n,t));do try{GW();break}catch(d){CN(n,d)}while(!0);if(gv(),Ye=r,am.current=c,Wt!==null)throw Error(se(261));return ln=null,yn=0,Jt}function GW(){for(;Wt!==null;)EN(Wt)}function KW(){for(;Wt!==null&&!w$();)EN(Wt)}function EN(n){var t=TN(n.alternate,n,Ci);n.memoizedProps=n.pendingProps,t===null?xN(n):Wt=t,Iv.current=null}function xN(n){var t=n;do{var r=t.alternate;if(n=t.return,t.flags&32768){if(r=FW(r,t),r!==null){r.flags&=32767,Wt=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jt=6,Wt=null;return}}else if(r=VW(r,t,Ci),r!==null){Wt=r;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=n}while(t!==null);Jt===0&&(Jt=5)}function fa(n,t,r){var c=ot,d=qi.transition;try{qi.transition=null,ot=1,QW(n,t,r,c)}finally{qi.transition=d,ot=c}return null}function QW(n,t,r,c){do il();while(ps!==null);if(Ye&6)throw Error(se(327));r=n.finishedWork;var d=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(se(177));n.callbackNode=null,n.callbackPriority=0;var h=r.lanes|r.childLanes;if(D$(n,h),n===ln&&(Wt=ln=null,yn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cf||(cf=!0,DN(Wf,function(){return il(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=qi.transition,qi.transition=null;var g=ot;ot=1;var w=Ye;Ye|=4,Iv.current=null,HW(n,r),_N(r,n),fW(O_),Gf=!!B_,O_=B_=null,n.current=r,$W(r),_$(),Ye=w,ot=g,qi.transition=h}else n.current=r;if(cf&&(cf=!1,ps=n,lm=d),h=n.pendingLanes,h===0&&(As=null),C$(r.stateNode),di(n,zt()),t!==null)for(c=n.onRecoverableError,r=0;r<t.length;r++)d=t[r],c(d.value,{componentStack:d.stack,digest:d.digest});if(cm)throw cm=!1,n=nA,nA=null,n;return lm&1&&n.tag!==0&&il(),h=n.pendingLanes,h&1?n===iA?Pu++:(Pu=0,iA=n):Pu=0,Os(),null}function il(){if(ps!==null){var n=o4(lm),t=qi.transition,r=ot;try{if(qi.transition=null,ot=16>n?16:n,ps===null)var c=!1;else{if(n=ps,ps=null,lm=0,Ye&6)throw Error(se(331));var d=Ye;for(Ye|=4,be=n.current;be!==null;){var h=be,g=h.child;if(be.flags&16){var w=h.deletions;if(w!==null){for(var m=0;m<w.length;m++){var A=w[m];for(be=A;be!==null;){var y=be;switch(y.tag){case 0:case 11:case 15:Su(8,y,h)}var E=y.child;if(E!==null)E.return=y,be=E;else for(;be!==null;){y=be;var v=y.sibling,T=y.return;if(kN(y),y===A){be=null;break}if(v!==null){v.return=T,be=v;break}be=T}}}var P=h.alternate;if(P!==null){var O=P.child;if(O!==null){P.child=null;do{var j=O.sibling;O.sibling=null,O=j}while(O!==null)}}be=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,be=g;else e:for(;be!==null;){if(h=be,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Su(9,h,h.return)}var B=h.sibling;if(B!==null){B.return=h.return,be=B;break e}be=h.return}}var R=n.current;for(be=R;be!==null;){g=be;var z=g.child;if(g.subtreeFlags&2064&&z!==null)z.return=g,be=z;else e:for(g=R;be!==null;){if(w=be,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Qm(9,w)}}catch(K){Pt(w,w.return,K)}if(w===g){be=null;break e}var H=w.sibling;if(H!==null){H.return=w.return,be=H;break e}be=w.return}}if(Ye=d,Os(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Fm,n)}catch{}c=!0}return c}finally{ot=r,qi.transition=t}}return!1}function O5(n,t,r){t=gl(r,t),t=sN(n,t,1),n=_s(n,t,1),t=$n(),n!==null&&(Eh(n,1,t),di(n,t))}function Pt(n,t,r){if(n.tag===3)O5(n,n,r);else for(;t!==null;){if(t.tag===3){O5(t,n,r);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(As===null||!As.has(c))){n=gl(r,n),n=aN(t,n,1),t=_s(t,n,1),n=$n(),t!==null&&(Eh(t,1,n),di(t,n));break}}t=t.return}}function YW(n,t,r){var c=n.pingCache;c!==null&&c.delete(t),t=$n(),n.pingedLanes|=n.suspendedLanes&r,ln===n&&(yn&r)===r&&(Jt===4||Jt===3&&(yn&130023424)===yn&&500>zt()-Dv?xa(n,0):Tv|=r),di(n,t)}function IN(n,t){t===0&&(n.mode&1?(t=Zg,Zg<<=1,!(Zg&130023424)&&(Zg=4194304)):t=1);var r=$n();n=xo(n,t),n!==null&&(Eh(n,t,r),di(n,r))}function ZW(n){var t=n.memoizedState,r=0;t!==null&&(r=t.retryLane),IN(n,r)}function JW(n,t){var r=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(r=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(se(314))}c!==null&&c.delete(t),IN(n,r)}var TN;TN=function(n,t,r){if(n!==null)if(n.memoizedProps!==t.pendingProps||ci.current)ai=!0;else{if(!(n.lanes&r)&&!(t.flags&128))return ai=!1,zW(n,t,r);ai=!!(n.flags&131072)}else ai=!1,Ct&&t.flags&1048576&&M4(t,em,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;Sf(n,t),n=t.pendingProps;var d=dl(t,Ln.current);nl(t,r),d=vv(null,t,c,n,d,r);var h=Cv();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,li(c)?(h=!0,Jf(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kv(t),d.updater=Gm,t.stateNode=d,d._reactInternals=t,W_(t,c,n,r),t=K_(null,t,c,!0,h,r)):(t.tag=0,Ct&&h&&dv(t),Un(null,t,d,r),t=t.child),t;case 16:c=t.elementType;e:{switch(Sf(n,t),n=t.pendingProps,d=c._init,c=d(c._payload),t.type=c,d=t.tag=eq(c),n=lr(c,n),d){case 0:t=G_(null,t,c,n,r);break e;case 1:t=x5(null,t,c,n,r);break e;case 11:t=y5(null,t,c,n,r);break e;case 14:t=E5(null,t,c,lr(c.type,n),r);break e}throw Error(se(306,c,""))}return t;case 0:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:lr(c,d),G_(n,t,c,d,r);case 1:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:lr(c,d),x5(n,t,c,d,r);case 3:e:{if(uN(t),n===null)throw Error(se(387));c=t.pendingProps,h=t.memoizedState,d=h.element,B4(n,t),im(t,c,null,r);var g=t.memoizedState;if(c=g.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=gl(Error(se(423)),t),t=I5(n,t,c,r,d);break e}else if(c!==d){d=gl(Error(se(424)),t),t=I5(n,t,c,r,d);break e}else for(yi=ws(t.stateNode.containerInfo.firstChild),xi=t,Ct=!0,ur=null,r=z4(t,null,c,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ul(),c===d){t=Io(n,t,r);break e}Un(n,t,c,r)}t=t.child}return t;case 5:return V4(t),n===null&&U_(t),c=t.type,d=t.pendingProps,h=n!==null?n.memoizedProps:null,g=d.children,L_(c,d)?g=null:h!==null&&L_(c,h)&&(t.flags|=32),dN(n,t),Un(n,t,g,r),t.child;case 6:return n===null&&U_(t),null;case 13:return hN(n,t,r);case 4:return bv(t,t.stateNode.containerInfo),c=t.pendingProps,n===null?t.child=hl(t,null,c,r):Un(n,t,c,r),t.child;case 11:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:lr(c,d),y5(n,t,c,d,r);case 7:return Un(n,t,t.pendingProps,r),t.child;case 8:return Un(n,t,t.pendingProps.children,r),t.child;case 12:return Un(n,t,t.pendingProps.children,r),t.child;case 10:e:{if(c=t.type._context,d=t.pendingProps,h=t.memoizedProps,g=d.value,mt(tm,c._currentValue),c._currentValue=g,h!==null)if(fr(h.value,g)){if(h.children===d.children&&!ci.current){t=Io(n,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){g=h.child;for(var m=w.firstContext;m!==null;){if(m.context===c){if(h.tag===1){m=vo(-1,r&-r),m.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var y=A.pending;y===null?m.next=m:(m.next=y.next,y.next=m),A.pending=m}}h.lanes|=r,m=h.alternate,m!==null&&(m.lanes|=r),H_(h.return,r,t),w.lanes|=r;break}m=m.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(se(341));g.lanes|=r,w=g.alternate,w!==null&&(w.lanes|=r),H_(g,r,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Un(n,t,d.children,r),t=t.child}return t;case 9:return d=t.type,c=t.pendingProps.children,nl(t,r),d=Ki(d),c=c(d),t.flags|=1,Un(n,t,c,r),t.child;case 14:return c=t.type,d=lr(c,t.pendingProps),d=lr(c.type,d),E5(n,t,c,d,r);case 15:return cN(n,t,t.type,t.pendingProps,r);case 17:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:lr(c,d),Sf(n,t),t.tag=1,li(c)?(n=!0,Jf(t)):n=!1,nl(t,r),L4(t,c,d),W_(t,c,d,r),K_(null,t,c,!0,n,r);case 19:return pN(n,t,r);case 22:return lN(n,t,r)}throw Error(se(156,t.tag))};function DN(n,t){return t4(n,t)}function XW(n,t,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(n,t,r,c){return new XW(n,t,r,c)}function Nv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function eq(n){if(typeof n=="function")return Nv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===JA)return 11;if(n===XA)return 14}return 2}function Cs(n,t){var r=n.alternate;return r===null?(r=Wi(n.tag,t,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=t,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,t=n.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function Nf(n,t,r,c,d,h){var g=2;if(c=n,typeof n=="function")Nv(n)&&(g=1);else if(typeof n=="string")g=5;else e:switch(n){case jc:return Ia(r.children,d,h,t);case ZA:g=8,d|=8;break;case f_:return n=Wi(12,r,t,d|2),n.elementType=f_,n.lanes=h,n;case m_:return n=Wi(13,r,t,d),n.elementType=m_,n.lanes=h,n;case k_:return n=Wi(19,r,t,d),n.elementType=k_,n.lanes=h,n;case jP:return Zm(r,d,h,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case OP:g=10;break e;case LP:g=9;break e;case JA:g=11;break e;case XA:g=14;break e;case ns:g=16,c=null;break e}throw Error(se(130,n==null?n:typeof n,""))}return t=Wi(g,r,t,d),t.elementType=n,t.type=c,t.lanes=h,t}function Ia(n,t,r,c){return n=Wi(7,n,c,t),n.lanes=r,n}function Zm(n,t,r,c){return n=Wi(22,n,c,t),n.elementType=jP,n.lanes=r,n.stateNode={isHidden:!1},n}function U0(n,t,r){return n=Wi(6,n,null,t),n.lanes=r,n}function H0(n,t,r){return t=Wi(4,n.children!==null?n.children:[],n.key,t),t.lanes=r,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function tq(n,t,r,c,d){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rv(n,t,r,c,d,h,g,w,m){return n=new tq(n,t,r,w,m),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Wi(3,null,null,t),n.current=h,h.stateNode=n,h.memoizedState={element:c,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(h),n}function nq(n,t,r){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:c==null?null:""+c,children:n,containerInfo:t,implementation:r}}function SN(n){if(!n)return Ds;n=n._reactInternals;e:{if(Wa(n)!==n||n.tag!==1)throw Error(se(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(n.tag===1){var r=n.type;if(li(r))return D4(n,r,t)}return t}function MN(n,t,r,c,d,h,g,w,m){return n=Rv(r,c,!0,n,d,h,g,w,m),n.context=SN(null),r=n.current,c=$n(),d=vs(r),h=vo(c,d),h.callback=t??null,_s(r,h,d),n.current.lanes=d,Eh(n,d,c),di(n,c),n}function Jm(n,t,r,c){var d=t.current,h=$n(),g=vs(d);return r=SN(r),t.context===null?t.context=r:t.pendingContext=r,t=vo(h,g),t.payload={element:n},c=c===void 0?null:c,c!==null&&(t.callback=c),n=_s(d,t,g),n!==null&&(gr(n,d,g,h),If(n,d,g)),g}function um(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function L5(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<t?r:t}}function Bv(n,t){L5(n,t),(n=n.alternate)&&L5(n,t)}function iq(){return null}var PN=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ov(n){this._internalRoot=n}Xm.prototype.render=Ov.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(se(409));Jm(n,t,null,null)};Xm.prototype.unmount=Ov.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Ba(function(){Jm(null,n,null,null)}),t[Eo]=null}};function Xm(n){this._internalRoot=n}Xm.prototype.unstable_scheduleHydration=function(n){if(n){var t=c4();n={blockedOn:null,target:n,priority:t};for(var r=0;r<rs.length&&t!==0&&t<rs[r].priority;r++);rs.splice(r,0,n),r===0&&d4(n)}};function Lv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ek(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function j5(){}function rq(n,t,r,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var A=um(g);h.call(A)}}var g=MN(t,c,n,0,null,!1,!1,"",j5);return n._reactRootContainer=g,n[Eo]=g.current,Qu(n.nodeType===8?n.parentNode:n),Ba(),g}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var w=c;c=function(){var A=um(m);w.call(A)}}var m=Rv(n,0,!1,null,null,!1,!1,"",j5);return n._reactRootContainer=m,n[Eo]=m.current,Qu(n.nodeType===8?n.parentNode:n),Ba(function(){Jm(t,m,r,c)}),m}function tk(n,t,r,c,d){var h=r._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var w=d;d=function(){var m=um(g);w.call(m)}}Jm(t,g,n,d)}else g=rq(r,t,n,d,c);return um(g)}s4=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var r=fu(t.pendingLanes);r!==0&&(nv(t,r|1),di(t,zt()),!(Ye&6)&&(fl=zt()+500,Os()))}break;case 13:Ba(function(){var c=xo(n,1);if(c!==null){var d=$n();gr(c,n,1,d)}}),Bv(n,1)}};iv=function(n){if(n.tag===13){var t=xo(n,134217728);if(t!==null){var r=$n();gr(t,n,134217728,r)}Bv(n,134217728)}};a4=function(n){if(n.tag===13){var t=vs(n),r=xo(n,t);if(r!==null){var c=$n();gr(r,n,t,c)}Bv(n,t)}};c4=function(){return ot};l4=function(n,t){var r=ot;try{return ot=n,t()}finally{ot=r}};I_=function(n,t,r){switch(t){case"input":if(__(n,r),t=r.name,r.type==="radio"&&t!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var c=r[t];if(c!==n&&c.form===n.form){var d=Wm(c);if(!d)throw Error(se(90));VP(c),__(c,d)}}}break;case"textarea":UP(n,r);break;case"select":t=r.value,t!=null&&Jc(n,!!r.multiple,t,!1)}};QP=Sv;YP=Ba;var oq={usingClientEntryPoint:!1,Events:[Ih,Uc,Wm,GP,KP,Sv]},cu={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sq={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=XP(n),n===null?null:n.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||iq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Fm=lf.inject(sq),Or=lf}catch{}}Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oq;Di.createPortal=function(n,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(t))throw Error(se(200));return nq(n,t,null,r)};Di.createRoot=function(n,t){if(!Lv(n))throw Error(se(299));var r=!1,c="",d=PN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Rv(n,1,!1,null,null,r,!1,c,d),n[Eo]=t.current,Qu(n.nodeType===8?n.parentNode:n),new Ov(t)};Di.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(se(188)):(n=Object.keys(n).join(","),Error(se(268,n)));return n=XP(t),n=n===null?null:n.stateNode,n};Di.flushSync=function(n){return Ba(n)};Di.hydrate=function(n,t,r){if(!ek(t))throw Error(se(200));return tk(null,n,t,!0,r)};Di.hydrateRoot=function(n,t,r){if(!Lv(n))throw Error(se(405));var c=r!=null&&r.hydratedSources||null,d=!1,h="",g=PN;if(r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=MN(t,null,n,1,r??null,d,!1,h,g),n[Eo]=t.current,Qu(n),c)for(n=0;n<c.length;n++)r=c[n],d=r._getVersion,d=d(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,d]:t.mutableSourceEagerHydrationData.push(r,d);return new Xm(t)};Di.render=function(n,t,r){if(!ek(t))throw Error(se(200));return tk(null,n,t,!1,r)};Di.unmountComponentAtNode=function(n){if(!ek(n))throw Error(se(40));return n._reactRootContainer?(Ba(function(){tk(null,null,n,!1,function(){n._reactRootContainer=null,n[Eo]=null})}),!0):!1};Di.unstable_batchedUpdates=Sv;Di.unstable_renderSubtreeIntoContainer=function(n,t,r,c){if(!ek(r))throw Error(se(200));if(n==null||n._reactInternals===void 0)throw Error(se(38));return tk(n,t,r,!1,c)};Di.version="18.2.0-next-9e3b772b8-20220608";function NN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NN)}catch(n){console.error(n)}}NN(),MP.exports=Di;var aq=MP.exports,z5=aq;p_.createRoot=z5.createRoot,p_.hydrateRoot=z5.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},rh.apply(this,arguments)}var gs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gs||(gs={}));const V5="popstate";function cq(n){n===void 0&&(n={});function t(c,d){let{pathname:h,search:g,hash:w}=c.location;return sA("",{pathname:h,search:g,hash:w},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){return typeof d=="string"?d:hm(d)}return dq(t,r,null,n)}function It(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function RN(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lq(){return Math.random().toString(36).substr(2,8)}function F5(n,t){return{usr:n.state,key:n.key,idx:t}}function sA(n,t,r,c){return r===void 0&&(r=null),rh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Dl(t):t,{state:r,key:t&&t.key||c||lq()})}function hm(n){let{pathname:t="/",search:r="",hash:c=""}=n;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),c&&c!=="#"&&(t+=c.charAt(0)==="#"?c:"#"+c),t}function Dl(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substr(r),n=n.substr(0,r));let c=n.indexOf("?");c>=0&&(t.search=n.substr(c),n=n.substr(0,c)),n&&(t.pathname=n)}return t}function dq(n,t,r,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,g=d.history,w=gs.Pop,m=null,A=y();A==null&&(A=0,g.replaceState(rh({},g.state,{idx:A}),""));function y(){return(g.state||{idx:null}).idx}function E(){w=gs.Pop;let j=y(),B=j==null?null:j-A;A=j,m&&m({action:w,location:O.location,delta:B})}function v(j,B){w=gs.Push;let R=sA(O.location,j,B);r&&r(R,j),A=y()+1;let z=F5(R,A),H=O.createHref(R);try{g.pushState(z,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;d.location.assign(H)}h&&m&&m({action:w,location:O.location,delta:1})}function T(j,B){w=gs.Replace;let R=sA(O.location,j,B);r&&r(R,j),A=y();let z=F5(R,A),H=O.createHref(R);g.replaceState(z,"",H),h&&m&&m({action:w,location:O.location,delta:0})}function P(j){let B=d.location.origin!=="null"?d.location.origin:d.location.href,R=typeof j=="string"?j:hm(j);return R=R.replace(/ $/,"%20"),It(B,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,B)}let O={get action(){return w},get location(){return n(d,g)},listen(j){if(m)throw new Error("A history only accepts one active listener");return d.addEventListener(V5,E),m=j,()=>{d.removeEventListener(V5,E),m=null}},createHref(j){return t(d,j)},createURL:P,encodeLocation(j){let B=P(j);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:v,replace:T,go(j){return g.go(j)}};return O}var U5;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(U5||(U5={}));function uq(n,t,r){r===void 0&&(r="/");let c=typeof t=="string"?Dl(t):t,d=ml(c.pathname||"/",r);if(d==null)return null;let h=BN(n);hq(h);let g=null;for(let w=0;g==null&&w<h.length;++w){let m=Cq(d);g=Aq(h[w],m)}return g}function BN(n,t,r,c){t===void 0&&(t=[]),r===void 0&&(r=[]),c===void 0&&(c="");let d=(h,g,w)=>{let m={relativePath:w===void 0?h.path||"":w,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};m.relativePath.startsWith("/")&&(It(m.relativePath.startsWith(c),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(c.length));let A=ys([c,m.relativePath]),y=r.concat(m);h.children&&h.children.length>0&&(It(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),BN(h.children,t,y,A)),!(h.path==null&&!h.index)&&t.push({path:A,score:wq(A,h.index),routesMeta:y})};return n.forEach((h,g)=>{var w;if(h.path===""||!((w=h.path)!=null&&w.includes("?")))d(h,g);else for(let m of ON(h.path))d(h,g,m)}),t}function ON(n){let t=n.split("/");if(t.length===0)return[];let[r,...c]=t,d=r.endsWith("?"),h=r.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let g=ON(c.join("/")),w=[];return w.push(...g.map(m=>m===""?h:[h,m].join("/"))),d&&w.push(...g),w.map(m=>n.startsWith("/")&&m===""?"/":m)}function hq(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:_q(t.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}const pq=/^:[\w-]+$/,gq=3,fq=2,mq=1,kq=10,bq=-2,H5=n=>n==="*";function wq(n,t){let r=n.split("/"),c=r.length;return r.some(H5)&&(c+=bq),t&&(c+=fq),r.filter(d=>!H5(d)).reduce((d,h)=>d+(pq.test(h)?gq:h===""?mq:kq),c)}function _q(n,t){return n.length===t.length&&n.slice(0,-1).every((c,d)=>c===t[d])?n[n.length-1]-t[t.length-1]:0}function Aq(n,t){let{routesMeta:r}=n,c={},d="/",h=[];for(let g=0;g<r.length;++g){let w=r[g],m=g===r.length-1,A=d==="/"?t:t.slice(d.length)||"/",y=aA({path:w.relativePath,caseSensitive:w.caseSensitive,end:m},A);if(!y)return null;Object.assign(c,y.params);let E=w.route;h.push({params:c,pathname:ys([d,y.pathname]),pathnameBase:Iq(ys([d,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(d=ys([d,y.pathnameBase]))}return h}function aA(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,c]=vq(n.path,n.caseSensitive,n.end),d=t.match(r);if(!d)return null;let h=d[0],g=h.replace(/(.)\/+$/,"$1"),w=d.slice(1);return{params:c.reduce((A,y,E)=>{let{paramName:v,isOptional:T}=y;if(v==="*"){let O=w[E]||"";g=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const P=w[E];return T&&!P?A[v]=void 0:A[v]=(P||"").replace(/%2F/g,"/"),A},{}),pathname:h,pathnameBase:g,pattern:n}}function vq(n,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),RN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let c=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,w,m)=>(c.push({paramName:w,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(c.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,t?void 0:"i"),c]}function Cq(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function ml(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,c=n.charAt(r);return c&&c!=="/"?null:n.slice(r)||"/"}function yq(n,t){t===void 0&&(t="/");let{pathname:r,search:c="",hash:d=""}=typeof n=="string"?Dl(n):n;return{pathname:r?r.startsWith("/")?r:Eq(r,t):t,search:Tq(c),hash:Dq(d)}}function Eq(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function $0(n,t,r,c){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xq(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jv(n,t){let r=xq(n);return t?r.map((c,d)=>d===n.length-1?c.pathname:c.pathnameBase):r.map(c=>c.pathnameBase)}function zv(n,t,r,c){c===void 0&&(c=!1);let d;typeof n=="string"?d=Dl(n):(d=rh({},n),It(!d.pathname||!d.pathname.includes("?"),$0("?","pathname","search",d)),It(!d.pathname||!d.pathname.includes("#"),$0("#","pathname","hash",d)),It(!d.search||!d.search.includes("#"),$0("#","search","hash",d)));let h=n===""||d.pathname==="",g=h?"/":d.pathname,w;if(g==null)w=r;else{let E=t.length-1;if(!c&&g.startsWith("..")){let v=g.split("/");for(;v[0]==="..";)v.shift(),E-=1;d.pathname=v.join("/")}w=E>=0?t[E]:"/"}let m=yq(d,w),A=g&&g!=="/"&&g.endsWith("/"),y=(h||g===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(A||y)&&(m.pathname+="/"),m}const ys=n=>n.join("/").replace(/\/\/+/g,"/"),Iq=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tq=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dq=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Sq(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const LN=["post","put","patch","delete"];new Set(LN);const Mq=["get",...LN];new Set(Mq);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oh(){return oh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},oh.apply(this,arguments)}const nk=te.createContext(null),jN=te.createContext(null),Po=te.createContext(null),ik=te.createContext(null),Gr=te.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=te.createContext(null);function Pq(n,t){let{relative:r}=t===void 0?{}:t;Sl()||It(!1);let{basename:c,navigator:d}=te.useContext(Po),{hash:h,pathname:g,search:w}=rk(n,{relative:r}),m=g;return c!=="/"&&(m=g==="/"?c:ys([c,g])),d.createHref({pathname:m,search:w,hash:h})}function Sl(){return te.useContext(ik)!=null}function Ml(){return Sl()||It(!1),te.useContext(ik).location}function VN(n){te.useContext(Po).static||te.useLayoutEffect(n)}function Vv(){let{isDataRoute:n}=te.useContext(Gr);return n?Kq():Nq()}function Nq(){Sl()||It(!1);let n=te.useContext(nk),{basename:t,future:r,navigator:c}=te.useContext(Po),{matches:d}=te.useContext(Gr),{pathname:h}=Ml(),g=JSON.stringify(jv(d,r.v7_relativeSplatPath)),w=te.useRef(!1);return VN(()=>{w.current=!0}),te.useCallback(function(A,y){if(y===void 0&&(y={}),!w.current)return;if(typeof A=="number"){c.go(A);return}let E=zv(A,JSON.parse(g),h,y.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ys([t,E.pathname])),(y.replace?c.replace:c.push)(E,y.state,y)},[t,c,g,h,n])}const Rq=te.createContext(null);function Bq(n){let t=te.useContext(Gr).outlet;return t&&te.createElement(Rq.Provider,{value:n},t)}function Oq(){let{matches:n}=te.useContext(Gr),t=n[n.length-1];return t?t.params:{}}function rk(n,t){let{relative:r}=t===void 0?{}:t,{future:c}=te.useContext(Po),{matches:d}=te.useContext(Gr),{pathname:h}=Ml(),g=JSON.stringify(jv(d,c.v7_relativeSplatPath));return te.useMemo(()=>zv(n,JSON.parse(g),h,r==="path"),[n,g,h,r])}function Lq(n,t){return jq(n,t)}function jq(n,t,r,c){Sl()||It(!1);let{navigator:d}=te.useContext(Po),{matches:h}=te.useContext(Gr),g=h[h.length-1],w=g?g.params:{};g&&g.pathname;let m=g?g.pathnameBase:"/";g&&g.route;let A=Ml(),y;if(t){var E;let j=typeof t=="string"?Dl(t):t;m==="/"||(E=j.pathname)!=null&&E.startsWith(m)||It(!1),y=j}else y=A;let v=y.pathname||"/",T=v;if(m!=="/"){let j=m.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=uq(n,{pathname:T}),O=Hq(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},w,j.params),pathname:ys([m,d.encodeLocation?d.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:ys([m,d.encodeLocation?d.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),h,r,c);return t&&O?te.createElement(ik.Provider,{value:{location:oh({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:gs.Pop}},O):O}function zq(){let n=Gq(),t=Sq(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),r?te.createElement("pre",{style:d},r):null,null)}const Vq=te.createElement(zq,null);class Fq extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?te.createElement(Gr.Provider,{value:this.props.routeContext},te.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uq(n){let{routeContext:t,match:r,children:c}=n,d=te.useContext(nk);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),te.createElement(Gr.Provider,{value:t},c)}function Hq(n,t,r,c){var d;if(t===void 0&&(t=[]),r===void 0&&(r=null),c===void 0&&(c=null),n==null){var h;if((h=r)!=null&&h.errors)n=r.matches;else return null}let g=n,w=(d=r)==null?void 0:d.errors;if(w!=null){let y=g.findIndex(E=>E.route.id&&(w==null?void 0:w[E.route.id]));y>=0||It(!1),g=g.slice(0,Math.min(g.length,y+1))}let m=!1,A=-1;if(r&&c&&c.v7_partialHydration)for(let y=0;y<g.length;y++){let E=g[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(A=y),E.route.id){let{loaderData:v,errors:T}=r,P=E.route.loader&&v[E.route.id]===void 0&&(!T||T[E.route.id]===void 0);if(E.route.lazy||P){m=!0,A>=0?g=g.slice(0,A+1):g=[g[0]];break}}}return g.reduceRight((y,E,v)=>{let T,P=!1,O=null,j=null;r&&(T=w&&E.route.id?w[E.route.id]:void 0,O=E.route.errorElement||Vq,m&&(A<0&&v===0?(Qq("route-fallback",!1),P=!0,j=null):A===v&&(P=!0,j=E.route.hydrateFallbackElement||null)));let B=t.concat(g.slice(0,v+1)),R=()=>{let z;return T?z=O:P?z=j:E.route.Component?z=te.createElement(E.route.Component,null):E.route.element?z=E.route.element:z=y,te.createElement(Uq,{match:E,routeContext:{outlet:y,matches:B,isDataRoute:r!=null},children:z})};return r&&(E.route.ErrorBoundary||E.route.errorElement||v===0)?te.createElement(Fq,{location:r.location,revalidation:r.revalidation,component:O,error:T,children:R(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):R()},null)}var FN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(FN||{}),pm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(pm||{});function $q(n){let t=te.useContext(nk);return t||It(!1),t}function Wq(n){let t=te.useContext(jN);return t||It(!1),t}function qq(n){let t=te.useContext(Gr);return t||It(!1),t}function UN(n){let t=qq(),r=t.matches[t.matches.length-1];return r.route.id||It(!1),r.route.id}function Gq(){var n;let t=te.useContext(zN),r=Wq(pm.UseRouteError),c=UN(pm.UseRouteError);return t!==void 0?t:(n=r.errors)==null?void 0:n[c]}function Kq(){let{router:n}=$q(FN.UseNavigateStable),t=UN(pm.UseNavigateStable),r=te.useRef(!1);return VN(()=>{r.current=!0}),te.useCallback(function(d,h){h===void 0&&(h={}),r.current&&(typeof d=="number"?n.navigate(d):n.navigate(d,oh({fromRouteId:t},h)))},[n,t])}const $5={};function Qq(n,t,r){!t&&!$5[n]&&($5[n]=!0)}function Yq(n){let{to:t,replace:r,state:c,relative:d}=n;Sl()||It(!1);let{future:h,static:g}=te.useContext(Po),{matches:w}=te.useContext(Gr),{pathname:m}=Ml(),A=Vv(),y=zv(t,jv(w,h.v7_relativeSplatPath),m,d==="path"),E=JSON.stringify(y);return te.useEffect(()=>A(JSON.parse(E),{replace:r,state:c,relative:d}),[A,E,d,r,c]),null}function Zq(n){return Bq(n.context)}function ma(n){It(!1)}function Jq(n){let{basename:t="/",children:r=null,location:c,navigationType:d=gs.Pop,navigator:h,static:g=!1,future:w}=n;Sl()&&It(!1);let m=t.replace(/^\/*/,"/"),A=te.useMemo(()=>({basename:m,navigator:h,static:g,future:oh({v7_relativeSplatPath:!1},w)}),[m,w,h,g]);typeof c=="string"&&(c=Dl(c));let{pathname:y="/",search:E="",hash:v="",state:T=null,key:P="default"}=c,O=te.useMemo(()=>{let j=ml(y,m);return j==null?null:{location:{pathname:j,search:E,hash:v,state:T,key:P},navigationType:d}},[m,y,E,v,T,P,d]);return O==null?null:te.createElement(Po.Provider,{value:A},te.createElement(ik.Provider,{children:r,value:O}))}function Xq(n){let{children:t,location:r}=n;return Lq(cA(t),r)}new Promise(()=>{});function cA(n,t){t===void 0&&(t=[]);let r=[];return te.Children.forEach(n,(c,d)=>{if(!te.isValidElement(c))return;let h=[...t,d];if(c.type===te.Fragment){r.push.apply(r,cA(c.props.children,h));return}c.type!==ma&&It(!1),!c.props.index||!c.props.children||It(!1);let g={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=cA(c.props.children,h)),r.push(g)}),r}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},gm.apply(this,arguments)}function HN(n,t){if(n==null)return{};var r={},c=Object.keys(n),d,h;for(h=0;h<c.length;h++)d=c[h],!(t.indexOf(d)>=0)&&(r[d]=n[d]);return r}function eG(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tG(n,t){return n.button===0&&(!t||t==="_self")&&!eG(n)}const nG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iG=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],rG="6";try{window.__reactRouterVersion=rG}catch{}const oG=te.createContext({isTransitioning:!1}),sG="startTransition",W5=ZH[sG];function aG(n){let{basename:t,children:r,future:c,window:d}=n,h=te.useRef();h.current==null&&(h.current=cq({window:d,v5Compat:!0}));let g=h.current,[w,m]=te.useState({action:g.action,location:g.location}),{v7_startTransition:A}=c||{},y=te.useCallback(E=>{A&&W5?W5(()=>m(E)):m(E)},[m,A]);return te.useLayoutEffect(()=>g.listen(y),[g,y]),te.createElement(Jq,{basename:t,children:r,location:w.location,navigationType:w.action,navigator:g,future:c})}const cG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=te.forwardRef(function(t,r){let{onClick:c,relative:d,reloadDocument:h,replace:g,state:w,target:m,to:A,preventScrollReset:y,unstable_viewTransition:E}=t,v=HN(t,nG),{basename:T}=te.useContext(Po),P,O=!1;if(typeof A=="string"&&lG.test(A)&&(P=A,cG))try{let z=new URL(window.location.href),H=A.startsWith("//")?new URL(z.protocol+A):new URL(A),K=ml(H.pathname,T);H.origin===z.origin&&K!=null?A=K+H.search+H.hash:O=!0}catch{}let j=Pq(A,{relative:d}),B=uG(A,{replace:g,state:w,target:m,preventScrollReset:y,relative:d,unstable_viewTransition:E});function R(z){c&&c(z),z.defaultPrevented||B(z)}return te.createElement("a",gm({},v,{href:P||j,onClick:O||h?c:R,ref:r,target:m}))}),W0=te.forwardRef(function(t,r){let{"aria-current":c="page",caseSensitive:d=!1,className:h="",end:g=!1,style:w,to:m,unstable_viewTransition:A,children:y}=t,E=HN(t,iG),v=rk(m,{relative:E.relative}),T=Ml(),P=te.useContext(jN),{navigator:O,basename:j}=te.useContext(Po),B=P!=null&&hG(v)&&A===!0,R=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,z=T.pathname,H=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;d||(z=z.toLowerCase(),H=H?H.toLowerCase():null,R=R.toLowerCase()),H&&j&&(H=ml(H,j)||H);const K=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let Y=z===R||!g&&z.startsWith(R)&&z.charAt(K)==="/",Q=H!=null&&(H===R||!g&&H.startsWith(R)&&H.charAt(R.length)==="/"),X={isActive:Y,isPending:Q,isTransitioning:B},V=Y?c:void 0,ie;typeof h=="function"?ie=h(X):ie=[h,Y?"active":null,Q?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let Re=typeof w=="function"?w(X):w;return te.createElement(Fv,gm({},E,{"aria-current":V,className:ie,ref:r,style:Re,to:m,unstable_viewTransition:A}),typeof y=="function"?y(X):y)});var lA;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(lA||(lA={}));var q5;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(q5||(q5={}));function dG(n){let t=te.useContext(nk);return t||It(!1),t}function uG(n,t){let{target:r,replace:c,state:d,preventScrollReset:h,relative:g,unstable_viewTransition:w}=t===void 0?{}:t,m=Vv(),A=Ml(),y=rk(n,{relative:g});return te.useCallback(E=>{if(tG(E,r)){E.preventDefault();let v=c!==void 0?c:hm(A)===hm(y);m(n,{replace:v,state:d,preventScrollReset:h,relative:g,unstable_viewTransition:w})}},[A,m,y,c,d,r,n,h,g,w])}function hG(n,t){t===void 0&&(t={});let r=te.useContext(oG);r==null&&It(!1);let{basename:c}=dG(lA.useViewTransitionState),d=rk(n,{relative:t.relative});if(!r.isTransitioning)return!1;let h=ml(r.currentLocation.pathname,c)||r.currentLocation.pathname,g=ml(r.nextLocation.pathname,c)||r.nextLocation.pathname;return aA(d.pathname,g)!=null||aA(d.pathname,h)!=null}const pG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADjSURBVHic7dqxjcJAEIXhN6YJ1tJRBRKF0AMRIWWQcV1cQEgN1AHerQINCRHyBhzrtRH/l440fp7MT5YAAAAAAN/HSi7ruu6naZo/SUtJs5K73xDdfdu27bFv2JR8kpntJK00nZeXpNbMfnPDogf4REUP4O57SWdJt5J73xTdfTt2CAAAAADTku0DYoxrMztIChXzDOEqaRNCOPUNswdIKSVJ86FSVXYJISz6BvQBucHjGzpVzDKUi7tvxg4BAAAAYFqK/h/wiop9w//6gKFV7hvoA3JGO0DFvoE+AAAAAADw5A7/2TtAkcETMwAAAABJRU5ErkJggg==";var G5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=function(n){const t=[];let r=0;for(let c=0;c<n.length;c++){let d=n.charCodeAt(c);d<128?t[r++]=d:d<2048?(t[r++]=d>>6|192,t[r++]=d&63|128):(d&64512)===55296&&c+1<n.length&&(n.charCodeAt(c+1)&64512)===56320?(d=65536+((d&1023)<<10)+(n.charCodeAt(++c)&1023),t[r++]=d>>18|240,t[r++]=d>>12&63|128,t[r++]=d>>6&63|128,t[r++]=d&63|128):(t[r++]=d>>12|224,t[r++]=d>>6&63|128,t[r++]=d&63|128)}return t},gG=function(n){const t=[];let r=0,c=0;for(;r<n.length;){const d=n[r++];if(d<128)t[c++]=String.fromCharCode(d);else if(d>191&&d<224){const h=n[r++];t[c++]=String.fromCharCode((d&31)<<6|h&63)}else if(d>239&&d<365){const h=n[r++],g=n[r++],w=n[r++],m=((d&7)<<18|(h&63)<<12|(g&63)<<6|w&63)-65536;t[c++]=String.fromCharCode(55296+(m>>10)),t[c++]=String.fromCharCode(56320+(m&1023))}else{const h=n[r++],g=n[r++];t[c++]=String.fromCharCode((d&15)<<12|(h&63)<<6|g&63)}}return t.join("")},WN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let d=0;d<n.length;d+=3){const h=n[d],g=d+1<n.length,w=g?n[d+1]:0,m=d+2<n.length,A=m?n[d+2]:0,y=h>>2,E=(h&3)<<4|w>>4;let v=(w&15)<<2|A>>6,T=A&63;m||(T=64,g||(v=64)),c.push(r[y],r[E],r[v],r[T])}return c.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray($N(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):gG(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let d=0;d<n.length;){const h=r[n.charAt(d++)],w=d<n.length?r[n.charAt(d)]:0;++d;const A=d<n.length?r[n.charAt(d)]:64;++d;const E=d<n.length?r[n.charAt(d)]:64;if(++d,h==null||w==null||A==null||E==null)throw new fG;const v=h<<2|w>>4;if(c.push(v),A!==64){const T=w<<4&240|A>>2;if(c.push(T),E!==64){const P=A<<6&192|E;c.push(P)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mG=function(n){const t=$N(n);return WN.encodeByteArray(t,!0)},fm=function(n){return mG(n).replace(/\./g,"")},qN=function(n){try{return WN.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=()=>kG().__FIREBASE_DEFAULTS__,wG=()=>{if(typeof process>"u"||typeof G5>"u")return;const n=G5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_G=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&qN(n[1]);return t&&JSON.parse(t)},ok=()=>{try{return bG()||wG()||_G()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GN=n=>{var t,r;return(r=(t=ok())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[n]},KN=n=>{const t=GN(n);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const c=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),c]:[t.substring(0,r),c]},QN=()=>{var n;return(n=ok())===null||n===void 0?void 0:n.config},YN=n=>{var t;return(t=ok())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,c)=>{r?this.reject(r):this.resolve(c),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},c=t||"demo-project",d=n.iat||0,h=n.sub||n.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:d,exp:d+3600,auth_time:d,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fm(JSON.stringify(r)),fm(JSON.stringify(g)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function CG(){var n;const t=(n=ok())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yG(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xG(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IG(){return!CG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JN(){try{return typeof indexedDB=="object"}catch{return!1}}function TG(){return new Promise((n,t)=>{try{let r=!0;const c="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(c);d.onsuccess=()=>{d.result.close(),r||self.indexedDB.deleteDatabase(c),n(!0)},d.onupgradeneeded=()=>{r=!1},d.onerror=()=>{var h;t(((h=d.error)===null||h===void 0?void 0:h.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="FirebaseError";class Kr extends Error{constructor(t,r,c){super(r),this.code=t,this.customData=c,this.name=DG,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dh.prototype.create)}}class Dh{constructor(t,r,c){this.service=t,this.serviceName=r,this.errors=c}create(t,...r){const c=r[0]||{},d=`${this.service}/${t}`,h=this.errors[t],g=h?SG(h,c):"Error",w=`${this.serviceName}: ${g} (${d}).`;return new Kr(d,w,c)}}function SG(n,t){return n.replace(MG,(r,c)=>{const d=t[c];return d!=null?String(d):`<${c}?>`})}const MG=/\{\$([^}]+)}/g;function PG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function mm(n,t){if(n===t)return!0;const r=Object.keys(n),c=Object.keys(t);for(const d of r){if(!c.includes(d))return!1;const h=n[d],g=t[d];if(K5(h)&&K5(g)){if(!mm(h,g))return!1}else if(h!==g)return!1}for(const d of c)if(!r.includes(d))return!1;return!0}function K5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n){const t=[];for(const[r,c]of Object.entries(n))Array.isArray(c)?c.forEach(d=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(c));return t.length?"&"+t.join("&"):""}function ku(n){const t={};return n.replace(/^\?/,"").split("&").forEach(c=>{if(c){const[d,h]=c.split("=");t[decodeURIComponent(d)]=decodeURIComponent(h)}}),t}function bu(n){const t=n.indexOf("?");if(!t)return"";const r=n.indexOf("#",t);return n.substring(t,r>0?r:void 0)}function NG(n,t){const r=new RG(n,t);return r.subscribe.bind(r)}class RG{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(c=>{this.error(c)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,c){let d;if(t===void 0&&r===void 0&&c===void 0)throw new Error("Missing Observer.");BG(t,["next","error","complete"])?d=t:d={next:t,error:r,complete:c},d.next===void 0&&(d.next=q0),d.error===void 0&&(d.error=q0),d.complete===void 0&&(d.complete=q0);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch{}}),this.observers.push(d),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BG(n,t){if(typeof n!="object"||n===null)return!1;for(const r of t)if(r in n&&typeof n[r]=="function")return!0;return!1}function q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(t,r,c){this.name=t,this.instanceFactory=r,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const c=new AG;if(this.instancesDeferred.set(r,c),this.isInitialized(r)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:r});d&&c.resolve(d)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const c=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),d=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(h){if(d)return null;throw h}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jG(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[r,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:d});c.resolve(h)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:c,options:r});for(const[h,g]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(h);c===w&&g.resolve(d)}return d}onInit(t,r){var c;const d=this.normalizeInstanceIdentifier(r),h=(c=this.onInitCallbacks.get(d))!==null&&c!==void 0?c:new Set;h.add(t),this.onInitCallbacks.set(d,h);const g=this.instances.get(d);return g&&t(g,d),()=>{h.delete(t)}}invokeOnInitCallbacks(t,r){const c=this.onInitCallbacks.get(r);if(c)for(const d of c)try{d(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let c=this.instances.get(t);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:LG(t),options:r}),this.instances.set(t,c),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(c,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,c)}catch{}return c||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LG(n){return n===ka?void 0:n}function jG(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new OG(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const VG={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},FG=He.INFO,UG={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},HG=(n,t,...r)=>{if(t<n.logLevel)return;const c=new Date().toISOString(),d=UG[t];if(d)console[d](`[${c}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uv{constructor(t){this.name=t,this._logLevel=FG,this._logHandler=HG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in He))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VG[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...t),this._logHandler(this,He.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...t),this._logHandler(this,He.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,He.INFO,...t),this._logHandler(this,He.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,He.WARN,...t),this._logHandler(this,He.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...t),this._logHandler(this,He.ERROR,...t)}}const $G=(n,t)=>t.some(r=>n instanceof r);let Q5,Y5;function WG(){return Q5||(Q5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qG(){return Y5||(Y5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XN=new WeakMap,dA=new WeakMap,eR=new WeakMap,G0=new WeakMap,Hv=new WeakMap;function GG(n){const t=new Promise((r,c)=>{const d=()=>{n.removeEventListener("success",h),n.removeEventListener("error",g)},h=()=>{r(Es(n.result)),d()},g=()=>{c(n.error),d()};n.addEventListener("success",h),n.addEventListener("error",g)});return t.then(r=>{r instanceof IDBCursor&&XN.set(r,n)}).catch(()=>{}),Hv.set(t,n),t}function KG(n){if(dA.has(n))return;const t=new Promise((r,c)=>{const d=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",g),n.removeEventListener("abort",g)},h=()=>{r(),d()},g=()=>{c(n.error||new DOMException("AbortError","AbortError")),d()};n.addEventListener("complete",h),n.addEventListener("error",g),n.addEventListener("abort",g)});dA.set(n,t)}let uA={get(n,t,r){if(n instanceof IDBTransaction){if(t==="done")return dA.get(n);if(t==="objectStoreNames")return n.objectStoreNames||eR.get(n);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Es(n[t])},set(n,t,r){return n[t]=r,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function QG(n){uA=n(uA)}function YG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const c=n.call(K0(this),t,...r);return eR.set(c,t.sort?t.sort():[t]),Es(c)}:qG().includes(n)?function(...t){return n.apply(K0(this),t),Es(XN.get(this))}:function(...t){return Es(n.apply(K0(this),t))}}function ZG(n){return typeof n=="function"?YG(n):(n instanceof IDBTransaction&&KG(n),$G(n,WG())?new Proxy(n,uA):n)}function Es(n){if(n instanceof IDBRequest)return GG(n);if(G0.has(n))return G0.get(n);const t=ZG(n);return t!==n&&(G0.set(n,t),Hv.set(t,n)),t}const K0=n=>Hv.get(n);function JG(n,t,{blocked:r,upgrade:c,blocking:d,terminated:h}={}){const g=indexedDB.open(n,t),w=Es(g);return c&&g.addEventListener("upgradeneeded",m=>{c(Es(g.result),m.oldVersion,m.newVersion,Es(g.transaction),m)}),r&&g.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),w.then(m=>{h&&m.addEventListener("close",()=>h()),d&&m.addEventListener("versionchange",A=>d(A.oldVersion,A.newVersion,A))}).catch(()=>{}),w}const XG=["get","getKey","getAll","getAllKeys","count"],eK=["put","add","delete","clear"],Q0=new Map;function Z5(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Q0.get(t))return Q0.get(t);const r=t.replace(/FromIndex$/,""),c=t!==r,d=eK.includes(r);if(!(r in(c?IDBIndex:IDBObjectStore).prototype)||!(d||XG.includes(r)))return;const h=async function(g,...w){const m=this.transaction(g,d?"readwrite":"readonly");let A=m.store;return c&&(A=A.index(w.shift())),(await Promise.all([A[r](...w),d&&m.done]))[0]};return Q0.set(t,h),h}QG(n=>({...n,get:(t,r,c)=>Z5(t,r)||n.get(t,r,c),has:(t,r)=>!!Z5(t,r)||n.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nK(r)){const c=r.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(r=>r).join(" ")}}function nK(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hA="@firebase/app",J5="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Uv("@firebase/app"),iK="@firebase/app-compat",rK="@firebase/analytics-compat",oK="@firebase/analytics",sK="@firebase/app-check-compat",aK="@firebase/app-check",cK="@firebase/auth",lK="@firebase/auth-compat",dK="@firebase/database",uK="@firebase/database-compat",hK="@firebase/functions",pK="@firebase/functions-compat",gK="@firebase/installations",fK="@firebase/installations-compat",mK="@firebase/messaging",kK="@firebase/messaging-compat",bK="@firebase/performance",wK="@firebase/performance-compat",_K="@firebase/remote-config",AK="@firebase/remote-config-compat",vK="@firebase/storage",CK="@firebase/storage-compat",yK="@firebase/firestore",EK="@firebase/firestore-compat",xK="firebase",IK="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="[DEFAULT]",TK={[hA]:"fire-core",[iK]:"fire-core-compat",[oK]:"fire-analytics",[rK]:"fire-analytics-compat",[aK]:"fire-app-check",[sK]:"fire-app-check-compat",[cK]:"fire-auth",[lK]:"fire-auth-compat",[dK]:"fire-rtdb",[uK]:"fire-rtdb-compat",[hK]:"fire-fn",[pK]:"fire-fn-compat",[gK]:"fire-iid",[fK]:"fire-iid-compat",[mK]:"fire-fcm",[kK]:"fire-fcm-compat",[bK]:"fire-perf",[wK]:"fire-perf-compat",[_K]:"fire-rc",[AK]:"fire-rc-compat",[vK]:"fire-gcs",[CK]:"fire-gcs-compat",[yK]:"fire-fst",[EK]:"fire-fst-compat","fire-js":"fire-js",[xK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Map,gA=new Map;function DK(n,t){try{n.container.addComponent(t)}catch(r){Oa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,r)}}function La(n){const t=n.name;if(gA.has(t))return Oa.debug(`There were multiple attempts to register component ${t}.`),!1;gA.set(t,n);for(const r of km.values())DK(r,n);return!0}function sk(n,t){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xs=new Dh("app","Firebase",SK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t,r,c){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=IK;function tR(n,t={}){let r=n;typeof t!="object"&&(t={name:t});const c=Object.assign({name:pA,automaticDataCollectionEnabled:!1},t),d=c.name;if(typeof d!="string"||!d)throw xs.create("bad-app-name",{appName:String(d)});if(r||(r=QN()),!r)throw xs.create("no-options");const h=km.get(d);if(h){if(mm(r,h.options)&&mm(c,h.config))return h;throw xs.create("duplicate-app",{appName:d})}const g=new zG(d);for(const m of gA.values())g.addComponent(m);const w=new MK(r,c,g);return km.set(d,w),w}function $v(n=pA){const t=km.get(n);if(!t&&n===pA&&QN())return tR();if(!t)throw xs.create("no-app",{appName:n});return t}function jr(n,t,r){var c;let d=(c=TK[n])!==null&&c!==void 0?c:n;r&&(d+=`-${r}`);const h=d.match(/\s|\//),g=t.match(/\s|\//);if(h||g){const w=[`Unable to register library "${d}" with version "${t}":`];h&&w.push(`library name "${d}" contains illegal characters (whitespace or "/")`),h&&g&&w.push("and"),g&&w.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Oa.warn(w.join(" "));return}La(new Ss(`${d}-version`,()=>({library:d,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK="firebase-heartbeat-database",NK=1,sh="firebase-heartbeat-store";let Y0=null;function nR(){return Y0||(Y0=JG(PK,NK,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(sh)}catch(r){console.warn(r)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Y0}async function RK(n){try{const r=(await nR()).transaction(sh),c=await r.objectStore(sh).get(iR(n));return await r.done,c}catch(t){if(t instanceof Kr)Oa.warn(t.message);else{const r=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Oa.warn(r.message)}}}async function X5(n,t){try{const c=(await nR()).transaction(sh,"readwrite");await c.objectStore(sh).put(t,iR(n)),await c.done}catch(r){if(r instanceof Kr)Oa.warn(r.message);else{const c=xs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Oa.warn(c.message)}}}function iR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=1024,OK=30*24*60*60*1e3;class LK{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zK(r),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var t,r;const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=eM();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(g=>g.date===h)))return this._heartbeatsCache.heartbeats.push({date:h,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(g=>{const w=new Date(g.date).valueOf();return Date.now()-w<=OK}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=eM(),{heartbeatsToSend:c,unsentEntries:d}=jK(this._heartbeatsCache.heartbeats),h=fm(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=r,d.length>0?(this._heartbeatsCache.heartbeats=d,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}}function eM(){return new Date().toISOString().substring(0,10)}function jK(n,t=BK){const r=[];let c=n.slice();for(const d of n){const h=r.find(g=>g.agent===d.agent);if(h){if(h.dates.push(d.date),tM(r)>t){h.dates.pop();break}}else if(r.push({agent:d.agent,dates:[d.date]}),tM(r)>t){r.pop();break}c=c.slice(1)}return{heartbeatsToSend:r,unsentEntries:c}}class zK{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JN()?TG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await RK(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const d=await this.read();return X5(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:d.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const d=await this.read();return X5(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...t.heartbeats]})}else return}}function tM(n){return fm(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(n){La(new Ss("platform-logger",t=>new tK(t),"PRIVATE")),La(new Ss("heartbeat",t=>new LK(t),"PRIVATE")),jr(hA,J5,n),jr(hA,J5,"esm2017"),jr("fire-js","")}VK("");var FK="firebase",UK="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(FK,UK,"app");var HK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,Wv=Wv||{},De=HK||self;function ak(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function Mh(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function $K(n){return Object.prototype.hasOwnProperty.call(n,Z0)&&n[Z0]||(n[Z0]=++WK)}var Z0="closure_uid_"+(1e9*Math.random()>>>0),WK=0;function qK(n,t,r){return n.call.apply(n.bind,arguments)}function GK(n,t,r){if(!n)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),n.apply(t,d)}}return function(){return n.apply(t,arguments)}}function Bn(n,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bn=qK:Bn=GK,Bn.apply(null,arguments)}function df(n,t){var r=Array.prototype.slice.call(arguments,1);return function(){var c=r.slice();return c.push.apply(c,arguments),n.apply(this,c)}}function hn(n,t){function r(){}r.prototype=t.prototype,n.$=t.prototype,n.prototype=new r,n.prototype.constructor=n,n.ac=function(c,d,h){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return t.prototype[d].apply(c,g)}}function Ls(){this.s=this.s,this.o=this.o}var KK=0;Ls.prototype.s=!1;Ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),KK!=0)&&$K(this)};Ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rR=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let r=0;r<n.length;r++)if(r in n&&n[r]===t)return r;return-1};function qv(n){const t=n.length;if(0<t){const r=Array(t);for(let c=0;c<t;c++)r[c]=n[c];return r}return[]}function nM(n,t){for(let r=1;r<arguments.length;r++){const c=arguments[r];if(ak(c)){const d=n.length||0,h=c.length||0;n.length=d+h;for(let g=0;g<h;g++)n[d+g]=c[g]}else n.push(c)}}function On(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var QK=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const r=()=>{};De.addEventListener("test",r,t),De.removeEventListener("test",r,t)}catch{}return n}();function ah(n){return/^[\s\xa0]*$/.test(n)}function ck(){var n=De.navigator;return n&&(n=n.userAgent)?n:""}function Pr(n){return ck().indexOf(n)!=-1}function Gv(n){return Gv[" "](n),n}Gv[" "]=function(){};function YK(n,t){var r=UQ;return Object.prototype.hasOwnProperty.call(r,n)?r[n]:r[n]=t(n)}var ZK=Pr("Opera"),kl=Pr("Trident")||Pr("MSIE"),oR=Pr("Edge"),fA=oR||kl,sR=Pr("Gecko")&&!(ck().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),JK=ck().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge");function aR(){var n=De.document;return n?n.documentMode:void 0}var mA;e:{var J0="",X0=function(){var n=ck();if(sR)return/rv:([^\);]+)(\)|;)/.exec(n);if(oR)return/Edge\/([\d\.]+)/.exec(n);if(kl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(JK)return/WebKit\/(\S+)/.exec(n);if(ZK)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(X0&&(J0=X0?X0[1]:""),kl){var e_=aR();if(e_!=null&&e_>parseFloat(J0)){mA=String(e_);break e}}mA=J0}var kA;if(De.document&&kl){var iM=aR();kA=iM||parseInt(mA,10)||void 0}else kA=void 0;var XK=kA;function ch(n,t){if(On.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var r=this.type=n.type,c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(sR){e:{try{Gv(t.nodeName);var d=!0;break e}catch{}d=!1}d||(t=null)}}else r=="mouseover"?t=n.fromElement:r=="mouseout"&&(t=n.toElement);this.relatedTarget=t,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:eQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ch.$.h.call(this)}}hn(ch,On);var eQ={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),tQ=0;function nQ(n,t,r,c,d){this.listener=n,this.proxy=null,this.src=t,this.type=r,this.capture=!!c,this.la=d,this.key=++tQ,this.fa=this.ia=!1}function lk(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kv(n,t,r){for(const c in n)t.call(r,n[c],c,n)}function iQ(n,t){for(const r in n)t.call(void 0,n[r],r,n)}function cR(n){const t={};for(const r in n)t[r]=n[r];return t}const rM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lR(n,t){let r,c;for(let d=1;d<arguments.length;d++){c=arguments[d];for(r in c)n[r]=c[r];for(let h=0;h<rM.length;h++)r=rM[h],Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r])}}function dk(n){this.src=n,this.g={},this.h=0}dk.prototype.add=function(n,t,r,c,d){var h=n.toString();n=this.g[h],n||(n=this.g[h]=[],this.h++);var g=wA(n,t,c,d);return-1<g?(t=n[g],r||(t.ia=!1)):(t=new nQ(t,this.src,h,!!c,d),t.ia=r,n.push(t)),t};function bA(n,t){var r=t.type;if(r in n.g){var c=n.g[r],d=rR(c,t),h;(h=0<=d)&&Array.prototype.splice.call(c,d,1),h&&(lk(t),n.g[r].length==0&&(delete n.g[r],n.h--))}}function wA(n,t,r,c){for(var d=0;d<n.length;++d){var h=n[d];if(!h.fa&&h.listener==t&&h.capture==!!r&&h.la==c)return d}return-1}var Qv="closure_lm_"+(1e6*Math.random()|0),t_={};function dR(n,t,r,c,d){if(c&&c.once)return hR(n,t,r,c,d);if(Array.isArray(t)){for(var h=0;h<t.length;h++)dR(n,t[h],r,c,d);return null}return r=Jv(r),n&&n[Ph]?n.O(t,r,Mh(c)?!!c.capture:!!c,d):uR(n,t,r,!1,c,d)}function uR(n,t,r,c,d,h){if(!t)throw Error("Invalid event type");var g=Mh(d)?!!d.capture:!!d,w=Zv(n);if(w||(n[Qv]=w=new dk(n)),r=w.add(t,r,c,g,h),r.proxy)return r;if(c=rQ(),r.proxy=c,c.src=n,c.listener=r,n.addEventListener)QK||(d=g),d===void 0&&(d=!1),n.addEventListener(t.toString(),c,d);else if(n.attachEvent)n.attachEvent(gR(t.toString()),c);else if(n.addListener&&n.removeListener)n.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return r}function rQ(){function n(r){return t.call(n.src,n.listener,r)}const t=oQ;return n}function hR(n,t,r,c,d){if(Array.isArray(t)){for(var h=0;h<t.length;h++)hR(n,t[h],r,c,d);return null}return r=Jv(r),n&&n[Ph]?n.P(t,r,Mh(c)?!!c.capture:!!c,d):uR(n,t,r,!0,c,d)}function pR(n,t,r,c,d){if(Array.isArray(t))for(var h=0;h<t.length;h++)pR(n,t[h],r,c,d);else c=Mh(c)?!!c.capture:!!c,r=Jv(r),n&&n[Ph]?(n=n.i,t=String(t).toString(),t in n.g&&(h=n.g[t],r=wA(h,r,c,d),-1<r&&(lk(h[r]),Array.prototype.splice.call(h,r,1),h.length==0&&(delete n.g[t],n.h--)))):n&&(n=Zv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=wA(t,r,c,d)),(r=-1<n?t[n]:null)&&Yv(r))}function Yv(n){if(typeof n!="number"&&n&&!n.fa){var t=n.src;if(t&&t[Ph])bA(t.i,n);else{var r=n.type,c=n.proxy;t.removeEventListener?t.removeEventListener(r,c,n.capture):t.detachEvent?t.detachEvent(gR(r),c):t.addListener&&t.removeListener&&t.removeListener(c),(r=Zv(t))?(bA(r,n),r.h==0&&(r.src=null,t[Qv]=null)):lk(n)}}}function gR(n){return n in t_?t_[n]:t_[n]="on"+n}function oQ(n,t){if(n.fa)n=!0;else{t=new ch(t,this);var r=n.listener,c=n.la||n.src;n.ia&&Yv(n),n=r.call(c,t)}return n}function Zv(n){return n=n[Qv],n instanceof dk?n:null}var n_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jv(n){return typeof n=="function"?n:(n[n_]||(n[n_]=function(t){return n.handleEvent(t)}),n[n_])}function un(){Ls.call(this),this.i=new dk(this),this.S=this,this.J=null}hn(un,Ls);un.prototype[Ph]=!0;un.prototype.removeEventListener=function(n,t,r,c){pR(this,n,t,r,c)};function En(n,t){var r,c=n.J;if(c)for(r=[];c;c=c.J)r.push(c);if(n=n.S,c=t.type||t,typeof t=="string")t=new On(t,n);else if(t instanceof On)t.target=t.target||n;else{var d=t;t=new On(c,n),lR(t,d)}if(d=!0,r)for(var h=r.length-1;0<=h;h--){var g=t.g=r[h];d=uf(g,c,!0,t)&&d}if(g=t.g=n,d=uf(g,c,!0,t)&&d,d=uf(g,c,!1,t)&&d,r)for(h=0;h<r.length;h++)g=t.g=r[h],d=uf(g,c,!1,t)&&d}un.prototype.N=function(){if(un.$.N.call(this),this.i){var n=this.i,t;for(t in n.g){for(var r=n.g[t],c=0;c<r.length;c++)lk(r[c]);delete n.g[t],n.h--}}this.J=null};un.prototype.O=function(n,t,r,c){return this.i.add(String(n),t,!1,r,c)};un.prototype.P=function(n,t,r,c){return this.i.add(String(n),t,!0,r,c)};function uf(n,t,r,c){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var d=!0,h=0;h<t.length;++h){var g=t[h];if(g&&!g.fa&&g.capture==r){var w=g.listener,m=g.la||g.src;g.ia&&bA(n.i,g),d=w.call(m,c)!==!1&&d}}return d&&!c.defaultPrevented}var Xv=De.JSON.stringify;class sQ{constructor(t,r){this.i=t,this.j=r,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function aQ(){var n=eC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class cQ{constructor(){this.h=this.g=null}add(t,r){const c=fR.get();c.set(t,r),this.h?this.h.next=c:this.g=c,this.h=c}}var fR=new sQ(()=>new lQ,n=>n.reset());class lQ{constructor(){this.next=this.g=this.h=null}set(t,r){this.h=t,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function dQ(n){var t=1;n=n.split(":");const r=[];for(;0<t&&n.length;)r.push(n.shift()),t--;return n.length&&r.push(n.join(":")),r}function uQ(n){De.setTimeout(()=>{throw n},0)}let lh,dh=!1,eC=new cQ,mR=()=>{const n=De.Promise.resolve(void 0);lh=()=>{n.then(hQ)}};var hQ=()=>{for(var n;n=aQ();){try{n.h.call(n.g)}catch(r){uQ(r)}var t=fR;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}dh=!1};function uk(n,t){un.call(this),this.h=n||1,this.g=t||De,this.j=Bn(this.qb,this),this.l=Date.now()}hn(uk,un);he=uk.prototype;he.ga=!1;he.T=null;he.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(tC(this),this.start()))}};he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}he.N=function(){uk.$.N.call(this),tC(this),delete this.g};function nC(n,t,r){if(typeof n=="function")r&&(n=Bn(n,r));else if(n&&typeof n.handleEvent=="function")n=Bn(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:De.setTimeout(n,t||0)}function kR(n){n.g=nC(()=>{n.g=null,n.i&&(n.i=!1,kR(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class pQ extends Ls{constructor(t,r){super(),this.m=t,this.j=r,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:kR(this)}N(){super.N(),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uh(n){Ls.call(this),this.h=n,this.g={}}hn(uh,Ls);var oM=[];function bR(n,t,r,c){Array.isArray(r)||(r&&(oM[0]=r.toString()),r=oM);for(var d=0;d<r.length;d++){var h=dR(t,r[d],c||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function wR(n){Kv(n.g,function(t,r){this.g.hasOwnProperty(r)&&Yv(t)},n),n.g={}}uh.prototype.N=function(){uh.$.N.call(this),wR(this)};uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hk(){this.g=!0}hk.prototype.Ea=function(){this.g=!1};function gQ(n,t,r,c,d,h){n.info(function(){if(n.g)if(h)for(var g="",w=h.split("&"),m=0;m<w.length;m++){var A=w[m].split("=");if(1<A.length){var y=A[0];A=A[1];var E=y.split("_");g=2<=E.length&&E[1]=="type"?g+(y+"="+A+"&"):g+(y+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+c+") [attempt "+d+"]: "+t+`
`+r+`
`+g})}function fQ(n,t,r,c,d,h,g){n.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+d+"]: "+t+`
`+r+`
`+h+" "+g})}function Qc(n,t,r,c){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+kQ(n,r)+(c?" "+c:"")})}function mQ(n,t){n.info(function(){return"TIMEOUT: "+t})}hk.prototype.info=function(){};function kQ(n,t){if(!n.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(n=0;n<r.length;n++)if(Array.isArray(r[n])){var c=r[n];if(!(2>c.length)){var d=c[1];if(Array.isArray(d)&&!(1>d.length)){var h=d[0];if(h!="noop"&&h!="stop"&&h!="close")for(var g=1;g<d.length;g++)d[g]=""}}}}return Xv(r)}catch{return t}}var Ga={},sM=null;function pk(){return sM=sM||new un}Ga.Ta="serverreachability";function _R(n){On.call(this,Ga.Ta,n)}hn(_R,On);function hh(n){const t=pk();En(t,new _R(t))}Ga.STAT_EVENT="statevent";function AR(n,t){On.call(this,Ga.STAT_EVENT,n),this.stat=t}hn(AR,On);function Hn(n){const t=pk();En(t,new AR(t,n))}Ga.Ua="timingevent";function vR(n,t){On.call(this,Ga.Ua,n),this.size=t}hn(vR,On);function Nh(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){n()},t)}var gk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iC(){}iC.prototype.h=null;function aM(n){return n.h||(n.h=n.i())}function yR(){}var Rh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rC(){On.call(this,"d")}hn(rC,On);function oC(){On.call(this,"c")}hn(oC,On);var _A;function fk(){}hn(fk,iC);fk.prototype.g=function(){return new XMLHttpRequest};fk.prototype.i=function(){return{}};_A=new fk;function Bh(n,t,r,c){this.l=n,this.j=t,this.m=r,this.W=c||1,this.U=new uh(this),this.P=bQ,n=fA?125:void 0,this.V=new uk(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ER}function ER(){this.i=null,this.g="",this.h=!1}var bQ=45e3,xR={},AA={};he=Bh.prototype;he.setTimeout=function(n){this.P=n};function vA(n,t,r){n.L=1,n.A=kk(To(t)),n.u=r,n.S=!0,IR(n,null)}function IR(n,t){n.G=Date.now(),Oh(n),n.B=To(n.A);var r=n.B,c=n.W;Array.isArray(c)||(c=[String(c)]),BR(r.i,"t",c),n.o=0,r=n.l.J,n.h=new ER,n.g=nB(n.l,r?t:null,!n.u),0<n.O&&(n.M=new pQ(Bn(n.Pa,n,n.g),n.O)),bR(n.U,n.g,"readystatechange",n.nb),t=n.I?cR(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),hh(),gQ(n.j,n.v,n.B,n.m,n.W,n.u)}he.nb=function(n){n=n.target;const t=this.M;t&&Nr(n)==3?t.l():this.Pa(n)};he.Pa=function(n){try{if(n==this.g)e:{const y=Nr(this.g);var t=this.g.Ia();const E=this.g.da();if(!(3>y)&&(y!=3||fA||this.g&&(this.h.h||this.g.ja()||uM(this.g)))){this.J||y!=4||t==7||(t==8||0>=E?hh(3):hh(2)),mk(this);var r=this.g.da();this.ca=r;t:if(TR(this)){var c=uM(this.g);n="";var d=c.length,h=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){va(this),Nu(this);var g="";break t}this.h.i=new De.TextDecoder}for(t=0;t<d;t++)this.h.h=!0,n+=this.h.i.decode(c[t],{stream:h&&t==d-1});c.length=0,this.h.g+=n,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=r==200,fQ(this.j,this.v,this.B,this.m,this.W,y,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,m=this.g;if((w=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ah(w)){var A=w;break t}}A=null}if(r=A)Qc(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,CA(this,r);else{this.i=!1,this.s=3,Hn(12),va(this),Nu(this);break e}}this.S?(DR(this,y,g),fA&&this.i&&y==3&&(bR(this.U,this.V,"tick",this.mb),this.V.start())):(Qc(this.j,this.m,g,null),CA(this,g)),y==4&&va(this),this.i&&!this.J&&(y==4?JR(this.l,this):(this.i=!1,Oh(this)))}else zQ(this.g),r==400&&0<g.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),va(this),Nu(this)}}}catch{}finally{}};function TR(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function DR(n,t,r){let c=!0,d;for(;!n.J&&n.o<r.length;)if(d=wQ(n,r),d==AA){t==4&&(n.s=4,Hn(14),c=!1),Qc(n.j,n.m,null,"[Incomplete Response]");break}else if(d==xR){n.s=4,Hn(15),Qc(n.j,n.m,r,"[Invalid Chunk]"),c=!1;break}else Qc(n.j,n.m,d,null),CA(n,d);TR(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),t!=4||r.length!=0||n.h.h||(n.s=1,Hn(16),c=!1),n.i=n.i&&c,c?0<r.length&&!n.ba&&(n.ba=!0,t=n.l,t.g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),uC(t),t.M=!0,Hn(11))):(Qc(n.j,n.m,r,"[Invalid Chunked Response]"),va(n),Nu(n))}he.mb=function(){if(this.g){var n=Nr(this.g),t=this.g.ja();this.o<t.length&&(mk(this),DR(this,n,t),this.i&&n!=4&&Oh(this))}};function wQ(n,t){var r=n.o,c=t.indexOf(`
`,r);return c==-1?AA:(r=Number(t.substring(r,c)),isNaN(r)?xR:(c+=1,c+r>t.length?AA:(t=t.slice(c,c+r),n.o=c+r,t)))}he.cancel=function(){this.J=!0,va(this)};function Oh(n){n.Y=Date.now()+n.P,SR(n,n.P)}function SR(n,t){if(n.C!=null)throw Error("WatchDog timer not null");n.C=Nh(Bn(n.lb,n),t)}function mk(n){n.C&&(De.clearTimeout(n.C),n.C=null)}he.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(mQ(this.j,this.B),this.L!=2&&(hh(),Hn(17)),va(this),this.s=2,Nu(this)):SR(this,this.Y-n)};function Nu(n){n.l.H==0||n.J||JR(n.l,n)}function va(n){mk(n);var t=n.M;t&&typeof t.sa=="function"&&t.sa(),n.M=null,tC(n.V),wR(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function CA(n,t){try{var r=n.l;if(r.H!=0&&(r.g==n||yA(r.i,n))){if(!n.K&&yA(r.i,n)&&r.H==3){try{var c=r.Ja.g.parse(t)}catch{c=null}if(Array.isArray(c)&&c.length==3){var d=c;if(d[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<n.G)_m(r),Ak(r);else break e;dC(r),Hn(18)}}else r.Fa=d[1],0<r.Fa-r.V&&37500>d[2]&&r.G&&r.A==0&&!r.v&&(r.v=Nh(Bn(r.ib,r),6e3));if(1>=jR(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Ca(r,11)}else if((n.K||r.g==n)&&_m(r),!ah(t))for(d=r.Ja.g.parse(t),t=0;t<d.length;t++){let A=d[t];if(r.V=A[0],A=A[1],r.H==2)if(A[0]=="c"){r.K=A[1],r.pa=A[2];const y=A[3];y!=null&&(r.ra=y,r.l.info("VER="+r.ra));const E=A[4];E!=null&&(r.Ga=E,r.l.info("SVER="+r.Ga));const v=A[5];v!=null&&typeof v=="number"&&0<v&&(c=1.5*v,r.L=c,r.l.info("backChannelRequestTimeoutMs_="+c)),c=r;const T=n.g;if(T){const P=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var h=c.i;h.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(h.j=h.l,h.g=new Set,h.h&&(sC(h,h.h),h.h=null))}if(c.F){const O=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(c.Da=O,wt(c.I,c.F,O))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-n.G,r.l.info("Handshake RTT: "+r.S+"ms")),c=r;var g=n;if(c.wa=tB(c,c.J?c.pa:null,c.Y),g.K){zR(c.i,g);var w=g,m=c.L;m&&w.setTimeout(m),w.C&&(mk(w),Oh(w)),c.g=g}else YR(c);0<r.j.length&&vk(r)}else A[0]!="stop"&&A[0]!="close"||Ca(r,7);else r.H==3&&(A[0]=="stop"||A[0]=="close"?A[0]=="stop"?Ca(r,7):lC(r):A[0]!="noop"&&r.h&&r.h.Aa(A),r.A=0)}}hh(4)}catch{}}function _Q(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(ak(n)){for(var t=[],r=n.length,c=0;c<r;c++)t.push(n[c]);return t}t=[],r=0;for(c in n)t[r++]=n[c];return t}function AQ(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ak(n)||typeof n=="string"){var t=[];n=n.length;for(var r=0;r<n;r++)t.push(r);return t}t=[],r=0;for(const c in n)t[r++]=c;return t}}}function MR(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(ak(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var r=AQ(n),c=_Q(n),d=c.length,h=0;h<d;h++)t.call(void 0,c[h],r&&r[h],n)}var PR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vQ(n,t){if(n){n=n.split("&");for(var r=0;r<n.length;r++){var c=n[r].indexOf("="),d=null;if(0<=c){var h=n[r].substring(0,c);d=n[r].substring(c+1)}else h=n[r];t(h,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function Ta(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ta){this.h=n.h,bm(this,n.j),this.s=n.s,this.g=n.g,wm(this,n.m),this.l=n.l;var t=n.i,r=new ph;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),cM(this,r),this.o=n.o}else n&&(t=String(n).match(PR))?(this.h=!1,bm(this,t[1]||"",!0),this.s=wu(t[2]||""),this.g=wu(t[3]||"",!0),wm(this,t[4]),this.l=wu(t[5]||"",!0),cM(this,t[6]||"",!0),this.o=wu(t[7]||"")):(this.h=!1,this.i=new ph(null,this.h))}Ta.prototype.toString=function(){var n=[],t=this.j;t&&n.push(_u(t,lM,!0),":");var r=this.g;return(r||t=="file")&&(n.push("//"),(t=this.s)&&n.push(_u(t,lM,!0),"@"),n.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&n.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&n.push("/"),n.push(_u(r,r.charAt(0)=="/"?EQ:yQ,!0))),(r=this.i.toString())&&n.push("?",r),(r=this.o)&&n.push("#",_u(r,IQ)),n.join("")};function To(n){return new Ta(n)}function bm(n,t,r){n.j=r?wu(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function wm(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function cM(n,t,r){t instanceof ph?(n.i=t,TQ(n.i,n.h)):(r||(t=_u(t,xQ)),n.i=new ph(t,n.h))}function wt(n,t,r){n.i.set(t,r)}function kk(n){return wt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wu(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _u(n,t,r){return typeof n=="string"?(n=encodeURI(n).replace(t,CQ),r&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CQ(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var lM=/[#\/\?@]/g,yQ=/[#\?:]/g,EQ=/[#\?]/g,xQ=/[#\?@]/g,IQ=/#/g;function ph(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function js(n){n.g||(n.g=new Map,n.h=0,n.i&&vQ(n.i,function(t,r){n.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}he=ph.prototype;he.add=function(n,t){js(this),this.i=null,n=Pl(this,n);var r=this.g.get(n);return r||this.g.set(n,r=[]),r.push(t),this.h+=1,this};function NR(n,t){js(n),t=Pl(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function RR(n,t){return js(n),t=Pl(n,t),n.g.has(t)}he.forEach=function(n,t){js(this),this.g.forEach(function(r,c){r.forEach(function(d){n.call(t,d,c,this)},this)},this)};he.ta=function(){js(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let c=0;c<t.length;c++){const d=n[c];for(let h=0;h<d.length;h++)r.push(t[c])}return r};he.Z=function(n){js(this);let t=[];if(typeof n=="string")RR(this,n)&&(t=t.concat(this.g.get(Pl(this,n))));else{n=Array.from(this.g.values());for(let r=0;r<n.length;r++)t=t.concat(n[r])}return t};he.set=function(n,t){return js(this),this.i=null,n=Pl(this,n),RR(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};he.get=function(n,t){return n?(n=this.Z(n),0<n.length?String(n[0]):t):t};function BR(n,t,r){NR(n,t),0<r.length&&(n.i=null,n.g.set(Pl(n,t),qv(r)),n.h+=r.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var c=t[r];const h=encodeURIComponent(String(c)),g=this.Z(c);for(c=0;c<g.length;c++){var d=h;g[c]!==""&&(d+="="+encodeURIComponent(String(g[c]))),n.push(d)}}return this.i=n.join("&")};function Pl(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function TQ(n,t){t&&!n.j&&(js(n),n.i=null,n.g.forEach(function(r,c){var d=c.toLowerCase();c!=d&&(NR(this,c),BR(this,d,r))},n)),n.j=t}var DQ=class{constructor(n,t){this.g=n,this.map=t}};function OR(n){this.l=n||SQ,De.PerformanceNavigationTiming?(n=De.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(De.g&&De.g.Ka&&De.g.Ka()&&De.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var SQ=10;function LR(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function jR(n){return n.h?1:n.g?n.g.size:0}function yA(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function sC(n,t){n.g?n.g.add(t):n.h=t}function zR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}OR.prototype.cancel=function(){if(this.i=VR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function VR(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const r of n.g.values())t=t.concat(r.F);return t}return qv(n.i)}var MQ=class{stringify(n){return De.JSON.stringify(n,void 0)}parse(n){return De.JSON.parse(n,void 0)}};function PQ(){this.g=new MQ}function NQ(n,t,r){const c=r||"";try{MR(n,function(d,h){let g=d;Mh(d)&&(g=Xv(d)),t.push(c+h+"="+encodeURIComponent(g))})}catch(d){throw t.push(c+"type="+encodeURIComponent("_badmap")),d}}function RQ(n,t){const r=new hk;if(De.Image){const c=new Image;c.onload=df(hf,r,c,"TestLoadImage: loaded",!0,t),c.onerror=df(hf,r,c,"TestLoadImage: error",!1,t),c.onabort=df(hf,r,c,"TestLoadImage: abort",!1,t),c.ontimeout=df(hf,r,c,"TestLoadImage: timeout",!1,t),De.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=n}else t(!1)}function hf(n,t,r,c,d){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,d(c)}catch{}}function bk(n){this.l=n.ec||null,this.j=n.ob||!1}hn(bk,iC);bk.prototype.g=function(){return new wk(this.l,this.j)};bk.prototype.i=function(n){return function(){return n}}({});function wk(n,t){un.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=aC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(wk,un);var aC=0;he=wk.prototype;he.open=function(n,t){if(this.readyState!=aC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,gh(this)};he.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||De).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lh(this)),this.readyState=aC};he.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FR(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function FR(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}he.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Lh(this):gh(this),this.readyState==3&&FR(this)}};he.Za=function(n){this.g&&(this.response=this.responseText=n,Lh(this))};he.Ya=function(n){this.g&&(this.response=n,Lh(this))};he.ka=function(){this.g&&Lh(this)};function Lh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gh(n)}he.setRequestHeader=function(n,t){this.v.append(n,t)};he.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,n.push(r[0]+": "+r[1]),r=t.next();return n.join(`\r
`)};function gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(wk.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var BQ=De.JSON.parse;function Nt(n){un.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UR,this.L=this.M=!1}hn(Nt,un);var UR="",OQ=/^https?$/i,LQ=["POST","PUT"];he=Nt.prototype;he.Oa=function(n){this.M=n};he.ha=function(n,t,r,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_A.g(),this.C=this.u?aM(this.u):aM(_A),this.g.onreadystatechange=Bn(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(h){dM(this,h);return}if(n=r||"",r=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var d in c)r.set(d,c[d]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(const h of c.keys())r.set(h,c.get(h));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(r.keys()).find(h=>h.toLowerCase()=="content-type"),d=De.FormData&&n instanceof De.FormData,!(0<=rR(LQ,t))||c||d||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of r)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WR(this),0<this.B&&((this.L=jQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bn(this.ua,this)):this.A=nC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){dM(this,h)}};function jQ(n){return kl&&typeof n.timeout=="number"&&n.ontimeout!==void 0}he.ua=function(){typeof Wv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))};function dM(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,HR(n),_k(n)}function HR(n){n.F||(n.F=!0,En(n,"complete"),En(n,"error"))}he.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,En(this,"complete"),En(this,"abort"),_k(this))};he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_k(this,!0)),Nt.$.N.call(this)};he.La=function(){this.s||(this.G||this.v||this.l?$R(this):this.kb())};he.kb=function(){$R(this)};function $R(n){if(n.h&&typeof Wv<"u"&&(!n.C[1]||Nr(n)!=4||n.da()!=2)){if(n.v&&Nr(n)==4)nC(n.La,0,n);else if(En(n,"readystatechange"),Nr(n)==4){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var c;if(c=g===0){var d=String(n.I).match(PR)[1]||null;!d&&De.self&&De.self.location&&(d=De.self.location.protocol.slice(0,-1)),c=!OQ.test(d?d.toLowerCase():"")}r=c}if(r)En(n,"complete"),En(n,"success");else{n.m=6;try{var h=2<Nr(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",HR(n)}}finally{_k(n)}}}}function _k(n,t){if(n.g){WR(n);const r=n.g,c=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||En(n,"ready");try{r.onreadystatechange=c}catch{}}}function WR(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(De.clearTimeout(n.A),n.A=null)}he.isActive=function(){return!!this.g};function Nr(n){return n.g?n.g.readyState:0}he.da=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}};he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),BQ(t)}};function uM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zQ(n){const t={};n=(n.g&&2<=Nr(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<n.length;c++){if(ah(n[c]))continue;var r=dQ(n[c]);const d=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const h=t[d]||[];t[d]=h,h.push(r)}iQ(t,function(c){return c.join(", ")})}he.Ia=function(){return this.m};he.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qR(n){let t="";return Kv(n,function(r,c){t+=c,t+=":",t+=r,t+=`\r
`}),t}function cC(n,t,r){e:{for(c in r){var c=!1;break e}c=!0}c||(r=qR(r),typeof n=="string"?r!=null&&encodeURIComponent(String(r)):wt(n,t,r))}function lu(n,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[n]||t}function GR(n){this.Ga=0,this.j=[],this.l=new hk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lu("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lu("baseRetryDelayMs",5e3,n),this.hb=lu("retryDelaySeedMs",1e4,n),this.eb=lu("forwardChannelMaxRetries",2,n),this.xa=lu("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new OR(n&&n.concurrentRequestLimit),this.Ja=new PQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}he=GR.prototype;he.ra=8;he.H=1;function lC(n){if(KR(n),n.H==3){var t=n.W++,r=To(n.I);if(wt(r,"SID",n.K),wt(r,"RID",t),wt(r,"TYPE","terminate"),jh(n,r),t=new Bh(n,n.l,t),t.L=2,t.A=kk(To(r)),r=!1,De.navigator&&De.navigator.sendBeacon)try{r=De.navigator.sendBeacon(t.A.toString(),"")}catch{}!r&&De.Image&&(new Image().src=t.A,r=!0),r||(t.g=nB(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Oh(t)}eB(n)}function Ak(n){n.g&&(uC(n),n.g.cancel(),n.g=null)}function KR(n){Ak(n),n.u&&(De.clearTimeout(n.u),n.u=null),_m(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&De.clearTimeout(n.m),n.m=null)}function vk(n){if(!LR(n.i)&&!n.m){n.m=!0;var t=n.Na;lh||mR(),dh||(lh(),dh=!0),eC.add(t,n),n.C=0}}function VQ(n,t){return jR(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=t.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Nh(Bn(n.Na,n,t),XR(n,n.C)),n.C++,!0)}he.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const d=new Bh(this,this.l,n);let h=this.s;if(this.U&&(h?(h=cR(h),lR(h,this.U)):h=this.U),this.o!==null||this.O||(d.I=h,h=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var c=this.j[r];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break t}c=void 0}if(c===void 0)break;if(t+=c,4096<t){t=r;break e}if(t===4096||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=QR(this,d,t),r=To(this.I),wt(r,"RID",n),wt(r,"CVER",22),this.F&&wt(r,"X-HTTP-Session-Id",this.F),jh(this,r),h&&(this.O?t="headers="+encodeURIComponent(String(qR(h)))+"&"+t:this.o&&cC(r,this.o,h)),sC(this.i,d),this.bb&&wt(r,"TYPE","init"),this.P?(wt(r,"$req",t),wt(r,"SID","null"),d.aa=!0,vA(d,r,null)):vA(d,r,t),this.H=2}}else this.H==3&&(n?hM(this,n):this.j.length==0||LR(this.i)||hM(this))};function hM(n,t){var r;t?r=t.m:r=n.W++;const c=To(n.I);wt(c,"SID",n.K),wt(c,"RID",r),wt(c,"AID",n.V),jh(n,c),n.o&&n.s&&cC(c,n.o,n.s),r=new Bh(n,n.l,r,n.C+1),n.o===null&&(r.I=n.s),t&&(n.j=t.F.concat(n.j)),t=QR(n,r,1e3),r.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),sC(n.i,r),vA(r,c,t)}function jh(n,t){n.na&&Kv(n.na,function(r,c){wt(t,c,r)}),n.h&&MR({},function(r,c){wt(t,c,r)})}function QR(n,t,r){r=Math.min(n.j.length,r);var c=n.h?Bn(n.h.Va,n.h,n):null;e:{var d=n.j;let h=-1;for(;;){const g=["count="+r];h==-1?0<r?(h=d[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let w=!0;for(let m=0;m<r;m++){let A=d[m].g;const y=d[m].map;if(A-=h,0>A)h=Math.max(0,d[m].g-100),w=!1;else try{NQ(y,g,"req"+A+"_")}catch{c&&c(y)}}if(w){c=g.join("&");break e}}}return n=n.j.splice(0,r),t.F=n,c}function YR(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;lh||mR(),dh||(lh(),dh=!0),eC.add(t,n),n.A=0}}function dC(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Nh(Bn(n.Ma,n),XR(n,n.A)),n.A++,!0)}he.Ma=function(){if(this.u=null,ZR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Nh(Bn(this.jb,this),n)}};he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),Ak(this),ZR(this))};function uC(n){n.B!=null&&(De.clearTimeout(n.B),n.B=null)}function ZR(n){n.g=new Bh(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var t=To(n.wa);wt(t,"RID","rpc"),wt(t,"SID",n.K),wt(t,"AID",n.V),wt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&wt(t,"TO",n.qa),wt(t,"TYPE","xmlhttp"),jh(n,t),n.o&&n.s&&cC(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var r=n.g;n=n.pa,r.L=1,r.A=kk(To(t)),r.u=null,r.S=!0,IR(r,n)}he.ib=function(){this.v!=null&&(this.v=null,Ak(this),dC(this),Hn(19))};function _m(n){n.v!=null&&(De.clearTimeout(n.v),n.v=null)}function JR(n,t){var r=null;if(n.g==t){_m(n),uC(n),n.g=null;var c=2}else if(yA(n.i,t))r=t.F,zR(n.i,t),c=1;else return;if(n.H!=0){if(t.i)if(c==1){r=t.u?t.u.length:0,t=Date.now()-t.G;var d=n.C;c=pk(),En(c,new vR(c,r)),vk(n)}else YR(n);else if(d=t.s,d==3||d==0&&0<t.ca||!(c==1&&VQ(n,t)||c==2&&dC(n)))switch(r&&0<r.length&&(t=n.i,t.i=t.i.concat(r)),d){case 1:Ca(n,5);break;case 4:Ca(n,10);break;case 3:Ca(n,6);break;default:Ca(n,2)}}}function XR(n,t){let r=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(r*=2),r*t}function Ca(n,t){if(n.l.info("Error code "+t),t==2){var r=null;n.h&&(r=null);var c=Bn(n.pb,n);r||(r=new Ta("//www.google.com/images/cleardot.gif"),De.location&&De.location.protocol=="http"||bm(r,"https"),kk(r)),RQ(r.toString(),c)}else Hn(2);n.H=0,n.h&&n.h.za(t),eB(n),KR(n)}he.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))};function eB(n){if(n.H=0,n.ma=[],n.h){const t=VR(n.i);(t.length!=0||n.j.length!=0)&&(nM(n.ma,t),nM(n.ma,n.j),n.i.i.length=0,qv(n.j),n.j.length=0),n.h.ya()}}function tB(n,t,r){var c=r instanceof Ta?To(r):new Ta(r);if(c.g!="")t&&(c.g=t+"."+c.g),wm(c,c.m);else{var d=De.location;c=d.protocol,t=t?t+"."+d.hostname:d.hostname,d=+d.port;var h=new Ta(null);c&&bm(h,c),t&&(h.g=t),d&&wm(h,d),r&&(h.l=r),c=h}return r=n.F,t=n.Da,r&&t&&wt(c,r,t),wt(c,"VER",n.ra),jh(n,c),c}function nB(n,t,r){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n.Ha&&!n.va?new Nt(new bk({ob:r})):new Nt(n.va),t.Oa(n.J),t}he.isActive=function(){return!!this.h&&this.h.isActive(this)};function iB(){}he=iB.prototype;he.Ba=function(){};he.Aa=function(){};he.za=function(){};he.ya=function(){};he.isActive=function(){return!0};he.Va=function(){};function Am(){if(kl&&!(10<=Number(XK)))throw Error("Environmental error: no available transport.")}Am.prototype.g=function(n,t){return new Ti(n,t)};function Ti(n,t){un.call(this),this.g=new GR(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!ah(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ah(t)&&(this.g.F=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Nl(this)}hn(Ti,un);Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,r=this.h||void 0;Hn(0),n.Y=t,n.na=r||{},n.G=n.aa,n.I=tB(n,null,n.Y),vk(n)};Ti.prototype.close=function(){lC(this.g)};Ti.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var r={};r.__data__=n,n=r}else this.v&&(r={},r.__data__=Xv(n),n=r);t.j.push(new DQ(t.fb++,n)),t.H==3&&vk(t)};Ti.prototype.N=function(){this.g.h=null,delete this.j,lC(this.g),delete this.g,Ti.$.N.call(this)};function rB(n){rC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const r in t){n=r;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}hn(rB,rC);function oB(){oC.call(this),this.status=1}hn(oB,oC);function Nl(n){this.g=n}hn(Nl,iB);Nl.prototype.Ba=function(){En(this.g,"a")};Nl.prototype.Aa=function(n){En(this.g,new rB(n))};Nl.prototype.za=function(n){En(this.g,new oB)};Nl.prototype.ya=function(){En(this.g,"b")};function FQ(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(mr,FQ);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function i_(n,t,r){r||(r=0);var c=Array(16);if(typeof t=="string")for(var d=0;16>d;++d)c[d]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(d=0;16>d;++d)c[d]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=n.g[0],r=n.g[1],d=n.g[2];var h=n.g[3],g=t+(h^r&(d^h))+c[0]+3614090360&4294967295;t=r+(g<<7&4294967295|g>>>25),g=h+(d^t&(r^d))+c[1]+3905402710&4294967295,h=t+(g<<12&4294967295|g>>>20),g=d+(r^h&(t^r))+c[2]+606105819&4294967295,d=h+(g<<17&4294967295|g>>>15),g=r+(t^d&(h^t))+c[3]+3250441966&4294967295,r=d+(g<<22&4294967295|g>>>10),g=t+(h^r&(d^h))+c[4]+4118548399&4294967295,t=r+(g<<7&4294967295|g>>>25),g=h+(d^t&(r^d))+c[5]+1200080426&4294967295,h=t+(g<<12&4294967295|g>>>20),g=d+(r^h&(t^r))+c[6]+2821735955&4294967295,d=h+(g<<17&4294967295|g>>>15),g=r+(t^d&(h^t))+c[7]+4249261313&4294967295,r=d+(g<<22&4294967295|g>>>10),g=t+(h^r&(d^h))+c[8]+1770035416&4294967295,t=r+(g<<7&4294967295|g>>>25),g=h+(d^t&(r^d))+c[9]+2336552879&4294967295,h=t+(g<<12&4294967295|g>>>20),g=d+(r^h&(t^r))+c[10]+4294925233&4294967295,d=h+(g<<17&4294967295|g>>>15),g=r+(t^d&(h^t))+c[11]+2304563134&4294967295,r=d+(g<<22&4294967295|g>>>10),g=t+(h^r&(d^h))+c[12]+1804603682&4294967295,t=r+(g<<7&4294967295|g>>>25),g=h+(d^t&(r^d))+c[13]+4254626195&4294967295,h=t+(g<<12&4294967295|g>>>20),g=d+(r^h&(t^r))+c[14]+2792965006&4294967295,d=h+(g<<17&4294967295|g>>>15),g=r+(t^d&(h^t))+c[15]+1236535329&4294967295,r=d+(g<<22&4294967295|g>>>10),g=t+(d^h&(r^d))+c[1]+4129170786&4294967295,t=r+(g<<5&4294967295|g>>>27),g=h+(r^d&(t^r))+c[6]+3225465664&4294967295,h=t+(g<<9&4294967295|g>>>23),g=d+(t^r&(h^t))+c[11]+643717713&4294967295,d=h+(g<<14&4294967295|g>>>18),g=r+(h^t&(d^h))+c[0]+3921069994&4294967295,r=d+(g<<20&4294967295|g>>>12),g=t+(d^h&(r^d))+c[5]+3593408605&4294967295,t=r+(g<<5&4294967295|g>>>27),g=h+(r^d&(t^r))+c[10]+38016083&4294967295,h=t+(g<<9&4294967295|g>>>23),g=d+(t^r&(h^t))+c[15]+3634488961&4294967295,d=h+(g<<14&4294967295|g>>>18),g=r+(h^t&(d^h))+c[4]+3889429448&4294967295,r=d+(g<<20&4294967295|g>>>12),g=t+(d^h&(r^d))+c[9]+568446438&4294967295,t=r+(g<<5&4294967295|g>>>27),g=h+(r^d&(t^r))+c[14]+3275163606&4294967295,h=t+(g<<9&4294967295|g>>>23),g=d+(t^r&(h^t))+c[3]+4107603335&4294967295,d=h+(g<<14&4294967295|g>>>18),g=r+(h^t&(d^h))+c[8]+1163531501&4294967295,r=d+(g<<20&4294967295|g>>>12),g=t+(d^h&(r^d))+c[13]+2850285829&4294967295,t=r+(g<<5&4294967295|g>>>27),g=h+(r^d&(t^r))+c[2]+4243563512&4294967295,h=t+(g<<9&4294967295|g>>>23),g=d+(t^r&(h^t))+c[7]+1735328473&4294967295,d=h+(g<<14&4294967295|g>>>18),g=r+(h^t&(d^h))+c[12]+2368359562&4294967295,r=d+(g<<20&4294967295|g>>>12),g=t+(r^d^h)+c[5]+4294588738&4294967295,t=r+(g<<4&4294967295|g>>>28),g=h+(t^r^d)+c[8]+2272392833&4294967295,h=t+(g<<11&4294967295|g>>>21),g=d+(h^t^r)+c[11]+1839030562&4294967295,d=h+(g<<16&4294967295|g>>>16),g=r+(d^h^t)+c[14]+4259657740&4294967295,r=d+(g<<23&4294967295|g>>>9),g=t+(r^d^h)+c[1]+2763975236&4294967295,t=r+(g<<4&4294967295|g>>>28),g=h+(t^r^d)+c[4]+1272893353&4294967295,h=t+(g<<11&4294967295|g>>>21),g=d+(h^t^r)+c[7]+4139469664&4294967295,d=h+(g<<16&4294967295|g>>>16),g=r+(d^h^t)+c[10]+3200236656&4294967295,r=d+(g<<23&4294967295|g>>>9),g=t+(r^d^h)+c[13]+681279174&4294967295,t=r+(g<<4&4294967295|g>>>28),g=h+(t^r^d)+c[0]+3936430074&4294967295,h=t+(g<<11&4294967295|g>>>21),g=d+(h^t^r)+c[3]+3572445317&4294967295,d=h+(g<<16&4294967295|g>>>16),g=r+(d^h^t)+c[6]+76029189&4294967295,r=d+(g<<23&4294967295|g>>>9),g=t+(r^d^h)+c[9]+3654602809&4294967295,t=r+(g<<4&4294967295|g>>>28),g=h+(t^r^d)+c[12]+3873151461&4294967295,h=t+(g<<11&4294967295|g>>>21),g=d+(h^t^r)+c[15]+530742520&4294967295,d=h+(g<<16&4294967295|g>>>16),g=r+(d^h^t)+c[2]+3299628645&4294967295,r=d+(g<<23&4294967295|g>>>9),g=t+(d^(r|~h))+c[0]+4096336452&4294967295,t=r+(g<<6&4294967295|g>>>26),g=h+(r^(t|~d))+c[7]+1126891415&4294967295,h=t+(g<<10&4294967295|g>>>22),g=d+(t^(h|~r))+c[14]+2878612391&4294967295,d=h+(g<<15&4294967295|g>>>17),g=r+(h^(d|~t))+c[5]+4237533241&4294967295,r=d+(g<<21&4294967295|g>>>11),g=t+(d^(r|~h))+c[12]+1700485571&4294967295,t=r+(g<<6&4294967295|g>>>26),g=h+(r^(t|~d))+c[3]+2399980690&4294967295,h=t+(g<<10&4294967295|g>>>22),g=d+(t^(h|~r))+c[10]+4293915773&4294967295,d=h+(g<<15&4294967295|g>>>17),g=r+(h^(d|~t))+c[1]+2240044497&4294967295,r=d+(g<<21&4294967295|g>>>11),g=t+(d^(r|~h))+c[8]+1873313359&4294967295,t=r+(g<<6&4294967295|g>>>26),g=h+(r^(t|~d))+c[15]+4264355552&4294967295,h=t+(g<<10&4294967295|g>>>22),g=d+(t^(h|~r))+c[6]+2734768916&4294967295,d=h+(g<<15&4294967295|g>>>17),g=r+(h^(d|~t))+c[13]+1309151649&4294967295,r=d+(g<<21&4294967295|g>>>11),g=t+(d^(r|~h))+c[4]+4149444226&4294967295,t=r+(g<<6&4294967295|g>>>26),g=h+(r^(t|~d))+c[11]+3174756917&4294967295,h=t+(g<<10&4294967295|g>>>22),g=d+(t^(h|~r))+c[2]+718787259&4294967295,d=h+(g<<15&4294967295|g>>>17),g=r+(h^(d|~t))+c[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(d+(g<<21&4294967295|g>>>11))&4294967295,n.g[2]=n.g[2]+d&4294967295,n.g[3]=n.g[3]+h&4294967295}mr.prototype.j=function(n,t){t===void 0&&(t=n.length);for(var r=t-this.blockSize,c=this.m,d=this.h,h=0;h<t;){if(d==0)for(;h<=r;)i_(this,n,h),h+=this.blockSize;if(typeof n=="string"){for(;h<t;)if(c[d++]=n.charCodeAt(h++),d==this.blockSize){i_(this,c),d=0;break}}else for(;h<t;)if(c[d++]=n[h++],d==this.blockSize){i_(this,c),d=0;break}}this.h=d,this.i+=t};mr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var r=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=r&255,r/=256;for(this.j(n),n=Array(16),t=r=0;4>t;++t)for(var c=0;32>c;c+=8)n[r++]=this.g[t]>>>c&255;return n};function st(n,t){this.h=t;for(var r=[],c=!0,d=n.length-1;0<=d;d--){var h=n[d]|0;c&&h==t||(r[d]=h,c=!1)}this.g=r}var UQ={};function hC(n){return-128<=n&&128>n?YK(n,function(t){return new st([t|0],0>t?-1:0)}):new st([n|0],0>n?-1:0)}function Rr(n){if(isNaN(n)||!isFinite(n))return rl;if(0>n)return vn(Rr(-n));for(var t=[],r=1,c=0;n>=r;c++)t[c]=n/r|0,r*=EA;return new st(t,0)}function sB(n,t){if(n.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(n.charAt(0)=="-")return vn(sB(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rr(Math.pow(t,8)),c=rl,d=0;d<n.length;d+=8){var h=Math.min(8,n.length-d),g=parseInt(n.substring(d,d+h),t);8>h?(h=Rr(Math.pow(t,h)),c=c.R(h).add(Rr(g))):(c=c.R(r),c=c.add(Rr(g)))}return c}var EA=4294967296,rl=hC(0),xA=hC(1),pM=hC(16777216);he=st.prototype;he.ea=function(){if(Hi(this))return-vn(this).ea();for(var n=0,t=1,r=0;r<this.g.length;r++){var c=this.D(r);n+=(0<=c?c:EA+c)*t,t*=EA}return n};he.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(wo(this))return"0";if(Hi(this))return"-"+vn(this).toString(n);for(var t=Rr(Math.pow(n,6)),r=this,c="";;){var d=Cm(r,t).g;r=vm(r,d.R(t));var h=((0<r.g.length?r.g[0]:r.h)>>>0).toString(n);if(r=d,wo(r))return h+c;for(;6>h.length;)h="0"+h;c=h+c}};he.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function wo(n){if(n.h!=0)return!1;for(var t=0;t<n.g.length;t++)if(n.g[t]!=0)return!1;return!0}function Hi(n){return n.h==-1}he.X=function(n){return n=vm(this,n),Hi(n)?-1:wo(n)?0:1};function vn(n){for(var t=n.g.length,r=[],c=0;c<t;c++)r[c]=~n.g[c];return new st(r,~n.h).add(xA)}he.abs=function(){return Hi(this)?vn(this):this};he.add=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],c=0,d=0;d<=t;d++){var h=c+(this.D(d)&65535)+(n.D(d)&65535),g=(h>>>16)+(this.D(d)>>>16)+(n.D(d)>>>16);c=g>>>16,h&=65535,g&=65535,r[d]=g<<16|h}return new st(r,r[r.length-1]&-2147483648?-1:0)};function vm(n,t){return n.add(vn(t))}he.R=function(n){if(wo(this)||wo(n))return rl;if(Hi(this))return Hi(n)?vn(this).R(vn(n)):vn(vn(this).R(n));if(Hi(n))return vn(this.R(vn(n)));if(0>this.X(pM)&&0>n.X(pM))return Rr(this.ea()*n.ea());for(var t=this.g.length+n.g.length,r=[],c=0;c<2*t;c++)r[c]=0;for(c=0;c<this.g.length;c++)for(var d=0;d<n.g.length;d++){var h=this.D(c)>>>16,g=this.D(c)&65535,w=n.D(d)>>>16,m=n.D(d)&65535;r[2*c+2*d]+=g*m,pf(r,2*c+2*d),r[2*c+2*d+1]+=h*m,pf(r,2*c+2*d+1),r[2*c+2*d+1]+=g*w,pf(r,2*c+2*d+1),r[2*c+2*d+2]+=h*w,pf(r,2*c+2*d+2)}for(c=0;c<t;c++)r[c]=r[2*c+1]<<16|r[2*c];for(c=t;c<2*t;c++)r[c]=0;return new st(r,0)};function pf(n,t){for(;(n[t]&65535)!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function du(n,t){this.g=n,this.h=t}function Cm(n,t){if(wo(t))throw Error("division by zero");if(wo(n))return new du(rl,rl);if(Hi(n))return t=Cm(vn(n),t),new du(vn(t.g),vn(t.h));if(Hi(t))return t=Cm(n,vn(t)),new du(vn(t.g),t.h);if(30<n.g.length){if(Hi(n)||Hi(t))throw Error("slowDivide_ only works with positive integers.");for(var r=xA,c=t;0>=c.X(n);)r=gM(r),c=gM(c);var d=Nc(r,1),h=Nc(c,1);for(c=Nc(c,2),r=Nc(r,2);!wo(c);){var g=h.add(c);0>=g.X(n)&&(d=d.add(r),h=g),c=Nc(c,1),r=Nc(r,1)}return t=vm(n,d.R(t)),new du(d,t)}for(d=rl;0<=n.X(t);){for(r=Math.max(1,Math.floor(n.ea()/t.ea())),c=Math.ceil(Math.log(r)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),h=Rr(r),g=h.R(t);Hi(g)||0<g.X(n);)r-=c,h=Rr(r),g=h.R(t);wo(h)&&(h=xA),d=d.add(h),n=vm(n,g)}return new du(d,n)}he.gb=function(n){return Cm(this,n).h};he.and=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],c=0;c<t;c++)r[c]=this.D(c)&n.D(c);return new st(r,this.h&n.h)};he.or=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],c=0;c<t;c++)r[c]=this.D(c)|n.D(c);return new st(r,this.h|n.h)};he.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],c=0;c<t;c++)r[c]=this.D(c)^n.D(c);return new st(r,this.h^n.h)};function gM(n){for(var t=n.g.length+1,r=[],c=0;c<t;c++)r[c]=n.D(c)<<1|n.D(c-1)>>>31;return new st(r,n.h)}function Nc(n,t){var r=t>>5;t%=32;for(var c=n.g.length-r,d=[],h=0;h<c;h++)d[h]=0<t?n.D(h+r)>>>t|n.D(h+r+1)<<32-t:n.D(h+r);return new st(d,n.h)}Am.prototype.createWebChannel=Am.prototype.g;Ti.prototype.send=Ti.prototype.u;Ti.prototype.open=Ti.prototype.m;Ti.prototype.close=Ti.prototype.close;gk.NO_ERROR=0;gk.TIMEOUT=8;gk.HTTP_ERROR=6;CR.COMPLETE="complete";yR.EventType=Rh;Rh.OPEN="a";Rh.CLOSE="b";Rh.ERROR="c";Rh.MESSAGE="d";un.prototype.listen=un.prototype.O;Nt.prototype.listenOnce=Nt.prototype.P;Nt.prototype.getLastError=Nt.prototype.Sa;Nt.prototype.getLastErrorCode=Nt.prototype.Ia;Nt.prototype.getStatus=Nt.prototype.da;Nt.prototype.getResponseJson=Nt.prototype.Wa;Nt.prototype.getResponseText=Nt.prototype.ja;Nt.prototype.send=Nt.prototype.ha;Nt.prototype.setWithCredentials=Nt.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;st.prototype.add=st.prototype.add;st.prototype.multiply=st.prototype.R;st.prototype.modulo=st.prototype.gb;st.prototype.compare=st.prototype.X;st.prototype.toNumber=st.prototype.ea;st.prototype.toString=st.prototype.toString;st.prototype.getBits=st.prototype.D;st.fromNumber=Rr;st.fromString=sB;var HQ=function(){return new Am},$Q=function(){return pk()},r_=gk,WQ=CR,qQ=Ga,fM={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gf=yR,GQ=Nt,KQ=mr,ol=st;const mM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Uv("@firebase/firestore");function uu(){return ja.logLevel}function ue(n,...t){if(ja.logLevel<=He.DEBUG){const r=t.map(pC);ja.debug(`Firestore (${Rl}): ${n}`,...r)}}function $r(n,...t){if(ja.logLevel<=He.ERROR){const r=t.map(pC);ja.error(`Firestore (${Rl}): ${n}`,...r)}}function bl(n,...t){if(ja.logLevel<=He.WARN){const r=t.map(pC);ja.warn(`Firestore (${Rl}): ${n}`,...r)}}function pC(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const t=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+n;throw $r(t),new Error(t)}function kt(n,t){n||Ie()}function Pe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Kr{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Pn.UNAUTHENTICATED))}shutdown(){}}class YQ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ZQ{constructor(t){this.t=t,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){let c=this.i;const d=m=>this.i!==c?(c=this.i,r(m)):Promise.resolve();let h=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new zr,t.enqueueRetryable(()=>d(this.currentUser))};const g=()=>{const m=h;t.enqueueRetryable(async()=>{await m.promise,await d(this.currentUser)})},w=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(m=>w(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?w(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new zr)}},0),g()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(c=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(kt(typeof c.accessToken=="string"),new aB(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kt(t===null||typeof t=="string"),new Pn(t)}}class JQ{constructor(t,r,c){this.l=t,this.h=r,this.P=c,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XQ{constructor(t,r,c){this.l=t,this.h=r,this.P=c}getToken(){return Promise.resolve(new JQ(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eY{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tY{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){const c=h=>{h.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,ue("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>c(h))};const d=h=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>d(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?d(h):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(kt(typeof r.token=="string"),this.R=r.token,new eY(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let c=0;c<n;c++)r[c]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let c="";for(;c.length<20;){const d=nY(40);for(let h=0;h<d.length;++h)c.length<20&&d[h]<r&&(c+=t.charAt(d[h]%t.length))}return c}}function Xe(n,t){return n<t?-1:n>t?1:0}function wl(n,t,r){return n.length===t.length&&n.every((c,d)=>r(c,t[d]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*r));return new Xt(r,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Me(t)}static min(){return new Me(new Xt(0,0))}static max(){return new Me(new Xt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r,c){r===void 0?r=0:r>t.length&&Ie(),c===void 0?c=t.length-r:c>t.length-r&&Ie(),this.segments=t,this.offset=r,this.len=c}get length(){return this.len}isEqual(t){return fh.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof fh?t.forEach(c=>{r.push(c)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,c=this.limit();r<c;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const c=Math.min(t.length,r.length);for(let d=0;d<c;d++){const h=t.get(d),g=r.get(d);if(h<g)return-1;if(h>g)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class yt extends fh{construct(t,r,c){return new yt(t,r,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const c of t){if(c.indexOf("//")>=0)throw new we(oe.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);r.push(...c.split("/").filter(d=>d.length>0))}return new yt(r)}static emptyPath(){return new yt([])}}const iY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends fh{construct(t,r,c){return new Cn(t,r,c)}static isValidIdentifier(t){return iY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cn(["__name__"])}static fromServerFormat(t){const r=[];let c="",d=0;const h=()=>{if(c.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(c),c=""};let g=!1;for(;d<t.length;){const w=t[d];if(w==="\\"){if(d+1===t.length)throw new we(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[d+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=m,d+=2}else w==="`"?(g=!g,d++):w!=="."||g?(c+=w,d++):(h(),d++)}if(h(),g)throw new we(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(r)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.path=t}static fromPath(t){return new Ce(yt.fromString(t))}static fromName(t){return new Ce(yt.fromString(t).popFirst(5))}static empty(){return new Ce(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return yt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ce(new yt(t.slice()))}}function rY(n,t){const r=n.toTimestamp().seconds,c=n.toTimestamp().nanoseconds+1,d=Me.fromTimestamp(c===1e9?new Xt(r+1,0):new Xt(r,c));return new Ms(d,Ce.empty(),t)}function oY(n){return new Ms(n.readTime,n.key,-1)}class Ms{constructor(t,r,c){this.readTime=t,this.documentKey=r,this.largestBatchId=c}static min(){return new Ms(Me.min(),Ce.empty(),-1)}static max(){return new Ms(Me.max(),Ce.empty(),-1)}}function sY(n,t){let r=n.readTime.compareTo(t.readTime);return r!==0?r:(r=Ce.comparator(n.documentKey,t.documentKey),r!==0?r:Xe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==aY)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ee((c,d)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(c,d)},this.catchCallback=h=>{this.wrapFailure(r,h).next(c,d)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ee?r:ee.resolve(r)}catch(r){return ee.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ee.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ee.reject(r)}static resolve(t){return new ee((r,c)=>{r(t)})}static reject(t){return new ee((r,c)=>{c(t)})}static waitFor(t){return new ee((r,c)=>{let d=0,h=0,g=!1;t.forEach(w=>{++d,w.next(()=>{++h,g&&h===d&&r()},m=>c(m))}),g=!0,h===d&&r()})}static or(t){let r=ee.resolve(!1);for(const c of t)r=r.next(d=>d?ee.resolve(d):c());return r}static forEach(t,r){const c=[];return t.forEach((d,h)=>{c.push(r.call(this,d,h))}),this.waitFor(c)}static mapArray(t,r){return new ee((c,d)=>{const h=t.length,g=new Array(h);let w=0;for(let m=0;m<h;m++){const A=m;r(t[A]).next(y=>{g[A]=y,++w,w===h&&c(g)},y=>d(y))}})}static doWhile(t,r){return new ee((c,d)=>{const h=()=>{t()===!0?r().next(()=>{h()},d):c()};h()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new zr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ru(t,r.error)):this.V.resolve()},this.transaction.onerror=c=>{const d=fC(c.target.error);this.V.reject(new Ru(t,d))}}static open(t,r,c,d){try{return new gC(r,t.transaction(d,c))}catch(h){throw new Ru(r,h)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const r=this.transaction.objectStore(t);return new dY(r)}}class ya{constructor(t,r,c){this.name=t,this.version=r,this.p=c,ya.S(qt())===12.2&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ue("SimpleDb","Removing database:",t),ba(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!JN())return!1;if(ya.C())return!0;const t=qt(),r=ya.S(t),c=0<r&&r<10,d=ya.v(t),h=0<d&&d<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||h)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static v(t){const r=t.match(/Android ([\d.]+)/i),c=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(c)}async O(t){return this.db||(ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,c)=>{const d=indexedDB.open(this.name,this.version);d.onsuccess=h=>{const g=h.target.result;r(g)},d.onblocked=()=>{c(new Ru(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=h=>{const g=h.target.error;g.name==="VersionError"?c(new we(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):g.name==="InvalidStateError"?c(new we(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g)):c(new Ru(t,g))},d.onupgradeneeded=h=>{ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',h.oldVersion);const g=h.target.result;this.p.N(g,d.transaction,h.oldVersion,this.version).next(()=>{ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=r=>this.B(r)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=r=>t(r))}async runTransaction(t,r,c,d){const h=r==="readonly";let g=0;for(;;){++g;try{this.db=await this.O(t);const w=gC.open(this.db,t,h?"readonly":"readwrite",c),m=d(w).next(A=>(w.g(),A)).catch(A=>(w.abort(A),ee.reject(A))).toPromise();return m.catch(()=>{}),await w.m,m}catch(w){const m=w,A=m.name!=="FirebaseError"&&g<3;if(ue("SimpleDb","Transaction failed with error:",m.message,"Retrying:",A),this.close(),!A)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}class lY{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return ba(this.k.delete())}}class Ru extends we{constructor(t,r){super(oe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Vh(n){return n.name==="IndexedDbTransactionError"}class dY{constructor(t){this.store=t}put(t,r){let c;return r!==void 0?(ue("SimpleDb","PUT",this.store.name,t,r),c=this.store.put(r,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),ba(c)}add(t){return ue("SimpleDb","ADD",this.store.name,t,t),ba(this.store.add(t))}get(t){return ba(this.store.get(t)).next(r=>(r===void 0&&(r=null),ue("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return ue("SimpleDb","DELETE",this.store.name,t),ba(this.store.delete(t))}count(){return ue("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(t,r){const c=this.options(t,r),d=c.index?this.store.index(c.index):this.store;if(typeof d.getAll=="function"){const h=d.getAll(c.range);return new ee((g,w)=>{h.onerror=m=>{w(m.target.error)},h.onsuccess=m=>{g(m.target.result)}})}{const h=this.cursor(c),g=[];return this.G(h,(w,m)=>{g.push(m)}).next(()=>g)}}j(t,r){const c=this.store.getAll(t,r===null?void 0:r);return new ee((d,h)=>{c.onerror=g=>{h(g.target.error)},c.onsuccess=g=>{d(g.target.result)}})}H(t,r){ue("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,r);c.J=!1;const d=this.cursor(c);return this.G(d,(h,g,w)=>w.delete())}Y(t,r){let c;r?c=t:(c={},r=t);const d=this.cursor(c);return this.G(d,r)}Z(t){const r=this.cursor({});return new ee((c,d)=>{r.onerror=h=>{const g=fC(h.target.error);d(g)},r.onsuccess=h=>{const g=h.target.result;g?t(g.primaryKey,g.value).next(w=>{w?g.continue():c()}):c()}})}G(t,r){const c=[];return new ee((d,h)=>{t.onerror=g=>{h(g.target.error)},t.onsuccess=g=>{const w=g.target.result;if(!w)return void d();const m=new lY(w),A=r(w.primaryKey,w.value,m);if(A instanceof ee){const y=A.catch(E=>(m.done(),ee.reject(E)));c.push(y)}m.isDone?d():m.$===null?w.continue():w.continue(m.$)}}).next(()=>ee.waitFor(c))}options(t,r){let c;return t!==void 0&&(typeof t=="string"?c=t:r=t),{index:c,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const c=this.store.index(t.index);return t.J?c.openKeyCursor(t.range,r):c.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function ba(n){return new ee((t,r)=>{n.onsuccess=c=>{const d=c.target.result;t(d)},n.onerror=c=>{const d=fC(c.target.error);r(d)}})}let kM=!1;function fC(n){const t=ya.S(qt());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(r)>=0){const c=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kM||(kM=!0,setTimeout(()=>{throw c},0)),c}}return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=c=>this.se(c),this.oe=c=>r.writeSequenceNumber(c))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}mC._e=-1;function Ck(n){return n==null}function ym(n){return n===0&&1/n==-1/0}function uY(n){return typeof n=="number"&&Number.isInteger(n)&&!ym(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){let t=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t++;return t}function Bl(n,t){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t(r,n[r])}function lB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,r){this.comparator=t,this.root=r||An.EMPTY}insert(t,r){return new Dt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,An.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,An.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const c=this.comparator(t,r.key);if(c===0)return r.value;c<0?r=r.left:c>0&&(r=r.right)}return null}indexOf(t){let r=0,c=this.root;for(;!c.isEmpty();){const d=this.comparator(t,c.key);if(d===0)return r+c.left.size;d<0?c=c.left:(r+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,c)=>(t(r,c),!1))}toString(){const t=[];return this.inorderTraversal((r,c)=>(t.push(`${r}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ff(this.root,t,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ff(this.root,t,this.comparator,!0)}}class ff{constructor(t,r,c,d){this.isReverse=d,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?c(t.key,r):1,r&&d&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class An{constructor(t,r,c,d,h){this.key=t,this.value=r,this.color=c??An.RED,this.left=d??An.EMPTY,this.right=h??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,c,d,h){return new An(t??this.key,r??this.value,c??this.color,d??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,c){let d=this;const h=c(t,d.key);return d=h<0?d.copy(null,null,null,d.left.insert(t,r,c),null):h===0?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(t,r,c)),d.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let c,d=this;if(r(t,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(t,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),r(t,d.key)===0){if(d.right.isEmpty())return An.EMPTY;c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(t,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const t=this.left.check();if(t!==this.right.check())throw Ie();return t+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(t,r,c,d,h){return this}insert(t,r,c){return new An(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,c)=>(t(r),!1))}forEachInRange(t,r){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const d=c.getNext();if(this.comparator(d.key,t[1])>=0)return;r(d.key)}}forEachWhile(t,r){let c;for(c=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new wM(this.data.getIterator())}getIteratorFrom(t){return new wM(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(c=>{r=r.add(c)}),r}isEqual(t){if(!(t instanceof xn)||this.size!==t.size)return!1;const r=this.data.getIterator(),c=t.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,h=c.getNext().key;if(this.comparator(d,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new xn(this.comparator);return r.data=t,r}}class wM{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new hr([])}unionWith(t){let r=new xn(Cn.comparator);for(const c of this.fields)r=r.add(c);for(const c of t)r=r.add(c);return new hr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return wl(this.fields,t.fields,(r,c)=>r.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(d){try{return atob(d)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new dB("Invalid base64 string: "+h):h}}(t);return new jn(r)}static fromUint8Array(t){const r=function(d){let h="";for(let g=0;g<d.length;++g)h+=String.fromCharCode(d[g]);return h}(t);return new jn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const c=new Uint8Array(r.length);for(let d=0;d<r.length;d++)c[d]=r.charCodeAt(d);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const hY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(kt(!!n),typeof n=="string"){let t=0;const r=hY.exec(n);if(kt(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),t=Number(d)}const c=new Date(n);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:$t(n.seconds),nanos:$t(n.nanos)}}function $t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function za(n){return typeof n=="string"?jn.fromBase64String(n):jn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function bC(n){const t=n.mapValue.fields.__previous_value__;return kC(t)?bC(t):t}function mh(n){const t=Ps(n.mapValue.fields.__local_write_time__.timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(t,r,c,d,h,g,w,m,A){this.databaseId=t,this.appId=r,this.persistenceKey=c,this.host=d,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.longPollingOptions=m,this.useFetchStreams=A}}class kh{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new kh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof kh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kC(n)?4:gY(n)?9007199254740991:10:Ie()}function Wr(n,t){if(n===t)return!0;const r=Va(n);if(r!==Va(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mh(n).isEqual(mh(t));case 3:return function(d,h){if(typeof d.timestampValue=="string"&&typeof h.timestampValue=="string"&&d.timestampValue.length===h.timestampValue.length)return d.timestampValue===h.timestampValue;const g=Ps(d.timestampValue),w=Ps(h.timestampValue);return g.seconds===w.seconds&&g.nanos===w.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(d,h){return za(d.bytesValue).isEqual(za(h.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(d,h){return $t(d.geoPointValue.latitude)===$t(h.geoPointValue.latitude)&&$t(d.geoPointValue.longitude)===$t(h.geoPointValue.longitude)}(n,t);case 2:return function(d,h){if("integerValue"in d&&"integerValue"in h)return $t(d.integerValue)===$t(h.integerValue);if("doubleValue"in d&&"doubleValue"in h){const g=$t(d.doubleValue),w=$t(h.doubleValue);return g===w?ym(g)===ym(w):isNaN(g)&&isNaN(w)}return!1}(n,t);case 9:return wl(n.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:return function(d,h){const g=d.mapValue.fields||{},w=h.mapValue.fields||{};if(bM(g)!==bM(w))return!1;for(const m in g)if(g.hasOwnProperty(m)&&(w[m]===void 0||!Wr(g[m],w[m])))return!1;return!0}(n,t);default:return Ie()}}function bh(n,t){return(n.values||[]).find(r=>Wr(r,t))!==void 0}function _l(n,t){if(n===t)return 0;const r=Va(n),c=Va(t);if(r!==c)return Xe(r,c);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,t.booleanValue);case 2:return function(h,g){const w=$t(h.integerValue||h.doubleValue),m=$t(g.integerValue||g.doubleValue);return w<m?-1:w>m?1:w===m?0:isNaN(w)?isNaN(m)?0:-1:1}(n,t);case 3:return _M(n.timestampValue,t.timestampValue);case 4:return _M(mh(n),mh(t));case 5:return Xe(n.stringValue,t.stringValue);case 6:return function(h,g){const w=za(h),m=za(g);return w.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(h,g){const w=h.split("/"),m=g.split("/");for(let A=0;A<w.length&&A<m.length;A++){const y=Xe(w[A],m[A]);if(y!==0)return y}return Xe(w.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(h,g){const w=Xe($t(h.latitude),$t(g.latitude));return w!==0?w:Xe($t(h.longitude),$t(g.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(h,g){const w=h.values||[],m=g.values||[];for(let A=0;A<w.length&&A<m.length;++A){const y=_l(w[A],m[A]);if(y)return y}return Xe(w.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(h,g){if(h===mf.mapValue&&g===mf.mapValue)return 0;if(h===mf.mapValue)return 1;if(g===mf.mapValue)return-1;const w=h.fields||{},m=Object.keys(w),A=g.fields||{},y=Object.keys(A);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const v=Xe(m[E],y[E]);if(v!==0)return v;const T=_l(w[m[E]],A[y[E]]);if(T!==0)return T}return Xe(m.length,y.length)}(n.mapValue,t.mapValue);default:throw Ie()}}function _M(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Xe(n,t);const r=Ps(n),c=Ps(t),d=Xe(r.seconds,c.seconds);return d!==0?d:Xe(r.nanos,c.nanos)}function Al(n){return IA(n)}function IA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const c=Ps(r);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(r){return za(r).toBase64()}(n.bytesValue):"referenceValue"in n?function(r){return Ce.fromName(r).toString()}(n.referenceValue):"geoPointValue"in n?function(r){return`geo(${r.latitude},${r.longitude})`}(n.geoPointValue):"arrayValue"in n?function(r){let c="[",d=!0;for(const h of r.values||[])d?d=!1:c+=",",c+=IA(h);return c+"]"}(n.arrayValue):"mapValue"in n?function(r){const c=Object.keys(r.fields||{}).sort();let d="{",h=!0;for(const g of c)h?h=!1:d+=",",d+=`${g}:${IA(r.fields[g])}`;return d+"}"}(n.mapValue):Ie()}function TA(n){return!!n&&"integerValue"in n}function wC(n){return!!n&&"arrayValue"in n}function AM(n){return!!n&&"nullValue"in n}function vM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rf(n){return!!n&&"mapValue"in n}function Bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Bl(n.mapValue.fields,(r,c)=>t.mapValue.fields[r]=Bu(c)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Bu(n.arrayValue.values[r]);return t}return Object.assign({},n)}function gY(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let c=0;c<t.length-1;++c)if(r=(r.mapValue.fields||{})[t.get(c)],!Rf(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bu(r)}setAll(t){let r=Cn.emptyPath(),c={},d=[];t.forEach((g,w)=>{if(!r.isImmediateParentOf(w)){const m=this.getFieldsMap(r);this.applyChanges(m,c,d),c={},d=[],r=w.popLast()}g?c[w.lastSegment()]=Bu(g):d.push(w.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,c,d)}delete(t){const r=this.field(t.popLast());Rf(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let c=0;c<t.length;++c){let d=r.mapValue.fields[t.get(c)];Rf(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[t.get(c)]=d),r=d}return r.mapValue.fields}applyChanges(t,r,c){Bl(r,(d,h)=>t[d]=h);for(const d of c)delete t[d]}clone(){return new $i(Bu(this.value))}}function uB(n){const t=[];return Bl(n.fields,(r,c)=>{const d=new Cn([r]);if(Rf(c)){const h=uB(c.mapValue).fields;if(h.length===0)t.push(d);else for(const g of h)t.push(d.child(g))}else t.push(d)}),new hr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,r,c,d,h,g,w){this.key=t,this.documentType=r,this.version=c,this.readTime=d,this.createTime=h,this.data=g,this.documentState=w}static newInvalidDocument(t){return new Rn(t,0,Me.min(),Me.min(),Me.min(),$i.empty(),0)}static newFoundDocument(t,r,c,d){return new Rn(t,1,r,Me.min(),c,d,0)}static newNoDocument(t,r){return new Rn(t,2,r,Me.min(),Me.min(),$i.empty(),0)}static newUnknownDocument(t,r){return new Rn(t,3,r,Me.min(),Me.min(),$i.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,r){this.position=t,this.inclusive=r}}function CM(n,t,r){let c=0;for(let d=0;d<n.position.length;d++){const h=t[d],g=n.position[d];if(h.field.isKeyField()?c=Ce.comparator(Ce.fromName(g.referenceValue),r.key):c=_l(g,r.data.field(h.field)),h.dir==="desc"&&(c*=-1),c!==0)break}return c}function yM(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!Wr(n.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,r="asc"){this.field=t,this.dir=r}}function fY(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{}class Zt extends hB{constructor(t,r,c){super(),this.field=t,this.op=r,this.value=c}static create(t,r,c){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,c):new kY(t,r,c):r==="array-contains"?new _Y(t,c):r==="in"?new AY(t,c):r==="not-in"?new vY(t,c):r==="array-contains-any"?new CY(t,c):new Zt(t,r,c)}static createKeyFieldInFilter(t,r,c){return r==="in"?new bY(t,c):new wY(t,c)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(_l(r,this.value)):r!==null&&Va(this.value)===Va(r)&&this.matchesComparison(_l(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends hB{constructor(t,r){super(),this.filters=t,this.op=r,this.ue=null}static create(t,r){return new qr(t,r)}matches(t){return pB(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pB(n){return n.op==="and"}function gB(n){return mY(n)&&pB(n)}function mY(n){for(const t of n.filters)if(t instanceof qr)return!1;return!0}function DA(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Al(n.value);if(gB(n))return n.filters.map(t=>DA(t)).join(",");{const t=n.filters.map(r=>DA(r)).join(",");return`${n.op}(${t})`}}function fB(n,t){return n instanceof Zt?function(c,d){return d instanceof Zt&&c.op===d.op&&c.field.isEqual(d.field)&&Wr(c.value,d.value)}(n,t):n instanceof qr?function(c,d){return d instanceof qr&&c.op===d.op&&c.filters.length===d.filters.length?c.filters.reduce((h,g,w)=>h&&fB(g,d.filters[w]),!0):!1}(n,t):void Ie()}function mB(n){return n instanceof Zt?function(r){return`${r.field.canonicalString()} ${r.op} ${Al(r.value)}`}(n):n instanceof qr?function(r){return r.op.toString()+" {"+r.getFilters().map(mB).join(" ,")+"}"}(n):"Filter"}class kY extends Zt{constructor(t,r,c){super(t,r,c),this.key=Ce.fromName(c.referenceValue)}matches(t){const r=Ce.comparator(t.key,this.key);return this.matchesComparison(r)}}class bY extends Zt{constructor(t,r){super(t,"in",r),this.keys=kB("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class wY extends Zt{constructor(t,r){super(t,"not-in",r),this.keys=kB("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function kB(n,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(c=>Ce.fromName(c.referenceValue))}class _Y extends Zt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return wC(r)&&bh(r.arrayValue,this.value)}}class AY extends Zt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&bh(this.value.arrayValue,r)}}class vY extends Zt{constructor(t,r){super(t,"not-in",r)}matches(t){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!bh(this.value.arrayValue,r)}}class CY extends Zt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!wC(r)||!r.arrayValue.values)&&r.arrayValue.values.some(c=>bh(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(t,r=null,c=[],d=[],h=null,g=null,w=null){this.path=t,this.collectionGroup=r,this.orderBy=c,this.filters=d,this.limit=h,this.startAt=g,this.endAt=w,this.ce=null}}function EM(n,t=null,r=[],c=[],d=null,h=null,g=null){return new yY(n,t,r,c,d,h,g)}function _C(n){const t=Pe(n);if(t.ce===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(c=>DA(c)).join(","),r+="|ob:",r+=t.orderBy.map(c=>function(h){return h.field.canonicalString()+h.dir}(c)).join(","),Ck(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(c=>Al(c)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(c=>Al(c)).join(",")),t.ce=r}return t.ce}function AC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!fY(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!fB(n.filters[r],t.filters[r]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!yM(n.startAt,t.startAt)&&yM(n.endAt,t.endAt)}function SA(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t,r=null,c=[],d=[],h=null,g="F",w=null,m=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=c,this.filters=d,this.limit=h,this.limitType=g,this.startAt=w,this.endAt=m,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function EY(n,t,r,c,d,h,g,w){return new yk(n,t,r,c,d,h,g,w)}function vC(n){return new yk(n)}function xM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xY(n){return n.collectionGroup!==null}function Ou(n){const t=Pe(n);if(t.le===null){t.le=[];const r=new Set;for(const h of t.explicitOrderBy)t.le.push(h),r.add(h.field.canonicalString());const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(g){let w=new xn(Cn.comparator);return g.filters.forEach(m=>{m.getFlattenedFilters().forEach(A=>{A.isInequality()&&(w=w.add(A.field))})}),w})(t).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||t.le.push(new xm(h,c))}),r.has(Cn.keyField().canonicalString())||t.le.push(new xm(Cn.keyField(),c))}return t.le}function Vr(n){const t=Pe(n);return t.he||(t.he=IY(t,Ou(n))),t.he}function IY(n,t){if(n.limitType==="F")return EM(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(d=>{const h=d.dir==="desc"?"asc":"desc";return new xm(d.field,h)});const r=n.endAt?new Em(n.endAt.position,n.endAt.inclusive):null,c=n.startAt?new Em(n.startAt.position,n.startAt.inclusive):null;return EM(n.path,n.collectionGroup,t,n.filters,n.limit,r,c)}}function MA(n,t,r){return new yk(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,r,n.startAt,n.endAt)}function Ek(n,t){return AC(Vr(n),Vr(t))&&n.limitType===t.limitType}function bB(n){return`${_C(Vr(n))}|lt:${n.limitType}`}function Rc(n){return`Query(target=${function(r){let c=r.path.canonicalString();return r.collectionGroup!==null&&(c+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(c+=`, filters: [${r.filters.map(d=>mB(d)).join(", ")}]`),Ck(r.limit)||(c+=", limit: "+r.limit),r.orderBy.length>0&&(c+=`, orderBy: [${r.orderBy.map(d=>function(g){return`${g.field.canonicalString()} (${g.dir})`}(d)).join(", ")}]`),r.startAt&&(c+=", startAt: ",c+=r.startAt.inclusive?"b:":"a:",c+=r.startAt.position.map(d=>Al(d)).join(",")),r.endAt&&(c+=", endAt: ",c+=r.endAt.inclusive?"a:":"b:",c+=r.endAt.position.map(d=>Al(d)).join(",")),`Target(${c})`}(Vr(n))}; limitType=${n.limitType})`}function xk(n,t){return t.isFoundDocument()&&function(c,d){const h=d.key.path;return c.collectionGroup!==null?d.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(h):Ce.isDocumentKey(c.path)?c.path.isEqual(h):c.path.isImmediateParentOf(h)}(n,t)&&function(c,d){for(const h of Ou(c))if(!h.field.isKeyField()&&d.data.field(h.field)===null)return!1;return!0}(n,t)&&function(c,d){for(const h of c.filters)if(!h.matches(d))return!1;return!0}(n,t)&&function(c,d){return!(c.startAt&&!function(g,w,m){const A=CM(g,w,m);return g.inclusive?A<=0:A<0}(c.startAt,Ou(c),d)||c.endAt&&!function(g,w,m){const A=CM(g,w,m);return g.inclusive?A>=0:A>0}(c.endAt,Ou(c),d))}(n,t)}function TY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wB(n){return(t,r)=>{let c=!1;for(const d of Ou(n)){const h=DY(d,t,r);if(h!==0)return h;c=c||d.field.isKeyField()}return 0}}function DY(n,t,r){const c=n.field.isKeyField()?Ce.comparator(t.key,r.key):function(h,g,w){const m=g.data.field(h),A=w.data.field(h);return m!==null&&A!==null?_l(m,A):Ie()}(n.field,t,r);switch(n.dir){case"asc":return c;case"desc":return-1*c;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),c=this.inner[r];if(c!==void 0){for(const[d,h]of c)if(this.equalsFn(d,t))return h}}has(t){return this.get(t)!==void 0}set(t,r){const c=this.mapKeyFn(t),d=this.inner[c];if(d===void 0)return this.inner[c]=[[t,r]],void this.innerSize++;for(let h=0;h<d.length;h++)if(this.equalsFn(d[h][0],t))return void(d[h]=[t,r]);d.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),c=this.inner[r];if(c===void 0)return!1;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],t))return c.length===1?delete this.inner[r]:c.splice(d,1),this.innerSize--,!0;return!1}forEach(t){Bl(this.inner,(r,c)=>{for(const[d,h]of c)t(d,h)})}isEmpty(){return lB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=new Dt(Ce.comparator);function Do(){return SY}const _B=new Dt(Ce.comparator);function Au(...n){let t=_B;for(const r of n)t=t.insert(r.key,r);return t}function AB(n){let t=_B;return n.forEach((r,c)=>t=t.insert(r,c.overlayedDocument)),t}function Ea(){return Lu()}function vB(){return Lu()}function Lu(){return new Ol(n=>n.toString(),(n,t)=>n.isEqual(t))}const MY=new Dt(Ce.comparator),PY=new xn(Ce.comparator);function ze(...n){let t=PY;for(const r of n)t=t.add(r);return t}const NY=new xn(Xe);function RY(){return NY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ym(t)?"-0":t}}function yB(n){return{integerValue:""+n}}function BY(n,t){return uY(t)?yB(t):CB(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this._=void 0}}function OY(n,t,r){return n instanceof Im?function(d,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return h&&kC(h)&&(h=bC(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,t):n instanceof wh?xB(n,t):n instanceof _h?IB(n,t):function(d,h){const g=EB(d,h),w=IM(g)+IM(d.Ie);return TA(g)&&TA(d.Ie)?yB(w):CB(d.serializer,w)}(n,t)}function LY(n,t,r){return n instanceof wh?xB(n,t):n instanceof _h?IB(n,t):r}function EB(n,t){return n instanceof Tm?function(c){return TA(c)||function(h){return!!h&&"doubleValue"in h}(c)}(t)?t:{integerValue:0}:null}class Im extends Ik{}class wh extends Ik{constructor(t){super(),this.elements=t}}function xB(n,t){const r=TB(t);for(const c of n.elements)r.some(d=>Wr(d,c))||r.push(c);return{arrayValue:{values:r}}}class _h extends Ik{constructor(t){super(),this.elements=t}}function IB(n,t){let r=TB(t);for(const c of n.elements)r=r.filter(d=>!Wr(d,c));return{arrayValue:{values:r}}}class Tm extends Ik{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function IM(n){return $t(n.integerValue||n.doubleValue)}function TB(n){return wC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function jY(n,t){return n.field.isEqual(t.field)&&function(c,d){return c instanceof wh&&d instanceof wh||c instanceof _h&&d instanceof _h?wl(c.elements,d.elements,Wr):c instanceof Tm&&d instanceof Tm?Wr(c.Ie,d.Ie):c instanceof Im&&d instanceof Im}(n.transform,t.transform)}class zY{constructor(t,r){this.version=t,this.transformResults=r}}class Co{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Co}static exists(t){return new Co(void 0,t)}static updateTime(t){return new Co(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tk{}function DB(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new MB(n.key,Co.none()):new Fh(n.key,n.data,Co.none());{const r=n.data,c=$i.empty();let d=new xn(Cn.comparator);for(let h of t.fields)if(!d.has(h)){let g=r.field(h);g===null&&h.length>1&&(h=h.popLast(),g=r.field(h)),g===null?c.delete(h):c.set(h,g),d=d.add(h)}return new Ka(n.key,c,new hr(d.toArray()),Co.none())}}function VY(n,t,r){n instanceof Fh?function(d,h,g){const w=d.value.clone(),m=DM(d.fieldTransforms,h,g.transformResults);w.setAll(m),h.convertToFoundDocument(g.version,w).setHasCommittedMutations()}(n,t,r):n instanceof Ka?function(d,h,g){if(!Bf(d.precondition,h))return void h.convertToUnknownDocument(g.version);const w=DM(d.fieldTransforms,h,g.transformResults),m=h.data;m.setAll(SB(d)),m.setAll(w),h.convertToFoundDocument(g.version,m).setHasCommittedMutations()}(n,t,r):function(d,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()}(0,t,r)}function ju(n,t,r,c){return n instanceof Fh?function(h,g,w,m){if(!Bf(h.precondition,g))return w;const A=h.value.clone(),y=SM(h.fieldTransforms,m,g);return A.setAll(y),g.convertToFoundDocument(g.version,A).setHasLocalMutations(),null}(n,t,r,c):n instanceof Ka?function(h,g,w,m){if(!Bf(h.precondition,g))return w;const A=SM(h.fieldTransforms,m,g),y=g.data;return y.setAll(SB(h)),y.setAll(A),g.convertToFoundDocument(g.version,y).setHasLocalMutations(),w===null?null:w.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(E=>E.field))}(n,t,r,c):function(h,g,w){return Bf(h.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):w}(n,t,r)}function FY(n,t){let r=null;for(const c of n.fieldTransforms){const d=t.data.field(c.field),h=EB(c.transform,d||null);h!=null&&(r===null&&(r=$i.empty()),r.set(c.field,h))}return r||null}function TM(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(c,d){return c===void 0&&d===void 0||!(!c||!d)&&wl(c,d,(h,g)=>jY(h,g))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Fh extends Tk{constructor(t,r,c,d=[]){super(),this.key=t,this.value=r,this.precondition=c,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Ka extends Tk{constructor(t,r,c,d,h=[]){super(),this.key=t,this.data=r,this.fieldMask=c,this.precondition=d,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function SB(n){const t=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const c=n.data.field(r);t.set(r,c)}}),t}function DM(n,t,r){const c=new Map;kt(n.length===r.length);for(let d=0;d<r.length;d++){const h=n[d],g=h.transform,w=t.data.field(h.field);c.set(h.field,LY(g,w,r[d]))}return c}function SM(n,t,r){const c=new Map;for(const d of n){const h=d.transform,g=r.data.field(d.field);c.set(d.field,OY(h,g,t))}return c}class MB extends Tk{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UY extends Tk{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(t,r,c,d){this.batchId=t,this.localWriteTime=r,this.baseMutations=c,this.mutations=d}applyToRemoteDocument(t,r){const c=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const h=this.mutations[d];h.key.isEqual(t.key)&&VY(h,t,c[d])}}applyToLocalView(t,r){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(r=ju(c,t,r,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(r=ju(c,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const c=vB();return this.mutations.forEach(d=>{const h=t.get(d.key),g=h.overlayedDocument;let w=this.applyToLocalView(g,h.mutatedFields);w=r.has(d.key)?null:w;const m=DB(g,w);m!==null&&c.set(d.key,m),g.isValidDocument()||g.convertToNoDocument(Me.min())}),c}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),ze())}isEqual(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,(r,c)=>TM(r,c))&&wl(this.baseMutations,t.baseMutations,(r,c)=>TM(r,c))}}class CC{constructor(t,r,c,d){this.batch=t,this.commitVersion=r,this.mutationResults=c,this.docVersions=d}static from(t,r,c){kt(t.mutations.length===c.length);let d=function(){return MY}();const h=t.mutations;for(let g=0;g<h.length;g++)d=d.insert(h[g].key,c[g].version);return new CC(t,r,c,d)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Ge;function qY(n){switch(n){default:return Ie();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function PB(n){if(n===void 0)return $r("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Ht.OK:return oe.OK;case Ht.CANCELLED:return oe.CANCELLED;case Ht.UNKNOWN:return oe.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return oe.INTERNAL;case Ht.UNAVAILABLE:return oe.UNAVAILABLE;case Ht.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ht.NOT_FOUND:return oe.NOT_FOUND;case Ht.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ht.ABORTED:return oe.ABORTED;case Ht.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ht.DATA_LOSS:return oe.DATA_LOSS;default:return Ie()}}(Ge=Ht||(Ht={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=new ol([4294967295,4294967295],0);function MM(n){const t=GY().encode(n),r=new KQ;return r.update(t),new Uint8Array(r.digest())}function PM(n){const t=new DataView(n.buffer),r=t.getUint32(0,!0),c=t.getUint32(4,!0),d=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ol([r,c],0),new ol([d,h],0)]}class yC{constructor(t,r,c){if(this.bitmap=t,this.padding=r,this.hashCount=c,r<0||r>=8)throw new vu(`Invalid padding: ${r}`);if(c<0)throw new vu(`Invalid hash count: ${c}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${c}`);if(t.length===0&&r!==0)throw new vu(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ee=ol.fromNumber(this.Te)}de(t,r,c){let d=t.add(r.multiply(ol.fromNumber(c)));return d.compare(KY)===1&&(d=new ol([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=MM(t),[c,d]=PM(r);for(let h=0;h<this.hashCount;h++){const g=this.de(c,d,h);if(!this.Ae(g))return!1}return!0}static create(t,r,c){const d=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),g=new yC(h,d,r);return c.forEach(w=>g.insert(w)),g}insert(t){if(this.Te===0)return;const r=MM(t),[c,d]=PM(r);for(let h=0;h<this.hashCount;h++){const g=this.de(c,d,h);this.Re(g)}}Re(t){const r=Math.floor(t/8),c=t%8;this.bitmap[r]|=1<<c}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,r,c,d,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,c){const d=new Map;return d.set(t,Uh.createSynthesizedTargetChangeForCurrentChange(t,r,c)),new Dk(Me.min(),d,new Dt(Xe),Do(),ze())}}class Uh{constructor(t,r,c,d,h){this.resumeToken=t,this.current=r,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,c){return new Uh(c,r,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,r,c,d){this.Ve=t,this.removedTargetIds=r,this.key=c,this.me=d}}class NB{constructor(t,r){this.targetId=t,this.fe=r}}class RB{constructor(t,r,c=jn.EMPTY_BYTE_STRING,d=null){this.state=t,this.targetIds=r,this.resumeToken=c,this.cause=d}}class NM{constructor(){this.ge=0,this.pe=BM(),this.ye=jn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ze(),r=ze(),c=ze();return this.pe.forEach((d,h)=>{switch(h){case 0:t=t.add(d);break;case 2:r=r.add(d);break;case 1:c=c.add(d);break;default:Ie()}}),new Uh(this.ye,this.we,t,r,c)}Fe(){this.Se=!1,this.pe=BM()}Me(t,r){this.Se=!0,this.pe=this.pe.insert(t,r)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,kt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class QY{constructor(t){this.Le=t,this.ke=new Map,this.qe=Do(),this.Qe=RM(),this.Ke=new Dt(Xe)}$e(t){for(const r of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(r,t.me):this.We(r,t.key,t.me);for(const r of t.removedTargetIds)this.We(r,t.key,t.me)}Ge(t){this.forEachTarget(t,r=>{const c=this.ze(r);switch(t.state){case 0:this.je(r)&&c.Ce(t.resumeToken);break;case 1:c.Ne(),c.be||c.Fe(),c.Ce(t.resumeToken);break;case 2:c.Ne(),c.be||this.removeTarget(r);break;case 3:this.je(r)&&(c.Be(),c.Ce(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),c.Ce(t.resumeToken));break;default:Ie()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ke.forEach((c,d)=>{this.je(d)&&r(d)})}Je(t){const r=t.targetId,c=t.fe.count,d=this.Ye(r);if(d){const h=d.target;if(SA(h))if(c===0){const g=new Ce(h.path);this.We(r,g,Rn.newNoDocument(g,Me.min()))}else kt(c===1);else{const g=this.Ze(r);if(g!==c){const w=this.Xe(t),m=w?this.et(w,t,g):1;if(m!==0){this.He(r);const A=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,A)}}}}}Xe(t){const r=t.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:c="",padding:d=0},hashCount:h=0}=r;let g,w;try{g=za(c).toUint8Array()}catch(m){if(m instanceof dB)return bl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{w=new yC(g,d,h)}catch(m){return bl(m instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return w.Te===0?null:w}et(t,r,c){return r.fe.count===c-this.rt(t,r.targetId)?0:2}rt(t,r){const c=this.Le.getRemoteKeysForTarget(r);let d=0;return c.forEach(h=>{const g=this.Le.nt(),w=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;t.mightContain(w)||(this.We(r,h,null),d++)}),d}it(t){const r=new Map;this.ke.forEach((h,g)=>{const w=this.Ye(g);if(w){if(h.current&&SA(w.target)){const m=new Ce(w.target.path);this.qe.get(m)!==null||this.st(g,m)||this.We(g,m,Rn.newNoDocument(m,t))}h.De&&(r.set(g,h.ve()),h.Fe())}});let c=ze();this.Qe.forEach((h,g)=>{let w=!0;g.forEachWhile(m=>{const A=this.Ye(m);return!A||A.purpose==="TargetPurposeLimboResolution"||(w=!1,!1)}),w&&(c=c.add(h))}),this.qe.forEach((h,g)=>g.setReadTime(t));const d=new Dk(t,r,this.Ke,this.qe,c);return this.qe=Do(),this.Qe=RM(),this.Ke=new Dt(Xe),d}Ue(t,r){if(!this.je(t))return;const c=this.st(t,r.key)?2:0;this.ze(t).Me(r.key,c),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(t))}We(t,r,c){if(!this.je(t))return;const d=this.ze(t);this.st(t,r)?d.Me(r,1):d.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(t)),c&&(this.qe=this.qe.insert(r,c))}removeTarget(t){this.ke.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let r=this.ke.get(t);return r||(r=new NM,this.ke.set(t,r)),r}ot(t){let r=this.Qe.get(t);return r||(r=new xn(Xe),this.Qe=this.Qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||ue("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.ke.get(t);return r&&r.be?null:this.Le._t(t)}He(t){this.ke.set(t,new NM),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}st(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function RM(){return new Dt(Ce.comparator)}function BM(){return new Dt(Ce.comparator)}const YY={asc:"ASCENDING",desc:"DESCENDING"},ZY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JY={and:"AND",or:"OR"};class XY{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function PA(n,t){return n.useProto3Json||Ck(t)?t:{value:t}}function Dm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BB(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function eZ(n,t){return Dm(n,t.toTimestamp())}function Fr(n){return kt(!!n),Me.fromTimestamp(function(r){const c=Ps(r);return new Xt(c.seconds,c.nanos)}(n))}function EC(n,t){return NA(n,t).canonicalString()}function NA(n,t){const r=function(d){return new yt(["projects",d.projectId,"databases",d.database])}(n).child("documents");return t===void 0?r:r.child(t)}function OB(n){const t=yt.fromString(n);return kt(FB(t)),t}function RA(n,t){return EC(n.databaseId,t.path)}function o_(n,t){const r=OB(t);if(r.get(1)!==n.databaseId.projectId)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Ce(jB(r))}function LB(n,t){return EC(n.databaseId,t)}function tZ(n){const t=OB(n);return t.length===4?yt.emptyPath():jB(t)}function BA(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jB(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OM(n,t,r){return{name:RA(n,t),fields:r.value.mapValue.fields}}function nZ(n,t){let r;if("targetChange"in t){t.targetChange;const c=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Ie()}(t.targetChange.targetChangeType||"NO_CHANGE"),d=t.targetChange.targetIds||[],h=function(A,y){return A.useProto3Json?(kt(y===void 0||typeof y=="string"),jn.fromBase64String(y||"")):(kt(y===void 0||y instanceof Uint8Array),jn.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),g=t.targetChange.cause,w=g&&function(A){const y=A.code===void 0?oe.UNKNOWN:PB(A.code);return new we(y,A.message||"")}(g);r=new RB(c,d,h,w||null)}else if("documentChange"in t){t.documentChange;const c=t.documentChange;c.document,c.document.name,c.document.updateTime;const d=o_(n,c.document.name),h=Fr(c.document.updateTime),g=c.document.createTime?Fr(c.document.createTime):Me.min(),w=new $i({mapValue:{fields:c.document.fields}}),m=Rn.newFoundDocument(d,h,g,w),A=c.targetIds||[],y=c.removedTargetIds||[];r=new Of(A,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const c=t.documentDelete;c.document;const d=o_(n,c.document),h=c.readTime?Fr(c.readTime):Me.min(),g=Rn.newNoDocument(d,h),w=c.removedTargetIds||[];r=new Of([],w,g.key,g)}else if("documentRemove"in t){t.documentRemove;const c=t.documentRemove;c.document;const d=o_(n,c.document),h=c.removedTargetIds||[];r=new Of([],h,d,null)}else{if(!("filter"in t))return Ie();{t.filter;const c=t.filter;c.targetId;const{count:d=0,unchangedNames:h}=c,g=new WY(d,h),w=c.targetId;r=new NB(w,g)}}return r}function iZ(n,t){let r;if(t instanceof Fh)r={update:OM(n,t.key,t.value)};else if(t instanceof MB)r={delete:RA(n,t.key)};else if(t instanceof Ka)r={update:OM(n,t.key,t.data),updateMask:hZ(t.fieldMask)};else{if(!(t instanceof UY))return Ie();r={verify:RA(n,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(c=>function(h,g){const w=g.transform;if(w instanceof Im)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof wh)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof _h)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Tm)return{fieldPath:g.field.canonicalString(),increment:w.Ie};throw Ie()}(0,c))),t.precondition.isNone||(r.currentDocument=function(d,h){return h.updateTime!==void 0?{updateTime:eZ(d,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ie()}(n,t.precondition)),r}function rZ(n,t){return n&&n.length>0?(kt(t!==void 0),n.map(r=>function(d,h){let g=d.updateTime?Fr(d.updateTime):Fr(h);return g.isEqual(Me.min())&&(g=Fr(h)),new zY(g,d.transformResults||[])}(r,t))):[]}function oZ(n,t){return{documents:[LB(n,t.path)]}}function sZ(n,t){const r={structuredQuery:{}},c=t.path;let d;t.collectionGroup!==null?(d=c,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(d=c.popLast(),r.structuredQuery.from=[{collectionId:c.lastSegment()}]),r.parent=LB(n,d);const h=function(A){if(A.length!==0)return VB(qr.create(A,"and"))}(t.filters);h&&(r.structuredQuery.where=h);const g=function(A){if(A.length!==0)return A.map(y=>function(v){return{field:Bc(v.field),direction:lZ(v.dir)}}(y))}(t.orderBy);g&&(r.structuredQuery.orderBy=g);const w=PA(n,t.limit);return w!==null&&(r.structuredQuery.limit=w),t.startAt&&(r.structuredQuery.startAt=function(A){return{before:A.inclusive,values:A.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(t.endAt)),{ut:r,parent:d}}function aZ(n){let t=tZ(n.parent);const r=n.structuredQuery,c=r.from?r.from.length:0;let d=null;if(c>0){kt(c===1);const y=r.from[0];y.allDescendants?d=y.collectionId:t=t.child(y.collectionId)}let h=[];r.where&&(h=function(E){const v=zB(E);return v instanceof qr&&gB(v)?v.getFilters():[v]}(r.where));let g=[];r.orderBy&&(g=function(E){return E.map(v=>function(P){return new xm(Oc(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(v))}(r.orderBy));let w=null;r.limit&&(w=function(E){let v;return v=typeof E=="object"?E.value:E,Ck(v)?null:v}(r.limit));let m=null;r.startAt&&(m=function(E){const v=!!E.before,T=E.values||[];return new Em(T,v)}(r.startAt));let A=null;return r.endAt&&(A=function(E){const v=!E.before,T=E.values||[];return new Em(T,v)}(r.endAt)),EY(t,d,g,h,w,"F",m,A)}function cZ(n,t){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function zB(n){return n.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const c=Oc(r.unaryFilter.field);return Zt.create(c,"==",{doubleValue:NaN});case"IS_NULL":const d=Oc(r.unaryFilter.field);return Zt.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Oc(r.unaryFilter.field);return Zt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Oc(r.unaryFilter.field);return Zt.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(r){return Zt.create(Oc(r.fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(r.fieldFilter.op),r.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(r){return qr.create(r.compositeFilter.filters.map(c=>zB(c)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return Ie()}}(r.compositeFilter.op))}(n):Ie()}function lZ(n){return YY[n]}function dZ(n){return ZY[n]}function uZ(n){return JY[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function Oc(n){return Cn.fromServerFormat(n.fieldPath)}function VB(n){return n instanceof Zt?function(r){if(r.op==="=="){if(vM(r.value))return{unaryFilter:{field:Bc(r.field),op:"IS_NAN"}};if(AM(r.value))return{unaryFilter:{field:Bc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(vM(r.value))return{unaryFilter:{field:Bc(r.field),op:"IS_NOT_NAN"}};if(AM(r.value))return{unaryFilter:{field:Bc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(r.field),op:dZ(r.op),value:r.value}}}(n):n instanceof qr?function(r){const c=r.getFilters().map(d=>VB(d));return c.length===1?c[0]:{compositeFilter:{op:uZ(r.op),filters:c}}}(n):Ie()}function hZ(n){const t=[];return n.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function FB(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,r,c,d,h=Me.min(),g=Me.min(),w=jn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=r,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w,this.expectedCount=m}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(t){this.ct=t}}function gZ(n){const t=aZ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?MA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this._n=new mZ}addToCollectionParentIndex(t,r){return this._n.add(r),ee.resolve()}getCollectionParents(t,r){return ee.resolve(this._n.getEntries(r))}addFieldIndex(t,r){return ee.resolve()}deleteFieldIndex(t,r){return ee.resolve()}deleteAllFieldIndexes(t){return ee.resolve()}createTargetIndexes(t,r){return ee.resolve()}getDocumentsMatchingTarget(t,r){return ee.resolve(null)}getIndexType(t,r){return ee.resolve(0)}getFieldIndexes(t,r){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,r){return ee.resolve(Ms.min())}getMinOffsetFromCollectionGroup(t,r){return ee.resolve(Ms.min())}updateCollectionGroup(t,r,c){return ee.resolve()}updateIndexEntries(t,r){return ee.resolve()}}class mZ{constructor(){this.index={}}add(t){const r=t.lastSegment(),c=t.popLast(),d=this.index[r]||new xn(yt.comparator),h=!d.has(c);return this.index[r]=d.add(c),h}has(t){const r=t.lastSegment(),c=t.popLast(),d=this.index[r];return d&&d.has(c)}getEntries(t){return(this.index[t]||new xn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new vl(0)}static Bn(){return new vl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.changes=new Ol(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const c=this.changes.get(r);return c!==void 0?ee.resolve(c):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(t,r,c,d){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=c,this.indexManager=d}getDocument(t,r){let c=null;return this.documentOverlayCache.getOverlay(t,r).next(d=>(c=d,this.remoteDocumentCache.getEntry(t,r))).next(d=>(c!==null&&ju(c.mutation,d,hr.empty(),Xt.now()),d))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(c=>this.getLocalViewOfDocuments(t,c,ze()).next(()=>c))}getLocalViewOfDocuments(t,r,c=ze()){const d=Ea();return this.populateOverlays(t,d,r).next(()=>this.computeViews(t,r,d,c).next(h=>{let g=Au();return h.forEach((w,m)=>{g=g.insert(w,m.overlayedDocument)}),g}))}getOverlayedDocuments(t,r){const c=Ea();return this.populateOverlays(t,c,r).next(()=>this.computeViews(t,r,c,ze()))}populateOverlays(t,r,c){const d=[];return c.forEach(h=>{r.has(h)||d.push(h)}),this.documentOverlayCache.getOverlays(t,d).next(h=>{h.forEach((g,w)=>{r.set(g,w)})})}computeViews(t,r,c,d){let h=Do();const g=Lu(),w=function(){return Lu()}();return r.forEach((m,A)=>{const y=c.get(A.key);d.has(A.key)&&(y===void 0||y.mutation instanceof Ka)?h=h.insert(A.key,A):y!==void 0?(g.set(A.key,y.mutation.getFieldMask()),ju(y.mutation,A,y.mutation.getFieldMask(),Xt.now())):g.set(A.key,hr.empty())}),this.recalculateAndSaveOverlays(t,h).next(m=>(m.forEach((A,y)=>g.set(A,y)),r.forEach((A,y)=>{var E;return w.set(A,new bZ(y,(E=g.get(A))!==null&&E!==void 0?E:null))}),w))}recalculateAndSaveOverlays(t,r){const c=Lu();let d=new Dt((g,w)=>g-w),h=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(g=>{for(const w of g)w.keys().forEach(m=>{const A=r.get(m);if(A===null)return;let y=c.get(m)||hr.empty();y=w.applyToLocalView(A,y),c.set(m,y);const E=(d.get(w.batchId)||ze()).add(m);d=d.insert(w.batchId,E)})}).next(()=>{const g=[],w=d.getReverseIterator();for(;w.hasNext();){const m=w.getNext(),A=m.key,y=m.value,E=vB();y.forEach(v=>{if(!h.has(v)){const T=DB(r.get(v),c.get(v));T!==null&&E.set(v,T),h=h.add(v)}}),g.push(this.documentOverlayCache.saveOverlays(t,A,E))}return ee.waitFor(g)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,r,c,d){return function(g){return Ce.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):xY(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,c,d):this.getDocumentsMatchingCollectionQuery(t,r,c,d)}getNextDocuments(t,r,c,d){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,c,d).next(h=>{const g=d-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,c.largestBatchId,d-h.size):ee.resolve(Ea());let w=-1,m=h;return g.next(A=>ee.forEach(A,(y,E)=>(w<E.largestBatchId&&(w=E.largestBatchId),h.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(t,y).next(v=>{m=m.insert(y,v)}))).next(()=>this.populateOverlays(t,A,h)).next(()=>this.computeViews(t,m,A,ze())).next(y=>({batchId:w,changes:AB(y)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ce(r)).next(c=>{let d=Au();return c.isFoundDocument()&&(d=d.insert(c.key,c)),d})}getDocumentsMatchingCollectionGroupQuery(t,r,c,d){const h=r.collectionGroup;let g=Au();return this.indexManager.getCollectionParents(t,h).next(w=>ee.forEach(w,m=>{const A=function(E,v){return new yk(v,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(r,m.child(h));return this.getDocumentsMatchingCollectionQuery(t,A,c,d).next(y=>{y.forEach((E,v)=>{g=g.insert(E,v)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(t,r,c,d){let h;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,c.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,c,h,d))).next(g=>{h.forEach((m,A)=>{const y=A.getKey();g.get(y)===null&&(g=g.insert(y,Rn.newInvalidDocument(y)))});let w=Au();return g.forEach((m,A)=>{const y=h.get(m);y!==void 0&&ju(y.mutation,A,hr.empty(),Xt.now()),xk(r,A)&&(w=w.insert(m,A))}),w})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,r){return ee.resolve(this.cr.get(r))}saveBundleMetadata(t,r){return this.cr.set(r.id,function(d){return{id:d.id,version:d.version,createTime:Fr(d.createTime)}}(r)),ee.resolve()}getNamedQuery(t,r){return ee.resolve(this.lr.get(r))}saveNamedQuery(t,r){return this.lr.set(r.name,function(d){return{name:d.name,query:gZ(d.bundledQuery),readTime:Fr(d.readTime)}}(r)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(){this.overlays=new Dt(Ce.comparator),this.hr=new Map}getOverlay(t,r){return ee.resolve(this.overlays.get(r))}getOverlays(t,r){const c=Ea();return ee.forEach(r,d=>this.getOverlay(t,d).next(h=>{h!==null&&c.set(d,h)})).next(()=>c)}saveOverlays(t,r,c){return c.forEach((d,h)=>{this.ht(t,r,h)}),ee.resolve()}removeOverlaysForBatchId(t,r,c){const d=this.hr.get(c);return d!==void 0&&(d.forEach(h=>this.overlays=this.overlays.remove(h)),this.hr.delete(c)),ee.resolve()}getOverlaysForCollection(t,r,c){const d=Ea(),h=r.length+1,g=new Ce(r.child("")),w=this.overlays.getIteratorFrom(g);for(;w.hasNext();){const m=w.getNext().value,A=m.getKey();if(!r.isPrefixOf(A.path))break;A.path.length===h&&m.largestBatchId>c&&d.set(m.getKey(),m)}return ee.resolve(d)}getOverlaysForCollectionGroup(t,r,c,d){let h=new Dt((A,y)=>A-y);const g=this.overlays.getIterator();for(;g.hasNext();){const A=g.getNext().value;if(A.getKey().getCollectionGroup()===r&&A.largestBatchId>c){let y=h.get(A.largestBatchId);y===null&&(y=Ea(),h=h.insert(A.largestBatchId,y)),y.set(A.getKey(),A)}}const w=Ea(),m=h.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((A,y)=>w.set(A,y)),!(w.size()>=d)););return ee.resolve(w)}ht(t,r,c){const d=this.overlays.get(c.key);if(d!==null){const g=this.hr.get(d.largestBatchId).delete(c.key);this.hr.set(d.largestBatchId,g)}this.overlays=this.overlays.insert(c.key,new $Y(r,c));let h=this.hr.get(r);h===void 0&&(h=ze(),this.hr.set(r,h)),this.hr.set(r,h.add(c.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.Pr=new xn(an.Ir),this.Tr=new xn(an.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,r){const c=new an(t,r);this.Pr=this.Pr.add(c),this.Tr=this.Tr.add(c)}dr(t,r){t.forEach(c=>this.addReference(c,r))}removeReference(t,r){this.Ar(new an(t,r))}Rr(t,r){t.forEach(c=>this.removeReference(c,r))}Vr(t){const r=new Ce(new yt([])),c=new an(r,t),d=new an(r,t+1),h=[];return this.Tr.forEachInRange([c,d],g=>{this.Ar(g),h.push(g.key)}),h}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const r=new Ce(new yt([])),c=new an(r,t),d=new an(r,t+1);let h=ze();return this.Tr.forEachInRange([c,d],g=>{h=h.add(g.key)}),h}containsKey(t){const r=new an(t,0),c=this.Pr.firstAfterOrEqual(r);return c!==null&&t.isEqual(c.key)}}class an{constructor(t,r){this.key=t,this.pr=r}static Ir(t,r){return Ce.comparator(t.key,r.key)||Xe(t.pr,r.pr)}static Er(t,r){return Xe(t.pr,r.pr)||Ce.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new xn(an.Ir)}checkEmpty(t){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,c,d){const h=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new HY(h,r,c,d);this.mutationQueue.push(g);for(const w of d)this.wr=this.wr.add(new an(w.key,h)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return ee.resolve(g)}lookupMutationBatch(t,r){return ee.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(t,r){const c=r+1,d=this.br(c),h=d<0?0:d;return ee.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const c=new an(r,0),d=new an(r,Number.POSITIVE_INFINITY),h=[];return this.wr.forEachInRange([c,d],g=>{const w=this.Sr(g.pr);h.push(w)}),ee.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let c=new xn(Xe);return r.forEach(d=>{const h=new an(d,0),g=new an(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([h,g],w=>{c=c.add(w.pr)})}),ee.resolve(this.Dr(c))}getAllMutationBatchesAffectingQuery(t,r){const c=r.path,d=c.length+1;let h=c;Ce.isDocumentKey(h)||(h=h.child(""));const g=new an(new Ce(h),0);let w=new xn(Xe);return this.wr.forEachWhile(m=>{const A=m.key.path;return!!c.isPrefixOf(A)&&(A.length===d&&(w=w.add(m.pr)),!0)},g),ee.resolve(this.Dr(w))}Dr(t){const r=[];return t.forEach(c=>{const d=this.Sr(c);d!==null&&r.push(d)}),r}removeMutationBatch(t,r){kt(this.Cr(r.batchId,"removed")===0),this.mutationQueue.shift();let c=this.wr;return ee.forEach(r.mutations,d=>{const h=new an(d.key,r.batchId);return c=c.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,d.key)}).next(()=>{this.wr=c})}Mn(t){}containsKey(t,r){const c=new an(r,0),d=this.wr.firstAfterOrEqual(c);return ee.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(t){return this.mutationQueue.length,ee.resolve()}Cr(t,r){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const r=this.br(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(t){this.vr=t,this.docs=function(){return new Dt(Ce.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const c=r.key,d=this.docs.get(c),h=d?d.size:0,g=this.vr(r);return this.docs=this.docs.insert(c,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const c=this.docs.get(r);return ee.resolve(c?c.document.mutableCopy():Rn.newInvalidDocument(r))}getEntries(t,r){let c=Do();return r.forEach(d=>{const h=this.docs.get(d);c=c.insert(d,h?h.document.mutableCopy():Rn.newInvalidDocument(d))}),ee.resolve(c)}getDocumentsMatchingQuery(t,r,c,d){let h=Do();const g=r.path,w=new Ce(g.child("")),m=this.docs.getIteratorFrom(w);for(;m.hasNext();){const{key:A,value:{document:y}}=m.getNext();if(!g.isPrefixOf(A.path))break;A.path.length>g.length+1||sY(oY(y),c)<=0||(d.has(y.key)||xk(r,y))&&(h=h.insert(y.key,y.mutableCopy()))}return ee.resolve(h)}getAllFromCollectionGroup(t,r,c,d){Ie()}Fr(t,r){return ee.forEach(this.docs,c=>r(c))}newChangeBuffer(t){return new yZ(this)}getSize(t){return ee.resolve(this.size)}}class yZ extends kZ{constructor(t){super(),this.ar=t}applyChanges(t){const r=[];return this.changes.forEach((c,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(t,d)):this.ar.removeEntry(c)}),ee.waitFor(r)}getFromCache(t,r){return this.ar.getEntry(t,r)}getAllFromCache(t,r){return this.ar.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(t){this.persistence=t,this.Mr=new Ol(r=>_C(r),AC),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xC,this.targetCount=0,this.Br=vl.Nn()}forEachTarget(t,r){return this.Mr.forEach((c,d)=>r(d)),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,r,c){return c&&(this.lastRemoteSnapshotVersion=c),r>this.Or&&(this.Or=r),ee.resolve()}qn(t){this.Mr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Br=new vl(r),this.highestTargetId=r),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,r){return this.qn(r),this.targetCount+=1,ee.resolve()}updateTargetData(t,r){return this.qn(r),ee.resolve()}removeTargetData(t,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,r,c){let d=0;const h=[];return this.Mr.forEach((g,w)=>{w.sequenceNumber<=r&&c.get(w.targetId)===null&&(this.Mr.delete(g),h.push(this.removeMatchingKeysForTargetId(t,w.targetId)),d++)}),ee.waitFor(h).next(()=>d)}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,r){const c=this.Mr.get(r)||null;return ee.resolve(c)}addMatchingKeys(t,r,c){return this.Nr.dr(r,c),ee.resolve()}removeMatchingKeys(t,r,c){this.Nr.Rr(r,c);const d=this.persistence.referenceDelegate,h=[];return d&&r.forEach(g=>{h.push(d.markPotentiallyOrphaned(t,g))}),ee.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this.Nr.Vr(r),ee.resolve()}getMatchingKeysForTargetId(t,r){const c=this.Nr.gr(r);return ee.resolve(c)}containsKey(t,r){return ee.resolve(this.Nr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(t,r){this.Lr={},this.overlays={},this.kr=new mC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new EZ(this),this.indexManager=new fZ,this.remoteDocumentCache=function(d){return new CZ(d)}(c=>this.referenceDelegate.Kr(c)),this.serializer=new pZ(r),this.$r=new _Z(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new AZ,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let c=this.Lr[t.toKey()];return c||(c=new vZ(r,this.referenceDelegate),this.Lr[t.toKey()]=c),c}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,r,c){ue("MemoryPersistence","Starting transaction:",t);const d=new IZ(this.kr.next());return this.referenceDelegate.Ur(),c(d).next(h=>this.referenceDelegate.Wr(d).next(()=>h)).toPromise().then(h=>(d.raiseOnCommittedEvent(),h))}Gr(t,r){return ee.or(Object.values(this.Lr).map(c=>()=>c.containsKey(t,r)))}}class IZ extends cY{constructor(t){super(),this.currentSequenceNumber=t}}class IC{constructor(t){this.persistence=t,this.zr=new xC,this.jr=null}static Hr(t){return new IC(t)}get Jr(){if(this.jr)return this.jr;throw Ie()}addReference(t,r,c){return this.zr.addReference(c,r),this.Jr.delete(c.toString()),ee.resolve()}removeReference(t,r,c){return this.zr.removeReference(c,r),this.Jr.add(c.toString()),ee.resolve()}markPotentiallyOrphaned(t,r){return this.Jr.add(r.toString()),ee.resolve()}removeTarget(t,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,r.targetId).next(d=>{d.forEach(h=>this.Jr.add(h.toString()))}).next(()=>c.removeTargetData(t,r))}Ur(){this.jr=new Set}Wr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Jr,c=>{const d=Ce.fromPath(c);return this.Yr(t,d).next(h=>{h||r.removeEntry(d,Me.min())})}).next(()=>(this.jr=null,r.apply(t)))}updateLimboDocument(t,r){return this.Yr(t,r).next(c=>{c?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(t){return 0}Yr(t,r){return ee.or([()=>ee.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Gr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,r,c,d){this.targetId=t,this.fromCache=r,this.qi=c,this.Qi=d}static Ki(t,r){let c=ze(),d=ze();for(const h of r.docChanges)switch(h.type){case 0:c=c.add(h.doc.key);break;case 1:d=d.add(h.doc.key)}return new TC(t,r.fromCache,c,d)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return IG()?8:ya.v(qt())>0?6:4}()}initialize(t,r){this.zi=t,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(t,r,c,d){const h={result:null};return this.ji(t,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Hi(t,r,d,c).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new TZ;return this.Ji(t,r,g).next(w=>{if(h.result=w,this.Ui)return this.Yi(t,r,g,w.size)})}).next(()=>h.result)}Yi(t,r,c,d){return c.documentReadCount<this.Wi?(uu()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Rc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ee.resolve()):(uu()<=He.DEBUG&&ue("QueryEngine","Query:",Rc(r),"scans",c.documentReadCount,"local documents and returns",d,"documents as results."),c.documentReadCount>this.Gi*d?(uu()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Rc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(r))):ee.resolve())}ji(t,r){if(xM(r))return ee.resolve(null);let c=Vr(r);return this.indexManager.getIndexType(t,c).next(d=>d===0?null:(r.limit!==null&&d===1&&(r=MA(r,null,"F"),c=Vr(r)),this.indexManager.getDocumentsMatchingTarget(t,c).next(h=>{const g=ze(...h);return this.zi.getDocuments(t,g).next(w=>this.indexManager.getMinOffset(t,c).next(m=>{const A=this.Zi(r,w);return this.Xi(r,A,g,m.readTime)?this.ji(t,MA(r,null,"F")):this.es(t,A,r,m)}))})))}Hi(t,r,c,d){return xM(r)||d.isEqual(Me.min())?ee.resolve(null):this.zi.getDocuments(t,c).next(h=>{const g=this.Zi(r,h);return this.Xi(r,g,c,d)?ee.resolve(null):(uu()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Rc(r)),this.es(t,g,r,rY(d,-1)).next(w=>w))})}Zi(t,r){let c=new xn(wB(t));return r.forEach((d,h)=>{xk(t,h)&&(c=c.add(h))}),c}Xi(t,r,c,d){if(t.limit===null)return!1;if(c.size!==r.size)return!0;const h=t.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(d)>0)}Ji(t,r,c){return uu()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Rc(r)),this.zi.getDocumentsMatchingQuery(t,r,Ms.min(),c)}es(t,r,c,d){return this.zi.getDocumentsMatchingQuery(t,c,d).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(t,r,c,d){this.persistence=t,this.ts=r,this.serializer=d,this.ns=new Dt(Xe),this.rs=new Ol(h=>_C(h),AC),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(c)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wZ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.ns))}}function MZ(n,t,r,c){return new SZ(n,t,r,c)}async function UB(n,t){const r=Pe(n);return await r.persistence.runTransaction("Handle user change","readonly",c=>{let d;return r.mutationQueue.getAllMutationBatches(c).next(h=>(d=h,r._s(t),r.mutationQueue.getAllMutationBatches(c))).next(h=>{const g=[],w=[];let m=ze();for(const A of d){g.push(A.batchId);for(const y of A.mutations)m=m.add(y.key)}for(const A of h){w.push(A.batchId);for(const y of A.mutations)m=m.add(y.key)}return r.localDocuments.getDocuments(c,m).next(A=>({us:A,removedBatchIds:g,addedBatchIds:w}))})})}function PZ(n,t){const r=Pe(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const d=t.batch.keys(),h=r.os.newChangeBuffer({trackRemovals:!0});return function(w,m,A,y){const E=A.batch,v=E.keys();let T=ee.resolve();return v.forEach(P=>{T=T.next(()=>y.getEntry(m,P)).next(O=>{const j=A.docVersions.get(P);kt(j!==null),O.version.compareTo(j)<0&&(E.applyToRemoteDocument(O,A),O.isValidDocument()&&(O.setReadTime(A.commitVersion),y.addEntry(O)))})}),T.next(()=>w.mutationQueue.removeMutationBatch(m,E))}(r,c,t,h).next(()=>h.apply(c)).next(()=>r.mutationQueue.performConsistencyCheck(c)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(c,d,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(w){let m=ze();for(let A=0;A<w.mutationResults.length;++A)w.mutationResults[A].transformResults.length>0&&(m=m.add(w.batch.mutations[A].key));return m}(t))).next(()=>r.localDocuments.getDocuments(c,d))})}function HB(n){const t=Pe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Qr.getLastRemoteSnapshotVersion(r))}function NZ(n,t){const r=Pe(n),c=t.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const w=[];t.targetChanges.forEach((y,E)=>{const v=d.get(E);if(!v)return;w.push(r.Qr.removeMatchingKeys(h,y.removedDocuments,E).next(()=>r.Qr.addMatchingKeys(h,y.addedDocuments,E)));let T=v.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(E)!==null?T=T.withResumeToken(jn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,c)),d=d.insert(E,T),function(O,j,B){return O.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(v,T,y)&&w.push(r.Qr.updateTargetData(h,T))});let m=Do(),A=ze();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(h,y))}),w.push(RZ(h,g,t.documentUpdates).next(y=>{m=y.cs,A=y.ls})),!c.isEqual(Me.min())){const y=r.Qr.getLastRemoteSnapshotVersion(h).next(E=>r.Qr.setTargetsMetadata(h,h.currentSequenceNumber,c));w.push(y)}return ee.waitFor(w).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,m,A)).next(()=>m)}).then(h=>(r.ns=d,h))}function RZ(n,t,r){let c=ze(),d=ze();return r.forEach(h=>c=c.add(h)),t.getEntries(n,c).next(h=>{let g=Do();return r.forEach((w,m)=>{const A=h.get(w);m.isFoundDocument()!==A.isFoundDocument()&&(d=d.add(w)),m.isNoDocument()&&m.version.isEqual(Me.min())?(t.removeEntry(w,m.readTime),g=g.insert(w,m)):!A.isValidDocument()||m.version.compareTo(A.version)>0||m.version.compareTo(A.version)===0&&A.hasPendingWrites?(t.addEntry(m),g=g.insert(w,m)):ue("LocalStore","Ignoring outdated watch update for ",w,". Current version:",A.version," Watch version:",m.version)}),{cs:g,ls:d}})}function BZ(n,t){const r=Pe(n);return r.persistence.runTransaction("Get next mutation batch","readonly",c=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function OZ(n,t){const r=Pe(n);return r.persistence.runTransaction("Allocate target","readwrite",c=>{let d;return r.Qr.getTargetData(c,t).next(h=>h?(d=h,ee.resolve(d)):r.Qr.allocateTargetId(c).next(g=>(d=new fs(t,g,"TargetPurposeListen",c.currentSequenceNumber),r.Qr.addTargetData(c,d).next(()=>d))))}).then(c=>{const d=r.ns.get(c.targetId);return(d===null||c.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(c.targetId,c),r.rs.set(t,c.targetId)),c})}async function OA(n,t,r){const c=Pe(n),d=c.ns.get(t),h=r?"readwrite":"readwrite-primary";try{r||await c.persistence.runTransaction("Release target",h,g=>c.persistence.referenceDelegate.removeTarget(g,d))}catch(g){if(!Vh(g))throw g;ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${g}`)}c.ns=c.ns.remove(t),c.rs.delete(d.target)}function LM(n,t,r){const c=Pe(n);let d=Me.min(),h=ze();return c.persistence.runTransaction("Execute query","readwrite",g=>function(m,A,y){const E=Pe(m),v=E.rs.get(y);return v!==void 0?ee.resolve(E.ns.get(v)):E.Qr.getTargetData(A,y)}(c,g,Vr(t)).next(w=>{if(w)return d=w.lastLimboFreeSnapshotVersion,c.Qr.getMatchingKeysForTargetId(g,w.targetId).next(m=>{h=m})}).next(()=>c.ts.getDocumentsMatchingQuery(g,t,r?d:Me.min(),r?h:ze())).next(w=>(LZ(c,TY(t),w),{documents:w,hs:h})))}function LZ(n,t,r){let c=n.ss.get(t)||Me.min();r.forEach((d,h)=>{h.readTime.compareTo(c)>0&&(c=h.readTime)}),n.ss.set(t,c)}class jM{constructor(){this.activeTargetIds=RY()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jZ{constructor(){this.no=new jM,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,c){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,r,c){this.ro[t]=r}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new jM,Promise.resolve()}handleUserChange(t,r,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function s_(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class UZ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const c=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.fo=c+"://"+r.host,this.po=`projects/${d}/databases/${h}`,this.yo=this.databaseId.database==="(default)"?`project_id=${d}`:`project_id=${d}&database_id=${h}`}get wo(){return!1}So(r,c,d,h,g){const w=s_(),m=this.bo(r,c.toUriEncodedString());ue("RestConnection",`Sending RPC '${r}' ${w}:`,m,d);const A={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(A,h,g),this.Co(r,m,A,d).then(y=>(ue("RestConnection",`Received RPC '${r}' ${w}: `,y),y),y=>{throw bl("RestConnection",`RPC '${r}' ${w} failed with error: `,y,"url: ",m,"request:",d),y})}vo(r,c,d,h,g,w){return this.So(r,c,d,h,g)}Do(r,c,d){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((h,g)=>r[g]=h),d&&d.headers.forEach((h,g)=>r[g]=h)}bo(r,c){const d=VZ[r];return`${this.fo}/v1/${c}:${d}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,r,c,d){const h=s_();return new Promise((g,w)=>{const m=new GQ;m.setWithCredentials(!0),m.listenOnce(WQ.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case r_.NO_ERROR:const y=m.getResponseJson();ue(Mn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(y)),g(y);break;case r_.TIMEOUT:ue(Mn,`RPC '${t}' ${h} timed out`),w(new we(oe.DEADLINE_EXCEEDED,"Request time out"));break;case r_.HTTP_ERROR:const E=m.getStatus();if(ue(Mn,`RPC '${t}' ${h} failed with status:`,E,"response text:",m.getResponseText()),E>0){let v=m.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const P=function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN}(T.status);w(new we(P,T.message))}else w(new we(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else w(new we(oe.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(Mn,`RPC '${t}' ${h} completed.`)}});const A=JSON.stringify(d);ue(Mn,`RPC '${t}' ${h} sending request:`,d),m.send(r,"POST",A,c,15)})}Fo(t,r,c){const d=s_(),h=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=HQ(),w=$Q(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(m.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,r,c),m.encodeInitMessageHeaders=!0;const y=h.join("");ue(Mn,`Creating RPC '${t}' stream ${d}: ${y}`,m);const E=g.createWebChannel(y,m);let v=!1,T=!1;const P=new FZ({lo:j=>{T?ue(Mn,`Not sending because RPC '${t}' stream ${d} is closed:`,j):(v||(ue(Mn,`Opening RPC '${t}' stream ${d} transport.`),E.open(),v=!0),ue(Mn,`RPC '${t}' stream ${d} sending:`,j),E.send(j))},ho:()=>E.close()}),O=(j,B,R)=>{j.listen(B,z=>{try{R(z)}catch(H){setTimeout(()=>{throw H},0)}})};return O(E,gf.EventType.OPEN,()=>{T||ue(Mn,`RPC '${t}' stream ${d} transport opened.`)}),O(E,gf.EventType.CLOSE,()=>{T||(T=!0,ue(Mn,`RPC '${t}' stream ${d} transport closed`),P.Vo())}),O(E,gf.EventType.ERROR,j=>{T||(T=!0,bl(Mn,`RPC '${t}' stream ${d} transport errored:`,j),P.Vo(new we(oe.UNAVAILABLE,"The operation could not be completed")))}),O(E,gf.EventType.MESSAGE,j=>{var B;if(!T){const R=j.data[0];kt(!!R);const z=R,H=z.error||((B=z[0])===null||B===void 0?void 0:B.error);if(H){ue(Mn,`RPC '${t}' stream ${d} received error:`,H);const K=H.status;let Y=function(V){const ie=Ht[V];if(ie!==void 0)return PB(ie)}(K),Q=H.message;Y===void 0&&(Y=oe.INTERNAL,Q="Unknown error status: "+K+" with message "+H.message),T=!0,P.Vo(new we(Y,Q)),E.close()}else ue(Mn,`RPC '${t}' stream ${d} received:`,R),P.mo(R)}}),O(w,qQ.STAT_EVENT,j=>{j.stat===fM.PROXY?ue(Mn,`RPC '${t}' stream ${d} detected buffering proxy`):j.stat===fM.NOPROXY&&ue(Mn,`RPC '${t}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{P.Ro()},0),P}}function a_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){return new XY(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(t,r,c=1e3,d=1.5,h=6e4){this.oi=t,this.timerId=r,this.Mo=c,this.xo=d,this.Oo=h,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const r=Math.floor(this.No+this.Qo()),c=Math.max(0,Date.now()-this.Lo),d=Math.max(0,r-c);d>0&&ue("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${c} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(t,r,c,d,h,g,w,m){this.oi=t,this.$o=c,this.Uo=d,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=w,this.listener=m,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new $B(t,r)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,r){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():r&&r.code===oe.RESOURCE_EXHAUSTED?($r(r.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):r&&r.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(r)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,d])=>{this.Wo===r&&this.o_(c,d)},c=>{t(()=>{const d=new we(oe.UNKNOWN,"Fetching auth token failed: "+c.message);return this.__(d)})})}o_(t,r){const c=this.s_(this.Wo);this.stream=this.a_(t,r),this.stream.Po(()=>{c(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(d=>{c(()=>this.__(d))}),this.stream.onMessage(d=>{c(()=>this.onMessage(d))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return r=>{this.oi.enqueueAndForget(()=>this.Wo===t?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HZ extends WB{constructor(t,r,c,d,h,g){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,c,d,g),this.serializer=h}a_(t,r){return this.connection.Fo("Listen",t,r)}onMessage(t){this.jo.reset();const r=nZ(this.serializer,t),c=function(h){if(!("targetChange"in h))return Me.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?Me.min():g.readTime?Fr(g.readTime):Me.min()}(t);return this.listener.u_(r,c)}c_(t){const r={};r.database=BA(this.serializer),r.addTarget=function(h,g){let w;const m=g.target;if(w=SA(m)?{documents:oZ(h,m)}:{query:sZ(h,m).ut},w.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){w.resumeToken=BB(h,g.resumeToken);const A=PA(h,g.expectedCount);A!==null&&(w.expectedCount=A)}else if(g.snapshotVersion.compareTo(Me.min())>0){w.readTime=Dm(h,g.snapshotVersion.toTimestamp());const A=PA(h,g.expectedCount);A!==null&&(w.expectedCount=A)}return w}(this.serializer,t);const c=cZ(this.serializer,t);c&&(r.labels=c),this.t_(r)}l_(t){const r={};r.database=BA(this.serializer),r.removeTarget=t,this.t_(r)}}class $Z extends WB{constructor(t,r,c,d,h,g){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,c,d,g),this.serializer=h,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,r){return this.connection.Fo("Write",t,r)}onMessage(t){if(kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const r=rZ(t.writeResults,t.commitTime),c=Fr(t.commitTime);return this.listener.T_(c,r)}return kt(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=BA(this.serializer),this.t_(t)}I_(t){const r={streamToken:this.lastStreamToken,writes:t.map(c=>iZ(this.serializer,c))};this.t_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ extends class{}{constructor(t,r,c,d){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=c,this.serializer=d,this.A_=!1}R_(){if(this.A_)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,c,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.So(t,NA(r,c),d,h,g)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new we(oe.UNKNOWN,h.toString())})}vo(t,r,c,d,h){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,w])=>this.connection.vo(t,NA(r,c),d,g,w,h)).catch(g=>{throw g.name==="FirebaseError"?(g.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new we(oe.UNKNOWN,g.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class qZ{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?($r(r),this.g_=!1):ue("OnlineStateTracker",r)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(t,r,c,d,h){this.localStore=t,this.datastore=r,this.asyncQueue=c,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=h,this.M_.io(g=>{c.enqueueAndForget(async()=>{Qa(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(m){const A=Pe(m);A.v_.add(4),await Hh(A),A.x_.set("Unknown"),A.v_.delete(4),await Mk(A)}(this))})}),this.x_=new qZ(c,d)}}async function Mk(n){if(Qa(n))for(const t of n.F_)await t(!0)}async function Hh(n){for(const t of n.F_)await t(!1)}function qB(n,t){const r=Pe(n);r.C_.has(t.targetId)||(r.C_.set(t.targetId,t),MC(r)?SC(r):Ll(r).Jo()&&DC(r,t))}function GB(n,t){const r=Pe(n),c=Ll(r);r.C_.delete(t),c.Jo()&&KB(r,t),r.C_.size===0&&(c.Jo()?c.Xo():Qa(r)&&r.x_.set("Unknown"))}function DC(n,t){if(n.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Me.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ll(n).c_(t)}function KB(n,t){n.O_.Oe(t),Ll(n).l_(t)}function SC(n){n.O_=new QY({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.C_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.x_.p_()}function MC(n){return Qa(n)&&!Ll(n).Ho()&&n.C_.size>0}function Qa(n){return Pe(n).v_.size===0}function QB(n){n.O_=void 0}async function KZ(n){n.C_.forEach((t,r)=>{DC(n,t)})}async function QZ(n,t){QB(n),MC(n)?(n.x_.S_(t),SC(n)):n.x_.set("Unknown")}async function YZ(n,t,r){if(n.x_.set("Online"),t instanceof RB&&t.state===2&&t.cause)try{await async function(d,h){const g=h.cause;for(const w of h.targetIds)d.C_.has(w)&&(await d.remoteSyncer.rejectListen(w,g),d.C_.delete(w),d.O_.removeTarget(w))}(n,t)}catch(c){ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),await Sm(n,c)}else if(t instanceof Of?n.O_.$e(t):t instanceof NB?n.O_.Je(t):n.O_.Ge(t),!r.isEqual(Me.min()))try{const c=await HB(n.localStore);r.compareTo(c)>=0&&await function(h,g){const w=h.O_.it(g);return w.targetChanges.forEach((m,A)=>{if(m.resumeToken.approximateByteSize()>0){const y=h.C_.get(A);y&&h.C_.set(A,y.withResumeToken(m.resumeToken,g))}}),w.targetMismatches.forEach((m,A)=>{const y=h.C_.get(m);if(!y)return;h.C_.set(m,y.withResumeToken(jn.EMPTY_BYTE_STRING,y.snapshotVersion)),KB(h,m);const E=new fs(y.target,m,A,y.sequenceNumber);DC(h,E)}),h.remoteSyncer.applyRemoteEvent(w)}(n,r)}catch(c){ue("RemoteStore","Failed to raise snapshot:",c),await Sm(n,c)}}async function Sm(n,t,r){if(!Vh(t))throw t;n.v_.add(1),await Hh(n),n.x_.set("Offline"),r||(r=()=>HB(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await r(),n.v_.delete(1),await Mk(n)})}function YB(n,t){return t().catch(r=>Sm(n,r,t))}async function Pk(n){const t=Pe(n),r=Ns(t);let c=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;ZZ(t);)try{const d=await BZ(t.localStore,c);if(d===null){t.D_.length===0&&r.Xo();break}c=d.batchId,JZ(t,d)}catch(d){await Sm(t,d)}ZB(t)&&JB(t)}function ZZ(n){return Qa(n)&&n.D_.length<10}function JZ(n,t){n.D_.push(t);const r=Ns(n);r.Jo()&&r.P_&&r.I_(t.mutations)}function ZB(n){return Qa(n)&&!Ns(n).Ho()&&n.D_.length>0}function JB(n){Ns(n).start()}async function XZ(n){Ns(n).d_()}async function eJ(n){const t=Ns(n);for(const r of n.D_)t.I_(r.mutations)}async function tJ(n,t,r){const c=n.D_.shift(),d=CC.from(c,t,r);await YB(n,()=>n.remoteSyncer.applySuccessfulWrite(d)),await Pk(n)}async function nJ(n,t){t&&Ns(n).P_&&await async function(c,d){if(function(g){return qY(g)&&g!==oe.ABORTED}(d.code)){const h=c.D_.shift();Ns(c).Zo(),await YB(c,()=>c.remoteSyncer.rejectFailedWrite(h.batchId,d)),await Pk(c)}}(n,t),ZB(n)&&JB(n)}async function VM(n,t){const r=Pe(n);r.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const c=Qa(r);r.v_.add(3),await Hh(r),c&&r.x_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.v_.delete(3),await Mk(r)}async function iJ(n,t){const r=Pe(n);t?(r.v_.delete(2),await Mk(r)):t||(r.v_.add(2),await Hh(r),r.x_.set("Unknown"))}function Ll(n){return n.N_||(n.N_=function(r,c,d){const h=Pe(r);return h.R_(),new HZ(c,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,d)}(n.datastore,n.asyncQueue,{Po:KZ.bind(null,n),To:QZ.bind(null,n),u_:YZ.bind(null,n)}),n.F_.push(async t=>{t?(n.N_.Zo(),MC(n)?SC(n):n.x_.set("Unknown")):(await n.N_.stop(),QB(n))})),n.N_}function Ns(n){return n.B_||(n.B_=function(r,c,d){const h=Pe(r);return h.R_(),new $Z(c,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,d)}(n.datastore,n.asyncQueue,{Po:XZ.bind(null,n),To:nJ.bind(null,n),E_:eJ.bind(null,n),T_:tJ.bind(null,n)}),n.F_.push(async t=>{t?(n.B_.Zo(),await Pk(n)):(await n.B_.stop(),n.D_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))})),n.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,r,c,d,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=c,this.op=d,this.removalCallback=h,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,c,d,h){const g=Date.now()+c,w=new PC(t,r,g,d,h);return w.start(c),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NC(n,t){if($r("AsyncQueue",`${t}: ${n}`),Vh(n))return new we(oe.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this.comparator=t?(r,c)=>t(r,c)||Ce.comparator(r.key,c.key):(r,c)=>Ce.comparator(r.key,c.key),this.keyedMap=Au(),this.sortedSet=new Dt(this.comparator)}static emptySet(t){return new sl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,c)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,h=c.getNext().key;if(!d.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const c=new sl;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=r,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.L_=new Dt(Ce.comparator)}track(t){const r=t.doc.key,c=this.L_.get(r);c?t.type!==0&&c.type===3?this.L_=this.L_.insert(r,t):t.type===3&&c.type!==1?this.L_=this.L_.insert(r,{type:c.type,doc:t.doc}):t.type===2&&c.type===2?this.L_=this.L_.insert(r,{type:2,doc:t.doc}):t.type===2&&c.type===0?this.L_=this.L_.insert(r,{type:0,doc:t.doc}):t.type===1&&c.type===0?this.L_=this.L_.remove(r):t.type===1&&c.type===2?this.L_=this.L_.insert(r,{type:1,doc:c.doc}):t.type===0&&c.type===1?this.L_=this.L_.insert(r,{type:2,doc:t.doc}):Ie():this.L_=this.L_.insert(r,t)}k_(){const t=[];return this.L_.inorderTraversal((r,c)=>{t.push(c)}),t}}class Cl{constructor(t,r,c,d,h,g,w,m,A){this.query=t,this.docs=r,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=m,this.hasCachedResults=A}static fromInitialDocuments(t,r,c,d,h){const g=[];return r.forEach(w=>{g.push({type:0,doc:w})}),new Cl(t,r,sl.emptySet(r),g,c,d,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ek(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,c=t.docChanges;if(r.length!==c.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==c[d].type||!r[d].doc.isEqual(c[d].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.q_=void 0,this.Q_=[]}}class oJ{constructor(){this.queries=new Ol(t=>bB(t),Ek),this.onlineState="Unknown",this.K_=new Set}}async function XB(n,t){const r=Pe(n),c=t.query;let d=!1,h=r.queries.get(c);if(h||(d=!0,h=new rJ),d)try{h.q_=await r.onListen(c)}catch(g){const w=NC(g,`Initialization of query '${Rc(t.query)}' failed`);return void t.onError(w)}r.queries.set(c,h),h.Q_.push(t),t.U_(r.onlineState),h.q_&&t.W_(h.q_)&&RC(r)}async function e3(n,t){const r=Pe(n),c=t.query;let d=!1;const h=r.queries.get(c);if(h){const g=h.Q_.indexOf(t);g>=0&&(h.Q_.splice(g,1),d=h.Q_.length===0)}if(d)return r.queries.delete(c),r.onUnlisten(c)}function sJ(n,t){const r=Pe(n);let c=!1;for(const d of t){const h=d.query,g=r.queries.get(h);if(g){for(const w of g.Q_)w.W_(d)&&(c=!0);g.q_=d}}c&&RC(r)}function aJ(n,t,r){const c=Pe(n),d=c.queries.get(t);if(d)for(const h of d.Q_)h.onError(r);c.queries.delete(t)}function RC(n){n.K_.forEach(t=>{t.next()})}class t3{constructor(t,r,c){this.query=t,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=c||{}}W_(t){if(!this.options.includeMetadataChanges){const c=[];for(const d of t.docChanges)d.type!==3&&c.push(d);t=new Cl(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.z_?this.H_(t)&&(this.G_.next(t),r=!0):this.J_(t,this.onlineState)&&(this.Y_(t),r=!0),this.j_=t,r}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),r=!0),r}J_(t,r){if(!t.fromCache)return!0;const c=r!=="Offline";return(!this.options.Z_||!c)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const r=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Y_(t){t=Cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t){this.key=t}}class i3{constructor(t){this.key=t}}class cJ{constructor(t,r){this.query=t,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ze(),this.mutatedKeys=ze(),this.ua=wB(t),this.ca=new sl(this.ua)}get la(){return this.oa}ha(t,r){const c=r?r.Pa:new FM,d=r?r.ca:this.ca;let h=r?r.mutatedKeys:this.mutatedKeys,g=d,w=!1;const m=this.query.limitType==="F"&&d.size===this.query.limit?d.last():null,A=this.query.limitType==="L"&&d.size===this.query.limit?d.first():null;if(t.inorderTraversal((y,E)=>{const v=d.get(y),T=xk(this.query,E)?E:null,P=!!v&&this.mutatedKeys.has(v.key),O=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let j=!1;v&&T?v.data.isEqual(T.data)?P!==O&&(c.track({type:3,doc:T}),j=!0):this.Ia(v,T)||(c.track({type:2,doc:T}),j=!0,(m&&this.ua(T,m)>0||A&&this.ua(T,A)<0)&&(w=!0)):!v&&T?(c.track({type:0,doc:T}),j=!0):v&&!T&&(c.track({type:1,doc:v}),j=!0,(m||A)&&(w=!0)),j&&(T?(g=g.add(T),h=O?h.add(y):h.delete(y)):(g=g.delete(y),h=h.delete(y)))}),this.query.limit!==null)for(;g.size>this.query.limit;){const y=this.query.limitType==="F"?g.last():g.first();g=g.delete(y.key),h=h.delete(y.key),c.track({type:1,doc:y})}return{ca:g,Pa:c,Xi:w,mutatedKeys:h}}Ia(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,c,d){const h=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const g=t.Pa.k_();g.sort((y,E)=>function(T,P){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return O(T)-O(P)}(y.type,E.type)||this.ua(y.doc,E.doc)),this.Ta(c),d=d!=null&&d;const w=r&&!d?this.Ea():[],m=this.aa.size===0&&this.current&&!d?1:0,A=m!==this._a;return this._a=m,g.length!==0||A?{snapshot:new Cl(this.query,t.ca,h,g,t.mutatedKeys,m===0,A,!1,!!c&&c.resumeToken.approximateByteSize()>0),da:w}:{da:w}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new FM,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=ze(),this.ca.forEach(c=>{this.Aa(c.key)&&(this.aa=this.aa.add(c.key))});const r=[];return t.forEach(c=>{this.aa.has(c)||r.push(new i3(c))}),this.aa.forEach(c=>{t.has(c)||r.push(new n3(c))}),r}Ra(t){this.oa=t.hs,this.aa=ze();const r=this.ha(t.documents);return this.applyChanges(r,!0)}Va(){return Cl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class lJ{constructor(t,r,c){this.query=t,this.targetId=r,this.view=c}}class dJ{constructor(t){this.key=t,this.ma=!1}}class uJ{constructor(t,r,c,d,h,g){this.localStore=t,this.remoteStore=r,this.eventManager=c,this.sharedClientState=d,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.fa={},this.ga=new Ol(w=>bB(w),Ek),this.pa=new Map,this.ya=new Set,this.wa=new Dt(Ce.comparator),this.Sa=new Map,this.ba=new xC,this.Da={},this.Ca=new Map,this.va=vl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function hJ(n,t){const r=vJ(n);let c,d;const h=r.ga.get(t);if(h)c=h.targetId,r.sharedClientState.addLocalQueryTarget(c),d=h.view.Va();else{const g=await OZ(r.localStore,Vr(t)),w=r.sharedClientState.addLocalQueryTarget(g.targetId);c=g.targetId,d=await pJ(r,t,c,w==="current",g.resumeToken),r.isPrimaryClient&&qB(r.remoteStore,g)}return d}async function pJ(n,t,r,c,d){n.Ma=(E,v,T)=>async function(O,j,B,R){let z=j.view.ha(B);z.Xi&&(z=await LM(O.localStore,j.query,!1).then(({documents:Q})=>j.view.ha(Q,z)));const H=R&&R.targetChanges.get(j.targetId),K=R&&R.targetMismatches.get(j.targetId)!=null,Y=j.view.applyChanges(z,O.isPrimaryClient,H,K);return HM(O,j.targetId,Y.da),Y.snapshot}(n,E,v,T);const h=await LM(n.localStore,t,!0),g=new cJ(t,h.hs),w=g.ha(h.documents),m=Uh.createSynthesizedTargetChangeForCurrentChange(r,c&&n.onlineState!=="Offline",d),A=g.applyChanges(w,n.isPrimaryClient,m);HM(n,r,A.da);const y=new lJ(t,r,g);return n.ga.set(t,y),n.pa.has(r)?n.pa.get(r).push(t):n.pa.set(r,[t]),A.snapshot}async function gJ(n,t){const r=Pe(n),c=r.ga.get(t),d=r.pa.get(c.targetId);if(d.length>1)return r.pa.set(c.targetId,d.filter(h=>!Ek(h,t))),void r.ga.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(c.targetId),r.sharedClientState.isActiveQueryTarget(c.targetId)||await OA(r.localStore,c.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(c.targetId),GB(r.remoteStore,c.targetId),LA(r,c.targetId)}).catch(zh)):(LA(r,c.targetId),await OA(r.localStore,c.targetId,!0))}async function fJ(n,t,r){const c=CJ(n);try{const d=await function(g,w){const m=Pe(g),A=Xt.now(),y=w.reduce((T,P)=>T.add(P.key),ze());let E,v;return m.persistence.runTransaction("Locally write mutations","readwrite",T=>{let P=Do(),O=ze();return m.os.getEntries(T,y).next(j=>{P=j,P.forEach((B,R)=>{R.isValidDocument()||(O=O.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(T,P)).next(j=>{E=j;const B=[];for(const R of w){const z=FY(R,E.get(R.key).overlayedDocument);z!=null&&B.push(new Ka(R.key,z,uB(z.value.mapValue),Co.exists(!0)))}return m.mutationQueue.addMutationBatch(T,A,B,w)}).next(j=>{v=j;const B=j.applyToLocalDocumentSet(E,O);return m.documentOverlayCache.saveOverlays(T,j.batchId,B)})}).then(()=>({batchId:v.batchId,changes:AB(E)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(d.batchId),function(g,w,m){let A=g.Da[g.currentUser.toKey()];A||(A=new Dt(Xe)),A=A.insert(w,m),g.Da[g.currentUser.toKey()]=A}(c,d.batchId,r),await $h(c,d.changes),await Pk(c.remoteStore)}catch(d){const h=NC(d,"Failed to persist write");r.reject(h)}}async function r3(n,t){const r=Pe(n);try{const c=await NZ(r.localStore,t);t.targetChanges.forEach((d,h)=>{const g=r.Sa.get(h);g&&(kt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?g.ma=!0:d.modifiedDocuments.size>0?kt(g.ma):d.removedDocuments.size>0&&(kt(g.ma),g.ma=!1))}),await $h(r,c,t)}catch(c){await zh(c)}}function UM(n,t,r){const c=Pe(n);if(c.isPrimaryClient&&r===0||!c.isPrimaryClient&&r===1){const d=[];c.ga.forEach((h,g)=>{const w=g.view.U_(t);w.snapshot&&d.push(w.snapshot)}),function(g,w){const m=Pe(g);m.onlineState=w;let A=!1;m.queries.forEach((y,E)=>{for(const v of E.Q_)v.U_(w)&&(A=!0)}),A&&RC(m)}(c.eventManager,t),d.length&&c.fa.u_(d),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}async function mJ(n,t,r){const c=Pe(n);c.sharedClientState.updateQueryState(t,"rejected",r);const d=c.Sa.get(t),h=d&&d.key;if(h){let g=new Dt(Ce.comparator);g=g.insert(h,Rn.newNoDocument(h,Me.min()));const w=ze().add(h),m=new Dk(Me.min(),new Map,new Dt(Xe),g,w);await r3(c,m),c.wa=c.wa.remove(h),c.Sa.delete(t),BC(c)}else await OA(c.localStore,t,!1).then(()=>LA(c,t,r)).catch(zh)}async function kJ(n,t){const r=Pe(n),c=t.batch.batchId;try{const d=await PZ(r.localStore,t);s3(r,c,null),o3(r,c),r.sharedClientState.updateMutationState(c,"acknowledged"),await $h(r,d)}catch(d){await zh(d)}}async function bJ(n,t,r){const c=Pe(n);try{const d=await function(g,w){const m=Pe(g);return m.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let y;return m.mutationQueue.lookupMutationBatch(A,w).next(E=>(kt(E!==null),y=E.keys(),m.mutationQueue.removeMutationBatch(A,E))).next(()=>m.mutationQueue.performConsistencyCheck(A)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(A,y,w)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,y)).next(()=>m.localDocuments.getDocuments(A,y))})}(c.localStore,t);s3(c,t,r),o3(c,t),c.sharedClientState.updateMutationState(t,"rejected",r),await $h(c,d)}catch(d){await zh(d)}}function o3(n,t){(n.Ca.get(t)||[]).forEach(r=>{r.resolve()}),n.Ca.delete(t)}function s3(n,t,r){const c=Pe(n);let d=c.Da[c.currentUser.toKey()];if(d){const h=d.get(t);h&&(r?h.reject(r):h.resolve(),d=d.remove(t)),c.Da[c.currentUser.toKey()]=d}}function LA(n,t,r=null){n.sharedClientState.removeLocalQueryTarget(t);for(const c of n.pa.get(t))n.ga.delete(c),r&&n.fa.xa(c,r);n.pa.delete(t),n.isPrimaryClient&&n.ba.Vr(t).forEach(c=>{n.ba.containsKey(c)||a3(n,c)})}function a3(n,t){n.ya.delete(t.path.canonicalString());const r=n.wa.get(t);r!==null&&(GB(n.remoteStore,r),n.wa=n.wa.remove(t),n.Sa.delete(r),BC(n))}function HM(n,t,r){for(const c of r)c instanceof n3?(n.ba.addReference(c.key,t),wJ(n,c)):c instanceof i3?(ue("SyncEngine","Document no longer in limbo: "+c.key),n.ba.removeReference(c.key,t),n.ba.containsKey(c.key)||a3(n,c.key)):Ie()}function wJ(n,t){const r=t.key,c=r.path.canonicalString();n.wa.get(r)||n.ya.has(c)||(ue("SyncEngine","New document in limbo: "+r),n.ya.add(c),BC(n))}function BC(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const t=n.ya.values().next().value;n.ya.delete(t);const r=new Ce(yt.fromString(t)),c=n.va.next();n.Sa.set(c,new dJ(r)),n.wa=n.wa.insert(r,c),qB(n.remoteStore,new fs(Vr(vC(r.path)),c,"TargetPurposeLimboResolution",mC._e))}}async function $h(n,t,r){const c=Pe(n),d=[],h=[],g=[];c.ga.isEmpty()||(c.ga.forEach((w,m)=>{g.push(c.Ma(m,t,r).then(A=>{if((A||r)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(m.targetId,A!=null&&A.fromCache?"not-current":"current"),A){d.push(A);const y=TC.Ki(m.targetId,A);h.push(y)}}))}),await Promise.all(g),c.fa.u_(d),await async function(m,A){const y=Pe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(A,v=>ee.forEach(v.qi,T=>y.persistence.referenceDelegate.addReference(E,v.targetId,T)).next(()=>ee.forEach(v.Qi,T=>y.persistence.referenceDelegate.removeReference(E,v.targetId,T)))))}catch(E){if(!Vh(E))throw E;ue("LocalStore","Failed to update sequence numbers: "+E)}for(const E of A){const v=E.targetId;if(!E.fromCache){const T=y.ns.get(v),P=T.snapshotVersion,O=T.withLastLimboFreeSnapshotVersion(P);y.ns=y.ns.insert(v,O)}}}(c.localStore,h))}async function _J(n,t){const r=Pe(n);if(!r.currentUser.isEqual(t)){ue("SyncEngine","User change. New user:",t.toKey());const c=await UB(r.localStore,t);r.currentUser=t,function(h,g){h.Ca.forEach(w=>{w.forEach(m=>{m.reject(new we(oe.CANCELLED,g))})}),h.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),await $h(r,c.us)}}function AJ(n,t){const r=Pe(n),c=r.Sa.get(t);if(c&&c.ma)return ze().add(c.key);{let d=ze();const h=r.pa.get(t);if(!h)return d;for(const g of h){const w=r.ga.get(g);d=d.unionWith(w.view.la)}return d}}function vJ(n){const t=Pe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=r3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AJ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mJ.bind(null,t),t.fa.u_=sJ.bind(null,t.eventManager),t.fa.xa=aJ.bind(null,t.eventManager),t}function CJ(n){const t=Pe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kJ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bJ.bind(null,t),t}class $M{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Sk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return MZ(this.persistence,new DZ,t.initialUser,this.serializer)}createPersistence(t){return new xZ(IC.Hr,this.serializer)}createSharedClientState(t){return new jZ}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yJ{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>UM(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=_J.bind(null,this.syncEngine),await iJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new oJ}()}createDatastore(t){const r=Sk(t.databaseInfo.databaseId),c=function(h){return new UZ(h)}(t.databaseInfo);return function(h,g,w,m){return new WZ(h,g,w,m)}(t.authCredentials,t.appCheckCredentials,c,r)}createRemoteStore(t){return function(c,d,h,g,w){return new GZ(c,d,h,g,w)}(this.localStore,this.datastore,t.asyncQueue,r=>UM(this.syncEngine,r,0),function(){return zM.D()?new zM:new zZ}())}createSyncEngine(t,r){return function(d,h,g,w,m,A,y){const E=new uJ(d,h,g,w,m,A);return y&&(E.Fa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t;await async function(c){const d=Pe(c);ue("RemoteStore","RemoteStore shutting down."),d.v_.add(5),await Hh(d),d.M_.shutdown(),d.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):$r("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(t,r,c,d){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=c,this.databaseInfo=d,this.user=Pn.UNAUTHENTICATED,this.clientId=cB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(c,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const c=NC(r,"Failed to shutdown persistence");t.reject(c)}}),t.promise}}async function c_(n,t){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const r=n.configuration;await t.initialize(r);let c=r.initialUser;n.setCredentialChangeListener(async d=>{c.isEqual(d)||(await UB(t.localStore,d),c=d)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function WM(n,t){n.asyncQueue.verifyOperationInProgress();const r=await IJ(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,n.configuration),n.setCredentialChangeListener(c=>VM(t.remoteStore,c)),n.setAppCheckTokenChangeListener((c,d)=>VM(t.remoteStore,d)),n._onlineComponents=t}function xJ(n){return n.name==="FirebaseError"?n.code===oe.FAILED_PRECONDITION||n.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function IJ(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await c_(n,n._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!xJ(r))throw r;bl("Error using user provided cache. Falling back to memory cache: "+r),await c_(n,new $M)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await c_(n,new $M);return n._offlineComponents}async function l3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await WM(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await WM(n,new yJ))),n._onlineComponents}function TJ(n){return l3(n).then(t=>t.syncEngine)}async function d3(n){const t=await l3(n),r=t.eventManager;return r.onListen=hJ.bind(null,t.syncEngine),r.onUnlisten=gJ.bind(null,t.syncEngine),r}function DJ(n,t,r={}){const c=new zr;return n.asyncQueue.enqueueAndForget(async()=>function(h,g,w,m,A){const y=new c3({next:v=>{g.enqueueAndForget(()=>e3(h,E));const T=v.docs.has(w);!T&&v.fromCache?A.reject(new we(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&m&&m.source==="server"?A.reject(new we(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(v)},error:v=>A.reject(v)}),E=new t3(vC(w.path),y,{includeMetadataChanges:!0,Z_:!0});return XB(h,E)}(await d3(n),n.asyncQueue,t,r,c)),c.promise}function SJ(n,t,r={}){const c=new zr;return n.asyncQueue.enqueueAndForget(async()=>function(h,g,w,m,A){const y=new c3({next:v=>{g.enqueueAndForget(()=>e3(h,E)),v.fromCache&&m.source==="server"?A.reject(new we(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(v)},error:v=>A.reject(v)}),E=new t3(w,y,{includeMetadataChanges:!0,Z_:!0});return XB(h,E)}(await d3(n),n.asyncQueue,t,r,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(n,t,r){if(!r)throw new we(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function MJ(n,t,r,c){if(t===!0&&c===!0)throw new we(oe.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function GM(n){if(!Ce.isDocumentKey(n))throw new we(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KM(n){if(Ce.isDocumentKey(n))throw new we(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OC(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(c){return c.constructor?c.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function yl(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new we(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=OC(n);throw new we(oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){var r,c;if(t.host===void 0){if(t.ssl!==void 0)throw new we(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new we(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MJ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u3((c=t.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(c,d){return c.timeoutSeconds===d.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nk{constructor(t,r,c,d){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=c,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new we(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QM(t),t.credentials!==void 0&&(this._authCredentials=function(c){if(!c)return new QQ;switch(c.type){case"firstParty":return new XQ(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new we(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const c=qM.get(r);c&&(ue("ComponentProvider","Removing Datastore"),qM.delete(r),c.terminate())}(this),Promise.resolve()}}function PJ(n,t,r,c={}){var d;const h=(n=yl(n,Nk))._getSettings(),g=`${t}:${r}`;if(h.host!=="firestore.googleapis.com"&&h.host!==g&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),c.mockUserToken){let w,m;if(typeof c.mockUserToken=="string")w=c.mockUserToken,m=Pn.MOCK_USER;else{w=ZN(c.mockUserToken,(d=n._app)===null||d===void 0?void 0:d.options.projectId);const A=c.mockUserToken.sub||c.mockUserToken.user_id;if(!A)throw new we(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pn(A)}n._authCredentials=new YQ(new aB(w,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,r,c){this.converter=r,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new Rk(this.firestore,t,this._query)}}class Gi{constructor(t,r,c){this.converter=r,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class Is extends Rk{constructor(t,r,c){super(t,r,vC(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new Ce(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function Bk(n,t,...r){if(n=dn(n),h3("collection","path",t),n instanceof Nk){const c=yt.fromString(t,...r);return KM(c),new Is(n,null,c)}{if(!(n instanceof Gi||n instanceof Is))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=n._path.child(yt.fromString(t,...r));return KM(c),new Is(n.firestore,null,c)}}function LC(n,t,...r){if(n=dn(n),arguments.length===1&&(t=cB.newId()),h3("doc","path",t),n instanceof Nk){const c=yt.fromString(t,...r);return GM(c),new Gi(n,null,new Ce(c))}{if(!(n instanceof Gi||n instanceof Is))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=n._path.child(yt.fromString(t,...r));return GM(c),new Gi(n.firestore,n instanceof Is?n.converter:null,new Ce(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new $B(this,"async_queue_retry"),this._u=()=>{const r=a_();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const t=a_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const r=a_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const r=new zr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!Vh(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const r=this.Xa.then(()=>(this.iu=!0,t().catch(c=>{this.ru=c,this.iu=!1;const d=function(g){let w=g.message||"";return g.stack&&(w=g.stack.includes(g.message)?g.stack:g.message+`
`+g.stack),w}(c);throw $r("INTERNAL UNHANDLED ERROR: ",d),c}).then(c=>(this.iu=!1,c))));return this.Xa=r,r}enqueueAfterDelay(t,r,c){this.au(),this.ou.indexOf(t)>-1&&(r=0);const d=PC.createAndSchedule(this,t,r,c,h=>this.lu(h));return this.nu.push(d),d}au(){this.ru&&Ie()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const r of this.nu)if(r.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((r,c)=>r.targetTimeMs-c.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const r=this.nu.indexOf(t);this.nu.splice(r,1)}}class Ok extends Nk{constructor(t,r,c,d){super(t,r,c,d),this.type="firestore",this._queue=function(){return new NJ}(),this._persistenceKey=(d==null?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p3(this),this._firestoreClient.terminate()}}function RJ(n,t){const r=typeof n=="object"?n:$v(),c=typeof n=="string"?n:t||"(default)",d=sk(r,"firestore").getImmediate({identifier:c});if(!d._initialized){const h=KN("firestore");h&&PJ(d,...h)}return d}function jC(n){return n._firestoreClient||p3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function p3(n){var t,r,c;const d=n._freezeSettings(),h=function(w,m,A,y){return new pY(w,m,A,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,u3(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,d);n._firestoreClient=new EJ(n._authCredentials,n._appCheckCredentials,n._queue,h),!((r=d.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((c=d.localCache)===null||c===void 0)&&c._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this._byteString=t}static fromBase64String(t){try{return new El(jn.fromBase64String(t))}catch(r){throw new we(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new El(jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new we(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new we(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new we(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=/^__.*__$/;class OJ{constructor(t,r,c){this.data=t,this.fieldMask=r,this.fieldTransforms=c}toMutation(t,r){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,r,this.fieldTransforms):new Fh(t,this.data,r,this.fieldTransforms)}}function f3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class FC{constructor(t,r,c,d,h,g){this.settings=t,this.databaseId=r,this.serializer=c,this.ignoreUndefinedProperties=d,h===void 0&&this.Eu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new FC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var r;const c=(r=this.path)===null||r===void 0?void 0:r.child(t),d=this.Au({path:c,Vu:!1});return d.mu(t),d}fu(t){var r;const c=(r=this.path)===null||r===void 0?void 0:r.child(t),d=this.Au({path:c,Vu:!1});return d.Eu(),d}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return Mm(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(f3(this.du)&&BJ.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class LJ{constructor(t,r,c){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=c||Sk(t)}Su(t,r,c,d=!1){return new FC({du:t,methodName:r,wu:c,path:Cn.emptyPath(),Vu:!1,yu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jJ(n){const t=n._freezeSettings(),r=Sk(n._databaseId);return new LJ(n._databaseId,!!t.ignoreUndefinedProperties,r)}function zJ(n,t,r,c,d,h={}){const g=n.Su(h.merge||h.mergeFields?2:0,t,r,d);w3("Data must be an object, but it was:",g,c);const w=k3(c,g);let m,A;if(h.merge)m=new hr(g.fieldMask),A=g.fieldTransforms;else if(h.mergeFields){const y=[];for(const E of h.mergeFields){const v=VJ(t,E,r);if(!g.contains(v))throw new we(oe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);UJ(y,v)||y.push(v)}m=new hr(y),A=g.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,A=g.fieldTransforms;return new OJ(new $i(w),m,A)}function m3(n,t){if(b3(n=dn(n)))return w3("Unsupported field value:",t,n),k3(n,t);if(n instanceof g3)return function(c,d){if(!f3(d.du))throw d.pu(`${c._methodName}() can only be used with update() and set()`);if(!d.path)throw d.pu(`${c._methodName}() is not currently supported inside arrays`);const h=c._toFieldTransform(d);h&&d.fieldTransforms.push(h)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(c,d){const h=[];let g=0;for(const w of c){let m=m3(w,d.gu(g));m==null&&(m={nullValue:"NULL_VALUE"}),h.push(m),g++}return{arrayValue:{values:h}}}(n,t)}return function(c,d){if((c=dn(c))===null)return{nullValue:"NULL_VALUE"};if(typeof c=="number")return BY(d.serializer,c);if(typeof c=="boolean")return{booleanValue:c};if(typeof c=="string")return{stringValue:c};if(c instanceof Date){const h=Xt.fromDate(c);return{timestampValue:Dm(d.serializer,h)}}if(c instanceof Xt){const h=new Xt(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:Dm(d.serializer,h)}}if(c instanceof VC)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof El)return{bytesValue:BB(d.serializer,c._byteString)};if(c instanceof Gi){const h=d.databaseId,g=c.firestore._databaseId;if(!g.isEqual(h))throw d.pu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:EC(c.firestore._databaseId||d.databaseId,c._key.path)}}throw d.pu(`Unsupported field value: ${OC(c)}`)}(n,t)}function k3(n,t){const r={};return lB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bl(n,(c,d)=>{const h=m3(d,t.Ru(c));h!=null&&(r[c]=h)}),{mapValue:{fields:r}}}function b3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof VC||n instanceof El||n instanceof Gi||n instanceof g3)}function w3(n,t,r){if(!b3(r)||!function(d){return typeof d=="object"&&d!==null&&(Object.getPrototypeOf(d)===Object.prototype||Object.getPrototypeOf(d)===null)}(r)){const c=OC(r);throw c==="an object"?t.pu(n+" a custom object"):t.pu(n+" "+c)}}function VJ(n,t,r){if((t=dn(t))instanceof zC)return t._internalPath;if(typeof t=="string")return _3(n,t);throw Mm("Field path arguments must be of type string or ",n,!1,void 0,r)}const FJ=new RegExp("[~\\*/\\[\\]]");function _3(n,t,r){if(t.search(FJ)>=0)throw Mm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new zC(...t.split("."))._internalPath}catch{throw Mm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function Mm(n,t,r,c,d){const h=c&&!c.isEmpty(),g=d!==void 0;let w=`Function ${t}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let m="";return(h||g)&&(m+=" (found",h&&(m+=` in field ${c}`),g&&(m+=` in document ${d}`),m+=")"),new we(oe.INVALID_ARGUMENT,w+n+m)}function UJ(n,t){return n.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t,r,c,d,h){this._firestore=t,this._userDataWriter=r,this._key=c,this._document=d,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(v3("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class HJ extends A3{data(){return super.data()}}function v3(n,t){return typeof t=="string"?_3(n,t):t instanceof zC?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WJ{convertValue(t,r="none"){switch(Va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $t(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(za(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw Ie()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const c={};return Bl(t,(d,h)=>{c[d]=this.convertValue(h,r)}),c}convertGeoPoint(t){return new VC($t(t.latitude),$t(t.longitude))}convertArray(t,r){return(t.values||[]).map(c=>this.convertValue(c,r))}convertServerTimestamp(t,r){switch(r){case"previous":const c=bC(t);return c==null?null:this.convertValue(c,r);case"estimate":return this.convertTimestamp(mh(t));default:return null}}convertTimestamp(t){const r=Ps(t);return new Xt(r.seconds,r.nanos)}convertDocumentKey(t,r){const c=yt.fromString(t);kt(FB(c));const d=new kh(c.get(1),c.get(3)),h=new Ce(c.popFirst(5));return d.isEqual(r)||$r(`Document ${h} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(n,t,r){let c;return c=n?r&&(r.merge||r.mergeFields)?n.toFirestore(t,r):n.toFirestore(t):t,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class C3 extends A3{constructor(t,r,c,d,h,g){super(t,r,c,d,g),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const c=this._document.data.field(v3("DocumentSnapshot.get",t));if(c!==null)return this._userDataWriter.convertValue(c,r.serverTimestamps)}}}class Lf extends C3{data(t={}){return super.data(t)}}class GJ{constructor(t,r,c,d){this._firestore=t,this._userDataWriter=r,this._snapshot=d,this.metadata=new Cu(d.hasPendingWrites,d.fromCache),this.query=c}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(c=>{t.call(r,new Lf(this._firestore,this._userDataWriter,c.key,c,new Cu(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new we(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,h){if(d._snapshot.oldDocs.isEmpty()){let g=0;return d._snapshot.docChanges.map(w=>{const m=new Lf(d._firestore,d._userDataWriter,w.doc.key,w.doc,new Cu(d._snapshot.mutatedKeys.has(w.doc.key),d._snapshot.fromCache),d.query.converter);return w.doc,{type:"added",doc:m,oldIndex:-1,newIndex:g++}})}{let g=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(w=>h||w.type!==3).map(w=>{const m=new Lf(d._firestore,d._userDataWriter,w.doc.key,w.doc,new Cu(d._snapshot.mutatedKeys.has(w.doc.key),d._snapshot.fromCache),d.query.converter);let A=-1,y=-1;return w.type!==0&&(A=g.indexOf(w.doc.key),g=g.delete(w.doc.key)),w.type!==1&&(g=g.add(w.doc),y=g.indexOf(w.doc.key)),{type:KJ(w.type),doc:m,oldIndex:A,newIndex:y}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function KJ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n){n=yl(n,Gi);const t=yl(n.firestore,Ok);return DJ(jC(t),n._key).then(r=>YJ(t,n,r))}class E3 extends WJ{constructor(t){super(),this.firestore=t}convertBytes(t){return new El(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,r)}}function x3(n){n=yl(n,Rk);const t=yl(n.firestore,Ok),r=jC(t),c=new E3(t);return $J(n._query),SJ(r,n._query).then(d=>new GJ(t,c,n,d))}function I3(n,t){const r=yl(n.firestore,Ok),c=LC(n),d=qJ(n.converter,t);return QJ(r,[zJ(jJ(n.firestore),"addDoc",c._key,d,n.converter!==null,{}).toMutation(c._key,Co.exists(!1))]).then(()=>c)}function QJ(n,t){return function(c,d){const h=new zr;return c.asyncQueue.enqueueAndForget(async()=>fJ(await TJ(c),d,h)),h.promise}(jC(n),t)}function YJ(n,t,r){const c=r.docs.get(t._key),d=new E3(n);return new C3(n,d,t._key,c,new Cu(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(d){Rl=d})(qa),La(new Ss("firestore",(c,{instanceIdentifier:d,options:h})=>{const g=c.getProvider("app").getImmediate(),w=new Ok(new ZQ(c.getProvider("auth-internal")),new tY(c.getProvider("app-check-internal")),function(A,y){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new we(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(A.options.projectId,y)}(g,d),g);return h=Object.assign({useFetchStreams:r},h),w._setSettings(h),w},"PUBLIC").setMultipleInstances(!0)),jr(mM,"4.4.3",t),jr(mM,"4.4.3","esm2017")})();function UC(n,t){var r={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&t.indexOf(c)<0&&(r[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(n);d<c.length;d++)t.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(n,c[d])&&(r[c[d]]=n[c[d]]);return r}function T3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZJ=T3,D3=new Dh("auth","Firebase",T3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Uv("@firebase/auth");function JJ(n,...t){Pm.logLevel<=He.WARN&&Pm.warn(`Auth (${qa}): ${n}`,...t)}function jf(n,...t){Pm.logLevel<=He.ERROR&&Pm.error(`Auth (${qa}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,...t){throw HC(n,...t)}function Ur(n,...t){return HC(n,...t)}function XJ(n,t,r){const c=Object.assign(Object.assign({},ZJ()),{[t]:r});return new Dh("auth","Firebase",c).create(t,{appName:n.name})}function HC(n,...t){if(typeof n!="string"){const r=t[0],c=[...t.slice(1)];return c[0]&&(c[0].appName=n.name),n._errorFactory.create(r,...c)}return D3.create(n,...t)}function xe(n,t,...r){if(!n)throw HC(t,...r)}function _o(n){const t="INTERNAL ASSERTION FAILED: "+n;throw jf(t),new Error(t)}function So(n,t){n||_o(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eX(){return YM()==="http:"||YM()==="https:"}function YM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eX()||yG()||"connection"in navigator)?navigator.onLine:!0}function nX(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,r){this.shortDelay=t,this.longDelay=r,So(r>t,"Short delay should be less than long delay!"),this.isMobile=vG()||EG()}get(){return tX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n,t){So(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static initialize(t,r,c){this.fetchImpl=t,r&&(this.headersImpl=r),c&&(this.responseImpl=c)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=new Wh(3e4,6e4);function zs(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Vs(n,t,r,c,d={}){return M3(n,d,async()=>{let h={},g={};c&&(t==="GET"?g=c:h={body:JSON.stringify(c)});const w=Sh(Object.assign({key:n.config.apiKey},g)).slice(1),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),S3.fetch()(P3(n,n.config.apiHost,r,w),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},h))})}async function M3(n,t,r){n._canInitEmulator=!1;const c=Object.assign(Object.assign({},iX),t);try{const d=new sX(n),h=await Promise.race([r(),d.promise]);d.clearNetworkTimeout();const g=await h.json();if("needConfirmation"in g)throw bf(n,"account-exists-with-different-credential",g);if(h.ok&&!("errorMessage"in g))return g;{const w=h.ok?g.errorMessage:g.error.message,[m,A]=w.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(n,"credential-already-in-use",g);if(m==="EMAIL_EXISTS")throw bf(n,"email-already-in-use",g);if(m==="USER_DISABLED")throw bf(n,"user-disabled",g);const y=c[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw XJ(n,y,A);kr(n,y)}}catch(d){if(d instanceof Kr)throw d;kr(n,"network-request-failed",{message:String(d)})}}async function qh(n,t,r,c,d={}){const h=await Vs(n,t,r,c,d);return"mfaPendingCredential"in h&&kr(n,"multi-factor-auth-required",{_serverResponse:h}),h}function P3(n,t,r,c){const d=`${t}${r}?${c}`;return n.config.emulator?$C(n.config,d):`${n.config.apiScheme}://${d}`}function oX(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sX{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,c)=>{this.timer=setTimeout(()=>c(Ur(this.auth,"network-request-failed")),rX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bf(n,t,r){const c={appName:n.name};r.email&&(c.email=r.email),r.phoneNumber&&(c.phoneNumber=r.phoneNumber);const d=Ur(n,t,c);return d.customData._tokenResponse=r,d}function ZM(n){return n!==void 0&&n.enterprise!==void 0}class aX{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return oX(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function cX(n,t){return Vs(n,"GET","/v2/recaptchaConfig",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(n,t){return Vs(n,"POST","/v1/accounts:delete",t)}async function dX(n,t){return Vs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uX(n,t=!1){const r=dn(n),c=await r.getIdToken(t),d=WC(c);xe(d&&d.exp&&d.auth_time&&d.iat,r.auth,"internal-error");const h=typeof d.firebase=="object"?d.firebase:void 0,g=h==null?void 0:h.sign_in_provider;return{claims:d,token:c,authTime:zu(l_(d.auth_time)),issuedAtTime:zu(l_(d.iat)),expirationTime:zu(l_(d.exp)),signInProvider:g||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function l_(n){return Number(n)*1e3}function WC(n){const[t,r,c]=n.split(".");if(t===void 0||r===void 0||c===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const d=qN(r);return d?JSON.parse(d):(jf("Failed to decode base64 JWT payload"),null)}catch(d){return jf("Caught error parsing JWT payload as JSON",d==null?void 0:d.toString()),null}}function hX(n){const t=WC(n);return xe(t,"internal-error"),xe(typeof t.exp<"u","internal-error"),xe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n,t,r=!1){if(r)return t;try{return await t}catch(c){throw c instanceof Kr&&pX(c)&&n.auth.currentUser===n&&await n.auth.signOut(),c}}function pX({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const c=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),c}else{this.errorBackoff=3e4;const d=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(n){var t;const r=n.auth,c=await n.getIdToken(),d=await Ah(n,dX(r,{idToken:c}));xe(d==null?void 0:d.users.length,r,"internal-error");const h=d.users[0];n._notifyReloadListener(h);const g=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?kX(h.providerUserInfo):[],w=mX(n.providerData,g),m=n.isAnonymous,A=!(n.email&&h.passwordHash)&&!(w!=null&&w.length),y=m?A:!1,E={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:w,metadata:new N3(h.createdAt,h.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function fX(n){const t=dn(n);await Nm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mX(n,t){return[...n.filter(c=>!t.some(d=>d.providerId===c.providerId)),...t]}function kX(n){return n.map(t=>{var{providerId:r}=t,c=UC(t,["providerId"]);return{providerId:r,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bX(n,t){const r=await M3(n,{},async()=>{const c=Sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:d,apiKey:h}=n.config,g=P3(n,d,"/v1/token",`key=${h}`),w=await n._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",S3.fetch()(g,{method:"POST",headers:w,body:c})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wX(n,t){return Vs(n,"POST","/v2/accounts:revokeToken",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xe(t.idToken,"internal-error"),xe(typeof t.idToken<"u","internal-error"),xe(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hX(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return xe(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:c,refreshToken:d,expiresIn:h}=await bX(t,r);this.updateTokensAndExpiration(c,d,Number(h))}updateTokensAndExpiration(t,r,c){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+c*1e3}static fromJSON(t,r){const{refreshToken:c,accessToken:d,expirationTime:h}=r,g=new vh;return c&&(xe(typeof c=="string","internal-error",{appName:t}),g.refreshToken=c),d&&(xe(typeof d=="string","internal-error",{appName:t}),g.accessToken=d),h&&(xe(typeof h=="number","internal-error",{appName:t}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return _o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,t){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Da{constructor(t){var{uid:r,auth:c,stsTokenManager:d}=t,h=UC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=c,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new N3(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const r=await Ah(this,this.stsTokenManager.getToken(this.auth,t));return xe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return uX(this,t)}reload(){return fX(this)}_assign(t){this!==t&&(xe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Da(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let c=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),c=!0),r&&await Nm(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ah(this,lX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var c,d,h,g,w,m,A,y;const E=(c=r.displayName)!==null&&c!==void 0?c:void 0,v=(d=r.email)!==null&&d!==void 0?d:void 0,T=(h=r.phoneNumber)!==null&&h!==void 0?h:void 0,P=(g=r.photoURL)!==null&&g!==void 0?g:void 0,O=(w=r.tenantId)!==null&&w!==void 0?w:void 0,j=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,B=(A=r.createdAt)!==null&&A!==void 0?A:void 0,R=(y=r.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:H,isAnonymous:K,providerData:Y,stsTokenManager:Q}=r;xe(z&&Q,t,"internal-error");const X=vh.fromJSON(this.name,Q);xe(typeof z=="string",t,"internal-error"),ts(E,t.name),ts(v,t.name),xe(typeof H=="boolean",t,"internal-error"),xe(typeof K=="boolean",t,"internal-error"),ts(T,t.name),ts(P,t.name),ts(O,t.name),ts(j,t.name),ts(B,t.name),ts(R,t.name);const V=new Da({uid:z,auth:t,email:v,emailVerified:H,displayName:E,isAnonymous:K,photoURL:P,phoneNumber:T,tenantId:O,stsTokenManager:X,createdAt:B,lastLoginAt:R});return Y&&Array.isArray(Y)&&(V.providerData=Y.map(ie=>Object.assign({},ie))),j&&(V._redirectEventId=j),V}static async _fromIdTokenResponse(t,r,c=!1){const d=new vh;d.updateFromServerResponse(r);const h=new Da({uid:r.localId,auth:t,stsTokenManager:d,isAnonymous:c});return await Nm(h),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Map;function Ao(n){So(n instanceof Function,"Expected a class definition");let t=JM.get(n);return t?(So(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,JM.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}R3.type="NONE";const XM=R3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,t,r){return`firebase:${n}:${t}:${r}`}class al{constructor(t,r,c){this.persistence=t,this.auth=r,this.userKey=c;const{config:d,name:h}=this.auth;this.fullUserKey=zf(this.userKey,d.apiKey,h),this.fullPersistenceKey=zf("persistence",d.apiKey,h),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Da._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,c="authUser"){if(!r.length)return new al(Ao(XM),t,c);const d=(await Promise.all(r.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let h=d[0]||Ao(XM);const g=zf(c,t.config.apiKey,t.name);let w=null;for(const A of r)try{const y=await A._get(g);if(y){const E=Da._fromJSON(t,y);A!==h&&(w=E),h=A;break}}catch{}const m=d.filter(A=>A._shouldAllowMigration);return!h._shouldAllowMigration||!m.length?new al(h,t,c):(h=m[0],w&&await h._set(g,w.toJSON()),await Promise.all(r.map(async A=>{if(A!==h)try{await A._remove(g)}catch{}})),new al(h,t,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(L3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z3(t))return"Blackberry";if(V3(t))return"Webos";if(qC(t))return"Safari";if((t.includes("chrome/")||O3(t))&&!t.includes("edge/"))return"Chrome";if(j3(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,c=n.match(r);if((c==null?void 0:c.length)===2)return c[1]}return"Other"}function B3(n=qt()){return/firefox\//i.test(n)}function qC(n=qt()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O3(n=qt()){return/crios\//i.test(n)}function L3(n=qt()){return/iemobile/i.test(n)}function j3(n=qt()){return/android/i.test(n)}function z3(n=qt()){return/blackberry/i.test(n)}function V3(n=qt()){return/webos/i.test(n)}function Lk(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _X(n=qt()){var t;return Lk(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AX(){return xG()&&document.documentMode===10}function F3(n=qt()){return Lk(n)||j3(n)||V3(n)||z3(n)||/windows phone/i.test(n)||L3(n)}function vX(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(n,t=[]){let r;switch(n){case"Browser":r=eP(qt());break;case"Worker":r=`${eP(qt())}-${n}`;break;default:r=n}const c=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${qa}/${c}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const c=h=>new Promise((g,w)=>{try{const m=t(h);g(m)}catch(m){w(m)}});c.onAbort=r,this.queue.push(c);const d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const c of this.queue)await c(t),c.onAbort&&r.push(c.onAbort)}catch(c){r.reverse();for(const d of r)try{d()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:c==null?void 0:c.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yX(n,t={}){return Vs(n,"GET","/v2/passwordPolicy",zs(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=6;class xX{constructor(t){var r,c,d,h;const g=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=g.minPasswordLength)!==null&&r!==void 0?r:EX,g.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=g.maxPasswordLength),g.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=g.containsLowercaseCharacter),g.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=g.containsUppercaseCharacter),g.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=g.containsNumericCharacter),g.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=g.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(d=(c=t.allowedNonAlphanumericCharacters)===null||c===void 0?void 0:c.join(""))!==null&&d!==void 0?d:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,c,d,h,g,w;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(r=m.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(c=m.meetsMaxPasswordLength)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsLowercaseLetter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(h=m.containsUppercaseLetter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(g=m.containsNumericCharacter)!==null&&g!==void 0?g:!0),m.isValid&&(m.isValid=(w=m.containsNonAlphanumericCharacter)!==null&&w!==void 0?w:!0),m}validatePasswordLengthOptions(t,r){const c=this.customStrengthOptions.minPasswordLength,d=this.customStrengthOptions.maxPasswordLength;c&&(r.meetsMinPasswordLength=t.length>=c),d&&(r.meetsMaxPasswordLength=t.length<=d)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let c;for(let d=0;d<t.length;d++)c=t.charAt(d),this.updatePasswordCharacterOptionsStatuses(r,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(t,r,c,d,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=d)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(t,r,c,d){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=c,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tP(this),this.idTokenSubscription=new tP(this),this.beforeStateQueue=new CX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ao(r)),this._initializationPromise=this.queue(async()=>{var c,d;if(!this._deleted&&(this.persistenceManager=await al.create(this,t),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((d=this.currentUser)===null||d===void 0?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const c=await this.assertedPersistence.getCurrentUser();let d=c,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const g=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,w=d==null?void 0:d._redirectEventId,m=await this.tryRedirectSignIn(t);(!g||g===w)&&(m!=null&&m.user)&&(d=m.user,h=!0)}if(!d)return this.directlySetCurrentUser(null);if(!d._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(d)}catch(g){d=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(g))}return d?this.reloadAndSetCurrentUserOrClear(d):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===d._redirectEventId?this.directlySetCurrentUser(d):this.reloadAndSetCurrentUserOrClear(d)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Nm(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nX()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?dn(t):null;return r&&xe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&xe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yX(this),r=new xX(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dh("auth","Firebase",t())}onAuthStateChanged(t,r,c){return this.registerStateListener(this.authStateSubscription,t,r,c)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,c){return this.registerStateListener(this.idTokenSubscription,t,r,c)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const c=this.onAuthStateChanged(()=>{c(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),c={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(c.tenantId=this.tenantId),await wX(this,c)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const c=await this.getOrInitRedirectPersistenceManager(r);return t===null?c.removeCurrentUser():c.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ao(t)||this._popupRedirectResolver;xe(r,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Ao(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,c;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((c=this.redirectUser)===null||c===void 0?void 0:c._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,c,d){if(this._deleted)return()=>{};const h=typeof r=="function"?r:r.next.bind(r);let g=!1;const w=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(w,this,"internal-error"),w.then(()=>{g||h(this.currentUser)}),typeof r=="function"){const m=t.addObserver(r,c,d);return()=>{g=!0,m()}}else{const m=t.addObserver(r);return()=>{g=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=U3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const c=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());c&&(r["X-Firebase-Client"]=c);const d=await this._getAppCheckToken();return d&&(r["X-Firebase-AppCheck"]=d),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&JJ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ya(n){return dn(n)}class tP{constructor(t){this.auth=t,this.observer=null,this.addObserver=NG(r=>this.observer=r)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TX(n){jk=n}function H3(n){return jk.loadJS(n)}function DX(){return jk.recaptchaEnterpriseScript}function SX(){return jk.gapiScript}function MX(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const PX="recaptcha-enterprise",NX="NO_RECAPTCHA";class RX{constructor(t){this.type=PX,this.auth=Ya(t)}async verify(t="verify",r=!1){async function c(h){if(!r){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(g,w)=>{cX(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)w(new Error("recaptcha Enterprise site key undefined"));else{const A=new aX(m);return h.tenantId==null?h._agentRecaptchaConfig=A:h._tenantRecaptchaConfigs[h.tenantId]=A,g(A.siteKey)}}).catch(m=>{w(m)})})}function d(h,g,w){const m=window.grecaptcha;ZM(m)?m.enterprise.ready(()=>{m.enterprise.execute(h,{action:t}).then(A=>{g(A)}).catch(()=>{g(NX)})}):w(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((h,g)=>{c(this.auth).then(w=>{if(!r&&ZM(window.grecaptcha))d(w,h,g);else{if(typeof window>"u"){g(new Error("RecaptchaVerifier is only supported in browser"));return}let m=DX();m.length!==0&&(m+=w),H3(m).then(()=>{d(w,h,g)}).catch(A=>{g(A)})}}).catch(w=>{g(w)})})}}async function nP(n,t,r,c=!1){const d=new RX(n);let h;try{h=await d.verify(r)}catch{h=await d.verify(r,!0)}const g=Object.assign({},t);return c?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function zA(n,t,r,c){var d;if(!((d=n._getRecaptchaConfig())===null||d===void 0)&&d.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await nP(n,t,r,r==="getOobCode");return c(n,h)}else return c(n,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await nP(n,t,r,r==="getOobCode");return c(n,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(n,t){const r=sk(n,"auth");if(r.isInitialized()){const d=r.getImmediate(),h=r.getOptions();if(mm(h,t??{}))return d;kr(d,"already-initialized")}return r.initialize({options:t})}function OX(n,t){const r=(t==null?void 0:t.persistence)||[],c=(Array.isArray(r)?r:[r]).map(Ao);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(c,t==null?void 0:t.popupRedirectResolver)}function LX(n,t,r){const c=Ya(n);xe(c._canInitEmulator,c,"emulator-config-failed"),xe(/^https?:\/\//.test(t),c,"invalid-emulator-scheme");const d=!!(r!=null&&r.disableWarnings),h=$3(t),{host:g,port:w}=jX(t),m=w===null?"":`:${w}`;c.config.emulator={url:`${h}//${g}${m}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:g,port:w,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:d})}),d||zX()}function $3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function jX(n){const t=$3(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!r)return{host:"",port:null};const c=r[2].split("@").pop()||"",d=/^(\[[^\]]+\])(:|$)/.exec(c);if(d){const h=d[1];return{host:h,port:iP(c.substr(h.length+1))}}else{const[h,g]=c.split(":");return{host:h,port:iP(g)}}}function iP(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function zX(){function n(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return _o("not implemented")}_getIdTokenResponse(t){return _o("not implemented")}_linkToIdToken(t,r){return _o("not implemented")}_getReauthenticationResolver(t){return _o("not implemented")}}async function VX(n,t){return Vs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FX(n,t){return qh(n,"POST","/v1/accounts:signInWithPassword",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UX(n,t){return qh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,t))}async function HX(n,t){return qh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends GC{constructor(t,r,c,d=null){super("password",c),this._email=t,this._password=r,this._tenantId=d}static _fromEmailAndPassword(t,r){return new Ch(t,r,"password")}static _fromEmailAndCode(t,r,c=null){return new Ch(t,r,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zA(t,r,"signInWithPassword",FX);case"emailLink":return UX(t,{email:this._email,oobCode:this._password});default:kr(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const c={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zA(t,c,"signUpPassword",VX);case"emailLink":return HX(t,{idToken:r,email:this._email,oobCode:this._password});default:kr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,t){return qh(n,"POST","/v1/accounts:signInWithIdp",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X="http://localhost";class Fa extends GC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):kr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:c,signInMethod:d}=r,h=UC(r,["providerId","signInMethod"]);if(!c||!d)return null;const g=new Fa(c,d);return g.idToken=h.idToken||void 0,g.accessToken=h.accessToken||void 0,g.secret=h.secret,g.nonce=h.nonce,g.pendingToken=h.pendingToken||null,g}_getIdTokenResponse(t){const r=this.buildRequest();return cl(t,r)}_linkToIdToken(t,r){const c=this.buildRequest();return c.idToken=r,cl(t,c)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,cl(t,r)}buildRequest(){const t={requestUri:$X,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Sh(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qX(n){const t=ku(bu(n)).link,r=t?ku(bu(t)).deep_link_id:null,c=ku(bu(n)).deep_link_id;return(c?ku(bu(c)).link:null)||c||r||t||n}class KC{constructor(t){var r,c,d,h,g,w;const m=ku(bu(t)),A=(r=m.apiKey)!==null&&r!==void 0?r:null,y=(c=m.oobCode)!==null&&c!==void 0?c:null,E=WX((d=m.mode)!==null&&d!==void 0?d:null);xe(A&&y&&E,"argument-error"),this.apiKey=A,this.operation=E,this.code=y,this.continueUrl=(h=m.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(g=m.languageCode)!==null&&g!==void 0?g:null,this.tenantId=(w=m.tenantId)!==null&&w!==void 0?w:null}static parseLink(t){const r=qX(t);try{return new KC(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(t,r){return Ch._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const c=KC.parseLink(r);return xe(c,"argument-error"),Ch._fromEmailAndCode(t,c.code,c.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends W3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Gh{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Fa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:c}=t;if(!r&&!c)return null;try{return as.credential(r,c)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Gh{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Gh{constructor(){super("twitter.com")}static credential(t,r){return Fa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:c}=t;if(!r||!c)return null;try{return ls.credential(r,c)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GX(n,t){return qh(n,"POST","/v1/accounts:signUp",zs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,c,d=!1){const h=await Da._fromIdTokenResponse(t,c,d),g=rP(c);return new Ua({user:h,providerId:g,_tokenResponse:c,operationType:r})}static async _forOperation(t,r,c){await t._updateTokensIfNecessary(c,!0);const d=rP(c);return new Ua({user:t,providerId:d,_tokenResponse:c,operationType:r})}}function rP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Kr{constructor(t,r,c,d){var h;super(r.code,r.message),this.operationType=c,this.user=d,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:r.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(t,r,c,d){return new Rm(t,r,c,d)}}function q3(n,t,r,c){return(t==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(n,h,t,c):h})}async function KX(n,t,r=!1){const c=await Ah(n,t._linkToIdToken(n.auth,await n.getIdToken()),r);return Ua._forOperation(n,"link",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QX(n,t,r=!1){const{auth:c}=n,d="reauthenticate";try{const h=await Ah(n,q3(c,d,t,n),r);xe(h.idToken,c,"internal-error");const g=WC(h.idToken);xe(g,c,"internal-error");const{sub:w}=g;return xe(n.uid===w,c,"user-mismatch"),Ua._forOperation(n,d,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&kr(c,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,t,r=!1){const c="signIn",d=await q3(n,c,t),h=await Ua._fromIdTokenResponse(n,c,d);return r||await n._updateCurrentUser(h.user),h}async function YX(n,t){return G3(Ya(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(n){const t=Ya(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ZX(n,t,r){const c=Ya(n),g=await zA(c,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GX).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&K3(n),m}),w=await Ua._fromIdTokenResponse(c,"signIn",g);return await c._updateCurrentUser(w.user),w}function JX(n,t,r){return YX(dn(n),jl.credential(t,r)).catch(async c=>{throw c.code==="auth/password-does-not-meet-requirements"&&K3(n),c})}function XX(n,t,r,c){return dn(n).onIdTokenChanged(t,r,c)}function eee(n,t,r){return dn(n).beforeAuthStateChanged(t,r)}function tee(n,t,r,c){return dn(n).onAuthStateChanged(t,r,c)}function nee(n){return dn(n).signOut()}const Bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(){const n=qt();return qC(n)||Lk(n)}const ree=1e3,oee=10;class Y3 extends Q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iee()&&vX(),this.fallbackToPolling=F3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const c=this.storage.getItem(r),d=this.localCache[r];c!==d&&t(r,d,c)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((g,w,m)=>{this.notifyListeners(g,m)});return}const c=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const g=this.storage.getItem(c);if(t.newValue!==g)t.newValue!==null?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!r)return}const d=()=>{const g=this.storage.getItem(c);!r&&this.localCache[c]===g||this.notifyListeners(c,g)},h=this.storage.getItem(c);AX()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(d,oee):d()}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const d of Array.from(c))d(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:c}),!0)})},ree)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y3.type="LOCAL";const see=Y3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3 extends Q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}Z3.type="SESSION";const J3=Z3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aee(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(d=>d.isListeningto(t));if(r)return r;const c=new zk(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:c,eventType:d,data:h}=r.data,g=this.handlersMap[d];if(!(g!=null&&g.size))return;r.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const w=Array.from(g).map(async A=>A(r.origin,h)),m=await aee(w);r.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:m})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n="",t=10){let r="";for(let c=0;c<t;c++)r+=Math.floor(Math.random()*10);return n+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,c=50){const d=typeof MessageChannel<"u"?new MessageChannel:null;if(!d)throw new Error("connection_unavailable");let h,g;return new Promise((w,m)=>{const A=QC("",20);d.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},c);g={messageChannel:d,onMessage(E){const v=E;if(v.data.eventId===A)switch(v.data.status){case"ack":clearTimeout(y),h=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),w(v.data.response);break;default:clearTimeout(y),clearTimeout(h),m(new Error("invalid_response"));break}}},this.handlers.add(g),d.port1.addEventListener("message",g.onMessage),this.target.postMessage({eventType:t,eventId:A,data:r},[d.port2])}).finally(()=>{g&&this.removeMessageHandler(g)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function lee(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function dee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uee(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hee(){return X3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="firebaseLocalStorageDb",pee=1,Om="firebaseLocalStorage",tO="fbase_key";class Kh{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Vk(n,t){return n.transaction([Om],t?"readwrite":"readonly").objectStore(Om)}function gee(){const n=indexedDB.deleteDatabase(eO);return new Kh(n).toPromise()}function VA(){const n=indexedDB.open(eO,pee);return new Promise((t,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const c=n.result;try{c.createObjectStore(Om,{keyPath:tO})}catch(d){r(d)}}),n.addEventListener("success",async()=>{const c=n.result;c.objectStoreNames.contains(Om)?t(c):(c.close(),await gee(),t(await VA()))})})}async function oP(n,t,r){const c=Vk(n,!0).put({[tO]:t,value:r});return new Kh(c).toPromise()}async function fee(n,t){const r=Vk(n,!1).get(t),c=await new Kh(r).toPromise();return c===void 0?null:c.value}function sP(n,t){const r=Vk(n,!0).delete(t);return new Kh(r).toPromise()}const mee=800,kee=3;class nO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VA(),this.db)}async _withRetries(t){let r=0;for(;;)try{const c=await this._openDb();return await t(c)}catch(c){if(r++>kee)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zk._getInstance(hee()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await dee(),!this.activeServiceWorker)return;this.sender=new cee(this.activeServiceWorker);const c=await this.sender._send("ping",{},800);c&&!((t=c[0])===null||t===void 0)&&t.fulfilled&&!((r=c[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await VA();return await oP(t,Bm,"1"),await sP(t,Bm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(c=>oP(c,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(c=>fee(c,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(d=>{const h=Vk(d,!1).getAll();return new Kh(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],c=new Set;if(t.length!==0)for(const{fbase_key:d,value:h}of t)c.add(d),JSON.stringify(this.localCache[d])!==JSON.stringify(h)&&(this.notifyListeners(d,h),r.push(d));for(const d of Object.keys(this.localCache))this.localCache[d]&&!c.has(d)&&(this.notifyListeners(d,null),r.push(d));return r}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const d of Array.from(c))d(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nO.type="LOCAL";const bee=nO;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(n,t){return t?Ao(t):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends GC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cl(t,this._buildIdpRequest())}_linkToIdToken(t,r){return cl(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return cl(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function _ee(n){return G3(n.auth,new YC(n),n.bypassAuthState)}function Aee(n){const{auth:t,user:r}=n;return xe(r,t,"internal-error"),QX(r,new YC(n),n.bypassAuthState)}async function vee(n){const{auth:t,user:r}=n;return xe(r,t,"internal-error"),KX(r,new YC(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,r,c,d,h=!1){this.auth=t,this.resolver=c,this.user=d,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:c,postBody:d,tenantId:h,error:g,type:w}=t;if(g){this.reject(g);return}const m={auth:this.auth,requestUri:r,sessionId:c,tenantId:h||void 0,postBody:d||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(w)(m))}catch(A){this.reject(A)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _ee;case"linkViaPopup":case"linkViaRedirect":return vee;case"reauthViaPopup":case"reauthViaRedirect":return Aee;default:kr(this.auth,"internal-error")}}resolve(t){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=new Wh(2e3,1e4);class Yc extends iO{constructor(t,r,c,d,h){super(t,r,d,h),this.provider=c,this.authWindow=null,this.pollId=null,Yc.currentPopupAction&&Yc.currentPopupAction.cancel(),Yc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xe(t,this.auth,"internal-error"),t}async onExecution(){So(this.filter.length===1,"Popup operations only handle one event");const t=QC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,c;if(!((c=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||c===void 0)&&c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cee.get())};t()}}Yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee="pendingRedirect",Vf=new Map;class Eee extends iO{constructor(t,r,c=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,c),this.eventId=null}async execute(){let t=Vf.get(this.auth._key());if(!t){try{const c=await xee(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(c)}catch(r){t=()=>Promise.reject(r)}Vf.set(this.auth._key(),t)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xee(n,t){const r=Dee(t),c=Tee(n);if(!await c._isAvailable())return!1;const d=await c._get(r)==="true";return await c._remove(r),d}function Iee(n,t){Vf.set(n._key(),t)}function Tee(n){return Ao(n._redirectPersistence)}function Dee(n){return zf(yee,n.config.apiKey,n.name)}async function See(n,t,r=!1){const c=Ya(n),d=wee(c,t),g=await new Eee(c,d,r).execute();return g&&!r&&(delete g.user._redirectEventId,await c._persistUserIfCurrent(g.user),await c._setRedirectUser(null,t)),g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=10*60*1e3;class Pee{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(t,c)&&(r=!0,this.sendToConsumer(t,c),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nee(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var c;if(t.error&&!rO(t)){const d=((c=t.error.code)===null||c===void 0?void 0:c.split("auth/")[1])||"internal-error";r.onError(Ur(this.auth,d))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const c=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&c}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mee&&this.cachedEventUids.clear(),this.cachedEventUids.has(aP(t))}saveEventToCache(t){this.cachedEventUids.add(aP(t)),this.lastProcessedEventTime=Date.now()}}function aP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function rO({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ree(n,t={}){return Vs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oee=/^https?/;async function Lee(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Ree(n);for(const r of t)try{if(jee(r))return}catch{}kr(n,"unauthorized-domain")}function jee(n){const t=jA(),{protocol:r,hostname:c}=new URL(t);if(n.startsWith("chrome-extension://")){const g=new URL(n);return g.hostname===""&&c===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&g.hostname===c}if(!Oee.test(r))return!1;if(Bee.test(n))return c===n;const d=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(c)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee=new Wh(3e4,6e4);function cP(){const n=Hr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function Vee(n){return new Promise((t,r)=>{var c,d,h;function g(){cP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cP(),r(Ur(n,"network-request-failed"))},timeout:zee.get()})}if(!((d=(c=Hr().gapi)===null||c===void 0?void 0:c.iframes)===null||d===void 0)&&d.Iframe)t(gapi.iframes.getContext());else if(!((h=Hr().gapi)===null||h===void 0)&&h.load)g();else{const w=MX("iframefcb");return Hr()[w]=()=>{gapi.load?g():r(Ur(n,"network-request-failed"))},H3(`${SX()}?onload=${w}`).catch(m=>r(m))}}).catch(t=>{throw Ff=null,t})}let Ff=null;function Fee(n){return Ff=Ff||Vee(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=new Wh(5e3,15e3),Hee="__/auth/iframe",$ee="emulator/auth/iframe",Wee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gee(n){const t=n.config;xe(t.authDomain,n,"auth-domain-config-required");const r=t.emulator?$C(t,$ee):`https://${n.config.authDomain}/${Hee}`,c={apiKey:t.apiKey,appName:n.name,v:qa},d=qee.get(n.config.apiHost);d&&(c.eid=d);const h=n._getFrameworks();return h.length&&(c.fw=h.join(",")),`${r}?${Sh(c).slice(1)}`}async function Kee(n){const t=await Fee(n),r=Hr().gapi;return xe(r,n,"internal-error"),t.open({where:document.body,url:Gee(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wee,dontclear:!0},c=>new Promise(async(d,h)=>{await c.restyle({setHideOnLeave:!1});const g=Ur(n,"network-request-failed"),w=Hr().setTimeout(()=>{h(g)},Uee.get());function m(){Hr().clearTimeout(w),d(c)}c.ping(m).then(m,()=>{h(g)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yee=500,Zee=600,Jee="_blank",Xee="http://localhost";class lP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ete(n,t,r,c=Yee,d=Zee){const h=Math.max((window.screen.availHeight-d)/2,0).toString(),g=Math.max((window.screen.availWidth-c)/2,0).toString();let w="";const m=Object.assign(Object.assign({},Qee),{width:c.toString(),height:d.toString(),top:h,left:g}),A=qt().toLowerCase();r&&(w=O3(A)?Jee:r),B3(A)&&(t=t||Xee,m.scrollbars="yes");const y=Object.entries(m).reduce((v,[T,P])=>`${v}${T}=${P},`,"");if(_X(A)&&w!=="_self")return tte(t||"",w),new lP(null);const E=window.open(t||"",w,y);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new lP(E)}function tte(n,t){const r=document.createElement("a");r.href=n,r.target=t;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte="__/auth/handler",ite="emulator/auth/handler",rte=encodeURIComponent("fac");async function dP(n,t,r,c,d,h){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const g={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:c,v:qa,eventId:d};if(t instanceof W3){t.setDefaultLanguage(n.languageCode),g.providerId=t.providerId||"",PG(t.getCustomParameters())||(g.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries(h||{}))g[y]=E}if(t instanceof Gh){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(g.scopes=y.join(","))}n.tenantId&&(g.tid=n.tenantId);const w=g;for(const y of Object.keys(w))w[y]===void 0&&delete w[y];const m=await n._getAppCheckToken(),A=m?`#${rte}=${encodeURIComponent(m)}`:"";return`${ote(n)}?${Sh(w).slice(1)}${A}`}function ote({config:n}){return n.emulator?$C(n,ite):`https://${n.authDomain}/${nte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="webStorageSupport";class ste{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J3,this._completeRedirectFn=See,this._overrideRedirectResult=Iee}async _openPopup(t,r,c,d){var h;So((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const g=await dP(t,r,c,jA(),d);return ete(t,g,QC())}async _openRedirect(t,r,c,d){await this._originValidation(t);const h=await dP(t,r,c,jA(),d);return lee(h),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:d,promise:h}=this.eventManagers[r];return d?Promise.resolve(d):(So(h,"If manager is not set, promise should be"),h)}const c=this.initAndGetManager(t);return this.eventManagers[r]={promise:c},c.catch(()=>{delete this.eventManagers[r]}),c}async initAndGetManager(t){const r=await Kee(t),c=new Pee(t);return r.register("authEvent",d=>(xe(d==null?void 0:d.authEvent,t,"invalid-auth-event"),{status:c.onEvent(d.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:c},this.iframes[t._key()]=r,c}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(d_,{type:d_},d=>{var h;const g=(h=d==null?void 0:d[0])===null||h===void 0?void 0:h[d_];g!==void 0&&r(!!g),kr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Lee(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return F3()||qC()||Lk()}}const ate=ste;var uP="@firebase/auth",hP="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(c=>{t((c==null?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dte(n){La(new Ss("auth",(t,{options:r})=>{const c=t.getProvider("app").getImmediate(),d=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:g,authDomain:w}=c.options;xe(g&&!g.includes(":"),"invalid-api-key",{appName:c.name});const m={apiKey:g,authDomain:w,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U3(n)},A=new IX(c,d,h,m);return OX(A,r),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,c)=>{t.getProvider("auth-internal").initialize()})),La(new Ss("auth-internal",t=>{const r=Ya(t.getProvider("auth").getImmediate());return(c=>new cte(c))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(uP,hP,lte(n)),jr(uP,hP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=5*60,hte=YN("authIdTokenMaxAge")||ute;let pP=null;const pte=n=>async t=>{const r=t&&await t.getIdTokenResult(),c=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(c&&c>hte)return;const d=r==null?void 0:r.token;pP!==d&&(pP=d,await fetch(n,{method:d?"POST":"DELETE",headers:d?{Authorization:`Bearer ${d}`}:{}}))};function gte(n=$v()){const t=sk(n,"auth");if(t.isInitialized())return t.getImmediate();const r=BX(n,{popupRedirectResolver:ate,persistence:[bee,see,J3]}),c=YN("authTokenSyncURL");if(c){const h=pte(c);eee(r,h,()=>h(r.currentUser)),XX(r,g=>h(g))}const d=GN("auth");return d&&LX(r,`http://${d}`),r}function fte(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}TX({loadJS(n){return new Promise((t,r)=>{const c=document.createElement("script");c.setAttribute("src",n),c.onload=t,c.onerror=d=>{const h=Ur("internal-error");h.customData=d,r(h)},c.type="text/javascript",c.charset="UTF-8",fte().appendChild(c)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebasestorage.googleapis.com",sO="storageBucket",mte=2*60*1e3,kte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends Kr{constructor(t,r,c=0){super(u_(t),`Firebase Storage: ${r} (${u_(t)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return u_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function u_(n){return"storage/"+n}function ZC(){const n="An unknown error occurred, please check the error payload for server response.";return new Bt(Rt.UNKNOWN,n)}function bte(n){return new Bt(Rt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wte(n){return new Bt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _te(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Rt.UNAUTHENTICATED,n)}function Ate(){return new Bt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vte(n){return new Bt(Rt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Cte(){return new Bt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yte(){return new Bt(Rt.CANCELED,"User canceled the upload/download.")}function Ete(n){return new Bt(Rt.INVALID_URL,"Invalid URL '"+n+"'.")}function xte(n){return new Bt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ite(){return new Bt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sO+"' property when initializing the app?")}function Tte(){return new Bt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dte(){return new Bt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ste(n){return new Bt(Rt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function FA(n){return new Bt(Rt.INVALID_ARGUMENT,n)}function aO(){return new Bt(Rt.APP_DELETED,"The Firebase app was deleted.")}function Mte(n){return new Bt(Rt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(n,t){return new Bt(Rt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function hu(n){throw new Bt(Rt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let c;try{c=Ei.makeFromUrl(t,r)}catch{return new Ei(t,"")}if(c.path==="")return c;throw xte(t)}static makeFromUrl(t,r){let c=null;const d="([A-Za-z0-9.\\-_]+)";function h(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const g="(/(.*))?$",w=new RegExp("^gs://"+d+g,"i"),m={bucket:1,path:3};function A(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",E=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${E}/${y}/b/${d}/o${v}`,"i"),P={bucket:1,path:3},O=r===oO?"(?:storage.googleapis.com|storage.cloud.google.com)":r,j="([^?#]*)",B=new RegExp(`^https?://${O}/${d}/${j}`,"i"),z=[{regex:w,indices:m,postModify:h},{regex:T,indices:P,postModify:A},{regex:B,indices:{bucket:1,path:2},postModify:A}];for(let H=0;H<z.length;H++){const K=z[H],Y=K.regex.exec(t);if(Y){const Q=Y[K.indices.bucket];let X=Y[K.indices.path];X||(X=""),c=new Ei(Q,X),K.postModify(c);break}}if(c==null)throw Ete(t);return c}}class Pte{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(n,t,r){let c=1,d=null,h=null,g=!1,w=0;function m(){return w===2}let A=!1;function y(...j){A||(A=!0,t.apply(null,j))}function E(j){d=setTimeout(()=>{d=null,n(T,m())},j)}function v(){h&&clearTimeout(h)}function T(j,...B){if(A){v();return}if(j){v(),y.call(null,j,...B);return}if(m()||g){v(),y.call(null,j,...B);return}c<64&&(c*=2);let z;w===1?(w=2,z=0):z=(c+Math.random())*1e3,E(z)}let P=!1;function O(j){P||(P=!0,v(),!A&&(d!==null?(j||(w=2),clearTimeout(d),E(0)):j||(w=1)))}return E(0),h=setTimeout(()=>{g=!0,O(!0)},r),O}function Rte(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(n){return n!==void 0}function Ote(n){return typeof n=="object"&&!Array.isArray(n)}function JC(n){return typeof n=="string"||n instanceof String}function gP(n){return XC()&&n instanceof Blob}function XC(){return typeof Blob<"u"}function fP(n,t,r,c){if(c<t)throw FA(`Invalid value for '${n}'. Expected ${t} or greater.`);if(c>r)throw FA(`Invalid value for '${n}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n,t,r){let c=t;return r==null&&(c=`https://${t}`),`${r}://${c}/v0${n}`}function cO(n){const t=encodeURIComponent;let r="?";for(const c in n)if(n.hasOwnProperty(c)){const d=t(c)+"="+t(n[c]);r=r+d+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sa||(Sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(n,t){const r=n>=500&&n<600,d=[408,429].indexOf(n)!==-1,h=t.indexOf(n)!==-1;return r||d||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(t,r,c,d,h,g,w,m,A,y,E,v=!0){this.url_=t,this.method_=r,this.headers_=c,this.body_=d,this.successCodes_=h,this.additionalRetryCodes_=g,this.callback_=w,this.errorCallback_=m,this.timeout_=A,this.progressCallback_=y,this.connectionFactory_=E,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,P)=>{this.resolve_=T,this.reject_=P,this.start_()})}start_(){const t=(c,d)=>{if(d){c(!1,new wf(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const g=w=>{const m=w.loaded,A=w.lengthComputable?w.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,A)};this.progressCallback_!==null&&h.addUploadProgressListener(g),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(g),this.pendingConnection_=null;const w=h.getErrorCode()===Sa.NO_ERROR,m=h.getStatus();if(!w||Lte(m,this.additionalRetryCodes_)&&this.retry){const y=h.getErrorCode()===Sa.ABORT;c(!1,new wf(!1,null,y));return}const A=this.successCodes_.indexOf(m)!==-1;c(!0,new wf(A,h))})},r=(c,d)=>{const h=this.resolve_,g=this.reject_,w=d.connection;if(d.wasSuccessCode)try{const m=this.callback_(w,w.getResponse());Bte(m)?h(m):h()}catch(m){g(m)}else if(w!==null){const m=ZC();m.serverResponse=w.getErrorText(),this.errorCallback_?g(this.errorCallback_(w,m)):g(m)}else if(d.canceled){const m=this.appDelete_?aO():yte();g(m)}else{const m=Cte();g(m)}};this.canceled_?r(!1,new wf(!1,null,!0)):this.backoffId_=Nte(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Rte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(t,r,c){this.wasSuccessCode=t,this.connection=r,this.canceled=!!c}}function zte(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function Vte(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Fte(n,t){t&&(n["X-Firebase-GMPID"]=t)}function Ute(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function Hte(n,t,r,c,d,h,g=!0){const w=cO(n.urlParams),m=n.url+w,A=Object.assign({},n.headers);return Fte(A,t),zte(A,r),Vte(A,h),Ute(A,c),new jte(m,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,d,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wte(...n){const t=$te();if(t!==void 0){const r=new t;for(let c=0;c<n.length;c++)r.append(n[c]);return r.getBlob()}else{if(XC())return new Blob(n);throw new Bt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qte(n,t,r){return n.webkitSlice?n.webkitSlice(t,r):n.mozSlice?n.mozSlice(t,r):n.slice?n.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(n){if(typeof atob>"u")throw Ste("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class h_{constructor(t,r){this.data=t,this.contentType=r||null}}function Kte(n,t){switch(n){case Br.RAW:return new h_(lO(t));case Br.BASE64:case Br.BASE64URL:return new h_(dO(n,t));case Br.DATA_URL:return new h_(Yte(t),Zte(t))}throw ZC()}function lO(n){const t=[];for(let r=0;r<n.length;r++){let c=n.charCodeAt(r);if(c<=127)t.push(c);else if(c<=2047)t.push(192|c>>6,128|c&63);else if((c&64512)===55296)if(!(r<n.length-1&&(n.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const h=c,g=n.charCodeAt(++r);c=65536|(h&1023)<<10|g&1023,t.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}else(c&64512)===56320?t.push(239,191,189):t.push(224|c>>12,128|c>>6&63,128|c&63)}return new Uint8Array(t)}function Qte(n){let t;try{t=decodeURIComponent(n)}catch{throw Vu(Br.DATA_URL,"Malformed data URL.")}return lO(t)}function dO(n,t){switch(n){case Br.BASE64:{const d=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(d||h)throw Vu(n,"Invalid character '"+(d?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const d=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(d||h)throw Vu(n,"Invalid character '"+(d?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Gte(t)}catch(d){throw d.message.includes("polyfill")?d:Vu(n,"Invalid character found")}const c=new Uint8Array(r.length);for(let d=0;d<r.length;d++)c[d]=r.charCodeAt(d);return c}class uO{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Vu(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=r[1]||null;c!=null&&(this.base64=Jte(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=t.substring(t.indexOf(",")+1)}}function Yte(n){const t=new uO(n);return t.base64?dO(Br.BASE64,t.rest):Qte(t.rest)}function Zte(n){return new uO(n).contentType}function Jte(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,r){let c=0,d="";gP(t)?(this.data_=t,c=t.size,d=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),c=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),c=t.length),this.size_=c,this.type_=d}size(){return this.size_}type(){return this.type_}slice(t,r){if(gP(this.data_)){const c=this.data_,d=qte(c,t,r);return d===null?null:new ds(d)}else{const c=new Uint8Array(this.data_.buffer,t,r-t);return new ds(c,!0)}}static getBlob(...t){if(XC()){const r=t.map(c=>c instanceof ds?c.data_:c);return new ds(Wte.apply(null,r))}else{const r=t.map(g=>JC(g)?Kte(Br.RAW,g).data:g.data_);let c=0;r.forEach(g=>{c+=g.byteLength});const d=new Uint8Array(c);let h=0;return r.forEach(g=>{for(let w=0;w<g.length;w++)d[h++]=g[w]}),new ds(d,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n){let t;try{t=JSON.parse(n)}catch{return null}return Ote(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function ene(n,t){const r=t.split("/").filter(c=>c.length>0).join("/");return n.length===0?r:n+"/"+r}function pO(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(n,t){return t}class Fn{constructor(t,r,c,d){this.server=t,this.local=r||t,this.writable=!!c,this.xform=d||tne}}let _f=null;function nne(n){return!JC(n)||n.length<2?n:pO(n)}function gO(){if(_f)return _f;const n=[];n.push(new Fn("bucket")),n.push(new Fn("generation")),n.push(new Fn("metageneration")),n.push(new Fn("name","fullPath",!0));function t(h,g){return nne(g)}const r=new Fn("name");r.xform=t,n.push(r);function c(h,g){return g!==void 0?Number(g):g}const d=new Fn("size");return d.xform=c,n.push(d),n.push(new Fn("timeCreated")),n.push(new Fn("updated")),n.push(new Fn("md5Hash",null,!0)),n.push(new Fn("cacheControl",null,!0)),n.push(new Fn("contentDisposition",null,!0)),n.push(new Fn("contentEncoding",null,!0)),n.push(new Fn("contentLanguage",null,!0)),n.push(new Fn("contentType",null,!0)),n.push(new Fn("metadata","customMetadata",!0)),_f=n,_f}function ine(n,t){function r(){const c=n.bucket,d=n.fullPath,h=new Ei(c,d);return t._makeStorageReference(h)}Object.defineProperty(n,"ref",{get:r})}function rne(n,t,r){const c={};c.type="file";const d=r.length;for(let h=0;h<d;h++){const g=r[h];c[g.local]=g.xform(c,t[g.server])}return ine(c,n),c}function fO(n,t,r){const c=hO(t);return c===null?null:rne(n,c,r)}function one(n,t,r,c){const d=hO(t);if(d===null||!JC(d.downloadTokens))return null;const h=d.downloadTokens;if(h.length===0)return null;const g=encodeURIComponent;return h.split(",").map(A=>{const y=n.bucket,E=n.fullPath,v="/b/"+g(y)+"/o/"+g(E),T=ey(v,r,c),P=cO({alt:"media",token:A});return T+P})[0]}function sne(n,t){const r={},c=t.length;for(let d=0;d<c;d++){const h=t[d];h.writable&&(r[h.server]=n[h.local])}return JSON.stringify(r)}class mO{constructor(t,r,c,d){this.url=t,this.method=r,this.handler=c,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){if(!n)throw ZC()}function ane(n,t){function r(c,d){const h=fO(n,d,t);return kO(h!==null),h}return r}function cne(n,t){function r(c,d){const h=fO(n,d,t);return kO(h!==null),one(h,d,n.host,n._protocol)}return r}function bO(n){function t(r,c){let d;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?d=Ate():d=_te():r.getStatus()===402?d=wte(n.bucket):r.getStatus()===403?d=vte(n.path):d=c,d.status=r.getStatus(),d.serverResponse=c.serverResponse,d}return t}function lne(n){const t=bO(n);function r(c,d){let h=t(c,d);return c.getStatus()===404&&(h=bte(n.path)),h.serverResponse=d.serverResponse,h}return r}function dne(n,t,r){const c=t.fullServerUrl(),d=ey(c,n.host,n._protocol),h="GET",g=n.maxOperationRetryTime,w=new mO(d,h,cne(n,r),g);return w.errorHandler=lne(t),w}function une(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function hne(n,t,r){const c=Object.assign({},r);return c.fullPath=n.path,c.size=t.size(),c.contentType||(c.contentType=une(null,t)),c}function pne(n,t,r,c,d){const h=t.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"};function w(){let z="";for(let H=0;H<2;H++)z=z+Math.random().toString().slice(2);return z}const m=w();g["Content-Type"]="multipart/related; boundary="+m;const A=hne(t,c,d),y=sne(A,r),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+A.contentType+`\r
\r
`,v=`\r
--`+m+"--",T=ds.getBlob(E,c,v);if(T===null)throw Tte();const P={name:A.fullPath},O=ey(h,n.host,n._protocol),j="POST",B=n.maxUploadRetryTime,R=new mO(O,j,ane(n,r),B);return R.urlParams=P,R.headers=g,R.body=T.uploadData(),R.errorHandler=bO(t),R}class gne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,c,d){if(this.sent_)throw hu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),d!==void 0)for(const h in d)d.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,d[h].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class fne extends gne{initXhr(){this.xhr_.responseType="text"}}function wO(){return new fne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,r){this._service=t,r instanceof Ei?this._location=r:this._location=Ei.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Ha(t,r)}get root(){const t=new Ei(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pO(this._location.path)}get storage(){return this._service}get parent(){const t=Xte(this._location.path);if(t===null)return null;const r=new Ei(this._location.bucket,t);return new Ha(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Mte(t)}}function mne(n,t,r){n._throwIfRoot("uploadBytes");const c=pne(n.storage,n._location,gO(),new ds(t,!0),r);return n.storage.makeRequestWithTokens(c,wO).then(d=>({metadata:d,ref:n}))}function kne(n){n._throwIfRoot("getDownloadURL");const t=dne(n.storage,n._location,gO());return n.storage.makeRequestWithTokens(t,wO).then(r=>{if(r===null)throw Dte();return r})}function bne(n,t){const r=ene(n._location.path,t),c=new Ei(n._location.bucket,r);return new Ha(n.storage,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(n){return/^[A-Za-z]+:\/\//.test(n)}function _ne(n,t){return new Ha(n,t)}function _O(n,t){if(n instanceof ty){const r=n;if(r._bucket==null)throw Ite();const c=new Ha(r,r._bucket);return t!=null?_O(c,t):c}else return t!==void 0?bne(n,t):n}function Ane(n,t){if(t&&wne(t)){if(n instanceof ty)return _ne(n,t);throw FA("To use ref(service, url), the first argument must be a Storage instance.")}else return _O(n,t)}function mP(n,t){const r=t==null?void 0:t[sO];return r==null?null:Ei.makeFromBucketSpec(r,n)}function vne(n,t,r,c={}){n.host=`${t}:${r}`,n._protocol="http";const{mockUserToken:d}=c;d&&(n._overrideAuthToken=typeof d=="string"?d:ZN(d,n.app.options.projectId))}class ty{constructor(t,r,c,d,h){this.app=t,this._authProvider=r,this._appCheckProvider=c,this._url=d,this._firebaseVersion=h,this._bucket=null,this._host=oO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mte,this._maxUploadRetryTime=kte,this._requests=new Set,d!=null?this._bucket=Ei.makeFromBucketSpec(d,this._host):this._bucket=mP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,t):this._bucket=mP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){fP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){fP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ha(this,t)}_makeRequest(t,r,c,d,h=!0){if(this._deleted)return new Pte(aO());{const g=Hte(t,this._appId,c,d,r,this._firebaseVersion,h);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}async makeRequestWithTokens(t,r){const[c,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,c,d).getPromise()}}const kP="@firebase/storage",bP="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="storage";function Cne(n,t,r){return n=dn(n),mne(n,t,r)}function yne(n){return n=dn(n),kne(n)}function vO(n,t){return n=dn(n),Ane(n,t)}function Ene(n=$v(),t){n=dn(n);const c=sk(n,AO).getImmediate({identifier:t}),d=KN("storage");return d&&xne(c,...d),c}function xne(n,t,r,c={}){vne(n,t,r,c)}function Ine(n,{instanceIdentifier:t}){const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return new ty(r,c,d,t,qa)}function Tne(){La(new Ss(AO,Ine,"PUBLIC").setMultipleInstances(!0)),jr(kP,bP,""),jr(kP,bP,"esm2017")}Tne();let Af;const Dne=new Uint8Array(16);function Sne(){if(!Af&&(Af=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Af))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Af(Dne)}const wn=[];for(let n=0;n<256;++n)wn.push((n+256).toString(16).slice(1));function Mne(n,t=0){return wn[n[t+0]]+wn[n[t+1]]+wn[n[t+2]]+wn[n[t+3]]+"-"+wn[n[t+4]]+wn[n[t+5]]+"-"+wn[n[t+6]]+wn[n[t+7]]+"-"+wn[n[t+8]]+wn[n[t+9]]+"-"+wn[n[t+10]]+wn[n[t+11]]+wn[n[t+12]]+wn[n[t+13]]+wn[n[t+14]]+wn[n[t+15]]}const Pne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wP={randomUUID:Pne};function Nne(n,t,r){if(wP.randomUUID&&!t&&!n)return wP.randomUUID();n=n||{};const c=n.random||(n.rng||Sne)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){r=r||0;for(let d=0;d<16;++d)t[r+d]=c[d];return t}return Mne(c)}const Rne={apiKey:"AIzaSyD4BgiY7fmv-ZjXHpnaDZpDvRTDIeFZtTc",authDomain:"blog-11cc4.firebaseapp.com",projectId:"blog-11cc4",storageBucket:"blog-11cc4.appspot.com",messagingSenderId:"432348479698",appId:"1:432348479698:web:346302bd3f71655a492d0b",measurementId:"G-YB4HK0XNQ0"},ny=tR(Rne),zl=RJ(ny),CO=Ene(ny),Bne=vO(CO,`picturesPosts/${Nne()}`);async function One(n){return await Cne(Bne,n)}async function Lne(n){const t=vO(CO,n);return await yne(t)}const Lm=gte(ny),yO=GA.createContext([]),EO=()=>te.useContext(yO),jne=({children:n})=>{const[t,r]=te.useState(null);async function c(d){try{const h=LC(zl,"users",d);return(await y3(h)).data()}catch(h){return console.error(h),null}}return tee(Lm,d=>{d?t||c(d.uid).then(h=>{const g={uid:d.uid,email:d.email,rol:h};return r(g)}):r(null)}),q.jsx(yO.Provider,{value:{user:t},children:n})},zne=()=>{const{user:n}=EO();return q.jsx("section",{className:"ftco-section",children:q.jsx("div",{className:"container",children:q.jsx("nav",{className:"navbar navbar-expand-lg ftco_navbar ftco-navbar-light",id:"ftco-navbar",children:q.jsxs("div",{className:"container",children:[q.jsx("p",{className:"navbar-brand",children:"Cañuelas Te Escucha"}),q.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:q.jsx("img",{id:"menuT",src:pG,alt:"menuTogle"})}),q.jsxs("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:[q.jsxs("ul",{className:"navbar-nav ml-auto mr-md-3",children:[q.jsx("li",{className:"nav-item",children:q.jsx(W0,{to:"/",className:"nav-link",children:"Inicio"})}),n&&n.email==="micamarco@gmail.com"&&n.uid==="NBPITtX9YiThi48aBiEVlMOFwFG2"&&q.jsx("li",{className:"nav-item",children:q.jsx(W0,{to:"/publicar-post",className:"nav-link",children:"Crear Post"})})]}),n&&n.uid?q.jsx("div",{className:"btnContainer",children:q.jsx("button",{className:"btnNavBar",onClick:()=>nee(Lm),children:"Cerrar sesion"})}):q.jsx("ul",{className:"navbar-nav ml-auto mr-md-3",children:q.jsx("li",{className:"nav-item",children:q.jsx(W0,{to:"/login",className:"nav-link",children:"Login"})})})]})]})})})})},Vne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGbSURBVFiF7daxSiNBHMfx3y9oVLDZmUII5mF8ABELGx9ArjlsbSw1vaUW2igiVjZ2dvcExxVneUW4YmcCCq6LsD8bFaPZZDNmNo1T7e6w/++HKZYFApakZpqmHedc1znX9d7vS2qGzGJIvNfrXUha+7B1bYxZJ5lHAwyJByMqAyrEgxCVAGPEx0aMBATEx0IMBXwhXhlRCphAvBJiIGCC8ZGIT4AI8aGIPkDEeCniDVBDfCCCNcc/ISip6Zy7JLlaUxwAQPIqSZINpmnaIblTZ/wdYo/Ouf8AlqYBANBtANCU4gCgBsnjadVJnlDSrPd+V9ImgGWSczGjknKS/wCcGmP2+z5E3vsDST9jAgAcWGu3X28akWMj18wX3s0APL5czwNYCBkSegJbxphFa62x1hpjzCLJH3UB7qy1RySL1wckiyRJDgHcRwdIGvxjQQrAWL/kQYBJr29AH0DSUw3NvsbHE/gTuy7pdykgz/NzALcR+3+zLLsoBbRarYeiKFYAnANIB00geVM2neSvkq1U0llRFCvtdjt7v/EMIu8DAeqC7dgAAAAASUVORK5CYII=",Fne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGmSURBVFiF7Za/i9RAGIafbwhxttla8BvWhatsDw70H7ATG0VLC8VSrjlBFBQsPBVstLXxLLTw/xCEBQ8tItnbJOJuY7sBlx2bUwZ1MfvjEsF96sm87/sQSGDN/44kSXKs1Wrd995fAk7UlPsZeFmW5W0piuKx9367puBfeSR5nn8BjjdUYGiAqKFwAGOApw0WeGZU9S6wA5Q1BpfAjqreM2matp1zu9PpdBN4W0N4T0ROO+d20zRtmziOP2ZZdq7T6XxQ1TPATY7GxjfgwWg02lLVXpZlZ+M4fi95nvvDA6+B6865r4PB4JQx5jmwtaLwnohcUdVekiRta+1D4CogJjh0AdhfsY3fVltr94FrgACEBkJWYWPm6vCQ+fOzS9n46+qQWQZC5rFRaXXILAMhVWzMtTqkioGQnzb6/f7JKIouAkwmk1fdbveg6uplCgDkwA1VfSMiHsB7b4qiOA88Adw8ly1S4AefROTdYYFNYGORS5b5Em547xcKDanyEh4p6wIGGDaYPzQistdggRfReDy+Za31wGXq/S3fK8vyTk15a/5hvgON3tRxDz01KQAAAABJRU5ErkJggg==",Une="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKoSURBVFiFtZY7aBRRFIa/c0OiUXBXcmeCW0kKxQeKqE3sFLRJYmdhEcHaGLUQ8YVWIhIQgqUWFjZpfKAEwVbQGLQJCIqii4GZO0nWCBZOMsdCV3TZ2Z2Ns3955z/3/+bcw52BGkVRdMw59845t+icexJF0ZZaT56SmvCzqnq9xvNVRA5Za1+0FSAlvO0QBiAMw4sNwgEKqjoZRdHevAHEOTcIPMzor4jIQWvtVF4ABjjVgr+oqk+dc5tzA1DVnS3WFIEruQGIiK6gLr8OAJ9aLRKRN7kBqOpMizXvgUu5ARhjHmT0LqrqaKVS2W6t/ZIXgMzOzq7p7OwMgbVNvEOe5z3KK7gqUyqVvovInSa+cjvC4fdNKCI3gB8NfB3tCP8D0NPTUwYadaEUBMGOtgEAdHV1XQCCNGNHR8fptgIUCoV54EyaUVWHgyDozxtAahecc/eBwyn+z3Ec7y6VSlHbABYWFopLS0vTQF9KzRRwwPO8b402ds5tUtVrIrJdVWeMMeettW+bAgCEYbhLRJ4Dq1P2f5UkyUBvb2/dmZmbm1uXJMlbYMNfy3U/5YY68n3/NXAcSFIA9hhjpqMo2l/vYZIkp2rC4fenvPanpm4Hqoqi6ISqjjewKDAhImPW2pflcrm7u7v7uKqOAatSav7pREMAAOfcVeByMx+wCHSRfmx1IZoCtAjRiioi0p8JACAMwxERuUnK3KxQk5kBAJxzR4HbZGtzpi1behvP8+4B+4CPOQF8aKkDVVUqlfVxHN8FBv4jXIHBFZ1nsVhc8DxvUFWPAG4l4ao66nne4/8aKN/3J+I43sqvuVjKGi4iI77vj0OGeyCrgiDoM8acA4ZJv4QSETlprb1VXcgNoKr5+fnC8vLyADAEbAM2ArGqThljrltrn/3t/wnGqQVdjQu3wgAAAABJRU5ErkJggg==",Hne="https://facundomarcobacigalupo.github.io/Blog/assets/mercadoPago-UAqRI8Ws.png",$ne=()=>{const[n,t]=te.useState([]);return te.useEffect(()=>{const r=Bk(zl,"posts");x3(r).then(c=>{const d=c.docs.map(h=>({id:h.id,...h.data()}));t(d)}).catch(c=>console.error(c))},[]),q.jsxs("footer",{className:"text-center text-lg-start text-white",style:{backgroundColor:"rgb(17, 17, 17)"},children:[q.jsx("section",{className:"d-flex justify-content-center p-2 colorUpDown",children:q.jsxs("p",{children:["Se puede donar mediante Mercado Pago, ",q.jsx("span",{className:"text-danger",children:"CVU: 0000003100004037602282"}),q.jsx("a",{href:"https://mpago.la/32wtK5Y",target:"_blank",rel:"noopener noreferrer",children:q.jsx("img",{className:"imgStyleRRSS",src:Hne,alt:"Mercado Pago"})})," Muchas Gracias."]})}),q.jsx("section",{children:q.jsx("div",{className:"container text-center text-md-start mt-5",children:q.jsxs("div",{className:"row mt-3",children:[q.jsxs("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto",children:[q.jsx("h6",{className:"text-uppercase fw-bold",children:"Cañuelas Te Escucha"}),q.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),q.jsx("p",{children:"Escuchamos la verdad de los cañuelenses."})]}),q.jsxs("div",{className:"col-md-2 col-lg-2 col-xl-2 mx-auto",children:[q.jsx("h6",{className:"text-uppercase fw-bold",children:"Ultimos blogs"}),q.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),n.map((r,c)=>c<4&&q.jsx("p",{children:q.jsx(Fv,{to:`/post/${r.id}`,className:"text-white",children:r.title})},r.id))]}),q.jsxs("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0",children:[q.jsx("h6",{className:"text-uppercase fw-bold",children:"Contacto"}),q.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),q.jsxs("p",{children:[q.jsx("img",{className:"imgStyle",src:Vne,alt:"house"})," Buenos aires, cañuelas"]}),q.jsxs("p",{children:[q.jsx("img",{className:"imgStyle",src:Fne,alt:"mail"})," micamarco@gmail.com"]}),q.jsxs("p",{children:[q.jsx("img",{className:"imgStyle",src:Une,alt:"phone"})," +54 11 2252-4921"]})]})]})})}),q.jsx("div",{className:"text-center p-3 colorUpDown",children:q.jsx("p",{className:"text-white",children:"© 2024 Copyright: Cañuelas Te Escucha"})})]})};var xO={exports:{}},Wne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qne=Wne,Gne=qne;function IO(){}function TO(){}TO.resetWarningCache=IO;var Kne=function(){function n(c,d,h,g,w,m){if(m!==Gne){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function t(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TO,resetWarningCache:IO};return r.PropTypes=r,r};xO.exports=Kne();var Qne=xO.exports;const Zc=UA(Qne),Yne="https://facundomarcobacigalupo.github.io/Blog/assets/notFound-buJvN9NC.png",DO=({id:n,title:t,summary:r,picture:c})=>{const[d,h]=te.useState(c),g=()=>{h(Yne)};return q.jsxs("section",{className:"card",children:[q.jsx("header",{id:"cardHeader",children:q.jsx("img",{src:d,onError:g,alt:`${t}-img`})}),q.jsxs("div",{className:"card-body",children:[q.jsx("h2",{className:"card-title",children:t}),q.jsx("p",{className:"card-description",children:`${r.substring(0,80)}.`}),q.jsx(Fv,{className:"btn",to:`/post/${n}`,children:"Leer mas"})]})]})};DO.propTypes={id:Zc.string.isRequired,title:Zc.string.isRequired,summary:Zc.string.isRequired,picture:Zc.string.isRequired};const SO=te.memo(function({blogEntries:t}){return q.jsx(te.Fragment,{children:t.map(r=>r&&r.content?q.jsx("article",{children:q.jsx(DO,{...r})},r.id):null)})},(n,t)=>n.blogEntries.length===t.blogEntries.length);SO.propTypes={blogEntries:Zc.arrayOf(Zc.object).isRequired};const MO=()=>q.jsx("div",{className:"containerLoading",children:q.jsxs("svg",{className:"pl",viewBox:"0 0 200 200",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[q.jsxs("defs",{children:[q.jsxs("linearGradient",{id:"pl-grad1",x1:"1",y1:"0.5",x2:"0",y2:"0.5",children:[q.jsx("stop",{offset:"0%",stopColor:"crimson"}),q.jsx("stop",{offset:"100%",stopColor:"#3b3b3b"})]}),q.jsxs("linearGradient",{id:"pl-grad2",x1:"0",y1:"0",x2:"0",y2:"1",children:[q.jsx("stop",{offset:"0%",stopColor:"#1d1d1d"}),q.jsx("stop",{offset:"100%",stopColor:"crimson"})]})]}),q.jsx("circle",{className:"pl__ring",cx:"100",cy:"100",r:"82",fill:"none",stroke:"url(#pl-grad1)",strokeWidth:"36",strokeDasharray:"0 257 1 257",strokeDashoffset:"0.01",strokeLinecap:"round",transform:"rotate(-90,100,100)"}),q.jsx("line",{className:"pl__ball",stroke:"url(#pl-grad2)",x1:"100",y1:"18",x2:"100.01",y2:"182",strokeWidth:"36",strokeDasharray:"1 165",strokeLinecap:"round"})]})}),Zne=()=>{const[n,t]=te.useState([]),[r,c]=te.useState(!0);return te.useEffect(()=>{c(!0);const d=Bk(zl,"posts");x3(d).then(h=>{const g=h.docs.map(w=>({id:w.id,...w.data()}));t(g)}).catch(h=>console.error(h)).finally(()=>c(!1))},[]),r?q.jsx(MO,{}):q.jsx("div",{className:"contenedor",children:q.jsx(SO,{blogEntries:n})})};var jm={exports:{}};jm.exports;(function(n,t){(function(r){const c=r.en=r.en||{};c.dictionary=Object.assign(c.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Execute the currently focused button":"Execute the currently focused button","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar":"Navigate through the toolbar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.","Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,c){n.exports=c()}(self,()=>(()=>{var r={9246:(g,w,m)=>{const A=m(6931),y={};for(const v of Object.keys(A))y[A[v]]=v;const E={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};g.exports=E;for(const v of Object.keys(E)){if(!("channels"in E[v]))throw new Error("missing channels property: "+v);if(!("labels"in E[v]))throw new Error("missing channel labels property: "+v);if(E[v].labels.length!==E[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:T,labels:P}=E[v];delete E[v].channels,delete E[v].labels,Object.defineProperty(E[v],"channels",{value:T}),Object.defineProperty(E[v],"labels",{value:P})}E.rgb.hsl=function(v){const T=v[0]/255,P=v[1]/255,O=v[2]/255,j=Math.min(T,P,O),B=Math.max(T,P,O),R=B-j;let z,H;B===j?z=0:T===B?z=(P-O)/R:P===B?z=2+(O-T)/R:O===B&&(z=4+(T-P)/R),z=Math.min(60*z,360),z<0&&(z+=360);const K=(j+B)/2;return H=B===j?0:K<=.5?R/(B+j):R/(2-B-j),[z,100*H,100*K]},E.rgb.hsv=function(v){let T,P,O,j,B;const R=v[0]/255,z=v[1]/255,H=v[2]/255,K=Math.max(R,z,H),Y=K-Math.min(R,z,H),Q=function(X){return(K-X)/6/Y+.5};return Y===0?(j=0,B=0):(B=Y/K,T=Q(R),P=Q(z),O=Q(H),R===K?j=O-P:z===K?j=.3333333333333333+T-O:H===K&&(j=.6666666666666666+P-T),j<0?j+=1:j>1&&(j-=1)),[360*j,100*B,100*K]},E.rgb.hwb=function(v){const T=v[0],P=v[1];let O=v[2];const j=E.rgb.hsl(v)[0],B=1/255*Math.min(T,Math.min(P,O));return O=1-.00392156862745098*Math.max(T,Math.max(P,O)),[j,100*B,100*O]},E.rgb.cmyk=function(v){const T=v[0]/255,P=v[1]/255,O=v[2]/255,j=Math.min(1-T,1-P,1-O);return[100*((1-T-j)/(1-j)||0),100*((1-P-j)/(1-j)||0),100*((1-O-j)/(1-j)||0),100*j]},E.rgb.keyword=function(v){const T=y[v];if(T)return T;let P,O=1/0;for(const R of Object.keys(A)){const z=A[R],H=(B=z,((j=v)[0]-B[0])**2+(j[1]-B[1])**2+(j[2]-B[2])**2);H<O&&(O=H,P=R)}var j,B;return P},E.keyword.rgb=function(v){return A[v]},E.rgb.xyz=function(v){let T=v[0]/255,P=v[1]/255,O=v[2]/255;return T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,P=P>.04045?((P+.055)/1.055)**2.4:P/12.92,O=O>.04045?((O+.055)/1.055)**2.4:O/12.92,[100*(.4124*T+.3576*P+.1805*O),100*(.2126*T+.7152*P+.0722*O),100*(.0193*T+.1192*P+.9505*O)]},E.rgb.lab=function(v){const T=E.rgb.xyz(v);let P=T[0],O=T[1],j=T[2];return P/=95.047,O/=100,j/=108.883,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,[116*O-16,500*(P-O),200*(O-j)]},E.hsl.rgb=function(v){const T=v[0]/360,P=v[1]/100,O=v[2]/100;let j,B,R;if(P===0)return R=255*O,[R,R,R];j=O<.5?O*(1+P):O+P-O*P;const z=2*O-j,H=[0,0,0];for(let K=0;K<3;K++)B=T+.3333333333333333*-(K-1),B<0&&B++,B>1&&B--,R=6*B<1?z+6*(j-z)*B:2*B<1?j:3*B<2?z+(j-z)*(.6666666666666666-B)*6:z,H[K]=255*R;return H},E.hsl.hsv=function(v){const T=v[0];let P=v[1]/100,O=v[2]/100,j=P;const B=Math.max(O,.01);return O*=2,P*=O<=1?O:2-O,j*=B<=1?B:2-B,[T,100*(O===0?2*j/(B+j):2*P/(O+P)),100*((O+P)/2)]},E.hsv.rgb=function(v){const T=v[0]/60,P=v[1]/100;let O=v[2]/100;const j=Math.floor(T)%6,B=T-Math.floor(T),R=255*O*(1-P),z=255*O*(1-P*B),H=255*O*(1-P*(1-B));switch(O*=255,j){case 0:return[O,H,R];case 1:return[z,O,R];case 2:return[R,O,H];case 3:return[R,z,O];case 4:return[H,R,O];case 5:return[O,R,z]}},E.hsv.hsl=function(v){const T=v[0],P=v[1]/100,O=v[2]/100,j=Math.max(O,.01);let B,R;R=(2-P)*O;const z=(2-P)*j;return B=P*j,B/=z<=1?z:2-z,B=B||0,R/=2,[T,100*B,100*R]},E.hwb.rgb=function(v){const T=v[0]/360;let P=v[1]/100,O=v[2]/100;const j=P+O;let B;j>1&&(P/=j,O/=j);const R=Math.floor(6*T),z=1-O;B=6*T-R,1&R&&(B=1-B);const H=P+B*(z-P);let K,Y,Q;switch(R){default:case 6:case 0:K=z,Y=H,Q=P;break;case 1:K=H,Y=z,Q=P;break;case 2:K=P,Y=z,Q=H;break;case 3:K=P,Y=H,Q=z;break;case 4:K=H,Y=P,Q=z;break;case 5:K=z,Y=P,Q=H}return[255*K,255*Y,255*Q]},E.cmyk.rgb=function(v){const T=v[0]/100,P=v[1]/100,O=v[2]/100,j=v[3]/100;return[255*(1-Math.min(1,T*(1-j)+j)),255*(1-Math.min(1,P*(1-j)+j)),255*(1-Math.min(1,O*(1-j)+j))]},E.xyz.rgb=function(v){const T=v[0]/100,P=v[1]/100,O=v[2]/100;let j,B,R;return j=3.2406*T+-1.5372*P+-.4986*O,B=-.9689*T+1.8758*P+.0415*O,R=.0557*T+-.204*P+1.057*O,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,j=Math.min(Math.max(0,j),1),B=Math.min(Math.max(0,B),1),R=Math.min(Math.max(0,R),1),[255*j,255*B,255*R]},E.xyz.lab=function(v){let T=v[0],P=v[1],O=v[2];return T/=95.047,P/=100,O/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,[116*P-16,500*(T-P),200*(P-O)]},E.lab.xyz=function(v){let T,P,O;P=(v[0]+16)/116,T=v[1]/500+P,O=P-v[2]/200;const j=P**3,B=T**3,R=O**3;return P=j>.008856?j:(P-.13793103448275862)/7.787,T=B>.008856?B:(T-.13793103448275862)/7.787,O=R>.008856?R:(O-.13793103448275862)/7.787,T*=95.047,P*=100,O*=108.883,[T,P,O]},E.lab.lch=function(v){const T=v[0],P=v[1],O=v[2];let j;return j=360*Math.atan2(O,P)/2/Math.PI,j<0&&(j+=360),[T,Math.sqrt(P*P+O*O),j]},E.lch.lab=function(v){const T=v[0],P=v[1],O=v[2]/360*2*Math.PI;return[T,P*Math.cos(O),P*Math.sin(O)]},E.rgb.ansi16=function(v,T=null){const[P,O,j]=v;let B=T===null?E.rgb.hsv(v)[2]:T;if(B=Math.round(B/50),B===0)return 30;let R=30+(Math.round(j/255)<<2|Math.round(O/255)<<1|Math.round(P/255));return B===2&&(R+=60),R},E.hsv.ansi16=function(v){return E.rgb.ansi16(E.hsv.rgb(v),v[2])},E.rgb.ansi256=function(v){const T=v[0],P=v[1],O=v[2];return T===P&&P===O?T<8?16:T>248?231:Math.round((T-8)/247*24)+232:16+36*Math.round(T/255*5)+6*Math.round(P/255*5)+Math.round(O/255*5)},E.ansi16.rgb=function(v){let T=v%10;if(T===0||T===7)return v>50&&(T+=3.5),T=T/10.5*255,[T,T,T];const P=.5*(1+~~(v>50));return[(1&T)*P*255,(T>>1&1)*P*255,(T>>2&1)*P*255]},E.ansi256.rgb=function(v){if(v>=232){const P=10*(v-232)+8;return[P,P,P]}let T;return v-=16,[Math.floor(v/36)/5*255,Math.floor((T=v%36)/6)/5*255,T%6/5*255]},E.rgb.hex=function(v){const T=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(T.length)+T},E.hex.rgb=function(v){const T=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!T)return[0,0,0];let P=T[0];T[0].length===3&&(P=P.split("").map(j=>j+j).join(""));const O=parseInt(P,16);return[O>>16&255,O>>8&255,255&O]},E.rgb.hcg=function(v){const T=v[0]/255,P=v[1]/255,O=v[2]/255,j=Math.max(Math.max(T,P),O),B=Math.min(Math.min(T,P),O),R=j-B;let z,H;return z=R<1?B/(1-R):0,H=R<=0?0:j===T?(P-O)/R%6:j===P?2+(O-T)/R:4+(T-P)/R,H/=6,H%=1,[360*H,100*R,100*z]},E.hsl.hcg=function(v){const T=v[1]/100,P=v[2]/100,O=P<.5?2*T*P:2*T*(1-P);let j=0;return O<1&&(j=(P-.5*O)/(1-O)),[v[0],100*O,100*j]},E.hsv.hcg=function(v){const T=v[1]/100,P=v[2]/100,O=T*P;let j=0;return O<1&&(j=(P-O)/(1-O)),[v[0],100*O,100*j]},E.hcg.rgb=function(v){const T=v[0]/360,P=v[1]/100,O=v[2]/100;if(P===0)return[255*O,255*O,255*O];const j=[0,0,0],B=T%1*6,R=B%1,z=1-R;let H=0;switch(Math.floor(B)){case 0:j[0]=1,j[1]=R,j[2]=0;break;case 1:j[0]=z,j[1]=1,j[2]=0;break;case 2:j[0]=0,j[1]=1,j[2]=R;break;case 3:j[0]=0,j[1]=z,j[2]=1;break;case 4:j[0]=R,j[1]=0,j[2]=1;break;default:j[0]=1,j[1]=0,j[2]=z}return H=(1-P)*O,[255*(P*j[0]+H),255*(P*j[1]+H),255*(P*j[2]+H)]},E.hcg.hsv=function(v){const T=v[1]/100,P=T+v[2]/100*(1-T);let O=0;return P>0&&(O=T/P),[v[0],100*O,100*P]},E.hcg.hsl=function(v){const T=v[1]/100,P=v[2]/100*(1-T)+.5*T;let O=0;return P>0&&P<.5?O=T/(2*P):P>=.5&&P<1&&(O=T/(2*(1-P))),[v[0],100*O,100*P]},E.hcg.hwb=function(v){const T=v[1]/100,P=T+v[2]/100*(1-T);return[v[0],100*(P-T),100*(1-P)]},E.hwb.hcg=function(v){const T=v[1]/100,P=1-v[2]/100,O=P-T;let j=0;return O<1&&(j=(P-O)/(1-O)),[v[0],100*O,100*j]},E.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},E.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},E.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},E.gray.hsl=function(v){return[0,0,v[0]]},E.gray.hsv=E.gray.hsl,E.gray.hwb=function(v){return[0,100,v[0]]},E.gray.cmyk=function(v){return[0,0,0,v[0]]},E.gray.lab=function(v){return[v[0],0,0]},E.gray.hex=function(v){const T=255&Math.round(v[0]/100*255),P=((T<<16)+(T<<8)+T).toString(16).toUpperCase();return"000000".substring(P.length)+P},E.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},9047:(g,w,m)=>{const A=m(9246),y=m(802),E={};Object.keys(A).forEach(v=>{E[v]={},Object.defineProperty(E[v],"channels",{value:A[v].channels}),Object.defineProperty(E[v],"labels",{value:A[v].labels});const T=y(v);Object.keys(T).forEach(P=>{const O=T[P];E[v][P]=function(j){const B=function(...R){const z=R[0];if(z==null)return z;z.length>1&&(R=z);const H=j(R);if(typeof H=="object")for(let K=H.length,Y=0;Y<K;Y++)H[Y]=Math.round(H[Y]);return H};return"conversion"in j&&(B.conversion=j.conversion),B}(O),E[v][P].raw=function(j){const B=function(...R){const z=R[0];return z==null?z:(z.length>1&&(R=z),j(R))};return"conversion"in j&&(B.conversion=j.conversion),B}(O)})}),g.exports=E},802:(g,w,m)=>{const A=m(9246);function y(T){const P=function(){const j={},B=Object.keys(A);for(let R=B.length,z=0;z<R;z++)j[B[z]]={distance:-1,parent:null};return j}(),O=[T];for(P[T].distance=0;O.length;){const j=O.pop(),B=Object.keys(A[j]);for(let R=B.length,z=0;z<R;z++){const H=B[z],K=P[H];K.distance===-1&&(K.distance=P[j].distance+1,K.parent=j,O.unshift(H))}}return P}function E(T,P){return function(O){return P(T(O))}}function v(T,P){const O=[P[T].parent,T];let j=A[P[T].parent][T],B=P[T].parent;for(;P[B].parent;)O.unshift(P[B].parent),j=E(A[P[B].parent][B],j),B=P[B].parent;return j.conversion=O,j}g.exports=function(T){const P=y(T),O={},j=Object.keys(P);for(let B=j.length,R=0;R<B;R++){const z=j[R];P[z].parent!==null&&(O[z]=v(z,P))}return O}},6931:g=>{g.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const T=v},8708:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const T=v},1866:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const T=v},7793:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const T=v},7388:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},4098:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const T=v},8264:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const T=v},6269:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const T=v},265:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const T=v},5247:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const T=v},3350:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const T=v},7378:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const T=v},3469:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const T=v},6386:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},7693:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const T=v},1559:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const T=v},2267:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const T=v},4062:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},7719:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const T=v},8762:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},3817:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},4808:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const T=v},1232:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const T=v},6903:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},9968:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const T=v},7141:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const T=v},8991:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const T=v},70:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const T=v},7048:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},5651:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},5506:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},4043:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},2655:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const T=v},5032:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const T=v},2329:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const T=v},4143:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const T=v},8986:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},8795:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const T=v},8137:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const T=v},1623:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},5562:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},8423:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},1801:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}
`],sourceRoot:""}]);const T=v},5727:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},9715:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=v},4391:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=v},25:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const T=v},7317:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const T=v},1905:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const T=v},6309:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const T=v},9819:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cAIC,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CExB7C,oCAA8B,CFsB9B,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},9822:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const T=v},8149:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},3629:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},1792:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},1666:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const T=v},8527:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},1185:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},7913:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const T=v},9529:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const T=v},7621:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},253:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},7801:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const T=v},4962:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},5199:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,oJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAgED,CA9DC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA6CD,CA/CA,uCAME,eAyCF,CA/CA,uCAUE,gBAqCF,CA/CA,6BAgBC,qCA+BD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},3710:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},991:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const T=v},5380:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},8298:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},2722:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=v},8107:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const T=v},109:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const T=v},1671:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const T=v},2710:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const T=v},9677:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=v},9205:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-dialog) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,sCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const T=v},7676:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const T=v},695:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=v},4095:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const T=v},8508:(g,w,m)=>{m.d(w,{A:()=>T});var A=m(9372),y=m.n(A),E=m(935),v=m.n(E)()(y());v.push([g.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const T=v},935:g=>{g.exports=function(w){var m=[];return m.toString=function(){return this.map(function(A){var y=w(A);return A[2]?"@media ".concat(A[2]," {").concat(y,"}"):y}).join("")},m.i=function(A,y,E){typeof A=="string"&&(A=[[null,A,""]]);var v={};if(E)for(var T=0;T<this.length;T++){var P=this[T][0];P!=null&&(v[P]=!0)}for(var O=0;O<A.length;O++){var j=[].concat(A[O]);E&&v[j[0]]||(y&&(j[2]?j[2]="".concat(y," and ").concat(j[2]):j[2]=y),m.push(j))}},m}},9372:g=>{function w(A,y){return function(E){if(Array.isArray(E))return E}(A)||function(E,v){var T=E&&(typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"]);if(T!=null){var P,O,j=[],B=!0,R=!1;try{for(T=T.call(E);!(B=(P=T.next()).done)&&(j.push(P.value),!v||j.length!==v);B=!0);}catch(z){R=!0,O=z}finally{try{B||T.return==null||T.return()}finally{if(R)throw O}}return j}}(A,y)||function(E,v){if(E){if(typeof E=="string")return m(E,v);var T=Object.prototype.toString.call(E).slice(8,-1);if(T==="Object"&&E.constructor&&(T=E.constructor.name),T==="Map"||T==="Set")return Array.from(E);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return m(E,v)}}(A,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(A,y){(y==null||y>A.length)&&(y=A.length);for(var E=0,v=new Array(y);E<y;E++)v[E]=A[E];return v}g.exports=function(A){var y=w(A,4),E=y[1],v=y[3];if(!v)return E;if(typeof btoa=="function"){var T=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),P="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T),O="/*# ".concat(P," */"),j=v.sources.map(function(B){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(B," */")});return[E].concat(j).concat([O]).join(`
`)}return[E].join(`
`)}},2591:(g,w,m)=>{var A,y=function(){return A===void 0&&(A=!!(window&&document&&document.all&&!window.atob)),A},E=function(){var Q={};return function(X){if(Q[X]===void 0){var V=document.querySelector(X);if(window.HTMLIFrameElement&&V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}Q[X]=V}return Q[X]}}(),v=[];function T(Q){for(var X=-1,V=0;V<v.length;V++)if(v[V].identifier===Q){X=V;break}return X}function P(Q,X){for(var V={},ie=[],Re=0;Re<Q.length;Re++){var et=Q[Re],Fe=X.base?et[0]+X.base:et[0],ui=V[Fe]||0,hi="".concat(Fe," ").concat(ui);V[Fe]=ui+1;var Tn=T(hi),pi={css:et[1],media:et[2],sourceMap:et[3]};Tn!==-1?(v[Tn].references++,v[Tn].updater(pi)):v.push({identifier:hi,updater:Y(pi,X),references:1}),ie.push(hi)}return ie}function O(Q){var X=document.createElement("style"),V=Q.attributes||{};if(V.nonce===void 0){var ie=m.nc;ie&&(V.nonce=ie)}if(Object.keys(V).forEach(function(et){X.setAttribute(et,V[et])}),typeof Q.insert=="function")Q.insert(X);else{var Re=E(Q.insert||"head");if(!Re)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Re.appendChild(X)}return X}var j,B=(j=[],function(Q,X){return j[Q]=X,j.filter(Boolean).join(`
`)});function R(Q,X,V,ie){var Re=V?"":ie.media?"@media ".concat(ie.media," {").concat(ie.css,"}"):ie.css;if(Q.styleSheet)Q.styleSheet.cssText=B(X,Re);else{var et=document.createTextNode(Re),Fe=Q.childNodes;Fe[X]&&Q.removeChild(Fe[X]),Fe.length?Q.insertBefore(et,Fe[X]):Q.appendChild(et)}}function z(Q,X,V){var ie=V.css,Re=V.media,et=V.sourceMap;if(Re?Q.setAttribute("media",Re):Q.removeAttribute("media"),et&&typeof btoa<"u"&&(ie+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(et))))," */")),Q.styleSheet)Q.styleSheet.cssText=ie;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode(ie))}}var H=null,K=0;function Y(Q,X){var V,ie,Re;if(X.singleton){var et=K++;V=H||(H=O(X)),ie=R.bind(null,V,et,!1),Re=R.bind(null,V,et,!0)}else V=O(X),ie=z.bind(null,V,X),Re=function(){(function(Fe){if(Fe.parentNode===null)return!1;Fe.parentNode.removeChild(Fe)})(V)};return ie(Q),function(Fe){if(Fe){if(Fe.css===Q.css&&Fe.media===Q.media&&Fe.sourceMap===Q.sourceMap)return;ie(Q=Fe)}else Re()}}g.exports=function(Q,X){(X=X||{}).singleton||typeof X.singleton=="boolean"||(X.singleton=y());var V=P(Q=Q||[],X);return function(ie){if(ie=ie||[],Object.prototype.toString.call(ie)==="[object Array]"){for(var Re=0;Re<V.length;Re++){var et=T(V[Re]);v[et].references--}for(var Fe=P(ie,X),ui=0;ui<V.length;ui++){var hi=T(V[ui]);v[hi].references===0&&(v[hi].updater(),v.splice(hi,1))}V=Fe}}}}},c={};function d(g){var w=c[g];if(w!==void 0)return w.exports;var m=c[g]={id:g,exports:{}};return r[g](m,m.exports,d),m.exports}d.n=g=>{var w=g&&g.__esModule?()=>g.default:()=>g;return d.d(w,{a:w}),w},d.d=(g,w)=>{for(var m in w)d.o(w,m)&&!d.o(g,m)&&Object.defineProperty(g,m,{enumerable:!0,get:w[m]})},d.o=(g,w)=>Object.prototype.hasOwnProperty.call(g,w),d.nc=void 0;var h={};return(()=>{function g({emitter:s,activator:e,callback:i,contextElements:o}){s.listenTo(document,"mousedown",(a,l)=>{if(!e())return;const u=typeof l.composedPath=="function"?l.composedPath():[],p=typeof o=="function"?o():o;for(const f of p)if(f.contains(l.target)||u.includes(f))return;i()})}function w(s){return class extends s{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function m({view:s}){s.listenTo(s.element,"submit",(e,i)=>{i.preventDefault(),s.fire("submit")},{useCapture:!0})}function A({keystrokeHandler:s,focusTracker:e,gridItems:i,numberOfColumns:o,uiLanguageDirection:a}){const l=typeof o=="number"?()=>o:o;function u(k){return b=>{const _=i.find(I=>I.element===e.focusedElement),C=i.getIndex(_),x=k(C,i);i.get(x).focus(),b.stopPropagation(),b.preventDefault()}}function p(k,b){return k===b-1?0:k+1}function f(k,b){return k===0?b-1:k-1}s.set("arrowright",u((k,b)=>a==="rtl"?f(k,b.length):p(k,b.length))),s.set("arrowleft",u((k,b)=>a==="rtl"?p(k,b.length):f(k,b.length))),s.set("arrowup",u((k,b)=>{let _=k-l();return _<0&&(_=k+l()*Math.floor(b.length/l()),_>b.length-1&&(_-=l())),_})),s.set("arrowdown",u((k,b)=>{let _=k+l();return _>b.length-1&&(_=k%l()),_}))}d.d(h,{default:()=>k0});const y=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var E;const v={isMac:T(y),isWindows:(E=y,E.indexOf("windows")>-1),isGecko:function(s){return!!s.match(/gecko\/\d+/)}(y),isSafari:function(s){return s.indexOf(" applewebkit/")>-1&&s.indexOf("chrome")===-1}(y),isiOS:function(s){return!!s.match(/iphone|ipad/i)||T(s)&&navigator.maxTouchPoints>0}(y),isAndroid:function(s){return s.indexOf("android")>-1}(y),isBlink:function(s){return s.indexOf("chrome/")>-1&&s.indexOf("edge/")<0}(y),features:{isRegExpUnicodePropertySupported:function(){let s=!1;try{s="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return s}()}};function T(s){return s.indexOf("macintosh")>-1}function P(s,e,i,o){i=i||function(f,k){return f===k};const a=Array.isArray(s)?s:Array.prototype.slice.call(s),l=Array.isArray(e)?e:Array.prototype.slice.call(e),u=function(f,k,b){const _=O(f,k,b);if(_===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const C=j(f,_),x=j(k,_),I=O(C,x,b),D=f.length-I,N=k.length-I;return{firstIndex:_,lastIndexOld:D,lastIndexNew:N}}(a,l,i);return o?function(f,k){const{firstIndex:b,lastIndexOld:_,lastIndexNew:C}=f;if(b===-1)return Array(k).fill("equal");let x=[];return b>0&&(x=x.concat(Array(b).fill("equal"))),C-b>0&&(x=x.concat(Array(C-b).fill("insert"))),_-b>0&&(x=x.concat(Array(_-b).fill("delete"))),C<k&&(x=x.concat(Array(k-C).fill("equal"))),x}(u,l.length):function(f,k){const b=[],{firstIndex:_,lastIndexOld:C,lastIndexNew:x}=k;return x-_>0&&b.push({index:_,type:"insert",values:f.slice(_,x)}),C-_>0&&b.push({index:_+(x-_),type:"delete",howMany:C-_}),b}(l,u)}function O(s,e,i){for(let o=0;o<Math.max(s.length,e.length);o++)if(s[o]===void 0||e[o]===void 0||!i(s[o],e[o]))return o;return-1}function j(s,e){return s.slice(e).reverse()}function B(s,e,i){i=i||function(D,N){return D===N};const o=s.length,a=e.length;if(o>200||a>200||o+a>300)return B.fastDiff(s,e,i,!0);let l,u;if(a<o){const D=s;s=e,e=D,l="delete",u="insert"}else l="insert",u="delete";const p=s.length,f=e.length,k=f-p,b={},_={};function C(D){const N=(_[D-1]!==void 0?_[D-1]:-1)+1,L=_[D+1]!==void 0?_[D+1]:-1,U=N>L?-1:1;b[D+U]&&(b[D]=b[D+U].slice(0)),b[D]||(b[D]=[]),b[D].push(N>L?l:u);let W=Math.max(N,L),J=W-D;for(;J<p&&W<f&&i(s[J],e[W]);)J++,W++,b[D].push("equal");return W}let x,I=0;do{for(x=-I;x<k;x++)_[x]=C(x);for(x=k+I;x>k;x--)_[x]=C(x);_[k]=C(k),I++}while(_[k]!==f);return b[k].slice(1)}B.fastDiff=P;const R=function(){return function s(){s.called=!0}};class z{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=R(),this.off=R()}}const H=new Array(256).fill("").map((s,e)=>("0"+e.toString(16)).slice(-2));function K(){const s=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+H[255&s]+H[s>>8&255]+H[s>>16&255]+H[s>>24&255]+H[255&e]+H[e>>8&255]+H[e>>16&255]+H[e>>24&255]+H[255&i]+H[i>>8&255]+H[i>>16&255]+H[i>>24&255]+H[255&o]+H[o>>8&255]+H[o>>16&255]+H[o>>24&255]}const Y={get(s="normal"){return typeof s!="number"?this[s]||this.normal:s},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Q(s,e){const i=Y.get(e.priority);for(let o=0;o<s.length;o++)if(Y.get(s[o].priority)<i)return void s.splice(o,0,e);s.push(e)}const X="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class V extends Error{constructor(e,i,o){super(function(a,l){const u=new WeakSet,p=(b,_)=>{if(typeof _=="object"&&_!==null){if(u.has(_))return`[object ${_.constructor.name}]`;u.add(_)}return _},f=l?` ${JSON.stringify(l,p)}`:"",k=et(a);return a+f+k}(e,o)),this.name="CKEditorError",this.context=i,this.data=o}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const o=new V(e.message,i);throw o.stack=e.stack,o}}function ie(s,e){console.warn(...Fe(s,e))}function Re(s,e){console.error(...Fe(s,e))}function et(s){return`
Read more: ${X}#error-${s}`}function Fe(s,e){const i=et(s);return e?[s,e,i]:[s,i]}const ui="41.2.1",hi=new Date(2024,2,18);if(globalThis.CKEDITOR_VERSION)throw new V("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ui;const Tn=Symbol("listeningTo"),pi=Symbol("emitterId"),le=Symbol("delegations"),Ae=fe(Object);function fe(s){return s?class extends s{on(e,i,o){this.listenTo(this,e,i,o)}once(e,i,o){let a=!1;this.listenTo(this,e,(l,...u)=>{a||(a=!0,l.off(),i.call(this,l,...u))},o)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,o,a={}){let l,u;this[Tn]||(this[Tn]={});const p=this[Tn];At(e)||gt(e);const f=At(e);(l=p[f])||(l=p[f]={emitter:e,callbacks:{}}),(u=l.callbacks[i])||(u=l.callbacks[i]=[]),u.push(o),function(k,b,_,C,x){b._addEventListener?b._addEventListener(_,C,x):k._addEventListener.call(b,_,C,x)}(this,e,i,o,a)}stopListening(e,i,o){const a=this[Tn];let l=e&&At(e);const u=a&&l?a[l]:void 0,p=u&&i?u.callbacks[i]:void 0;if(!(!a||e&&!u||i&&!p))if(o)br(this,e,i,o),p.indexOf(o)!==-1&&(p.length===1?delete u.callbacks[i]:br(this,e,i,o));else if(p){for(;o=p.pop();)br(this,e,i,o);delete u.callbacks[i]}else if(u){for(i in u.callbacks)this.stopListening(e,i);delete a[l]}else{for(l in a)this.stopListening(a[l].emitter);delete this[Tn]}}fire(e,...i){try{const o=e instanceof z?e:new z(this,e),a=o.name;let l=Yr(this,a);if(o.path.push(this),l){const p=[o,...i];l=Array.from(l);for(let f=0;f<l.length&&(l[f].callback.apply(this,p),o.off.called&&(delete o.off.called,this._removeEventListener(a,l[f].callback)),!o.stop.called);f++);}const u=this[le];if(u){const p=u.get(a),f=u.get("*");p&&Mi(p,o,i),f&&Mi(f,o,i)}return o.return}catch(o){V.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(i,o)=>{this[le]||(this[le]=new Map),e.forEach(a=>{const l=this[le].get(a);l?l.set(i,o):this[le].set(a,new Map([[i,o]]))})}}}stopDelegating(e,i){if(this[le])if(e)if(i){const o=this[le].get(e);o&&o.delete(i)}else this[le].delete(e);else this[le].clear()}_addEventListener(e,i,o){(function(u,p){const f=Qr(u);if(f[p])return;let k=p,b=null;const _=[];for(;k!==""&&!f[k];)f[k]={callbacks:[],childEvents:[]},_.push(f[k]),b&&f[k].childEvents.push(b),b=k,k=k.substr(0,k.lastIndexOf(":"));if(k!==""){for(const C of _)C.callbacks=f[k].callbacks.slice();f[k].childEvents.push(b)}})(this,e);const a=gi(this,e),l={callback:i,priority:Y.get(o.priority)};for(const u of a)Q(u,l)}_removeEventListener(e,i){const o=gi(this,e);for(const a of o)for(let l=0;l<a.length;l++)a[l].callback==i&&(a.splice(l,1),l--)}}:Ae}function gt(s,e){s[pi]||(s[pi]=e||K())}function At(s){return s[pi]}function Qr(s){return s._events||Object.defineProperty(s,"_events",{value:{}}),s._events}function gi(s,e){const i=Qr(s)[e];if(!i)return[];let o=[i.callbacks];for(let a=0;a<i.childEvents.length;a++){const l=gi(s,i.childEvents[a]);o=o.concat(l)}return o}function Yr(s,e){let i;return s._events&&(i=s._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?Yr(s,e.substr(0,e.lastIndexOf(":"))):null}function Mi(s,e,i){for(let[o,a]of s){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const l=new z(e.source,a);l.path=[...e.path],o.fire(l,...i)}}function br(s,e,i,o){e._removeEventListener?e._removeEventListener(i,o):s._removeEventListener.call(e,i,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{fe[s]=Ae.prototype[s]});const ut=function(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")},Za=Symbol("observableProperties"),Fs=Symbol("boundObservables"),No=Symbol("boundProperties"),Ro=Symbol("decoratedMethods"),Qh=Symbol("decoratedOriginal"),Vl=tt(fe());function tt(s){return s?class extends s{set(e,i){if(ut(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);Fl(this);const o=this[Za];if(e in this&&!o.has(e))throw new V("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(a){const l=o.get(e);let u=this.fire(`set:${e}`,e,a,l);u===void 0&&(u=a),l===u&&o.has(e)||(o.set(e,u),this.fire(`change:${e}`,e,u,l))}}),this[e]=i}bind(...e){if(!e.length||!Zh(e))throw new V("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new V("observable-bind-duplicate-properties",this);Fl(this);const i=this[No];e.forEach(a=>{if(i.has(a))throw new V("observable-bind-rebind",this)});const o=new Map;return e.forEach(a=>{const l={property:a,to:[]};i.set(a,l),o.set(a,l)}),{to:Fk,toMany:Yh,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[Za])return;const i=this[No],o=this[Fs];if(e.length){if(!Zh(e))throw new V("observable-unbind-wrong-properties",this);e.forEach(a=>{const l=i.get(a);l&&(l.to.forEach(([u,p])=>{const f=o.get(u),k=f[p];k.delete(l),k.size||delete f[p],Object.keys(f).length||(o.delete(u),this.stopListening(u,"change"))}),i.delete(a))})}else o.forEach((a,l)=>{this.stopListening(l,"change")}),o.clear(),i.clear()}decorate(e){Fl(this);const i=this[e];if(!i)throw new V("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,a)=>{o.return=i.apply(this,a)}),this[e]=function(...o){return this.fire(e,o)},this[e][Qh]=i,this[Ro]||(this[Ro]=[]),this[Ro].push(e)}stopListening(e,i,o){if(!e&&this[Ro]){for(const a of this[Ro])this[a]=this[a][Qh];delete this[Ro]}super.stopListening(e,i,o)}}:Vl}function Fl(s){s[Za]||(Object.defineProperty(s,Za,{value:new Map}),Object.defineProperty(s,Fs,{value:new Map}),Object.defineProperty(s,No,{value:new Map}))}function Fk(...s){const e=function(...l){if(!l.length)throw new V("observable-bind-to-parse-error",null);const u={to:[]};let p;return typeof l[l.length-1]=="function"&&(u.callback=l.pop()),l.forEach(f=>{if(typeof f=="string")p.properties.push(f);else{if(typeof f!="object")throw new V("observable-bind-to-parse-error",null);p={observable:f,properties:[]},u.to.push(p)}}),u}(...s),i=Array.from(this._bindings.keys()),o=i.length;if(!e.callback&&e.to.length>1)throw new V("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new V("observable-bind-to-extra-callback",this);var a;e.to.forEach(l=>{if(l.properties.length&&l.properties.length!==o)throw new V("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),a=this._observable,this._to.forEach(l=>{const u=a[Fs];let p;u.get(l.observable)||a.listenTo(l.observable,"change",(f,k)=>{p=u.get(l.observable)[k],p&&p.forEach(b=>{Ul(a,b.property)})})}),function(l){let u;l._bindings.forEach((p,f)=>{l._to.forEach(k=>{u=k.properties[p.callback?0:l._bindProperties.indexOf(f)],p.to.push([k.observable,u]),function(b,_,C,x){const I=b[Fs],D=I.get(C),N=D||{};N[x]||(N[x]=new Set),N[x].add(_),D||I.set(C,N)}(l._observable,p,k.observable,u)})})}(this),this._bindProperties.forEach(l=>{Ul(this._observable,l)})}function Yh(s,e,i){if(this._bindings.size>1)throw new V("observable-bind-to-many-not-one-binding",this);this.to(...function(o,a){const l=o.map(u=>[u,a]);return Array.prototype.concat.apply([],l)}(s,e),i)}function Zh(s){return s.every(e=>typeof e=="string")}function Ul(s,e){const i=s[No].get(e);let o;i.callback?o=i.callback.apply(s,i.to.map(a=>a[0][a[1]])):(o=i.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(s,e)?s[e]=o:s.set(e,o)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{tt[s]=Vl.prototype[s]});class Ja{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Hl(s){let e=0;for(const i of s)e++;return e}function pn(s,e){const i=Math.min(s.length,e.length);for(let o=0;o<i;o++)if(s[o]!=e[o])return o;return s.length==e.length?"same":s.length<e.length?"prefix":"extension"}function zn(s){return!(!s||!s[Symbol.iterator])}const Jh=typeof us=="object"&&us&&us.Object===Object&&us;var Uk=typeof self=="object"&&self&&self.Object===Object&&self;const en=Jh||Uk||Function("return this")(),Vn=en.Symbol;var Xh=Object.prototype,Hk=Xh.hasOwnProperty,$k=Xh.toString,Us=Vn?Vn.toStringTag:void 0;const ep=function(s){var e=Hk.call(s,Us),i=s[Us];try{s[Us]=void 0;var o=!0}catch{}var a=$k.call(s);return o&&(e?s[Us]=i:delete s[Us]),a};var $l=Object.prototype.toString;const tp=function(s){return $l.call(s)};var np=Vn?Vn.toStringTag:void 0;const wr=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":np&&np in Object(s)?ep(s):tp(s)},Ot=Array.isArray,Gn=function(s){return s!=null&&typeof s=="object"},ip=function(s){return typeof s=="string"||!Ot(s)&&Gn(s)&&wr(s)=="[object String]"};function Kn(s,e,i={},o=[]){const a=i&&i.xmlns,l=a?s.createElementNS(a,e):s.createElement(e);for(const u in i)l.setAttribute(u,i[u]);!ip(o)&&zn(o)||(o=[o]);for(let u of o)ip(u)&&(u=s.createTextNode(u)),l.appendChild(u);return l}const rp=function(s,e){return function(i){return s(e(i))}},Wl=rp(Object.getPrototypeOf,Object);var Wk=Function.prototype,qk=Object.prototype,op=Wk.toString,Zr=qk.hasOwnProperty,Hs=op.call(Object);const Gt=function(s){if(!Gn(s)||wr(s)!="[object Object]")return!1;var e=Wl(s);if(e===null)return!0;var i=Zr.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&op.call(i)==Hs},Gk=function(){this.__data__=[],this.size=0},$s=function(s,e){return s===e||s!=s&&e!=e},Xa=function(s,e){for(var i=s.length;i--;)if($s(s[i][0],e))return i;return-1};var Kk=Array.prototype.splice;const Qk=function(s){var e=this.__data__,i=Xa(e,s);return!(i<0)&&(i==e.length-1?e.pop():Kk.call(e,i,1),--this.size,!0)},Yk=function(s){var e=this.__data__,i=Xa(e,s);return i<0?void 0:e[i][1]},Zk=function(s){return Xa(this.__data__,s)>-1},Bo=function(s,e){var i=this.__data__,o=Xa(i,s);return o<0?(++this.size,i.push([s,e])):i[o][1]=e,this};function Jr(s){var e=-1,i=s==null?0:s.length;for(this.clear();++e<i;){var o=s[e];this.set(o[0],o[1])}}Jr.prototype.clear=Gk,Jr.prototype.delete=Qk,Jr.prototype.get=Yk,Jr.prototype.has=Zk,Jr.prototype.set=Bo;const ec=Jr,Jk=function(){this.__data__=new ec,this.size=0},tc=function(s){var e=this.__data__,i=e.delete(s);return this.size=e.size,i},Xk=function(s){return this.__data__.get(s)},eb=function(s){return this.__data__.has(s)},Xr=function(s){if(!ut(s))return!1;var e=wr(s);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ql=en["__core-js_shared__"];var eo=function(){var s=/[^.]+$/.exec(ql&&ql.keys&&ql.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();const tb=function(s){return!!eo&&eo in s};var nb=Function.prototype.toString;const Qn=function(s){if(s!=null){try{return nb.call(s)}catch{}try{return s+""}catch{}}return""};var ib=/^\[object .+?Constructor\]$/,rb=Function.prototype,sp=Object.prototype,ap=rb.toString,ob=sp.hasOwnProperty,cp=RegExp("^"+ap.call(ob).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const nc=function(s){return!(!ut(s)||tb(s))&&(Xr(s)?cp:ib).test(Qn(s))},sb=function(s,e){return s==null?void 0:s[e]},_r=function(s,e){var i=sb(s,e);return nc(i)?i:void 0},Oo=_r(en,"Map"),Ws=_r(Object,"create"),ab=function(){this.__data__=Ws?Ws(null):{},this.size=0},cb=function(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e};var Gl=Object.prototype.hasOwnProperty;const lb=function(s){var e=this.__data__;if(Ws){var i=e[s];return i==="__lodash_hash_undefined__"?void 0:i}return Gl.call(e,s)?e[s]:void 0};var lp=Object.prototype.hasOwnProperty;const dp=function(s){var e=this.__data__;return Ws?e[s]!==void 0:lp.call(e,s)},up=function(s,e){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=Ws&&e===void 0?"__lodash_hash_undefined__":e,this};function to(s){var e=-1,i=s==null?0:s.length;for(this.clear();++e<i;){var o=s[e];this.set(o[0],o[1])}}to.prototype.clear=ab,to.prototype.delete=cb,to.prototype.get=lb,to.prototype.has=dp,to.prototype.set=up;const hp=to,db=function(){this.size=0,this.__data__={hash:new hp,map:new(Oo||ec),string:new hp}},pp=function(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null},nt=function(s,e){var i=s.__data__;return pp(e)?i[typeof e=="string"?"string":"hash"]:i.map},ub=function(s){var e=nt(this,s).delete(s);return this.size-=e?1:0,e},Kl=function(s){return nt(this,s).get(s)},gp=function(s){return nt(this,s).has(s)},qs=function(s,e){var i=nt(this,s),o=i.size;return i.set(s,e),this.size+=i.size==o?0:1,this};function Ar(s){var e=-1,i=s==null?0:s.length;for(this.clear();++e<i;){var o=s[e];this.set(o[0],o[1])}}Ar.prototype.clear=db,Ar.prototype.delete=ub,Ar.prototype.get=Kl,Ar.prototype.has=gp,Ar.prototype.set=qs;const Yi=Ar,fp=function(s,e){var i=this.__data__;if(i instanceof ec){var o=i.__data__;if(!Oo||o.length<199)return o.push([s,e]),this.size=++i.size,this;i=this.__data__=new Yi(o)}return i.set(s,e),this.size=i.size,this};function Lo(s){var e=this.__data__=new ec(s);this.size=e.size}Lo.prototype.clear=Jk,Lo.prototype.delete=tc,Lo.prototype.get=Xk,Lo.prototype.has=eb,Lo.prototype.set=fp;const jo=Lo,mp=function(s,e){for(var i=-1,o=s==null?0:s.length;++i<o&&e(s[i],i,s)!==!1;);return s},ic=function(){try{var s=_r(Object,"defineProperty");return s({},"",{}),s}catch{}}(),zo=function(s,e,i){e=="__proto__"&&ic?ic(s,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):s[e]=i};var hb=Object.prototype.hasOwnProperty;const Ql=function(s,e,i){var o=s[e];hb.call(s,e)&&$s(o,i)&&(i!==void 0||e in s)||zo(s,e,i)},Vo=function(s,e,i,o){var a=!i;i||(i={});for(var l=-1,u=e.length;++l<u;){var p=e[l],f=o?o(i[p],s[p],p,i,s):void 0;f===void 0&&(f=s[p]),a?zo(i,p,f):Ql(i,p,f)}return i},kp=function(s,e){for(var i=-1,o=Array(s);++i<s;)o[i]=e(i);return o},rc=function(s){return Gn(s)&&wr(s)=="[object Arguments]"};var bp=Object.prototype,pb=bp.hasOwnProperty,gb=bp.propertyIsEnumerable;const oc=rc(function(){return arguments}())?rc:function(s){return Gn(s)&&pb.call(s,"callee")&&!gb.call(s,"callee")},Yl=function(){return!1};var wp=t&&!t.nodeType&&t,Zl=wp&&!0&&n&&!n.nodeType&&n,Jl=Zl&&Zl.exports===wp?en.Buffer:void 0;const Fo=(Jl?Jl.isBuffer:void 0)||Yl;var _p=/^(?:0|[1-9]\d*)$/;const sc=function(s,e){var i=typeof s;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&_p.test(s))&&s>-1&&s%1==0&&s<e},Xl=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991};var ht={};ht["[object Float32Array]"]=ht["[object Float64Array]"]=ht["[object Int8Array]"]=ht["[object Int16Array]"]=ht["[object Int32Array]"]=ht["[object Uint8Array]"]=ht["[object Uint8ClampedArray]"]=ht["[object Uint16Array]"]=ht["[object Uint32Array]"]=!0,ht["[object Arguments]"]=ht["[object Array]"]=ht["[object ArrayBuffer]"]=ht["[object Boolean]"]=ht["[object DataView]"]=ht["[object Date]"]=ht["[object Error]"]=ht["[object Function]"]=ht["[object Map]"]=ht["[object Number]"]=ht["[object Object]"]=ht["[object RegExp]"]=ht["[object Set]"]=ht["[object String]"]=ht["[object WeakMap]"]=!1;const Ap=function(s){return Gn(s)&&Xl(s.length)&&!!ht[wr(s)]},ed=function(s){return function(e){return s(e)}};var td=t&&!t.nodeType&&t,no=td&&!0&&n&&!n.nodeType&&n,nd=no&&no.exports===td&&Jh.process;const io=function(){try{var s=no&&no.require&&no.require("util").types;return s||nd&&nd.binding&&nd.binding("util")}catch{}}();var id=io&&io.isTypedArray;const rd=id?ed(id):Ap;var vp=Object.prototype.hasOwnProperty;const Cp=function(s,e){var i=Ot(s),o=!i&&oc(s),a=!i&&!o&&Fo(s),l=!i&&!o&&!a&&rd(s),u=i||o||a||l,p=u?kp(s.length,String):[],f=p.length;for(var k in s)!e&&!vp.call(s,k)||u&&(k=="length"||a&&(k=="offset"||k=="parent")||l&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||sc(k,f))||p.push(k);return p};var fb=Object.prototype;const Gs=function(s){var e=s&&s.constructor;return s===(typeof e=="function"&&e.prototype||fb)},od=rp(Object.keys,Object);var sd=Object.prototype.hasOwnProperty;const ad=function(s){if(!Gs(s))return od(s);var e=[];for(var i in Object(s))sd.call(s,i)&&i!="constructor"&&e.push(i);return e},Ks=function(s){return s!=null&&Xl(s.length)&&!Xr(s)},Uo=function(s){return Ks(s)?Cp(s):ad(s)},yp=function(s,e){return s&&Vo(e,Uo(e),s)},Ep=function(s){var e=[];if(s!=null)for(var i in Object(s))e.push(i);return e};var xp=Object.prototype.hasOwnProperty;const mb=function(s){if(!ut(s))return Ep(s);var e=Gs(s),i=[];for(var o in s)(o!="constructor"||!e&&xp.call(s,o))&&i.push(o);return i},Ho=function(s){return Ks(s)?Cp(s,!0):mb(s)},kb=function(s,e){return s&&Vo(e,Ho(e),s)};var Ip=t&&!t.nodeType&&t,Tp=Ip&&!0&&n&&!n.nodeType&&n,vr=Tp&&Tp.exports===Ip?en.Buffer:void 0,ac=vr?vr.allocUnsafe:void 0;const Dp=function(s,e){if(e)return s.slice();var i=s.length,o=ac?ac(i):new s.constructor(i);return s.copy(o),o},Sp=function(s,e){var i=-1,o=s.length;for(e||(e=Array(o));++i<o;)e[i]=s[i];return e},Mp=function(s,e){for(var i=-1,o=s==null?0:s.length,a=0,l=[];++i<o;){var u=s[i];e(u,i,s)&&(l[a++]=u)}return l},cc=function(){return[]};var bb=Object.prototype.propertyIsEnumerable,Pp=Object.getOwnPropertySymbols;const cd=Pp?function(s){return s==null?[]:(s=Object(s),Mp(Pp(s),function(e){return bb.call(s,e)}))}:cc,Np=function(s,e){return Vo(s,cd(s),e)},ld=function(s,e){for(var i=-1,o=e.length,a=s.length;++i<o;)s[a+i]=e[i];return s},Rp=Object.getOwnPropertySymbols?function(s){for(var e=[];s;)ld(e,cd(s)),s=Wl(s);return e}:cc,wb=function(s,e){return Vo(s,Rp(s),e)},Bp=function(s,e,i){var o=e(s);return Ot(s)?o:ld(o,i(s))},lc=function(s){return Bp(s,Uo,cd)},_b=function(s){return Bp(s,Ho,Rp)},dd=_r(en,"DataView"),ud=_r(en,"Promise"),dc=_r(en,"Set"),hd=_r(en,"WeakMap");var Op="[object Map]",pd="[object Promise]",Lp="[object Set]",gd="[object WeakMap]",fd="[object DataView]",jp=Qn(dd),at=Qn(Oo),Ab=Qn(ud),vb=Qn(dc),md=Qn(hd),ro=wr;(dd&&ro(new dd(new ArrayBuffer(1)))!=fd||Oo&&ro(new Oo)!=Op||ud&&ro(ud.resolve())!=pd||dc&&ro(new dc)!=Lp||hd&&ro(new hd)!=gd)&&(ro=function(s){var e=wr(s),i=e=="[object Object]"?s.constructor:void 0,o=i?Qn(i):"";if(o)switch(o){case jp:return fd;case at:return Op;case Ab:return pd;case vb:return Lp;case md:return gd}return e});const Zi=ro;var kd=Object.prototype.hasOwnProperty;const Cb=function(s){var e=s.length,i=new s.constructor(e);return e&&typeof s[0]=="string"&&kd.call(s,"index")&&(i.index=s.index,i.input=s.input),i},Qs=en.Uint8Array,Ys=function(s){var e=new s.constructor(s.byteLength);return new Qs(e).set(new Qs(s)),e},bd=function(s,e){var i=e?Ys(s.buffer):s.buffer;return new s.constructor(i,s.byteOffset,s.byteLength)};var wd=/\w*$/;const $o=function(s){var e=new s.constructor(s.source,wd.exec(s));return e.lastIndex=s.lastIndex,e};var _d=Vn?Vn.prototype:void 0,uc=_d?_d.valueOf:void 0;const yb=function(s){return uc?Object(uc.call(s)):{}},S=function(s,e){var i=e?Ys(s.buffer):s.buffer;return new s.constructor(i,s.byteOffset,s.length)},M=function(s,e,i){var o=s.constructor;switch(e){case"[object ArrayBuffer]":return Ys(s);case"[object Boolean]":case"[object Date]":return new o(+s);case"[object DataView]":return bd(s,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return S(s,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(s);case"[object RegExp]":return $o(s);case"[object Symbol]":return yb(s)}};var F=Object.create;const $=function(){function s(){}return function(e){if(!ut(e))return{};if(F)return F(e);s.prototype=e;var i=new s;return s.prototype=void 0,i}}(),ne=function(s){return typeof s.constructor!="function"||Gs(s)?{}:$(Wl(s))},me=function(s){return Gn(s)&&Zi(s)=="[object Map]"};var ke=io&&io.isMap;const ge=ke?ed(ke):me,Le=function(s){return Gn(s)&&Zi(s)=="[object Set]"};var Ne=io&&io.isSet;const Yn=Ne?ed(Ne):Le;var gn="[object Arguments]",Vt="[object Function]",Pi="[object Object]",$e={};$e[gn]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object DataView]"]=$e["[object Boolean]"]=$e["[object Date]"]=$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Map]"]=$e["[object Number]"]=$e[Pi]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object Symbol]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Error]"]=$e[Vt]=$e["[object WeakMap]"]=!1;const Zn=function s(e,i,o,a,l,u){var p,f=1&i,k=2&i,b=4&i;if(o&&(p=l?o(e,a,l,u):o(e)),p!==void 0)return p;if(!ut(e))return e;var _=Ot(e);if(_){if(p=Cb(e),!f)return Sp(e,p)}else{var C=Zi(e),x=C==Vt||C=="[object GeneratorFunction]";if(Fo(e))return Dp(e,f);if(C==Pi||C==gn||x&&!l){if(p=k||x?{}:ne(e),!f)return k?wb(e,kb(p,e)):Np(e,yp(p,e))}else{if(!$e[C])return l?e:{};p=M(e,C,f)}}u||(u=new jo);var I=u.get(e);if(I)return I;u.set(e,p),Yn(e)?e.forEach(function(N){p.add(s(N,i,o,N,e,u))}):ge(e)&&e.forEach(function(N,L){p.set(L,s(N,i,o,L,e,u))});var D=_?void 0:(b?k?_b:lc:k?Ho:Uo)(e);return mp(D||e,function(N,L){D&&(N=e[L=N]),Ql(p,L,s(N,i,o,L,e,u))}),p},tn=function(s,e){return Zn(s,5,e=typeof e=="function"?e:void 0)},Lt=function(s){return Gn(s)&&s.nodeType===1&&!Gt(s)};class nn{constructor(e,i){this._config={},i&&this.define(Jn(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,o,a=!1){if(Gt(i))return void this._setObjectToTarget(e,i,a);const l=i.split(".");i=l.pop();for(const u of l)Gt(e[u])||(e[u]={}),e=e[u];if(Gt(o))return Gt(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,o,a);a&&e[i]!==void 0||(e[i]=o)}_getFromSource(e,i){const o=i.split(".");i=o.pop();for(const a of o){if(!Gt(e[a])){e=null;break}e=e[a]}return e?Jn(e[i]):void 0}_setObjectToTarget(e,i,o){Object.keys(i).forEach(a=>{this._setToTarget(e,a,i[a],o)})}}function Jn(s){return tn(s,Ji)}function Ji(s){return Lt(s)||typeof s=="function"?s:void 0}function Cr(s){if(s){if(s.defaultView)return s instanceof s.defaultView.Document;if(s.ownerDocument&&s.ownerDocument.defaultView)return s instanceof s.ownerDocument.defaultView.Node}return!1}function hc(s){const e=Object.prototype.toString.apply(s);return e=="[object Window]"||e=="[object global]"}const zp=Xn(fe());function Xn(s){return s?class extends s{listenTo(e,i,o,a={}){if(Cr(e)||hc(e)){const l={capture:!!a.useCapture,passive:!!a.usePassive},u=this._getProxyEmitter(e,l)||new Eb(e,l);this.listenTo(u,i,o,a)}else super.listenTo(e,i,o,a)}stopListening(e,i,o){if(Cr(e)||hc(e)){const a=this._getAllProxyEmitters(e);for(const l of a)this.stopListening(l,i,o)}else super.stopListening(e,i,o)}_getProxyEmitter(e,i){return function(o,a){const l=o[Tn];return l&&l[a]?l[a].emitter:null}(this,Vp(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:zp}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{Xn[s]=zp.prototype[s]});class Eb extends fe(){constructor(e,i){super(),gt(this,Vp(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,o){this.attach(e),fe().prototype._addEventListener.call(this,e,i,o)}_removeEventListener(e,i){fe().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=o=>{this.fire(e,o)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function Vp(s,e){let i=function(o){return o["data-ck-expando"]||(o["data-ck-expando"]=K())}(s);for(const o of Object.keys(e).sort())e[o]&&(i+="-"+o);return i}let Se;try{Se={window,document}}catch{Se={window:{},document:{}}}const ae=Se;function Ue(s){const e=s.ownerDocument.defaultView.getComputedStyle(s);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Ze(s){return Object.prototype.toString.call(s)=="[object Text]"}function fi(s){return Object.prototype.toString.apply(s)=="[object Range]"}function Ni(s){return s&&s.parentNode?s.offsetParent===ae.document.body?null:s.offsetParent:null}const mi=["top","right","bottom","left","width","height"];class Ee{constructor(e){const i=fi(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),fn(e)||i)if(i){const o=Ee.getDomRangeRects(e);Ft(this,Ee.getBoundingRect(o))}else Ft(this,e.getBoundingClientRect());else if(hc(e)){const{innerWidth:o,innerHeight:a}=e;Ft(this,{top:0,right:o,bottom:a,left:0,width:o,height:a})}else Ft(this,e)}clone(){return new Ee(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const o=new Ee(i);return o._source=this._source,o}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(ki(e))return i;let o,a=e,l=e.parentNode||e.commonAncestorContainer;for(;l&&!ki(l);){const p=((u=l)instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).overflow:"visible")==="visible";a instanceof HTMLElement&&vt(a)==="absolute"&&(o=a);const f=vt(l);if(p||o&&(f==="relative"&&p||f!=="relative")){a=l,l=l.parentNode;continue}const k=new Ee(l),b=i.getIntersection(k);if(!b)return null;b.getArea()<i.getArea()&&(i=b),a=l,l=l.parentNode}var u;return i}isEqual(e){for(const i of mi)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=ae.window,o=this.clone().moveBy(e,i);if(fn(o._source)){const a=Ni(o._source);a&&function(l,u){const p=new Ee(u),f=Ue(u);let k=0,b=0;k-=p.left,b-=p.top,k+=u.scrollLeft,b+=u.scrollTop,k-=f.left,b-=f.top,l.moveBy(k,b)}(o,a)}return o}excludeScrollbarsAndBorders(){const e=this._source;let i,o,a;if(hc(e))i=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const l=Ue(e);i=e.offsetWidth-e.clientWidth-l.left-l.right,o=e.offsetHeight-e.clientHeight-l.top-l.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,a==="ltr"?this.right-=i:this.left+=i,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const i=[],o=Array.from(e.getClientRects());if(o.length)for(const a of o)i.push(new Ee(a));else{let a=e.startContainer;Ze(a)&&(a=a.parentNode);const l=new Ee(a.getBoundingClientRect());l.right=l.left,l.width=0,i.push(l)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const a of e)o++,i.left=Math.min(i.left,a.left),i.top=Math.min(i.top,a.top),i.right=Math.max(i.right,a.right),i.bottom=Math.max(i.bottom,a.bottom);return o==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ee(i))}}function Ft(s,e){for(const i of mi)s[i]=e[i]}function ki(s){return!!fn(s)&&s===s.ownerDocument.body}function fn(s){return s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.getBoundingClientRect=="function"}function vt(s){return s instanceof HTMLElement?s.ownerDocument.defaultView.getComputedStyle(s).position:"static"}const je=class{constructor(s,e){je._observerInstance||je._createObserver(),this._element=s,this._callback=e,je._addElementCallback(s,e),je._observerInstance.observe(s)}get element(){return this._element}destroy(){je._deleteElementCallback(this._element,this._callback)}static _addElementCallback(s,e){je._elementCallbacks||(je._elementCallbacks=new Map);let i=je._elementCallbacks.get(s);i||(i=new Set,je._elementCallbacks.set(s,i)),i.add(e)}static _deleteElementCallback(s,e){const i=je._getElementCallbacks(s);i&&(i.delete(e),i.size||(je._elementCallbacks.delete(s),je._observerInstance.unobserve(s))),je._elementCallbacks&&!je._elementCallbacks.size&&(je._observerInstance=null,je._elementCallbacks=null)}static _getElementCallbacks(s){return je._elementCallbacks?je._elementCallbacks.get(s):null}static _createObserver(){je._observerInstance=new ae.window.ResizeObserver(s=>{for(const e of s){const i=je._getElementCallbacks(e.target);if(i)for(const o of i)o(e)}})}};let Ri=je;function iy(s,e){s instanceof HTMLTextAreaElement&&(s.value=e),s.innerHTML=e}function pc(s){return e=>e+s}function Fp(s){let e=0;for(;s.previousSibling;)s=s.previousSibling,e++;return e}function ry(s,e,i){s.insertBefore(i,s.childNodes[e]||null)}function Ad(s){return s&&s.nodeType===Node.COMMENT_NODE}function Zs(s){return!!(s&&s.getClientRects&&s.getClientRects().length)}Ri._observerInstance=null,Ri._elementCallbacks=null;var oy=Math.pow;function xb({element:s,target:e,positions:i,limiter:o,fitInViewport:a,viewportOffsetConfig:l}){Xr(e)&&(e=e()),Xr(o)&&(o=o());const u=Ni(s),p=function(C){C=Object.assign({top:0,bottom:0,left:0,right:0},C);const x=new Ee(ae.window);return x.top+=C.top,x.height-=C.top,x.bottom-=C.bottom,x.height-=C.bottom,x}(l),f=new Ee(s),k=sy(e,p);let b;if(!k||!p.getIntersection(k))return null;const _={targetRect:k,elementRect:f,positionedElementAncestor:u,viewportRect:p};if(o||a){if(o){const C=sy(o,p);C&&(_.limiterRect=C)}b=function(C,x){const{elementRect:I}=x,D=I.getArea(),N=C.map(W=>new ay(W,x)).filter(W=>!!W.name);let L=0,U=null;for(const W of N){const{limiterIntersectionArea:J,viewportIntersectionArea:pe}=W;if(J===D)return W;const _e=oy(pe,2)+oy(J,2);_e>L&&(L=_e,U=W)}return U}(i,_)}else b=new ay(i[0],_);return b}function sy(s,e){const i=new Ee(s).getVisible();return i?i.getIntersection(e):null}class ay{constructor(e,i){const o=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!o)return;const{left:a,top:l,name:u,config:p}=o;this.name=u,this.config=p,this._positioningFunctionCoordinates={left:a,top:l},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function cy(s){const e=s.parentNode;e&&e.removeChild(s)}function PO({window:s,rect:e,alignToTop:i,forceScroll:o,viewportOffset:a}){const l=e.clone().moveBy(0,a.bottom),u=e.clone().moveBy(0,-a.top),p=new Ee(s).excludeScrollbarsAndBorders(),f=i&&o,k=[u,l].every(I=>p.contains(I));let{scrollX:b,scrollY:_}=s;const C=b,x=_;f?_-=p.top-e.top+a.top:k||(dy(u,p)?_-=p.top-e.top+a.top:ly(l,p)&&(_+=i?e.top-p.top-a.top:e.bottom-p.bottom+a.bottom)),k||(uy(e,p)?b-=p.left-e.left+a.left:hy(e,p)&&(b+=e.right-p.right+a.right)),b==C&&_===x||s.scrollTo(b,_)}function NO({parent:s,getRect:e,alignToTop:i,forceScroll:o,ancestorOffset:a=0,limiterElement:l}){const u=Ib(s),p=i&&o;let f,k,b;const _=l||u.document.body;for(;s!=_;)k=e(),f=new Ee(s).excludeScrollbarsAndBorders(),b=f.contains(k),p?s.scrollTop-=f.top-k.top+a:b||(dy(k,f)?s.scrollTop-=f.top-k.top+a:ly(k,f)&&(s.scrollTop+=i?k.top-f.top-a:k.bottom-f.bottom+a)),b||(uy(k,f)?s.scrollLeft-=f.left-k.left+a:hy(k,f)&&(s.scrollLeft+=k.right-f.right+a)),s=s.parentNode}function ly(s,e){return s.bottom>e.bottom}function dy(s,e){return s.top<e.top}function uy(s,e){return s.left<e.left}function hy(s,e){return s.right>e.right}function Ib(s){return fi(s)?s.startContainer.ownerDocument.defaultView:s.ownerDocument.defaultView}function RO(s){if(fi(s)){let e=s.commonAncestorContainer;return Ze(e)&&(e=e.parentNode),e}return s.parentNode}function py(s,e){const i=Ib(s),o=new Ee(s);if(i===e)return o;{let a=i;for(;a!=e;){const l=a.frameElement,u=new Ee(l).excludeScrollbarsAndBorders();o.moveBy(u.left,u.top),a=a.parent}}return o}const BO={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},OO={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},gy={37:"←",38:"↑",39:"→",40:"↓",9:"⇥"},We=function(){const s={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)s[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)s[e-48]=e;for(let e=112;e<=123;e++)s["f"+(e-111)]=e;return Object.assign(s,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),s}(),LO=Object.fromEntries(Object.entries(We).map(([s,e])=>{let i;return i=e in gy?gy[e]:s.charAt(0).toUpperCase()+s.slice(1),[e,i]}));function gc(s){let e;if(typeof s=="string"){if(e=We[s.toLowerCase()],!e)throw new V("keyboard-unknown-key",null,{key:s})}else e=s.keyCode+(s.altKey?We.alt:0)+(s.ctrlKey?We.ctrl:0)+(s.shiftKey?We.shift:0)+(s.metaKey?We.cmd:0);return e}function vd(s){return typeof s=="string"&&(s=function(e){return e.split("+").map(i=>i.trim())}(s)),s.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return gc(i.slice(0,-1));const o=gc(i);return(v.isMac||v.isiOS)&&o==We.ctrl?We.cmd:o}(e):e).reduce((e,i)=>i+e,0)}function Up(s){let e=vd(s);return Object.entries(v.isMac||v.isiOS?BO:OO).reduce((i,[o,a])=>(e&We[o]&&(e&=~We[o],i+=a),i),"")+(e?LO[e]:"")}function Tb(s,e){const i=e==="ltr";switch(s){case We.arrowleft:return i?"left":"right";case We.arrowright:return i?"right":"left";case We.arrowup:return"up";case We.arrowdown:return"down"}}function pt(s){return Array.isArray(s)?s:[s]}const Db=function(s,e,i){(i!==void 0&&!$s(s[e],i)||i===void 0&&!(e in s))&&zo(s,e,i)},fy=function(s){return function(e,i,o){for(var a=-1,l=Object(e),u=o(e),p=u.length;p--;){var f=u[s?p:++a];if(i(l[f],f,l)===!1)break}return e}}(),jO=function(s){return Gn(s)&&Ks(s)},Sb=function(s,e){if((e!=="constructor"||typeof s[e]!="function")&&e!="__proto__")return s[e]},zO=function(s){return Vo(s,Ho(s))},VO=function(s,e,i,o,a,l,u){var p=Sb(s,i),f=Sb(e,i),k=u.get(f);if(k)Db(s,i,k);else{var b=l?l(p,f,i+"",s,e,u):void 0,_=b===void 0;if(_){var C=Ot(f),x=!C&&Fo(f),I=!C&&!x&&rd(f);b=f,C||x||I?Ot(p)?b=p:jO(p)?b=Sp(p):x?(_=!1,b=Dp(f,!0)):I?(_=!1,b=S(f,!0)):b=[]:Gt(f)||oc(f)?(b=p,oc(p)?b=zO(p):ut(p)&&!Xr(p)||(b=ne(f))):_=!1}_&&(u.set(f,b),a(b,f,o,l,u),u.delete(f)),Db(s,i,b)}},FO=function s(e,i,o,a,l){e!==i&&fy(i,function(u,p){if(l||(l=new jo),ut(u))VO(e,i,p,o,s,a,l);else{var f=a?a(Sb(e,p),u,p+"",e,i,l):void 0;f===void 0&&(f=u),Db(e,p,f)}},Ho)},Wo=function(s){return s},UO=function(s,e,i){switch(i.length){case 0:return s.call(e);case 1:return s.call(e,i[0]);case 2:return s.call(e,i[0],i[1]);case 3:return s.call(e,i[0],i[1],i[2])}return s.apply(e,i)};var my=Math.max;const HO=function(s,e,i){return e=my(e===void 0?s.length-1:e,0),function(){for(var o=arguments,a=-1,l=my(o.length-e,0),u=Array(l);++a<l;)u[a]=o[e+a];a=-1;for(var p=Array(e+1);++a<e;)p[a]=o[a];return p[e]=i(u),UO(s,this,p)}},$O=function(s){return function(){return s}},WO=ic?function(s,e){return ic(s,"toString",{configurable:!0,enumerable:!1,value:$O(e),writable:!0})}:Wo;var qO=Date.now;const GO=function(s){var e=0,i=0;return function(){var o=qO(),a=16-(o-i);if(i=o,a>0){if(++e>=800)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}(WO),KO=function(s,e){return GO(HO(s,e,Wo),s+"")},QO=function(s,e,i){if(!ut(i))return!1;var o=typeof e;return!!(o=="number"?Ks(i)&&sc(e,i.length):o=="string"&&e in i)&&$s(i[e],s)},ky=function(s){return KO(function(e,i){var o=-1,a=i.length,l=a>1?i[a-1]:void 0,u=a>2?i[2]:void 0;for(l=s.length>3&&typeof l=="function"?(a--,l):void 0,u&&QO(i[0],i[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++o<a;){var p=i[o];p&&s(e,p,o,l)}return e})},Mb=ky(function(s,e,i){FO(s,e,i)});function YO(s,e,i=1,o){if(typeof i!="number")throw new V("translation-service-quantity-not-a-number",null,{quantity:i});const a=o||ae.window.CKEDITOR_TRANSLATIONS,l=function(b){return Object.keys(b).length}(a);l===1&&(s=Object.keys(a)[0]);const u=e.id||e.string;if(l===0||!function(b,_,C){return!!C[b]&&!!C[b].dictionary[_]}(s,u,a))return i!==1?e.plural:e.string;const p=a[s].dictionary,f=a[s].getPluralForm||(b=>b===1?0:1),k=p[u];return typeof k=="string"?k:k[Number(f(i))]}ae.window.CKEDITOR_TRANSLATIONS||(ae.window.CKEDITOR_TRANSLATIONS={});const ZO=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function by(s){return ZO.includes(s)?"rtl":"ltr"}class JO{constructor({uiLanguage:e="en",contentLanguage:i,translations:o}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=by(this.uiLanguage),this.contentLanguageDirection=by(this.contentLanguage),this.translations=function(a){return Array.isArray(a)?a.reduce((l,u)=>Mb(l,u)):a}(o),this.t=(a,l)=>this._t(a,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=pt(i),typeof e=="string"&&(e={string:e});const o=e.plural?i[0]:1;return function(a,l){return a.replace(/%(\d+)/g,(u,p)=>p<l.length?l[p]:u)}(YO(this.uiLanguage,e,o,this.translations),i)}}class Xi extends fe(){constructor(e={},i={}){super();const o=zn(e);if(o||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new V("collection-add-item-invalid-index",this);let o=0;for(const a of e){const l=this._getItemIdBeforeAdding(a),u=i+o;this._items.splice(u,0,a),this._itemMap.set(l,a),this.fire("add",a,u),o++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new V("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,o]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:o}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new V("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(o=>new i(o))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(o=>o[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,o=(a,l,u)=>{const p=i._bindToCollection==this,f=i._bindToInternalToExternalMap.get(l);if(p&&f)this._bindToExternalToInternalMap.set(l,f),this._bindToInternalToExternalMap.set(f,l);else{const k=e(l);if(!k)return void this._skippedIndexesFromExternal.push(u);let b=u;for(const _ of this._skippedIndexesFromExternal)u>_&&b--;for(const _ of i._skippedIndexesFromExternal)b>=_&&b++;this._bindToExternalToInternalMap.set(l,k),this._bindToInternalToExternalMap.set(k,l),this.add(k,b);for(let _=0;_<i._skippedIndexesFromExternal.length;_++)b<=i._skippedIndexesFromExternal[_]&&i._skippedIndexesFromExternal[_]++}};for(const a of i)o(0,a,i.getIndex(a));this.listenTo(i,"add",o),this.listenTo(i,"remove",(a,l,u)=>{const p=this._bindToExternalToInternalMap.get(l);p&&this.remove(p),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((f,k)=>(u<k&&f.push(k-1),u>k&&f.push(k),f),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let o;if(i in e){if(o=e[i],typeof o!="string")throw new V("collection-add-invalid-id",this);if(this.get(o))throw new V("collection-add-item-already-exists",this)}else e[i]=o=K();return o}_remove(e){let i,o,a,l=!1;const u=this._idProperty;if(typeof e=="string"?(o=e,a=this._itemMap.get(o),l=!a,a&&(i=this._items.indexOf(a))):typeof e=="number"?(i=e,a=this._items[i],l=!a,a&&(o=a[u])):(a=e,o=a[u],i=this._items.indexOf(a),l=i==-1||!this._itemMap.get(o)),l)throw new V("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(o);const p=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(p),this.fire("remove",a,i),[a,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function rn(s){const e=s.next();return e.done?null:e.value}class mn extends Xn(tt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new V("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class ei{constructor(){this._listener=new(Xn())}listenTo(e){this._listener.listenTo(e,"keydown",(i,o)=>{this._listener.fire("_keydown:"+gc(o),o)})}set(e,i,o={}){const a=vd(e),l=o.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(u,p)=>{i(p,()=>{p.preventDefault(),p.stopPropagation(),u.stop()}),u.return=!0},{priority:l})}press(e){return!!this._listener.fire("_keydown:"+gc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function yr(s){return zn(s)?new Map(s):function(e){const i=new Map;for(const o in e)i.set(o,e[o]);return i}(s)}function Pb(s,e){let i;function o(...a){o.cancel(),i=setTimeout(()=>s(...a),e)}return o.cancel=()=>{clearTimeout(i)},o}function Nb(s,e){return!!(i=s.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}(s.charAt(e));var i}function Rb(s,e){return!!(i=s.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const XO=function(){const s=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+s.map(o=>o.source).join("|")+")";return new RegExp(`${e}|${i}(?:‍${i})*`,"ug")}();function wy(s,e){const i=String(s).matchAll(XO);return Array.from(i).some(o=>o.index<e&&e<o.index+o[0].length)}class re extends tt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",_y,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",_y),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function _y(s){s.return=!1,s.stop()}class Be extends tt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const o=e.model.document.selection,a=o.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(o);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ay,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ay),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Ay(s){s.return=!1,s.stop()}class vy extends Be{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){Q(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class Cy extends fe(){constructor(e,i=[],o=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of i)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,l]of o)this._contextPlugins.set(a,l),this._contextPlugins.set(l,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let o=e;throw typeof e=="function"&&(o=e.pluginName||e.name),new V("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return i}has(e){return this._plugins.has(e)}init(e,i=[],o=[]){const a=this,l=this._context;(function I(D,N=new Set){D.forEach(L=>{f(L)&&(N.has(L)||(N.add(L),L.pluginName&&!a._availablePlugins.has(L.pluginName)&&a._availablePlugins.set(L.pluginName,L),L.requires&&I(L.requires,N)))})})(e),C(e);const u=[...function I(D,N=new Set){return D.map(L=>f(L)?L:a._availablePlugins.get(L)).reduce((L,U)=>N.has(U)?L:(N.add(U),U.requires&&(C(U.requires,U),I(U.requires,N).forEach(W=>L.add(W))),L.add(U)),new Set)}(e.filter(I=>!b(I,i)))];(function(I,D){for(const N of D){if(typeof N!="function")throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem:N});const L=N.pluginName;if(!L)throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem:N});if(N.requires&&N.requires.length)throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:L});const U=a._availablePlugins.get(L);if(!U)throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:L});const W=I.indexOf(U);if(W===-1){if(a._contextPlugins.has(U))return;throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:L})}if(U.requires&&U.requires.length)throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:L});I.splice(W,1,N),a._availablePlugins.set(L,N)}})(u,o);const p=u.map(I=>{let D=a._contextPlugins.get(I);return D=D||new I(l),a._add(I,D),D});return x(p,"init").then(()=>x(p,"afterInit")).then(()=>p);function f(I){return typeof I=="function"}function k(I){return f(I)&&!!I.isContextPlugin}function b(I,D){return D.some(N=>N===I||_(I)===N||_(N)===I)}function _(I){return f(I)?I.pluginName||I.name:I}function C(I,D=null){I.map(N=>f(N)?N:a._availablePlugins.get(N)||N).forEach(N=>{(function(L,U){if(!f(L))throw U?new V("plugincollection-soft-required",l,{missingPlugin:L,requiredBy:_(U)}):new V("plugincollection-plugin-not-found",l,{plugin:L})})(N,D),function(L,U){if(k(U)&&!k(L))throw new V("plugincollection-context-required",l,{plugin:_(L),requiredBy:_(U)})}(N,D),function(L,U){if(U&&b(L,i))throw new V("plugincollection-required",l,{plugin:_(L),requiredBy:_(U)})}(N,D)})}function x(I,D){return I.reduce((N,L)=>L[D]?a._contextPlugins.has(L)?N:N.then(L[D].bind(L)):N,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new V("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,i)}}}var yy=Object.getOwnPropertySymbols,eL=Object.prototype.hasOwnProperty,tL=Object.prototype.propertyIsEnumerable;class Ey{constructor(e){this._contextOwner=null;const i=e||{},{translations:o}=i,a=((p,f)=>{var k={};for(var b in p)eL.call(p,b)&&f.indexOf(b)<0&&(k[b]=p[b]);if(p!=null&&yy)for(var b of yy(p))f.indexOf(b)<0&&tL.call(p,b)&&(k[b]=p[b]);return k})(i,["translations"]);this.config=new nn(a,this.constructor.defaultConfig);const l=this.constructor.builtinPlugins;this.config.define("plugins",l),this.plugins=new Cy(this,l);const u=this.config.get("language")||{};this.locale=new JO({uiLanguage:typeof u=="string"?u:u.ui,contentLanguage:this.config.get("language.content"),translations:o}),this.t=this.locale.t,this.editors=new Xi}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const o of e.concat(i)){if(typeof o!="function")throw new V("context-initplugins-constructor-only",null,{Plugin:o});if(o.isContextPlugin!==!0)throw new V("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new V("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const o=new this(e);i(o.initPlugins().then(()=>o))})}}class Hp extends tt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class nL extends ei{constructor(e){super(),this.editor=e}set(e,i,o={}){if(typeof i=="string"){const a=i;i=(l,u)=>{this.editor.execute(a),u()}}super.set(e,i,o)}}var iL=d(2591),de=d.n(iL),xy=d(4098),rL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(xy.A,rL),xy.A.locals;const $p=new WeakMap;let Iy=!1;function Ty({view:s,element:e,text:i,isDirectHost:o=!0,keepOnFocus:a=!1}){const l=s.document;function u(p){$p.get(l).set(e,{text:p,isDirectHost:o,keepOnFocus:a,hostElement:o?e:null}),s.change(f=>Bb(l,f))}$p.has(l)||($p.set(l,new Map),l.registerPostFixer(p=>Bb(l,p)),l.on("change:isComposing",()=>{s.change(p=>Bb(l,p))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(p,f,k)=>{u(k)}),e.placeholder?u(e.placeholder):i&&u(i),i&&function(){Iy||ie("enableplaceholder-deprecated-text-option"),Iy=!0}()}function oL(s,e){return!e.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",e),!0)}function sL(s,e){return!!e.hasClass("ck-placeholder")&&(s.removeClass("ck-placeholder",e),!0)}function aL(s,e){if(!s.isAttached()||Array.from(s.getChildren()).some(a=>!a.is("uiElement")))return!1;const i=s.document,o=i.selection.anchor;return(!i.isComposing||!o||o.parent!==s)&&(!!e||!i.isFocused||!!o&&o.parent!==s)}function Bb(s,e){const i=$p.get(s),o=[];let a=!1;for(const[l,u]of i)u.isDirectHost&&(o.push(l),Dy(e,l,u)&&(a=!0));for(const[l,u]of i){if(u.isDirectHost)continue;const p=cL(l);p&&(o.includes(p)||(u.hostElement=p,Dy(e,l,u)&&(a=!0)))}return a}function Dy(s,e,i){const{text:o,isDirectHost:a,hostElement:l}=i;let u=!1;return l.getAttribute("data-placeholder")!==o&&(s.setAttribute("data-placeholder",o,l),u=!0),(a||e.childCount==1)&&aL(l,i.keepOnFocus)?oL(s,l)&&(u=!0):sL(s,l)&&(u=!0),u}function cL(s){if(s.childCount){const e=s.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Js{is(){throw new Error("is() method is abstract")}}const Sy=function(s){return Zn(s,4)};class Xs extends fe(Js){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new V("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),a=e.getAncestors(i);let l=0;for(;o[l]==a[l]&&o[l];)l++;return l===0?null:o[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),a=pn(i,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return i[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=Sy(this);return delete e.parent,e}}Xs.prototype.is=function(s){return s==="node"||s==="view:node"};class ct extends Xs{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ct&&(this===e||this.data===e.data)}_clone(){return new ct(this.document,this.data)}}ct.prototype.is=function(s){return s==="$text"||s==="view:$text"||s==="text"||s==="view:text"||s==="node"||s==="view:node"};class Er extends Js{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.data.length)throw new V("view-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.data.length)throw new V("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let o=e.includeSelf?this.textNode:this.parent;for(;o!==null;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}}Er.prototype.is=function(s){return s==="$textProxy"||s==="view:$textProxy"||s==="textProxy"||s==="view:textProxy"};class er{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const o of this._patterns){const a=My(i,o);if(a)return{element:i,pattern:o,match:a}}return null}matchAll(...e){const i=[];for(const o of e)for(const a of this._patterns){const l=My(o,a);l&&i.push({element:o,pattern:a,match:l})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function My(s,e){if(typeof e=="function")return e(s);const i={};return e.name&&(i.name=function(o,a){return o instanceof RegExp?!!a.match(o):o===a}(e.name,s.name),!i.name)||e.attributes&&(i.attributes=function(o,a){const l=new Set(a.getAttributeKeys());return Gt(o)?(o.style!==void 0&&ie("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&ie("matcher-pattern-deprecated-attributes-class-key",o)):(l.delete("style"),l.delete("class")),Ob(o,l,u=>a.getAttribute(u))}(e.attributes,s),!i.attributes)||e.classes&&(i.classes=function(o,a){return Ob(o,a.getClassNames(),()=>{})}(e.classes,s),!i.classes)||e.styles&&(i.styles=function(o,a){return Ob(o,a.getStyleNames(!0),l=>a.getStyle(l))}(e.styles,s),!i.styles)?null:i}function Ob(s,e,i){const o=function(u){return Array.isArray(u)?u.map(p=>Gt(p)?(p.key!==void 0&&p.value!==void 0||ie("matcher-pattern-missing-key-or-value",p),[p.key,p.value]):[p,!0]):Gt(u)?Object.entries(u):[[u,!0]]}(s),a=Array.from(e),l=[];if(o.forEach(([u,p])=>{a.forEach(f=>{(function(k,b){return k===!0||k===b||k instanceof RegExp&&b.match(k)})(u,f)&&function(k,b,_){if(k===!0)return!0;const C=_(b);return k===C||k instanceof RegExp&&!!String(C).match(k)}(p,f,i)&&l.push(f)})}),o.length&&!(l.length<o.length))return l}const Wp=function(s){return typeof s=="symbol"||Gn(s)&&wr(s)=="[object Symbol]"};var lL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dL=/^\w*$/;const Lb=function(s,e){if(Ot(s))return!1;var i=typeof s;return!(i!="number"&&i!="symbol"&&i!="boolean"&&s!=null&&!Wp(s))||dL.test(s)||!lL.test(s)||e!=null&&s in Object(e)};function jb(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var o=arguments,a=e?e.apply(this,o):o[0],l=i.cache;if(l.has(a))return l.get(a);var u=s.apply(this,o);return i.cache=l.set(a,u)||l,u};return i.cache=new(jb.Cache||Yi),i}jb.Cache=Yi;const uL=jb,hL=function(s){var e=uL(s,function(o){return i.size===500&&i.clear(),o}),i=e.cache;return e};var pL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gL=/\\(\\)?/g,fL=hL(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(pL,function(i,o,a,l){e.push(a?l.replace(gL,"$1"):o||i)}),e});const mL=fL,kL=function(s,e){for(var i=-1,o=s==null?0:s.length,a=Array(o);++i<o;)a[i]=e(s[i],i,s);return a};var Py=Vn?Vn.prototype:void 0,Ny=Py?Py.toString:void 0;const bL=function s(e){if(typeof e=="string")return e;if(Ot(e))return kL(e,s)+"";if(Wp(e))return Ny?Ny.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},zb=function(s){return s==null?"":bL(s)},qp=function(s,e){return Ot(s)?s:Lb(s,e)?[s]:mL(zb(s))},wL=function(s){var e=s==null?0:s.length;return e?s[e-1]:void 0},fc=function(s){if(typeof s=="string"||Wp(s))return s;var e=s+"";return e=="0"&&1/s==-1/0?"-0":e},Vb=function(s,e){for(var i=0,o=(e=qp(e,s)).length;s!=null&&i<o;)s=s[fc(e[i++])];return i&&i==o?s:void 0},Ry=function(s,e,i){var o=-1,a=s.length;e<0&&(e=-e>a?0:a+e),(i=i>a?a:i)<0&&(i+=a),a=e>i?0:i-e>>>0,e>>>=0;for(var l=Array(a);++o<a;)l[o]=s[o+e];return l},_L=function(s,e){return e.length<2?s:Vb(s,Ry(e,0,-1))},AL=function(s,e){return e=qp(e,s),(s=_L(s,e))==null||delete s[fc(wL(e))]},vL=function(s,e){return s==null||AL(s,e)},Cd=function(s,e,i){var o=s==null?void 0:Vb(s,e);return o===void 0?i:o},CL=function(s,e,i,o){if(!ut(s))return s;for(var a=-1,l=(e=qp(e,s)).length,u=l-1,p=s;p!=null&&++a<l;){var f=fc(e[a]),k=i;if(f==="__proto__"||f==="constructor"||f==="prototype")return s;if(a!=u){var b=p[f];(k=o?o(b,f,p):void 0)===void 0&&(k=ut(b)?b:sc(e[a+1])?[]:{})}Ql(p,f,k),p=p[f]}return s},yL=function(s,e,i){return s==null?s:CL(s,e,i)};class Fb{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(o){let a=null,l=0,u=0,p=null;const f=new Map;if(o==="")return f;o.charAt(o.length-1)!=";"&&(o+=";");for(let k=0;k<o.length;k++){const b=o.charAt(k);if(a===null)switch(b){case":":p||(p=o.substr(l,k-l),u=k+1);break;case'"':case"'":a=b;break;case";":{const _=o.substr(u,k-u);p&&f.set(p.trim(),_.trim()),p=null,l=k+1;break}}else b===a&&(a=null)}return f}(e);for(const[o,a]of i)this._styleProcessor.toNormalizedForm(o,a,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)}set(e,i){if(ut(e))for(const[o,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,a,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Ub(e);vL(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ut(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const o of i)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const o=i.splice(0,i.length-1).join("."),a=Cd(this._styles,o);a&&!Object.keys(a).length&&this.remove(o)}}class EL{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,o){if(ut(i))Hb(o,Ub(e),i);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:l,value:u}=a(i);Hb(o,l,u)}else Hb(o,e,i)}getNormalized(e,i){if(!e)return Mb({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if(typeof o=="string")return Cd(i,o);const a=o(e,i);if(a)return a}return Cd(i,Ub(e))}getReducedForm(e,i){const o=this.getNormalized(e,i);return o===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(a=>{const l=this.getNormalized(a,e);return l&&typeof l=="object"?Object.keys(l).length:l}),o=new Set([...i,...Object.keys(e)]);return Array.from(o)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const o of i)this._mapStyleNames(o,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Ub(s){return s.replace("-",".")}function Hb(s,e,i){let o=i;ut(i)&&(o=Mb({},Cd(s,e),i)),yL(s,e,o)}class bi extends Xs{constructor(e,i,o,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(l){const u=yr(l);for(const[p,f]of u)f===null?u.delete(p):typeof f!="string"&&u.set(p,String(f));return u}(o),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");By(this._classes,l),this._attrs.delete("class")}this._styles=new Fb(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof bi))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,o]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==o)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new er(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(i.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(o==""?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const a of this.getChildren())i.push(a._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,i);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let o=0;const a=function(l,u){return typeof u=="string"?[new ct(l,u)]:(zn(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new ct(l,p):p instanceof Er?new ct(l,p.data):p))}(this.document,i);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(e,0,l),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const o=String(i);this._fireChange("attributes",this),e=="class"?By(this._classes,o):e=="style"?this._styles.setTo(o):this._attrs.set(e,o)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of pt(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of pt(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of pt(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function By(s,e){const i=e.split(/\s+/);s.clear(),i.forEach(o=>s.add(o))}bi.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="view:element"):s==="element"||s==="view:element"||s==="node"||s==="view:node"};class yd extends bi{constructor(e,i,o,a){super(e,i,o,a),this.getFillerOffset=xL}}function xL(){const s=[...this.getChildren()],e=s[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of s)if(!i.is("uiElement"))return null;return this.childCount}yd.prototype.is=function(s,e){return e?e===this.name&&(s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Gp extends tt(yd){constructor(e,i,o,a){super(e,i,o,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",l=>l&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Gp.prototype.is=function(s,e){return e?e===this.name&&(s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};const Oy=Symbol("rootName");class Ly extends Gp{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(Oy)}set rootName(e){this._setCustomProperty(Oy,e)}set _name(e){this.name=e}}Ly.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class ea{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new V("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new V("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=ce._createAt(e.startPosition):this._position=ce._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,o;do o=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(o instanceof ct){if(e.isAtEnd)return this._position=ce._createAfter(o),this._next();a=o.data[e.offset]}else a=o.getChild(e.offset);if(a instanceof bi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new ce(a,0);return this._position=e,this._formatReturnValue("elementStart",a,i,e,1)}if(a instanceof ct){if(this.singleCharacters)return e=new ce(a,0),this._position=e,this._next();let l,u=a.data.length;return a==this._boundaryEndParent?(u=this.boundaries.end.offset,l=new Er(a,0,u),e=ce._createAfter(l)):(l=new Er(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,i,e,u)}if(typeof a=="string"){let l;this.singleCharacters?l=1:l=(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const u=new Er(o,e.offset,l);return e.offset+=l,this._position=e,this._formatReturnValue("text",u,i,e,l)}return e=ce._createAfter(o),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,i,e)}_previous(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(o instanceof ct){if(e.isAtStart)return this._position=ce._createBefore(o),this._previous();a=o.data[e.offset-1]}else a=o.getChild(e.offset-1);if(a instanceof bi)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,i,e,1)):(e=new ce(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,i,e));if(a instanceof ct){if(this.singleCharacters)return e=new ce(a,a.data.length),this._position=e,this._previous();let l,u=a.data.length;if(a==this._boundaryStartParent){const p=this.boundaries.start.offset;l=new Er(a,p,a.data.length-p),u=l.data.length,e=ce._createBefore(l)}else l=new Er(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,i,e,u)}if(typeof a=="string"){let l;if(this.singleCharacters)l=1;else{const p=o===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-p}e.offset-=l;const u=new Er(o,e.offset,l);return this._position=e,this._formatReturnValue("text",u,i,e,l)}return e=ce._createBefore(o),this._position=e,this._formatReturnValue("elementStart",o,i,e,1)}_formatReturnValue(e,i,o,a,l){return i instanceof Er&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=ce._createAfter(i.textNode):(a=ce._createAfter(i.textNode),this._position=a)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=ce._createBefore(i.textNode):(a=ce._createBefore(i.textNode),this._position=a))),{done:!1,value:{type:e,item:i,previousPosition:o,nextPosition:a,length:l}}}}class ce extends Js{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Gp);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=ce._createAt(this),o=i.offset+e;return i.offset=o<0?0:o,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new ea(i);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let a=0;for(;i[a]==o[a]&&i[a];)a++;return a===0?null:i[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),o.push(e.offset);const a=pn(i,o);switch(a){case"prefix":return"before";case"extension":return"after";default:return i[a]<o[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new ea(e)}clone(){return new ce(this.parent,this.offset)}static _createAt(e,i){if(e instanceof ce)return new this(e.parent,e.offset);{const o=e;if(i=="end")i=o.is("$text")?o.data.length:o.childCount;else{if(i=="before")return this._createBefore(o);if(i=="after")return this._createAfter(o);if(i!==0&&!i)throw new V("view-createpositionat-offset-required",o)}return new ce(o,i)}}static _createAfter(e){if(e.is("$textProxy"))return new ce(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new V("view-position-after-root",e,{root:e});return new ce(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new ce(e.textNode,e.offsetInText);if(!e.parent)throw new V("view-position-before-root",e,{root:e});return new ce(e.parent,e.index)}}ce.prototype.is=function(s){return s==="position"||s==="view:position"};class ye extends Js{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new ea({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Kp,{direction:"backward"}),i=this.end.getLastMatchingPosition(Kp);return e.parent.is("$text")&&e.isAtStart&&(e=ce._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=ce._createAfter(i.parent)),new ye(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Kp);if(e.isAfter(this.end)||e.isEqual(this.end))return new ye(e,e);let i=this.end.getLastMatchingPosition(Kp,{direction:"backward"});const o=e.nodeAfter,a=i.nodeBefore;return o&&o.is("$text")&&(e=new ce(o,0)),a&&a.is("$text")&&(i=new ce(a,a.data.length)),new ye(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&a}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ye(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ye(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new ye(i,o)}return null}getWalker(e={}){return e.boundaries=this,new ea(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new ye(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new ea(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new ea(e);yield i.position;for(const o of i)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,o,a){return new this(new ce(e,i),new ce(o,a))}static _createFromPositionAndShift(e,i){const o=e,a=e.getShiftedBy(i);return i>0?new this(o,a):new this(a,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ce._createBefore(e),i)}}function Kp(s){return!(!s.item.is("attributeElement")&&!s.item.is("uiElement"))}ye.prototype.is=function(s){return s==="range"||s==="view:range"};class tr extends fe(Js){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const a of e._ranges)if(i.isEqual(a)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Hl(this.getRanges());if(i!=Hl(e.getRanges()))return!1;if(i==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let a=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),o.start.isEqual(l.start)&&o.end.isEqual(l.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,o,a]=e;if(typeof o=="object"&&(a=o,o=void 0),i===null)this._setRanges([]),this._setFakeOptions(a);else if(i instanceof tr||i instanceof $b)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof ye)this._setRanges([i],a&&a.backward),this._setFakeOptions(a);else if(i instanceof ce)this._setRanges([new ye(i)]),this._setFakeOptions(a);else if(i instanceof Xs){const l=!!a&&!!a.backward;let u;if(o===void 0)throw new V("view-selection-setto-required-second-parameter",this);u=o=="in"?ye._createIn(i):o=="on"?ye._createOn(i):new ye(ce._createAt(i,o)),this._setRanges([u],l),this._setFakeOptions(a)}else{if(!zn(i))throw new V("view-selection-setto-not-selectable",this);this._setRanges(i,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new V("view-selection-setfocus-no-ranges",this);const o=ce._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),o.compareWith(a)=="before"?this._addRange(new ye(o,a),!0):this._addRange(new ye(a,o)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof ye))throw new V("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new V("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new ye(e.start,e.end))}}tr.prototype.is=function(s){return s==="selection"||s==="view:selection"};class $b extends fe(Js){constructor(...e){super(),this._selection=new tr,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}$b.prototype.is=function(s){return s==="selection"||s=="documentSelection"||s=="view:selection"||s=="view:documentSelection"};class mc extends z{constructor(e,i,o){super(e,i),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Wb=Symbol("bubbling contexts");function qb(s){return class extends s{fire(e,...i){try{const o=e instanceof z?e:new z(this,e),a=Gb(this);if(!a.size)return;if(Ed(o,"capturing",this),kc(a,"$capture",o,...i))return o.return;const l=o.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,p=!!u&&!!jy(a,u);let f=u||function(k){if(!k)return null;const b=k.start.parent,_=k.end.parent,C=b.getPath(),x=_.getPath();return C.length>x.length?b:_}(l);if(Ed(o,"atTarget",f),!p){if(kc(a,"$text",o,...i))return o.return;Ed(o,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(kc(a,"$root",o,...i))return o.return}else if(f.is("element")&&kc(a,f.name,o,...i))return o.return;if(kc(a,f,o,...i))return o.return;f=f.parent,Ed(o,"bubbling",f)}return Ed(o,"bubbling",this),kc(a,"$document",o,...i),o.return}catch(o){V.rethrowUnexpectedError(o,this)}}_addEventListener(e,i,o){const a=pt(o.context||"$document"),l=Gb(this);for(const u of a){let p=l.get(u);p||(p=new(fe()),l.set(u,p)),this.listenTo(p,e,i,o)}}_removeEventListener(e,i){const o=Gb(this);for(const a of o.values())this.stopListening(a,e,i)}}}{const s=qb(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{qb[e]=s.prototype[e]})}function Ed(s,e,i){s instanceof mc&&(s._eventPhase=e,s._currentTarget=i)}function kc(s,e,i,...o){const a=typeof e=="string"?s.get(e):jy(s,e);return!!a&&(a.fire(i,...o),i.stop.called)}function jy(s,e){for(const[i,o]of s)if(typeof i=="function"&&i(e))return o;return null}function Gb(s){return s[Wb]||(s[Wb]=new Map),s[Wb]}class Qp extends qb(tt()){constructor(e){super(),this._postFixers=new Set,this.selection=new $b,this.roots=new Xi({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(i=o(e),i)break;while(i)}}class ta extends bi{constructor(e,i,o,a){super(e,i,o,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=IL}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new V("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function IL(){if(Kb(this))return null;let s=this.parent;for(;s&&s.is("attributeElement");){if(Kb(s)>1)return null;s=s.parent}return!s||Kb(s)>1?null:this.childCount}function Kb(s){return Array.from(s.getChildren()).filter(e=>!e.is("uiElement")).length}ta.DEFAULT_PRIORITY=10,ta.prototype.is=function(s,e){return e?e===this.name&&(s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"):s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Qb extends bi{constructor(e,i,o,a){super(e,i,o,a),this.getFillerOffset=TL}_insertChild(e,i){if(i&&(i instanceof Xs||Array.from(i).length>0))throw new V("view-emptyelement-cannot-add",[this,i]);return 0}}function TL(){return null}Qb.prototype.is=function(s,e){return e?e===this.name&&(s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"):s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Yp extends bi{constructor(e,i,o,a){super(e,i,o,a),this.getFillerOffset=SL}_insertChild(e,i){if(i&&(i instanceof Xs||Array.from(i).length>0))throw new V("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const o of this.getAttributeKeys())i.setAttribute(o,this.getAttribute(o));return i}}function DL(s){s.document.on("arrowKey",(e,i)=>function(o,a,l){if(a.keyCode==We.arrowright){const u=a.domTarget.ownerDocument.defaultView.getSelection(),p=u.rangeCount==1&&u.getRangeAt(0).collapsed;if(p||a.shiftKey){const f=u.focusNode,k=u.focusOffset,b=l.domPositionToView(f,k);if(b===null)return;let _=!1;const C=b.getLastMatchingPosition(x=>(x.item.is("uiElement")&&(_=!0),!(!x.item.is("uiElement")&&!x.item.is("attributeElement"))));if(_){const x=l.viewPositionToDom(C);p?u.collapse(x.parent,x.offset):u.extend(x.parent,x.offset)}}}}(0,i,s.domConverter),{priority:"low"})}function SL(){return null}Yp.prototype.is=function(s,e){return e?e===this.name&&(s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"):s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Yb extends bi{constructor(e,i,o,a){super(e,i,o,a),this.getFillerOffset=ML}_insertChild(e,i){if(i&&(i instanceof Xs||Array.from(i).length>0))throw new V("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function ML(){return null}Yb.prototype.is=function(s,e){return e?e===this.name&&(s==="rawElement"||s==="view:rawElement"||s==="element"||s==="view:element"):s==="rawElement"||s==="view:rawElement"||s===this.name||s==="view:"+this.name||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class na extends fe(Js){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let o=0;const a=function(l,u){return typeof u=="string"?[new ct(l,u)]:(zn(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new ct(l,p):p instanceof Er?new ct(l,p.data):p))}(this.document,i);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}na.prototype.is=function(s){return s==="documentFragment"||s==="view:documentFragment"};class zy{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new na(this.document,e)}createText(e){return new ct(this.document,e)}createAttributeElement(e,i,o={}){const a=new ta(this.document,e,i);return typeof o.priority=="number"&&(a._priority=o.priority),o.id&&(a._id=o.id),o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createContainerElement(e,i,o={},a={}){let l=null;Gt(o)?a=o:l=o;const u=new yd(this.document,e,i,l);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createEditableElement(e,i,o={}){const a=new Gp(this.document,e,i);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createEmptyElement(e,i,o={}){const a=new Qb(this.document,e,i);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createUIElement(e,i,o){const a=new Yp(this.document,e,i);return o&&(a.render=o),a}createRawElement(e,i,o,a={}){const l=new Yb(this.document,e,i);return o&&(l.render=o),a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){Gt(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof ce?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new V("view-writer-break-non-container-element",this.document);if(!i.parent)throw new V("view-writer-break-root",this.document);if(e.isAtStart)return ce._createBefore(i);if(!e.isAtEnd){const o=i._clone(!1);this.insert(ce._createAfter(i),o);const a=new ye(e,ce._createAt(i,"end")),l=new ce(o,0);this.move(a,l)}return ce._createAfter(i)}mergeAttributes(e){const i=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&o.childCount===0){const u=o.parent,p=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new ce(u,p))}const a=o.getChild(i-1),l=o.getChild(i);if(!a||!l)return e;if(a.is("$text")&&l.is("$text"))return Fy(a,l);if(a.is("attributeElement")&&l.is("attributeElement")&&a.isSimilar(l)){const u=a.childCount;return a._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new ce(a,u))}return e}mergeContainers(e){const i=e.nodeBefore,o=e.nodeAfter;if(!(i&&o&&i.is("containerElement")&&o.is("containerElement")))throw new V("view-writer-merge-containers-invalid-position",this.document);const a=i.getChild(i.childCount-1),l=a instanceof ct?ce._createAt(a,"end"):ce._createAt(i,"end");return this.move(ye._createIn(o),ce._createAt(i,"end")),this.remove(ye._createOn(o)),l}insert(e,i){Uy(i=zn(i)?[...i]:[i],this.document);const o=i.reduce((u,p)=>{const f=u[u.length-1],k=!p.is("uiElement");return f&&f.breakAttributes==k?f.nodes.push(p):u.push({breakAttributes:k,nodes:[p]}),u},[]);let a=null,l=e;for(const{nodes:u,breakAttributes:p}of o){const f=this._insertNodes(l,u,p);a||(a=f.start),l=f.end}return a?new ye(a,l):new ye(e)}remove(e){const i=e instanceof ye?e:ye._createOn(e);if(xd(i,this.document),i.isCollapsed)return new na(this.document);const{start:o,end:a}=this._breakAttributesRange(i,!0),l=o.parent,u=a.offset-o.offset,p=l._removeChildren(o.offset,u);for(const k of p)this._removeFromClonedElementsGroup(k);const f=this.mergeAttributes(o);return i.start=f,i.end=f.clone(),new na(this.document,p)}clear(e,i){xd(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of o){const l=a.item;let u;if(l.is("element")&&i.isSimilar(l))u=ye._createOn(l);else if(!a.nextPosition.isAfter(e.start)&&l.is("$textProxy")){const p=l.getAncestors().find(f=>f.is("element")&&i.isSimilar(f));p&&(u=ye._createIn(p))}u&&(u.end.isAfter(e.end)&&(u.end=e.end),u.start.isBefore(e.start)&&(u.start=e.start),this.remove(u))}}move(e,i){let o;if(i.isAfter(e.end)){const a=(i=this._breakAttributes(i,!0)).parent,l=a.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),i.offset+=a.childCount-l}else o=this.remove(e);return this.insert(i,o)}wrap(e,i){if(!(i instanceof ta))throw new V("view-writer-wrap-invalid-attribute",this.document);if(xd(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(o=a.parent,!Array.from(o.getChildren()).some(u=>!u.is("uiElement")))&&(a=a.getLastMatchingPosition(u=>u.item.is("uiElement"))),a=this._wrapPosition(a,i);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new ye(a)}return this._wrapRange(e,i);var o}unwrap(e,i){if(!(i instanceof ta))throw new V("view-writer-unwrap-invalid-attribute",this.document);if(xd(e,this.document),e.isCollapsed)return e;const{start:o,end:a}=this._breakAttributesRange(e,!0),l=o.parent,u=this._unwrapChildren(l,o.offset,a.offset,i),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const f=this.mergeAttributes(u.end);return new ye(p,f)}rename(e,i){const o=new yd(this.document,e,i.getAttributes());return this.insert(ce._createAfter(i),o),this.move(ye._createIn(i),ce._createAt(o,0)),this.remove(ye._createOn(i)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return ce._createAt(e,i)}createPositionAfter(e){return ce._createAfter(e)}createPositionBefore(e){return ce._createBefore(e)}createRange(e,i){return new ye(e,i)}createRangeOn(e){return ye._createOn(e)}createRangeIn(e){return ye._createIn(e)}createSelection(...e){return new tr(...e)}createSlot(e="children"){if(!this._slotFactory)throw new V("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,o){let a,l;if(a=o?Zb(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new V("view-writer-invalid-position-container",this.document);l=o?this._breakAttributes(e,!0):e.parent.is("$text")?Jb(e):e;const u=a._insertChild(l.offset,i);for(const b of i)this._addToClonedElementsGroup(b);const p=l.getShiftedBy(u),f=this.mergeAttributes(l);f.isEqual(l)||p.offset--;const k=this.mergeAttributes(p);return new ye(f,k)}_wrapChildren(e,i,o,a){let l=i;const u=[];for(;l<o;){const f=e.getChild(l),k=f.is("$text"),b=f.is("attributeElement");if(b&&this._wrapAttributeElement(a,f))u.push(new ce(e,l));else if(k||!b||PL(a,f)){const _=a._clone();f._remove(),_._appendChild(f),e._insertChild(l,_),this._addToClonedElementsGroup(_),u.push(new ce(e,l))}else this._wrapChildren(f,0,f.childCount,a);l++}let p=0;for(const f of u)f.offset-=p,f.offset!=i&&(this.mergeAttributes(f).isEqual(f)||(p++,o--));return ye._createFromParentsAndOffsets(e,i,e,o)}_unwrapChildren(e,i,o,a){let l=i;const u=[];for(;l<o;){const f=e.getChild(l);if(f.is("attributeElement"))if(f.isSimilar(a)){const k=f.getChildren(),b=f.childCount;f._remove(),e._insertChild(l,k),this._removeFromClonedElementsGroup(f),u.push(new ce(e,l),new ce(e,l+b)),l+=b,o+=b-1}else this._unwrapAttributeElement(a,f)?(u.push(new ce(e,l),new ce(e,l+1)),l++):(this._unwrapChildren(f,0,f.childCount,a),l++);else l++}let p=0;for(const f of u)f.offset-=p,!(f.offset==i||f.offset==o)&&(this.mergeAttributes(f).isEqual(f)||(p++,o--));return ye._createFromParentsAndOffsets(e,i,e,o)}_wrapRange(e,i){const{start:o,end:a}=this._breakAttributesRange(e,!0),l=o.parent,u=this._wrapChildren(l,o.offset,a.offset,i),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const f=this.mergeAttributes(u.end);return new ye(p,f)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return Vy(e.clone());e.parent.is("$text")&&(e=Jb(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const a=new ye(e,e.getShiftedBy(1));this.wrap(a,i);const l=new ce(o.parent,o.index);o._remove();const u=l.nodeBefore,p=l.nodeAfter;return u instanceof ct&&p instanceof ct?Fy(u,p):Vy(l)}_wrapAttributeElement(e,i){if(!Hy(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&i.hasAttribute(o)&&i.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(i.hasStyle(o)&&i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&(i.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),i));for(const o of e.getStyleNames())i.hasStyle(o)||this.setStyle(o,e.getStyle(o),i);for(const o of e.getClassNames())i.hasClass(o)||this.addClass(o,i);return!0}_unwrapAttributeElement(e,i){if(!Hy(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&(!i.hasAttribute(o)||i.getAttribute(o)!==e.getAttribute(o)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!i.hasStyle(o)||i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&this.removeAttribute(o,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const o=e.start,a=e.end;if(xd(e,this.document),e.isCollapsed){const f=this._breakAttributes(e.start,i);return new ye(f,f)}const l=this._breakAttributes(a,i),u=l.parent.childCount,p=this._breakAttributes(o,i);return l.offset+=l.parent.childCount-u,new ye(p,l)}_breakAttributes(e,i=!1){const o=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new V("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new V("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new V("view-writer-cannot-break-raw-element",this.document);if(!i&&a.is("$text")&&Xb(a.parent)||Xb(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Jb(e),i);if(o==a.childCount){const l=new ce(a.parent,a.index+1);return this._breakAttributes(l,i)}if(o===0){const l=new ce(a.parent,a.index);return this._breakAttributes(l,i)}{const l=a.index+1,u=a._clone();a.parent._insertChild(l,u),this._addToClonedElementsGroup(u);const p=a.childCount-o,f=a._removeChildren(o,p);u._appendChild(f);const k=new ce(a.parent,l);return this._breakAttributes(k,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const i=e.id;if(!i)return;let o=this._cloneGroups.get(i);o||(o=new Set,this._cloneGroups.set(i,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const i=e.id;if(!i)return;const o=this._cloneGroups.get(i);o&&o.delete(e)}}function Zb(s){let e=s.parent;for(;!Xb(e);){if(!e)return;e=e.parent}return e}function PL(s,e){return s.priority<e.priority||!(s.priority>e.priority)&&s.getIdentity()<e.getIdentity()}function Vy(s){const e=s.nodeBefore;if(e&&e.is("$text"))return new ce(e,e.data.length);const i=s.nodeAfter;return i&&i.is("$text")?new ce(i,0):s}function Jb(s){if(s.offset==s.parent.data.length)return new ce(s.parent.parent,s.parent.index+1);if(s.offset===0)return new ce(s.parent.parent,s.parent.index);const e=s.parent.data.slice(s.offset);return s.parent._data=s.parent.data.slice(0,s.offset),s.parent.parent._insertChild(s.parent.index+1,new ct(s.root.document,e)),new ce(s.parent.parent,s.parent.index+1)}function Fy(s,e){const i=s.data.length;return s._data+=e.data,e._remove(),new ce(s,i)}const NL=[ct,ta,yd,Qb,Yb,Yp];function Uy(s,e){for(const i of s){if(!NL.some(o=>i instanceof o))throw new V("view-writer-insert-invalid-node-type",e);i.is("$text")||Uy(i.getChildren(),e)}}function Xb(s){return s&&(s.is("containerElement")||s.is("documentFragment"))}function xd(s,e){const i=Zb(s.start),o=Zb(s.end);if(!i||!o||i!==o)throw new V("view-writer-invalid-range-container",e)}function Hy(s,e){return s.id===null&&e.id===null}const $y=s=>s.createTextNode(" "),Wy=s=>{const e=s.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},qy=s=>{const e=s.createElement("br");return e.dataset.ckeFiller="true",e},nr=7,Id="⁠".repeat(nr);function wi(s){return typeof s=="string"?s.substr(0,nr)===Id:Ze(s)&&s.data.substr(0,nr)===Id}function Td(s){return s.data.length==nr&&wi(s)}function Gy(s){const e=typeof s=="string"?s:s.data;return wi(s)?e.slice(nr):e}function RL(s,e){if(e.keyCode==We.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const o=i.getRangeAt(0).startContainer,a=i.getRangeAt(0).startOffset;wi(o)&&a<=nr&&i.collapse(o,0)}}}var Ky=d(8264),BL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Ky.A,BL),Ky.A.locals;class OL extends tt(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new V("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!v.isAndroid)return;let e=null;const i=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const o of this.markedChildren)this._updateChildrenMappings(o);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=ce._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(i)if(e){const o=this.domConverter.viewPositionToDom(e),a=o.parent.ownerDocument;wi(o.parent)?this._inlineFiller=o.parent:this._inlineFiller=Qy(a,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const o=Array.from(i.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(o,a),u=this._findUpdateActions(l,o,a,LL);if(u.indexOf("update")!==-1){const p={equal:0,insert:0,delete:0};for(const f of u)if(f==="update"){const k=p.equal+p.insert,b=p.equal+p.delete,_=e.getChild(k);!_||_.is("uiElement")||_.is("rawElement")||this._updateElementMappings(_,o[b]),cy(a[k]),p.equal++}else p[f]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?ce._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&Ze(i.parent)&&wi(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!wi(e))throw new V("view-renderer-filler-was-lost",this);Td(e)?e.remove():e.data=e.data.substr(nr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(u){if(u.getAttribute("contenteditable")=="false")return!1;const p=u.findAncestor(f=>f.hasAttribute("contenteditable"));return!p||p.getAttribute("contenteditable")=="true"}(i)||o===i.getFillerOffset())return!1;const a=e.nodeBefore,l=e.nodeAfter;return!(a instanceof ct||l instanceof ct)&&(!v.isAndroid||!a&&!l)}_updateText(e,i){const o=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const l=i.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(a=Id+a),Yy(o,a)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const o=Array.from(i.attributes).map(l=>l.name),a=e.getAttributeKeys();for(const l of a)this.domConverter.setDomElementAttribute(i,l,e.getAttribute(l),e);for(const l of o)e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(i,l)}_updateChildren(e,i){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(v.isAndroid){let _=null;for(const C of Array.from(o.childNodes)){if(_&&Ze(_)&&Ze(C)){o.normalize();break}_=C}}const a=i.inlineFillerPosition,l=o.childNodes,u=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Qy(o.ownerDocument,u,a.offset);const p=this._diffNodeLists(l,u),f=this._findUpdateActions(p,l,u,jL);let k=0;const b=new Set;for(const _ of f)_==="delete"?(b.add(l[k]),cy(l[k])):_!=="equal"&&_!=="update"||k++;k=0;for(const _ of f)_==="insert"?(ry(o,k,u[k]),k++):_==="update"?(Yy(l[k],u[k].data),k++):_==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(u[k])),k++);for(const _ of b)_.parentNode||this.domConverter.unbindDomElement(_)}_diffNodeLists(e,i){return e=function(o,a){const l=Array.from(o);return l.length==0||!a||l[l.length-1]==a&&l.pop(),l}(e,this._fakeSelectionContainer),B(e,i,zL.bind(null,this.domConverter))}_findUpdateActions(e,i,o,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let l=[],u=[],p=[];const f={equal:0,insert:0,delete:0};for(const k of e)k==="insert"?p.push(o[f.equal+f.insert]):k==="delete"?u.push(i[f.equal+f.delete]):(l=l.concat(B(u,p,a).map(b=>b==="equal"?"update":b)),l.push("equal"),u=[],p=[]),f[k]++;return l.concat(B(u,p,a).map(k=>k==="equal"?"update":k))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&v.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(u){const p=u.createElement("div");return p.className="ck-fake-selection-container",Object.assign(p.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),p.textContent=" ",p}(i));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||" ";const a=i.getSelection(),l=i.createRange();a.removeAllRanges(),l.selectNodeContents(o),a.addRange(l)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(o.parent,o.offset,a.parent,a.offset),v.isGecko&&function(l,u){const p=l.parent;if(p.nodeType!=Node.ELEMENT_NODE||l.offset!=p.childNodes.length-1)return;const f=p.childNodes[l.offset];f&&f.tagName=="BR"&&u.addRange(u.getRangeAt(0))}(a,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!i||i.parentElement!==e||o.anchorNode!==i&&!i.contains(o.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const o=e.activeElement,a=this.domConverter.mapDomToView(o);o&&a&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Qy(s,e,i){const o=e instanceof Array?e:e.childNodes,a=o[i];if(Ze(a))return a.data=Id+a.data,a;{const l=s.createTextNode(Id);return Array.isArray(e)?o.splice(i,0,l):ry(e,i,l),l}}function LL(s,e){return Cr(s)&&Cr(e)&&!Ze(s)&&!Ze(e)&&!Ad(s)&&!Ad(e)&&s.tagName.toLowerCase()===e.tagName.toLowerCase()}function jL(s,e){return Cr(s)&&Cr(e)&&Ze(s)&&Ze(e)}function zL(s,e,i){return e===i||(Ze(e)&&Ze(i)?e.data===i.data:!(!s.isBlockFiller(e)||!s.isBlockFiller(i)))}function Yy(s,e){const i=s.data;if(i==e)return;const o=P(i,e);for(const a of o)a.type==="insert"?s.insertData(a.index,a.values.join("")):s.deleteData(a.index,a.howMany)}const VL=qy(ae.document),FL=$y(ae.document),UL=Wy(ae.document),Zp="data-ck-unsafe-attribute-",Zy="data-ck-unsafe-element";class Jp{constructor(e,{blockFillerMode:i,renderingMode:o="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new er,this._inlineObjectElementMatcher=new er,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=o,this.blockFillerMode=i||(o==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ae.document:ae.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new tr(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,o){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(o==="img"&&(e==="src"||e==="srcset")||o==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const o=new DOMParser().parseFromString(i,"text/html"),a=o.createDocumentFragment(),l=o.body.childNodes;for(;l.length>0;)a.appendChild(l[0]);const u=o.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),p=[];let f;for(;f=u.nextNode();)p.push(f);for(const k of p){for(const _ of k.getAttributeNames())this.setDomElementAttribute(k,_,k.getAttribute(_));const b=k.tagName.toLowerCase();this._shouldRenameElement(b)&&(e1(b),k.replaceWith(this._createReplacementDomElement(b,k)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,i={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{const o=e;if(this.mapViewToDom(o)){if(!o.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(o);this._elementsWithTemporaryCustomProperties.add(o)}let a;if(o.is("documentFragment"))a=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(a,o);else{if(o.is("uiElement"))return a=o.name==="$comment"?this._domDocument.createComment(o.getCustomProperty("$rawContent")):o.render(this._domDocument,this),i.bind&&this.bindElements(a,o),a;this._shouldRenameElement(o.name)?(e1(o.name),a=this._createReplacementDomElement(o.name)):a=o.hasAttribute("xmlns")?this._domDocument.createElementNS(o.getAttribute("xmlns"),o.name):this._domDocument.createElement(o.name),o.is("rawElement")&&o.render(a,this),i.bind&&this.bindElements(a,o);for(const l of o.getAttributeKeys())this.setDomElementAttribute(a,l,o.getAttribute(l),o)}if(i.withChildren!==!1)for(const l of this.viewChildrenToDom(o,i))a.appendChild(l);return a}}setDomElementAttribute(e,i,o,a){const l=this.shouldRenderAttribute(i,o,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(i);l||ie("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:o}),function(u){try{ae.document.createAttribute(u)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!l?e.removeAttribute(i):e.hasAttribute(Zp+i)&&l&&e.removeAttribute(Zp+i),e.setAttribute(l?i:Zp+i,o)):ie("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:o})}removeDomElementAttribute(e,i){i!=Zy&&(e.removeAttribute(i),e.removeAttribute(Zp+i))}*viewChildrenToDom(e,i={}){const o=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const l of e.getChildren()){o===a&&(yield this._getBlockFiller());const u=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!rn(l.getAttributes());u&&this.renderingMode=="data"?yield*this.viewChildrenToDom(l,i):(u&&ie("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,i)),a++}o===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(i.parent,i.offset),a.setEnd(o.parent,o.offset),a}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const o=this.findCorrespondingDomText(i);if(!o)return null;let a=e.offset;return wi(o)&&(a+=nr),{parent:o,offset:a}}{let o,a,l;if(e.offset===0){if(o=this.mapViewToDom(i),!o)return null;l=o.childNodes[0]}else{const u=e.nodeBefore;if(a=u.is("$text")?this.findCorrespondingDomText(u):this.mapViewToDom(u),!a)return null;o=a.parentNode,l=a.nextSibling}return Ze(l)&&wi(l)?{parent:l,offset:nr}:{parent:o,offset:a?Fp(a)+1:0}}}domToView(e,i={}){const o=[],a=this._domToView(e,i,o),l=a.next().value;return l?(a.next(),this._processDomInlineNodes(null,o,i),l.is("$text")&&l.data.length==0?null:l):null}*domChildrenToView(e,i={},o=[]){for(let a=0;a<e.childNodes.length;a++){const l=e.childNodes[a],u=this._domToView(l,i,o),p=u.next().value;p!==null&&(this._isBlockViewElement(p)&&this._processDomInlineNodes(e,o,i),yield p,u.next())}this._processDomInlineNodes(e,o,i)}domSelectionToView(e){if(function(a){if(!v.isGecko||!a.rangeCount)return!1;const l=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(l)}catch{return!0}return!1}(e))return new tr([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;Ze(a)&&(a=a.parentNode);const l=this.fakeSelectionToView(a);if(l)return l}const i=this.isDomSelectionBackward(e),o=[];for(let a=0;a<e.rangeCount;a++){const l=e.getRangeAt(a),u=this.domRangeToView(l);u&&o.push(u)}return new tr(o,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return i&&o?new ye(i,o):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Fp(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return ce._createBefore(o);if(Ze(e)){if(Td(e))return this.domPositionToView(e.parentNode,Fp(e));const a=this.findCorrespondingViewText(e);let l=i;return a?(wi(e)&&(l-=nr,l=l<0?0:l),new ce(a,l)):null}if(i===0){const a=this.mapDomToView(e);if(a)return new ce(a,0)}else{const a=e.childNodes[i-1];if(Ze(a)&&Td(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,Fp(a));const l=Ze(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(l&&l.parent)return new ce(l.parent,l.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Td(e))return null;const i=this.getHostViewElement(e);if(i)return i;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const a=this.mapDomToView(o);if(a){const l=a.nextSibling;return l instanceof ct?l:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const l=a.getChild(0);return l instanceof ct?l:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:o,scrollY:a}=ae.window,l=[];Jy(i,u=>{const{scrollLeft:p,scrollTop:f}=u;l.push([p,f])}),i.focus(),Jy(i,u=>{const[p,f]=l.shift();u.scrollLeft=p,u.scrollTop=f}),ae.window.scrollTo(o,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),o=this.domSelectionToView(i);o&&o.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(VL):!(e.tagName!=="BR"||!Xy(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(UL)||function(i,o){return i.isEqualNode(FL)&&Xy(i,o)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const o=i.collapsed;return i.detach(),o}getHostViewElement(e){const i=function(o){const a=[];let l=o;for(;l&&l.nodeType!=Node.DOCUMENT_NODE;)a.unshift(l),l=l.parentNode;return a}(e);for(i.pop();i.length;){const o=i.pop(),a=this._domToViewMapping.get(o);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return $y(this._domDocument);case"markedNbsp":return Wy(this._domDocument);case"br":return qy(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(Ze(e)&&wi(e)&&i<nr||this.isElement(e)&&wi(e.childNodes[i]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}*_domToView(e,i,o){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(Ad(e)&&i.skipComments)return null;if(Ze(e)){if(Td(e))return null;{const l=e.data;if(l==="")return null;const u=new ct(this.document,l);return o.push(u),u}}{let l=this.mapDomToView(e);if(l)return this._isInlineObjectElement(l)&&o.push(l),l;if(this.isDocumentFragment(e))l=new na(this.document),i.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,i),i.bind&&this.bindElements(e,l);const p=e.attributes;if(p)for(let f=p.length,k=0;k<f;k++)l._setAttribute(p[k].name,p[k].value);if(this._isViewElementWithRawContent(l,i))return l._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(l)||o.push(l),l;if(Ad(e))return l._setCustomProperty("$rawContent",e.data),l}yield l;const u=[];if(i.withChildren!==!1)for(const p of this.domChildrenToView(e,i,u))l._appendChild(p);if(this._isInlineObjectElement(l))o.push(l);else for(const p of u)o.push(p)}}_processDomInlineNodes(e,i,o){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let l=0;l<i.length;l++){const u=i[l];if(!u.is("$text")){a=!1;continue}let p,f=!1;if(HL(u,this.preElements))p=Gy(u.data);else{p=u.data.replace(/[ \n\t\r]{1,}/g," "),f=/[^\S\u00A0]/.test(p.charAt(p.length-1));const k=l>0?i[l-1]:null,b=l+1<i.length?i[l+1]:null,_=!k||k.is("element")&&k.name=="br"||a,C=!b&&!wi(u.data);o.withChildren!==!1&&(_&&(p=p.replace(/^ /,"")),C&&(p=p.replace(/ $/,""))),p=Gy(p),p=p.replace(/ \u00A0/g,"  ");const x=b&&b.is("element")&&b.name!="br",I=b&&b.is("$text")&&b.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(p)||!b||x||I)&&(p=p.replace(/\u00A0$/," ")),(_||k&&k.is("element")&&k.name!="br")&&(p=p.replace(/^\u00A0/," "))}p.length==0&&u.parent?(u._remove(),i.splice(l,1),l--):(u._data=p,a=f)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return i;if(i.charAt(0)==" "){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(i=" "+i.substr(1))}if(i.charAt(i.length-1)==" "){const o=this._getTouchingInlineViewNode(e,!0),a=o&&o.is("$textProxy")&&o.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&o&&!a||(i=i.substr(0,i.length-1)+" ")}return i.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const o=new ea({startPosition:i?ce._createAfter(e):ce._createBefore(e),direction:i?"forward":"backward"});for(const a of o){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(Ad(e))return new Yp(this.document,"$comment");const o=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new bi(this.document,o)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const o=this._domDocument.createElement("span");if(o.setAttribute(Zy,e),i){for(;i.firstChild;)o.appendChild(i.firstChild);for(const a of i.getAttributeNames())o.setAttribute(a,i.getAttribute(a))}return o}}function HL(s,e){return s.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function Jy(s,e){let i=s;for(;i;)e(i),i=i.parentElement}function Xy(s,e){const i=s.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function e1(s){s==="script"&&ie("domconverter-unsafe-script-element-detected"),s==="style"&&ie("domconverter-unsafe-style-element-detected")}class xr extends Xn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const t1=ky(function(s,e){Vo(e,Ho(e),s)});class bc{constructor(e,i,o){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,t1(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class qo extends xr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(o,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,o){this.isEnabled&&this.document.fire(e,new bc(this.view,i,o))}}class $L extends qo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return gc(this)}};this.fire(e.type,e,i)}}const ew=function(){return en.Date.now()};var WL=/\s/;const qL=function(s){for(var e=s.length;e--&&WL.test(s.charAt(e)););return e};var GL=/^\s+/;const KL=function(s){return s&&s.slice(0,qL(s)+1).replace(GL,"")};var QL=/^[-+]0x[0-9a-f]+$/i,YL=/^0b[01]+$/i,ZL=/^0o[0-7]+$/i,JL=parseInt;const n1=function(s){if(typeof s=="number")return s;if(Wp(s))return NaN;if(ut(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=ut(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=KL(s);var i=YL.test(s);return i||ZL.test(s)?JL(s.slice(2),i?2:8):QL.test(s)?NaN:+s};var XL=Math.max,ej=Math.min;const Dd=function(s,e,i){var o,a,l,u,p,f,k=0,b=!1,_=!1,C=!0;if(typeof s!="function")throw new TypeError("Expected a function");function x(U){var W=o,J=a;return o=a=void 0,k=U,u=s.apply(J,W)}function I(U){var W=U-f;return f===void 0||W>=e||W<0||_&&U-k>=l}function D(){var U=ew();if(I(U))return N(U);p=setTimeout(D,function(W){var J=e-(W-f);return _?ej(J,l-(W-k)):J}(U))}function N(U){return p=void 0,C&&o?x(U):(o=a=void 0,u)}function L(){var U=ew(),W=I(U);if(o=arguments,a=this,f=U,W){if(p===void 0)return function(J){return k=J,p=setTimeout(D,e),b?x(J):u}(f);if(_)return clearTimeout(p),p=setTimeout(D,e),x(f)}return p===void 0&&(p=setTimeout(D,e)),u}return e=n1(e)||0,ut(i)&&(b=!!i.leading,l=(_="maxWait"in i)?XL(n1(i.maxWait)||0,e):l,C="trailing"in i?!!i.trailing:C),L.cancel=function(){p!==void 0&&clearTimeout(p),k=0,o=f=a=p=void 0},L.flush=function(){return p===void 0?u:N(ew())},L};class tj extends xr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Dd(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,o=new tr(i.getRanges(),{backward:i.isBackward,fake:!1});e!=We.arrowleft&&e!=We.arrowup||o.setTo(o.getFirstPosition()),e!=We.arrowright&&e!=We.arrowdown||o.setTo(o.getLastPosition());const a={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const nj=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this},ij=function(s){return this.__data__.has(s)};function Xp(s){var e=-1,i=s==null?0:s.length;for(this.__data__=new Yi;++e<i;)this.add(s[e])}Xp.prototype.add=Xp.prototype.push=nj,Xp.prototype.has=ij;const rj=Xp,oj=function(s,e){for(var i=-1,o=s==null?0:s.length;++i<o;)if(e(s[i],i,s))return!0;return!1},sj=function(s,e){return s.has(e)},i1=function(s,e,i,o,a,l){var u=1&i,p=s.length,f=e.length;if(p!=f&&!(u&&f>p))return!1;var k=l.get(s),b=l.get(e);if(k&&b)return k==e&&b==s;var _=-1,C=!0,x=2&i?new rj:void 0;for(l.set(s,e),l.set(e,s);++_<p;){var I=s[_],D=e[_];if(o)var N=u?o(D,I,_,e,s,l):o(I,D,_,s,e,l);if(N!==void 0){if(N)continue;C=!1;break}if(x){if(!oj(e,function(L,U){if(!sj(x,U)&&(I===L||a(I,L,i,o,l)))return x.push(U)})){C=!1;break}}else if(I!==D&&!a(I,D,i,o,l)){C=!1;break}}return l.delete(s),l.delete(e),C},aj=function(s){var e=-1,i=Array(s.size);return s.forEach(function(o,a){i[++e]=[a,o]}),i},cj=function(s){var e=-1,i=Array(s.size);return s.forEach(function(o){i[++e]=o}),i};var r1=Vn?Vn.prototype:void 0,tw=r1?r1.valueOf:void 0;const lj=function(s,e,i,o,a,l,u){switch(i){case"[object DataView]":if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=e.byteLength||!l(new Qs(s),new Qs(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $s(+s,+e);case"[object Error]":return s.name==e.name&&s.message==e.message;case"[object RegExp]":case"[object String]":return s==e+"";case"[object Map]":var p=aj;case"[object Set]":var f=1&o;if(p||(p=cj),s.size!=e.size&&!f)return!1;var k=u.get(s);if(k)return k==e;o|=2,u.set(s,e);var b=i1(p(s),p(e),o,a,l,u);return u.delete(s),b;case"[object Symbol]":if(tw)return tw.call(s)==tw.call(e)}return!1};var dj=Object.prototype.hasOwnProperty;const uj=function(s,e,i,o,a,l){var u=1&i,p=lc(s),f=p.length;if(f!=lc(e).length&&!u)return!1;for(var k=f;k--;){var b=p[k];if(!(u?b in e:dj.call(e,b)))return!1}var _=l.get(s),C=l.get(e);if(_&&C)return _==e&&C==s;var x=!0;l.set(s,e),l.set(e,s);for(var I=u;++k<f;){var D=s[b=p[k]],N=e[b];if(o)var L=u?o(N,D,b,e,s,l):o(D,N,b,s,e,l);if(!(L===void 0?D===N||a(D,N,i,o,l):L)){x=!1;break}I||(I=b=="constructor")}if(x&&!I){var U=s.constructor,W=e.constructor;U==W||!("constructor"in s)||!("constructor"in e)||typeof U=="function"&&U instanceof U&&typeof W=="function"&&W instanceof W||(x=!1)}return l.delete(s),l.delete(e),x};var o1="[object Arguments]",s1="[object Array]",eg="[object Object]",a1=Object.prototype.hasOwnProperty;const hj=function(s,e,i,o,a,l){var u=Ot(s),p=Ot(e),f=u?s1:Zi(s),k=p?s1:Zi(e),b=(f=f==o1?eg:f)==eg,_=(k=k==o1?eg:k)==eg,C=f==k;if(C&&Fo(s)){if(!Fo(e))return!1;u=!0,b=!1}if(C&&!b)return l||(l=new jo),u||rd(s)?i1(s,e,i,o,a,l):lj(s,e,f,i,o,a,l);if(!(1&i)){var x=b&&a1.call(s,"__wrapped__"),I=_&&a1.call(e,"__wrapped__");if(x||I){var D=x?s.value():s,N=I?e.value():e;return l||(l=new jo),a(D,N,i,o,l)}}return!!C&&(l||(l=new jo),uj(s,e,i,o,a,l))},tg=function s(e,i,o,a,l){return e===i||(e==null||i==null||!Gn(e)&&!Gn(i)?e!=e&&i!=i:hj(e,i,o,a,s,l))},pj=function(s,e,i){var o=(i=typeof i=="function"?i:void 0)?i(s,e):void 0;return o===void 0?tg(s,e,void 0,i):!!o};class c1 extends xr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,o=new Set,a=new Set;for(const u of e){const p=i.mapDomToView(u.target);p&&(p.is("uiElement")||p.is("rawElement")||u.type!=="childList"||this._isBogusBrMutation(u)||a.add(p))}for(const u of e){const p=i.mapDomToView(u.target);if((!p||!p.is("uiElement")&&!p.is("rawElement"))&&u.type==="characterData"){const f=i.findCorrespondingViewText(u.target);f&&!a.has(f.parent)?o.add(f):!f&&wi(u.target)&&a.add(i.mapDomToView(u.target.parentNode))}}let l=!1;for(const u of o)l=!0,this.renderer.markToSync("text",u);for(const u of a){const p=i.mapViewToDom(u),f=Array.from(u.getChildren()),k=Array.from(i.domChildrenToView(p,{withChildren:!1}));pj(f,k,gj)||(l=!0,this.renderer.markToSync("children",u))}l&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function gj(s,e){if(!Array.isArray(s))return s===e||!(!s.is("$text")||!e.is("$text"))&&s.data===e.data}class ng extends qo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(o,a)=>{const l=i.selection.editableElement;l!==null&&l!==a.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class fj extends xr{constructor(e){super(e),this.mutationObserver=e.getObserver(c1),this.focusObserver=e.getObserver(ng),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Dd(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Dd(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(a,l)=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(l,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const o=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(o);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(o))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:a,domSelection:o};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class mj extends qo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class l1{constructor(e,i={}){this._files=i.cacheFiles?d1(e):null,this._native=e}get files(){return this._files||(this._files=d1(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,o){this._native.setDragImage(e,i,o)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function d1(s){const e=Array.from(s.files||[]),i=Array.from(s.items||[]);return e.length?e:i.filter(o=>o.kind==="file").map(o=>o.getAsFile())}class kj extends qo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),o=this.view,a=o.document;let l=null,u=null,p=[];if(e.dataTransfer&&(l=new l1(e.dataTransfer)),e.data!==null?u=e.data:l&&(u=l.getData("text/plain")),a.selection.isFake)p=Array.from(a.selection.getRanges());else if(i.length)p=i.map(f=>{const k=o.domConverter.domPositionToView(f.startContainer,f.startOffset),b=o.domConverter.domPositionToView(f.endContainer,f.endOffset);return k?o.createRange(k,b):b?o.createRange(b):void 0}).filter(f=>!!f);else if(v.isAndroid){const f=e.target.ownerDocument.defaultView.getSelection();p=Array.from(o.domConverter.domSelectionToView(f).getRanges())}if(v.isAndroid&&e.inputType=="insertCompositionText"&&u&&u.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(p[0].end)]});else if(e.inputType=="insertText"&&u&&u.includes(`
`)){const f=u.split(/\n{1,2}/g);let k=p;for(let b=0;b<f.length;b++){const _=f[b];_!=""&&(this.fire(e.type,e,{data:_,dataTransfer:l,targetRanges:k,inputType:e.inputType,isComposing:e.isComposing}),k=[a.selection.getFirstRange()]),b+1<f.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:k}),k=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:u,dataTransfer:l,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing})}}class bj extends xr{constructor(e){super(e),this.document.on("keydown",(i,o)=>{if(this.isEnabled&&((a=o.keyCode)==We.arrowright||a==We.arrowleft||a==We.arrowup||a==We.arrowdown)){const l=new mc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,o),l.stop.called&&i.stop()}var a})}observe(){}stopObserving(){}}class wj extends xr{constructor(e){super(e);const i=this.document;i.on("keydown",(o,a)=>{if(!this.isEnabled||a.keyCode!=We.tab||a.ctrlKey)return;const l=new mc(i,"tab",i.selection.getFirstRange());i.fire(l,a),l.stop.called&&o.stop()})}observe(){}stopObserving(){}}const Go=function(s){return Zn(s,5)};class _j extends tt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Qp(e),this.domConverter=new Jp(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new OL(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new zy(this.document),this.addObserver(c1),this.addObserver(ng),this.addObserver(fj),this.addObserver($L),this.addObserver(tj),this.addObserver(mj),this.addObserver(bj),this.addObserver(kj),this.addObserver(wj),this.document.on("arrowKey",RL,{priority:"low"}),DL(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),v.isiOS&&this.listenTo(this.document,"blur",(i,o)=>{this.domConverter.mapDomToView(o.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const o=this.document.getRoot(i);o._name=e.tagName.toLowerCase();const a={};for(const{name:u,value:p}of Array.from(e.attributes))a[u]=p,u==="class"?this._writer.addClass(p.split(" "),o):this._writer.setAttribute(u,p,o);this._initialDomRootAttributes.set(e,a);const l=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};l(),this.domRoots.set(i,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(u,p)=>this._renderer.markToSync("children",p)),o.on("change:attributes",(u,p)=>this._renderer.markToSync("attributes",p)),o.on("change:text",(u,p)=>this._renderer.markToSync("text",p)),o.on("change:isReadOnly",()=>this.change(l)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const u of this._observers.values())u.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:a})=>i.removeAttribute(a));const o=this._initialDomRootAttributes.get(i);for(const a in o)i.setAttribute(a,o[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const a of this._observers.values())a.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[o,a]of this.domRoots)i.observe(a,o);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:o=20,ancestorOffset:a=20}={}){const l=this.document.selection.getFirstRange();if(!l)return;const u=Go({alignToTop:e,forceScroll:i,viewportOffset:o,ancestorOffset:a});typeof o=="number"&&(o={top:o,bottom:o,left:o,right:o});const p={target:this.domConverter.viewRangeToDom(l),viewportOffset:o,ancestorOffset:a,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",p,u),function({target:f,viewportOffset:k=0,ancestorOffset:b=0,alignToTop:_,forceScroll:C}){const x=Ib(f);let I=x,D=null;for(k=function(N){return typeof N=="number"?{top:N,bottom:N,left:N,right:N}:N}(k);I;){let N;N=RO(I==x?f:D),NO({parent:N,getRect:()=>py(f,I),alignToTop:_,ancestorOffset:b,forceScroll:C});const L=py(f,I);if(PO({window:I,rect:L,viewportOffset:k,alignToTop:_,forceScroll:C}),I.parent!=I){if(D=I.frameElement,I=I.parent,!D)return}else I=null}}(p)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new V("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){V.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ng).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return ce._createAt(e,i)}createPositionAfter(e){return ce._createAfter(e)}createPositionBefore(e){return ce._createBefore(e)}createRange(e,i){return new ye(e,i)}createRangeOn(e){return ye._createOn(e)}createRangeIn(e){return ye._createIn(e)}createSelection(...e){return new tr(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Ko{is(){throw new Error("is() method is abstract")}}class ia extends Ko{constructor(e){super(),this.parent=null,this._attrs=yr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new V("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new V("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),a=e.getAncestors(i);let l=0;for(;o[l]==a[l]&&o[l];)l++;return l===0?null:o[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),a=pn(i,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return i[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,o)=>(i[o[0]]=o[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=yr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}ia.prototype.is=function(s){return s==="node"||s==="model:node"};class Sd{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((o,a)=>o+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new V("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const o of this._nodes){if(e>=i&&e<i+o.offsetSize)return this.getNodeIndex(o);i+=o.offsetSize}if(i!=e)throw new V("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const o of i)if(!(o instanceof ia))throw new V("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,a,l,u){if(Math.max(a.length,o.length)>1e4)return o.slice(0,l).concat(a).concat(o.slice(l+u,o.length));{const p=Array.from(o);return p.splice(l,u,...a),p}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class lt extends ia{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new lt(this.data,this.getAttributes())}static fromJSON(e){return new lt(e.data,e.attributes)}}lt.prototype.is=function(s){return s==="$text"||s==="model:$text"||s==="text"||s==="model:text"||s==="node"||s==="model:node"};class ir extends Ko{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new V("model-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.offsetSize)throw new V("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ir.prototype.is=function(s){return s==="$textProxy"||s==="model:$textProxy"||s==="textProxy"||s==="model:textProxy"};class it extends ia{constructor(e,i,o){super(i),this._children=new Sd,this.name=e,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}findAncestor(e,i={}){let o=i.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new it(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(a){return typeof a=="string"?[new lt(a)]:(zn(a)||(a=[a]),Array.from(a).map(l=>typeof l=="string"?new lt(l):l instanceof ir?new lt(l.data,l.getAttributes()):l))}(i);for(const a of o)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const a of o)a.parent=null;return o}static fromJSON(e){let i;if(e.children){i=[];for(const o of e.children)o.name?i.push(it.fromJSON(o)):i.push(lt.fromJSON(o))}return new it(e.name,e.attributes,i)}}it.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="model:element"):s==="element"||s==="model:element"||s==="node"||s==="model:node"};class oo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new V("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new V("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Z._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,o,a,l;do a=this.position,l=this._visitedParent,{done:i,value:o}=this.next();while(!i&&e(o));i||(this._position=a,this._visitedParent=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Md(i,o),l=a||u1(i,o,a);if(l instanceof it){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=l;return this._position=i,ra("elementStart",l,e,i,1)}if(l instanceof lt){let u;if(this.singleCharacters)u=1;else{let k=l.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<k&&(k=this.boundaries.end.offset),u=k-i.offset}const p=i.offset-l.startOffset,f=new ir(l,p,u);return i.offset+=u,this._position=i,ra("text",f,e,i,u)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():ra("elementEnd",o,e,i)}_previous(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=i.parent,l=Md(i,a),u=l||h1(i,a,l);if(u instanceof it)return i.offset--,this.shallow?(this._position=i,ra("elementStart",u,e,i,1)):(i.path.push(u.maxOffset),this._position=i,this._visitedParent=u,this.ignoreElementEnd?this._previous():ra("elementEnd",u,e,i));if(u instanceof lt){let p;if(this.singleCharacters)p=1;else{let b=u.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>b&&(b=this.boundaries.start.offset),p=i.offset-b}const f=i.offset-u.startOffset,k=new ir(u,f-p,p);return i.offset-=p,this._position=i,ra("text",k,e,i,p)}return i.path.pop(),this._position=i,this._visitedParent=o.parent,ra("elementStart",o,e,i,1)}}function ra(s,e,i,o,a){return{done:!1,value:{type:s,item:e,previousPosition:i,nextPosition:o,length:a}}}class Z extends Ko{constructor(e,i,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new V("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new V("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new V("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new V("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Md(this,this.parent)}get nodeAfter(){const e=this.parent;return u1(this,e,Md(this,e))}get nodeBefore(){const e=this.parent;return h1(this,e,Md(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=pn(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new oo(i);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=pn(this.path,e.path),o=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,o)}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let a=0;for(;i[a]==o[a]&&i[a];)a++;return a===0?null:i[a-1]}getShiftedBy(e){const i=this.clone(),o=i.offset+e;return i.offset=o<0?0:o,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let o=0;o<i;o++){const a=this.path[o]-e.path[o];if(a<-1||a>1)return!1;if(a===1)return p1(e,this,o);if(a===-1)return p1(this,e,o)}return this.path.length===e.path.length||(this.path.length>e.path.length?nw(this.path,i):nw(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:pn(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=Z._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let o;return i.containsPosition(this)||i.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?Z._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,i){const o=Z._createAt(this);if(this.root!=e.root)return o;if(pn(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;o.offset-=i}}else if(pn(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+i>this.path[a])return null;o.path[a]-=i}}return o}_getTransformedByInsertion(e,i){const o=Z._createAt(this);if(this.root!=e.root)return o;if(pn(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(o.offset+=i);else if(pn(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(o.path[a]+=i)}return o}_getTransformedByMove(e,i,o){if(i=i._getTransformedByDeletion(e,o),e.isEqual(i))return Z._createAt(this);const a=this._getTransformedByDeletion(e,o);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(o).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):a._getTransformedByInsertion(i,o)}_getCombined(e,i){const o=e.path.length-1,a=Z._createAt(i);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[o]-e.offset,a.path=[...a.path,...this.path.slice(o+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,o="toNone"){if(e instanceof Z)return new Z(e.root,e.path,e.stickiness);{const a=e;if(i=="end")i=a.maxOffset;else{if(i=="before")return this._createBefore(a,o);if(i=="after")return this._createAfter(a,o);if(i!==0&&!i)throw new V("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new V("model-position-parent-incorrect",[this,e]);const l=a.getPath();return l.push(i),new this(a.root,l,o)}}static _createAfter(e,i){if(!e.parent)throw new V("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new V("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const o=new Z(i.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!i.getRoot(e.root))throw new V("model-position-fromjson-no-root",i,{rootName:e.root});return new Z(i.getRoot(e.root),e.path,e.stickiness)}}function Md(s,e){const i=e.getChild(e.offsetToIndex(s.offset));return i&&i.is("$text")&&i.startOffset<s.offset?i:null}function u1(s,e,i){return i!==null?null:e.getChild(e.offsetToIndex(s.offset))}function h1(s,e,i){return i!==null?null:e.getChild(e.offsetToIndex(s.offset)-1)}function p1(s,e,i){return i+1!==s.path.length&&!!nw(e.path,i+1)&&!!function(o,a){let l=o.parent,u=o.path.length-1,p=0;for(;u>=a;){if(o.path[u]+p!==l.maxOffset)return!1;p=1,u--,l=l.parent}return!0}(s,i+1)}function nw(s,e){for(;e<s.length;){if(s[e]!==0)return!1;e++}return!0}Z.prototype.is=function(s){return s==="position"||s==="model:position"};class G extends Ko{constructor(e,i){super(),this.start=Z._createAt(e),this.end=i?Z._createAt(i):Z._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new oo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return pn(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&a}containsItem(e){const i=Z._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new G(this.start,e.start)),this.containsPosition(e.end)&&i.push(new G(e.end,this.end))):i.push(new G(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new G(i,o)}return null}getJoined(e,i=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let a=this.start,l=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(l)&&(l=e.end),new G(a,l)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,o=Z._createAt(this.start);let a=o.parent;for(;o.path.length>i+1;){const l=a.maxOffset-o.offset;l!==0&&e.push(new G(o,o.getShiftedBy(l))),o.path=o.path.slice(0,-1),o.offset++,a=a.parent}for(;o.path.length<=this.end.path.length;){const l=this.end.path[o.path.length-1],u=l-o.offset;u!==0&&e.push(new G(o,o.getShiftedBy(u))),o.offset=l,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new oo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new oo(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new oo(e);yield i.position;for(const o of i)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new G(this.start,this.end)]}getTransformedByOperations(e){const i=[new G(this.start,this.end)];for(const o of e)for(let a=0;a<i.length;a++){const l=i[a].getTransformedByOperation(o);i.splice(a,1,...l),a+=l.length-1}for(let o=0;o<i.length;o++){const a=i[o];for(let l=o+1;l<i.length;l++){const u=i[l];(a.containsRange(u)||u.containsRange(a)||a.isEqual(u))&&i.splice(l,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const o=e.sourcePosition,a=e.howMany,l=e.targetPosition;return this._getTransformedByMove(o,l,a,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),i.root!=o.root&&(o=this.end.getShiftedBy(-1)),new G(i,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new G(this.start);let i=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return i.root!=o.root&&(o=this.end.getShiftedBy(-1)),i.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(i=Z._createAt(o),i.offset=0):(e.deletionPosition.isEqual(i)||(o=e.deletionPosition),i=e.targetPosition),new G(i,o)):new G(i,o)}_getTransformedByInsertion(e,i,o=!1){if(o&&this.containsPosition(e))return[new G(this.start,e),new G(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const a=new G(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,i),a.end=a.end._getTransformedByInsertion(e,i),[a]}}_getTransformedByMove(e,i,o,a=!1){if(this.isCollapsed){const _=this.start._getTransformedByMove(e,i,o);return[new G(_)]}const l=G._createFromPositionAndShift(e,o),u=i._getTransformedByDeletion(e,o);if(this.containsPosition(i)&&!a&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const _=this.start._getTransformedByMove(e,i,o),C=this.end._getTransformedByMove(e,i,o);return[new G(_,C)]}let p;const f=this.getDifference(l);let k=null;const b=this.getIntersection(l);if(f.length==1?k=new G(f[0].start._getTransformedByDeletion(e,o),f[0].end._getTransformedByDeletion(e,o)):f.length==2&&(k=new G(this.start,this.end._getTransformedByDeletion(e,o))),p=k?k._getTransformedByInsertion(u,o,b!==null||a):[],b){const _=new G(b.start._getCombined(l.start,u),b.end._getCombined(l.start,u));p.length==2?p.splice(1,0,_):p.push(_)}return p}_getTransformedByDeletion(e,i){let o=this.start._getTransformedByDeletion(e,i),a=this.end._getTransformedByDeletion(e,i);return o==null&&a==null?null:(o==null&&(o=e),a==null&&(a=e),new G(o,a))}static _createFromPositionAndShift(e,i){const o=e,a=e.getShiftedBy(i);return i>0?new this(o,a):new this(a,o)}static _createIn(e){return new this(Z._createAt(e,0),Z._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Z._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new V("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((l,u)=>l.start.isAfter(u.start)?1:-1);const o=e.indexOf(i),a=new this(i.start,i.end);if(o>0)for(let l=o-1;e[l].end.isEqual(a.start);l++)a.start=Z._createAt(e[l].start);for(let l=o+1;l<e.length&&e[l].start.isEqual(a.end);l++)a.end=Z._createAt(e[l].end);return a}static fromJSON(e,i){return new this(Z.fromJSON(e.start,i),Z.fromJSON(e.end,i))}}G.prototype.is=function(s){return s==="range"||s==="model:range"};class g1 extends fe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const o=this._modelToViewMapping.get(i.modelPosition.parent);if(!o)throw new V("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(o,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const o=this.findMappedViewAncestor(i.viewPosition),a=this._viewToModelMapping.get(o),l=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,o);i.modelPosition=Z._createAt(a,l)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const o=this._markerNameToElements.get(i)||new Set;o.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(i),this._markerNameToElements.set(i,o),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,i){const o=this._markerNameToElements.get(i);o&&(o.delete(e),o.size==0&&this._markerNameToElements.delete(i));const a=this._elementToMarkerNames.get(e);a&&(a.delete(i),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new G(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ye(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const o={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const o=new Set;for(const a of i)if(a.is("attributeElement"))for(const l of a.getElementsWithSameId())o.add(l);else o.add(a);return o}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let a=0;for(let l=0;l<i;l++)a+=this.getModelLength(e.getChild(l));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const o of e.getChildren())i+=this.getModelLength(o);return i}}findPositionIn(e,i){let o,a=0,l=0,u=0;if(e.is("$text"))return new ce(e,i);for(;l<i;)o=e.getChild(u),a=this.getModelLength(o),l+=a,u++;return l==i?this._moveViewPositionToTextNode(new ce(e,u)):this.findPositionIn(o,i-(l-a))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,o=e.nodeAfter;return i instanceof ct?new ce(i,i.data.length):o instanceof ct?new ce(o,0):e}}class Aj{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=ig(i),e instanceof ir&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=ig(i),e instanceof ir&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=ig(i),e instanceof ir&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const a=o.get(i);return a===void 0?null:a}revert(e,i){i=ig(i),e instanceof ir&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,i);return o===!1?(this._consumable.get(e).set(i,!0),!0):o!==!0&&null}verifyAllConsumed(e){const i=[];for(const[o,a]of this._consumable)for(const[l,u]of a){const p=l.split(":")[0];u&&e==p&&i.push({event:l,item:o.name||o.description})}if(i.length)throw new V("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const a=o.get(e.endOffset);a&&(i=a.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,o=e.endOffset,a=e.parent,l=Symbol("$textProxy:"+e.data);let u,p;return u=this._textProxyRegistry.get(i),u||(u=new Map,this._textProxyRegistry.set(i,u)),p=u.get(o),p||(p=new Map,u.set(o,p)),p.set(a,l),l}}function ig(s){const e=s.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?s:e.length>1?e[0]+":"+e[1]:e[0]}var vj=Object.defineProperty,Cj=Object.defineProperties,yj=Object.getOwnPropertyDescriptors,f1=Object.getOwnPropertySymbols,Ej=Object.prototype.hasOwnProperty,xj=Object.prototype.propertyIsEnumerable,m1=(s,e,i)=>e in s?vj(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,iw=(s,e)=>{for(var i in e||(e={}))Ej.call(e,i)&&m1(s,i,e[i]);if(f1)for(var i of f1(e))xj.call(e,i)&&m1(s,i,e[i]);return s},k1=(s,e)=>Cj(s,yj(e));class b1 extends fe(){constructor(e){super(),this._conversionApi=iw({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,o){const a=this._createConversionApi(o,e.getRefreshedItems());for(const u of e.getMarkersToRemove())this._convertMarkerRemove(u.name,u.range,a);const l=this._reduceChanges(e.getChanges());for(const u of l)u.type==="insert"?this._convertInsert(G._createFromPositionAndShift(u.position,u.length),a):u.type==="reinsert"?this._convertReinsert(G._createFromPositionAndShift(u.position,u.length),a):u.type==="remove"?this._convertRemove(u.position,u.length,u.name,a):this._convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const u of a.mapper.flushUnboundMarkerNames()){const p=i.get(u).getRange();this._convertMarkerRemove(u,p,a),this._convertMarkerAdd(u,p,a)}for(const u of e.getMarkersToAdd())this._convertMarkerAdd(u.name,u.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,i,o,a={}){const l=this._createConversionApi(o,void 0,a);this._convertInsert(e,l);for(const[u,p]of i)this._convertMarkerAdd(u,p,l);l.consumable.verifyAllConsumed("insert")}convertSelection(e,i,o){const a=this._createConversionApi(o);this.fire("cleanSelection",{selection:e},a);const l=e.getFirstPosition().root;if(!a.mapper.toViewElement(l))return;const u=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,u),this.fire("selection",{selection:e},a),e.isCollapsed){for(const p of u)if(a.consumable.test(e,"addMarker:"+p.name)){const f=p.getRange();if(!Ij(e.getFirstPosition(),p,a.mapper))continue;const k={item:e,markerName:p.name,markerRange:f};this.fire(`addMarker:${p.name}`,k,a)}for(const p of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+p)){const f={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};this.fire(`attribute:${p}:$text`,f,a)}}}_convertInsert(e,i,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(w1))this._testAndFire("insert",a,i)}_convertRemove(e,i,o,a){this.fire(`remove:${o}`,{position:e,length:i},a)}_convertAttribute(e,i,o,a,l){this._addConsumablesForRange(l.consumable,e,`attribute:${i}`);for(const u of e){const p={item:u.item,range:G._createFromPositionAndShift(u.previousPosition,u.length),attributeKey:i,attributeOldValue:o,attributeNewValue:a};this._testAndFire(`attribute:${i}`,p,l)}}_convertReinsert(e,i){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,o);for(const a of o.map(w1))this._testAndFire("insert",k1(iw({},a),{reconversion:!0}),i)}_convertMarkerAdd(e,i,o){if(i.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(o.consumable.add(i,a),this.fire(a,{markerName:e,markerRange:i},o),o.consumable.consume(i,a)){this._addConsumablesForRange(o.consumable,i,a);for(const l of i.getItems()){if(!o.consumable.test(l,a))continue;const u={item:l,range:G._createOn(l),markerName:e,markerRange:i};this.fire(a,u,o)}}}_convertMarkerRemove(e,i,o){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},o)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const o of i){const a=o.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const l of a.getAttributeKeys())e.add(a,"attribute:"+l)}}return e}_addConsumablesForRange(e,i,o){for(const a of i.getItems())e.add(a,o);return e}_addConsumablesForSelection(e,i,o){e.add(i,"selection");for(const a of o)e.add(i,"addMarker:"+a.name);for(const a of i.getAttributeKeys())e.add(i,"attribute:"+a);return e}_testAndFire(e,i,o){const a=function(f,k){const b=k.item.is("element")?k.item.name:"$text";return`${f}:${b}`}(e,i),l=i.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(i.item):i.item,u=this._firedEventsMap.get(o),p=u.get(l);if(p){if(p.has(a))return;p.add(a)}else u.set(l,new Set([a]));this.fire(a,i,o)}_testAndFireAddAttributes(e,i){const o={item:e,range:G._createOn(e)};for(const a of o.item.getAttributeKeys())o.attributeKey=a,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(a),this._testAndFire(`attribute:${a}`,o,i)}_createConversionApi(e,i=new Set,o={}){const a=k1(iw({},this._conversionApi),{consumable:new Aj,writer:e,options:o,convertItem:l=>this._convertInsert(G._createOn(l),a),convertChildren:l=>this._convertInsert(G._createIn(l),a,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,a),canReuseView:l=>!i.has(a.mapper.toModelElement(l))});return this._firedEventsMap.set(a,new Map),a}}function Ij(s,e,i){const o=e.getRange(),a=Array.from(s.getAncestors());return a.shift(),a.reverse(),!a.some(l=>{if(o.containsItem(l))return!!i.toViewElement(l).getCustomProperty("addHighlight")})}function w1(s){return{item:s.item,range:G._createFromPositionAndShift(s.previousPosition,s.length)}}class _i extends fe(Ko){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const a of e._ranges)if(i.isEqual(a)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new G(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new G(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new G(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,o,a]=e;if(typeof o=="object"&&(a=o,o=void 0),i===null)this._setRanges([]);else if(i instanceof _i)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof G)this._setRanges([i],!!a&&!!a.backward);else if(i instanceof Z)this._setRanges([new G(i)]);else if(i instanceof ia){const l=!!a&&!!a.backward;let u;if(o=="in")u=G._createIn(i);else if(o=="on")u=G._createOn(i);else{if(o===void 0)throw new V("model-selection-setto-required-second-parameter",[this,i]);u=new G(Z._createAt(i,o))}this._setRanges([u],l)}else{if(!zn(i))throw new V("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,a&&!!a.backward)}}_setRanges(e,i=!1){const o=Array.from(e),a=o.some(l=>{if(!(l instanceof G))throw new V("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(u=>!u.isEqual(l))});(o.length!==this._ranges.length||a)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new V("model-selection-setfocus-no-ranges",[this,e]);const o=Z._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),o.compareWith(a)=="before"?(this._pushRange(new G(o,a)),this._lastRangeBackward=!0):(this._pushRange(new G(a,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const o=A1(i.start,e);Dj(o,i)&&(yield o);for(const l of i.getWalker()){const u=l.item;l.type=="elementEnd"&&Tj(u,e,i)&&(yield u)}const a=A1(i.end,e);Sj(a,i)&&(yield a)}}containsEntireContent(e=this.anchor.root){const i=Z._createAt(e,0),o=Z._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new G(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new V("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function _1(s,e){return!e.has(s)&&(e.add(s),s.root.document.model.schema.isBlock(s)&&!!s.parent)}function Tj(s,e,i){return _1(s,e)&&rw(s,i)}function A1(s,e){const i=s.parent.root.document.model.schema,o=s.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const l=o.find(u=>!a&&(a=i.isLimit(u),!a&&_1(u,e)));return o.forEach(u=>e.add(u)),l}function rw(s,e){const i=function(o){const a=o.root.document.model.schema;let l=o.parent;for(;l;){if(a.isBlock(l))return l;l=l.parent}}(s);return i?!e.containsRange(G._createOn(i),!0):!0}function Dj(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.start.isTouching(Z._createAt(s,s.maxOffset))&&rw(s,e))}function Sj(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.end.isTouching(Z._createAt(s,0))&&rw(s,e))}_i.prototype.is=function(s){return s==="selection"||s==="model:selection"};class Ai extends fe(G){constructor(e,i){super(e,i),Mj.call(this)}detach(){this.stopListening()}toRange(){return new G(this.start,this.end)}static fromRange(e){return new Ai(e.start,e.end)}}function Mj(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const i=e[0];i.isDocumentOperation&&Pj.call(this,i)},{priority:"low"})}function Pj(s){const e=this.getTransformedByOperation(s),i=G._createFromRanges(e),o=!i.isEqual(this),a=function(u,p){switch(p.type){case"insert":return u.containsPosition(p.position);case"move":case"remove":case"reinsert":case"merge":return u.containsPosition(p.sourcePosition)||u.start.isEqual(p.sourcePosition)||u.containsPosition(p.targetPosition);case"split":return u.containsPosition(p.splitPosition)||u.containsPosition(p.insertionPosition)}return!1}(this,s);let l=null;if(o){i.root.rootName=="$graveyard"&&(l=s.type=="remove"?s.sourcePosition:s.deletionPosition);const u=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",u,{deletionPosition:l})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:l})}Ai.prototype.is=function(s){return s==="liveRange"||s==="model:liveRange"||s=="range"||s==="model:range"};const rg="selection:";class rr extends fe(Ko){constructor(e){super(),this._selection=new Nj(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return rg+e}static _isStoreAttributeKey(e){return e.startsWith(rg)}}rr.prototype.is=function(s){return s==="selection"||s=="model:selection"||s=="documentSelection"||s=="model:documentSelection"};class Nj extends _i{constructor(e){super(),this.markers=new Xi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,o)=>{const a=o[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,o,a,l)=>{this._updateMarker(o,l)}),this.listenTo(this._document,"change",(i,o)=>{(function(a,l){const u=a.document.differ;for(const p of u.getChanges()){if(p.type!="insert")continue;const f=p.position.parent;p.length===f.maxOffset&&a.enqueueChange(l,k=>{const b=Array.from(f.getAttributeKeys()).filter(_=>_.startsWith(rg));for(const _ of b)k.removeAttribute(_,f)})}})(this._model,o)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=K();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new V("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new V("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Ai.fromRange(e);return i.on("change:range",(o,a,l)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const u=this._ranges.indexOf(i);this._ranges.splice(u,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const a of this._model.markers){const l=a.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const u=a.getRange();for(const p of this.getRanges())u.containsRange(p,!p.isCollapsed)&&e.push(a)}const o=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),i=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),i=!0);i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,i){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let a=!1;const l=Array.from(this.markers),u=this.markers.has(e);if(i){let p=!1;for(const f of this.getRanges())if(i.containsRange(f,!f.isCollapsed)){p=!0;break}p&&!u?(this.markers.add(e),a=!0):!p&&u&&(this.markers.remove(e),a=!0)}else u&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(e){const i=yr(this._getSurroundingAttributes()),o=yr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,u]of this._attributePriority)u=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(i);const a=[];for(const[l,u]of this.getAttributes())o.has(l)&&o.get(l)===u||a.push(l);for(const[l]of o)this.hasAttribute(l)||a.push(l);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,i,o=!0){const a=o?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,a),!0)}_removeAttribute(e,i=!0){const o=i?"normal":"low";return(o!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,o),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[o,a]of this.getAttributes())e.get(o)!==a&&this._removeAttribute(o,!1);for(const[o,a]of e)this._setAttribute(o,a,!1)&&i.add(o);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(rg)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let o=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Pd(a,i)),o||(o=Pd(l,i)),!this.isGravityOverridden&&!o){let u=a;for(;u&&!o;)u=u.previousSibling,o=Pd(u,i)}if(!o){let u=l;for(;u&&!o;)u=u.nextSibling,o=Pd(u,i)}o||(o=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const l of a){if(l.item.is("element")&&i.isObject(l.item)){o=Pd(l.item,i);break}if(l.type=="text"){o=l.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Pd(s,e){if(!s)return null;if(s instanceof ir||s instanceof lt)return s.getAttributes();if(!e.isInline(s))return null;if(!e.isObject(s))return[];const i=[];for(const[o,a]of s.getAttributes())e.checkAttribute("$text",o)&&e.getAttributeProperties(o).copyFromObject!==!1&&i.push([o,a]);return i}class v1{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class Rj extends v1{elementToElement(e){return this.add(function(i){const o=E1(i.model),a=Nd(i.view,"container");return o.attributes.length&&(o.children=!0),l=>{l.on(`insert:${o.name}`,function(u,p=Oj){return(f,k,b)=>{if(!p(k.item,b.consumable,{preflight:!0}))return;const _=u(k.item,b,k);if(!_)return;p(k.item,b.consumable);const C=b.mapper.toViewPosition(k.range.start);b.mapper.bindElements(k.item,_),b.writer.insert(C,_),b.convertAttributes(k.item),S1(_,k.item.getChildren(),b,{reconversion:k.reconversion})}}(a,D1(o)),{priority:i.converterPriority||"normal"}),(o.children||o.attributes.length)&&l.on("reduceChanges",T1(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const o=E1(i.model),a=Nd(i.view,"container");return o.children=!0,l=>{if(l._conversionApi.schema.checkChild(o.name,"$text"))throw new V("conversion-element-to-structure-disallowed-text",l,{elementName:o.name});var u,p;l.on(`insert:${o.name}`,(u=a,p=D1(o),(f,k,b)=>{if(!p(k.item,b.consumable,{preflight:!0}))return;const _=new Map;b.writer._registerSlotFactory(function(I,D,N){return(L,U)=>{const W=L.createContainerElement("$slot");let J=null;if(U==="children")J=Array.from(I.getChildren());else{if(typeof U!="function")throw new V("conversion-slot-mode-unknown",N.dispatcher,{modeOrFilter:U});J=Array.from(I.getChildren()).filter(pe=>U(pe))}return D.set(W,J),W}}(k.item,_,b));const C=u(k.item,b,k);if(b.writer._clearSlotFactory(),!C)return;(function(I,D,N){const L=Array.from(D.values()).flat(),U=new Set(L);if(U.size!=L.length)throw new V("conversion-slot-filter-overlap",N.dispatcher,{element:I});if(U.size!=I.childCount)throw new V("conversion-slot-filter-incomplete",N.dispatcher,{element:I})})(k.item,_,b),p(k.item,b.consumable);const x=b.mapper.toViewPosition(k.range.start);b.mapper.bindElements(k.item,C),b.writer.insert(x,C),b.convertAttributes(k.item),function(I,D,N,L){N.mapper.on("modelToViewPosition",J,{priority:"highest"});let U=null,W=null;for([U,W]of D)S1(I,W,N,L),N.writer.move(N.writer.createRangeIn(U),N.writer.createPositionBefore(U)),N.writer.remove(U);function J(pe,_e){const Oe=_e.modelPosition.nodeAfter,ft=W.indexOf(Oe);ft<0||(_e.viewPosition=_e.mapper.findPositionIn(U,ft))}N.mapper.off("modelToViewPosition",J)}(C,_,b,{reconversion:k.reconversion})}),{priority:i.converterPriority||"normal"}),l.on("reduceChanges",T1(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=Go(i);let o=i.model;typeof o=="string"&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const u of o.values)i.view[u]=Nd(i.view[u],"attribute");else i.view=Nd(i.view,"attribute");const l=x1(i);return u=>{u.on(a,function(p){return(f,k,b)=>{if(!b.consumable.test(k.item,f.name))return;const _=p(k.attributeOldValue,b,k),C=p(k.attributeNewValue,b,k);if(!_&&!C)return;b.consumable.consume(k.item,f.name);const x=b.writer,I=x.document.selection;if(k.item instanceof _i||k.item instanceof rr)x.wrap(I.getFirstRange(),C);else{let D=b.mapper.toViewRange(k.range);k.attributeOldValue!==null&&_&&(D=x.unwrap(D,_)),k.attributeNewValue!==null&&C&&x.wrap(D,C)}}}(l),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Go(i);let o=i.model;typeof o=="string"&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const u of o.values)i.view[u]=I1(i.view[u]);else i.view=I1(i.view);const l=x1(i);return u=>{var p;u.on(a,(p=l,(f,k,b)=>{if(!b.consumable.test(k.item,f.name))return;const _=p(k.attributeOldValue,b,k),C=p(k.attributeNewValue,b,k);if(!_&&!C)return;b.consumable.consume(k.item,f.name);const x=b.mapper.toViewElement(k.item),I=b.writer;if(!x)throw new V("conversion-attribute-to-attribute-on-text",b.dispatcher,k);if(k.attributeOldValue!==null&&_)if(_.key=="class"){const D=typeof _.value=="string"?_.value.split(/\s+/):_.value;for(const N of D)I.removeClass(N,x)}else if(_.key=="style")if(typeof _.value=="string"){const D=new Fb(I.document.stylesProcessor);D.setTo(_.value);for(const[N]of D.getStylesEntries())I.removeStyle(N,x)}else{const D=Object.keys(_.value);for(const N of D)I.removeStyle(N,x)}else I.removeAttribute(_.key,x);if(k.attributeNewValue!==null&&C)if(C.key=="class"){const D=typeof C.value=="string"?C.value.split(/\s+/):C.value;for(const N of D)I.addClass(N,x)}else if(C.key=="style")if(typeof C.value=="string"){const D=new Fb(I.document.stylesProcessor);D.setTo(C.value);for(const[N,L]of D.getStylesEntries())I.setStyle(N,L,x)}else{const D=Object.keys(C.value);for(const N of D)I.setStyle(N,C.value[N],x)}else I.setAttribute(C.key,C.value,x)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const o=Nd(i.view,"ui");return a=>{var l;a.on(`addMarker:${i.model}`,(l=o,(u,p,f)=>{p.isOpening=!0;const k=l(p,f);p.isOpening=!1;const b=l(p,f);if(!k||!b)return;const _=p.markerRange;if(_.isCollapsed&&!f.consumable.consume(_,u.name))return;for(const I of _)if(!f.consumable.consume(I.item,u.name))return;const C=f.mapper,x=f.writer;x.insert(C.toViewPosition(_.start),k),f.mapper.bindElementToMarker(k,p.markerName),_.isCollapsed||(x.insert(C.toViewPosition(_.end),b),f.mapper.bindElementToMarker(b,p.markerName)),u.stop()}),{priority:i.converterPriority||"normal"}),a.on(`removeMarker:${i.model}`,(u,p,f)=>{const k=f.mapper.markerNameToElements(p.markerName);if(k){for(const b of k)f.mapper.unbindElementFromMarkerName(b,p.markerName),f.writer.clear(f.writer.createRangeOn(b),b);f.writer.clearClonedElementsGroup(p.markerName),u.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return o=>{var a;o.on(`addMarker:${i.model}`,(a=i.view,(l,u,p)=>{if(!u.item||!(u.item instanceof _i||u.item instanceof rr||u.item.is("$textProxy")))return;const f=ow(a,u,p);if(!f||!p.consumable.consume(u.item,l.name))return;const k=p.writer,b=C1(k,f),_=k.document.selection;if(u.item instanceof _i||u.item instanceof rr)k.wrap(_.getFirstRange(),b);else{const C=p.mapper.toViewRange(u.range),x=k.wrap(C,b);for(const I of x.getItems())if(I.is("attributeElement")&&I.isSimilar(b)){p.mapper.bindElementToMarker(I,u.markerName);break}}}),{priority:i.converterPriority||"normal"}),o.on(`addMarker:${i.model}`,function(l){return(u,p,f)=>{if(!p.item||!(p.item instanceof it))return;const k=ow(l,p,f);if(!k||!f.consumable.test(p.item,u.name))return;const b=f.mapper.toViewElement(p.item);if(b&&b.getCustomProperty("addHighlight")){f.consumable.consume(p.item,u.name);for(const _ of G._createIn(p.item))f.consumable.consume(_.item,u.name);b.getCustomProperty("addHighlight")(b,k,f.writer),f.mapper.bindElementToMarker(b,p.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),o.on(`removeMarker:${i.model}`,function(l){return(u,p,f)=>{if(p.markerRange.isCollapsed)return;const k=ow(l,p,f);if(!k)return;const b=C1(f.writer,k),_=f.mapper.markerNameToElements(p.markerName);if(_){for(const C of _)f.mapper.unbindElementFromMarkerName(C,p.markerName),C.is("attributeElement")?f.writer.unwrap(f.writer.createRangeOn(C),b):C.getCustomProperty("removeHighlight")(C,k.id,f.writer);f.writer.clearClonedElementsGroup(p.markerName),u.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=Go(i);const o=i.model;let a=i.view;return a||(a=l=>({group:o,name:l.substr(i.model.length+1)})),l=>{var u;l.on(`addMarker:${o}`,(u=a,(p,f,k)=>{const b=u(f.markerName,k);if(!b)return;const _=f.markerRange;k.consumable.consume(_,p.name)&&(y1(_,!1,k,f,b),y1(_,!0,k,f,b),p.stop())}),{priority:i.converterPriority||"normal"}),l.on(`removeMarker:${o}`,function(p){return(f,k,b)=>{const _=p(k.markerName,b);if(!_)return;const C=b.mapper.markerNameToElements(k.markerName);if(C){for(const I of C)b.mapper.unbindElementFromMarkerName(I,k.markerName),I.is("containerElement")?(x(`data-${_.group}-start-before`,I),x(`data-${_.group}-start-after`,I),x(`data-${_.group}-end-before`,I),x(`data-${_.group}-end-after`,I)):b.writer.clear(b.writer.createRangeOn(I),I);b.writer.clearClonedElementsGroup(k.markerName),f.stop()}function x(I,D){if(D.hasAttribute(I)){const N=new Set(D.getAttribute(I).split(","));N.delete(_.name),N.size==0?b.writer.removeAttribute(I,D):b.writer.setAttribute(I,Array.from(N).join(","),D)}}}}(a),{priority:i.converterPriority||"normal"})}}(e))}}function C1(s,e){const i=s.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function y1(s,e,i,o,a){const l=e?s.start:s.end,u=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,p=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(u||p){let f,k;e&&u||!e&&!p?(f=u,k=!0):(f=p,k=!1);const b=i.mapper.toViewElement(f);if(b)return void function(_,C,x,I,D,N){const L=`data-${N.group}-${C?"start":"end"}-${x?"before":"after"}`,U=_.hasAttribute(L)?_.getAttribute(L).split(","):[];U.unshift(N.name),I.writer.setAttribute(L,U.join(","),_),I.mapper.bindElementToMarker(_,D.markerName)}(b,e,k,i,o,a)}(function(f,k,b,_,C){const x=`${C.group}-${k?"start":"end"}`,I=C.name?{name:C.name}:null,D=b.writer.createUIElement(x,I);b.writer.insert(f,D),b.mapper.bindElementToMarker(D,_.markerName)})(i.mapper.toViewPosition(l),e,i,o,a)}function E1(s){return typeof s=="string"&&(s={name:s}),{name:s.name,attributes:s.attributes?pt(s.attributes):[],children:!!s.children}}function Nd(s,e){return typeof s=="function"?s:(i,o)=>function(a,l,u){typeof a=="string"&&(a={name:a});let p;const f=l.writer,k=Object.assign({},a.attributes);if(u=="container")p=f.createContainerElement(a.name,k);else if(u=="attribute"){const b={priority:a.priority||ta.DEFAULT_PRIORITY};p=f.createAttributeElement(a.name,k,b)}else p=f.createUIElement(a.name,k);if(a.styles){const b=Object.keys(a.styles);for(const _ of b)f.setStyle(_,a.styles[_],p)}if(a.classes){const b=a.classes;if(typeof b=="string")f.addClass(b,p);else for(const _ of b)f.addClass(_,p)}return p}(s,o,e)}function x1(s){return s.model.values?(e,i,o)=>{const a=s.view[e];return a?a(e,i,o):null}:s.view}function I1(s){return typeof s=="string"?e=>({key:s,value:e}):typeof s=="object"?s.value?()=>s:e=>({key:s.key,value:e}):s}function ow(s,e,i){const o=typeof s=="function"?s(e,i):s;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function T1(s){const e=function(i){return(o,a)=>{if(!o.is("element",i.name))return!1;if(a.type=="attribute"){if(i.attributes.includes(a.attributeKey))return!0}else if(i.children)return!0;return!1}}(s);return(i,o)=>{const a=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const l of o.changes){const u=l.type=="attribute"?l.range.start.nodeAfter:l.position.parent;if(u&&e(u,l)){if(!o.reconvertedElements.has(u)){o.reconvertedElements.add(u);const p=Z._createBefore(u);let f=a.length;for(let k=a.length-1;k>=0;k--){const b=a[k],_=(b.type=="attribute"?b.range.start:b.position).compareWith(p);if(_=="before"||b.type=="remove"&&_=="same")break;f=k}a.splice(f,0,{type:"remove",name:u.name,position:p,length:1},{type:"reinsert",name:u.name,position:p,length:1})}}else a.push(l)}o.changes=a}}function D1(s){return(e,i,o={})=>{const a=["insert"];for(const l of s.attributes)e.hasAttribute(l)&&a.push(`attribute:${l}`);return!!a.every(l=>i.test(e,l))&&(o.preflight||a.forEach(l=>i.consume(e,l)),!0)}}function S1(s,e,i,o){for(const a of e)Bj(s.root,a,i,o)||i.convertItem(a)}function Bj(s,e,i,o){const{writer:a,mapper:l}=i;if(!o.reconversion)return!1;const u=l.toViewElement(e);return!(!u||u.root==s)&&!!i.canReuseView(u)&&(a.move(a.createRangeOn(u),l.toViewPosition(Z._createBefore(e))),!0)}function Oj(s,e,{preflight:i}={}){return i?e.test(s,"insert"):e.consume(s,"insert")}function M1(s){const{schema:e,document:i}=s.model;for(const o of i.getRoots())if(o.isEmpty&&!e.checkChild(o,"$text")&&e.checkChild(o,"paragraph"))return s.insertElement("paragraph",o),!0;return!1}function P1(s,e,i){const o=i.createContext(s);return!!i.checkChild(o,"paragraph")&&!!i.checkChild(o.push("paragraph"),e)}function N1(s,e){const i=e.createElement("paragraph");return e.insert(i,s),e.createPositionAt(i,0)}var Lj=Object.defineProperty,jj=Object.defineProperties,zj=Object.getOwnPropertyDescriptors,R1=Object.getOwnPropertySymbols,Vj=Object.prototype.hasOwnProperty,Fj=Object.prototype.propertyIsEnumerable,B1=(s,e,i)=>e in s?Lj(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class Uj extends v1{elementToElement(e){return this.add(O1(e))}elementToAttribute(e){return this.add(function(i){i=Go(i),L1(i);const o=j1(i,!1),a=sw(i.view),l=a?`element:${a}`:"element";return u=>{u.on(l,o,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Go(i);let o=null;(typeof i.view=="string"||i.view.key)&&(o=function(l){typeof l.view=="string"&&(l.view={key:l.view});const u=l.view.key,p=l.view.value===void 0?/[\s\S]*/:l.view.value;let f;return u=="class"||u=="style"?f={[u=="class"?"classes":"styles"]:p}:f={attributes:{[u]:p}},l.view.name&&(f.name=l.view.name),l.view=f,u}(i)),L1(i,o);const a=j1(i,!0);return l=>{l.on("element",a,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const o=function(u){return(p,f)=>{const k=typeof u=="string"?u:u(p,f);return f.writer.createElement("$marker",{"data-name":k})}}(i.model);return O1((a=((u,p)=>{for(var f in p||(p={}))Vj.call(p,f)&&B1(u,f,p[f]);if(R1)for(var f of R1(p))Fj.call(p,f)&&B1(u,f,p[f]);return u})({},i),l={model:o},jj(a,zj(l))));var a,l}(e))}dataToMarker(e){return this.add(function(i){i=Go(i),i.model||(i.model=u=>u?i.view+":"+u:i.view);const o={view:i.view,model:i.model},a=aw(z1(o,"start")),l=aw(z1(o,"end"));return u=>{u.on(`element:${i.view}-start`,a,{priority:i.converterPriority||"normal"}),u.on(`element:${i.view}-end`,l,{priority:i.converterPriority||"normal"});const p=Y.low,f=Y.highest,k=Y.get(i.converterPriority)/f;u.on("element",function(b){return(_,C,x)=>{const I=`data-${b.view}`;function D(N,L){for(const U of L){const W=b.model(U,x),J=x.writer.createElement("$marker",{"data-name":W});x.writer.insert(J,N),C.modelCursor.isEqual(N)?C.modelCursor=C.modelCursor.getShiftedBy(1):C.modelCursor=C.modelCursor._getTransformedByInsertion(N,1),C.modelRange=C.modelRange._getTransformedByInsertion(N,1)[0]}}(x.consumable.test(C.viewItem,{attributes:I+"-end-after"})||x.consumable.test(C.viewItem,{attributes:I+"-start-after"})||x.consumable.test(C.viewItem,{attributes:I+"-end-before"})||x.consumable.test(C.viewItem,{attributes:I+"-start-before"}))&&(C.modelRange||Object.assign(C,x.convertChildren(C.viewItem,C.modelCursor)),x.consumable.consume(C.viewItem,{attributes:I+"-end-after"})&&D(C.modelRange.end,C.viewItem.getAttribute(I+"-end-after").split(",")),x.consumable.consume(C.viewItem,{attributes:I+"-start-after"})&&D(C.modelRange.end,C.viewItem.getAttribute(I+"-start-after").split(",")),x.consumable.consume(C.viewItem,{attributes:I+"-end-before"})&&D(C.modelRange.start,C.viewItem.getAttribute(I+"-end-before").split(",")),x.consumable.consume(C.viewItem,{attributes:I+"-start-before"})&&D(C.modelRange.start,C.viewItem.getAttribute(I+"-start-before").split(",")))}}(o),{priority:p+k})}}(e))}}function O1(s){const e=aw(s=Go(s)),i=sw(s.view),o=i?`element:${i}`:"element";return a=>{a.on(o,e,{priority:s.converterPriority||"normal"})}}function sw(s){return typeof s=="string"?s:typeof s=="object"&&typeof s.name=="string"?s.name:null}function aw(s){const e=new er(s.view);return(i,o,a)=>{const l=e.match(o.viewItem);if(!l)return;const u=l.match;if(u.name=!0,!a.consumable.test(o.viewItem,u))return;const p=function(f,k,b){return f instanceof Function?f(k,b):b.writer.createElement(f)}(s.model,o.viewItem,a);p&&a.safeInsert(p,o.modelCursor)&&(a.consumable.consume(o.viewItem,u),a.convertChildren(o.viewItem,p),a.updateConversionResult(p,o))}}function L1(s,e=null){const i=e===null||(l=>l.getAttribute(e)),o=typeof s.model!="object"?s.model:s.model.key,a=typeof s.model!="object"||s.model.value===void 0?i:s.model.value;s.model={key:o,value:a}}function j1(s,e){const i=new er(s.view);return(o,a,l)=>{if(!a.modelRange&&e)return;const u=i.match(a.viewItem);if(!u||(function(b,_){const C=typeof b=="function"?b(_):b;return typeof C=="object"&&!sw(C)?!1:!C.classes&&!C.attributes&&!C.styles}(s.view,a.viewItem)?u.match.name=!0:delete u.match.name,!l.consumable.test(a.viewItem,u.match)))return;const p=s.model.key,f=typeof s.model.value=="function"?s.model.value(a.viewItem,l):s.model.value;if(f===null)return;a.modelRange||Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor)),function(b,_,C,x){let I=!1;for(const D of Array.from(b.getItems({shallow:C})))x.schema.checkAttribute(D,_.key)&&(I=!0,D.hasAttribute(_.key)||x.writer.setAttribute(_.key,_.value,D));return I}(a.modelRange,{key:p,value:f},e,l)&&(l.consumable.test(a.viewItem,{name:!0})&&(u.match.name=!0),l.consumable.consume(a.viewItem,u.match))}}function z1(s,e){return{view:`${s.view}-${e}`,model:(i,o)=>{const a=i.getAttribute("name"),l=s.model(a,o);return o.writer.createElement("$marker",{"data-name":l})}}}function Hj(s){s.document.registerPostFixer(e=>function(i,o){const a=o.document.selection,l=o.schema,u=[];let p=!1;for(const f of a.getRanges()){const k=V1(f,l);k&&!k.isEqual(f)?(u.push(k),p=!0):u.push(f)}return p&&i.setSelection(function(f){const k=[...f],b=new Set;let _=1;for(;_<k.length;){const C=k[_],x=k.slice(0,_);for(const[I,D]of x.entries())if(!b.has(I)){if(C.isEqual(D))b.add(I);else if(C.isIntersecting(D)){b.add(I),b.add(_);const N=C.getJoined(D);k.push(N)}}_++}return k.filter((C,x)=>!b.has(x))}(u),{backward:a.isBackward}),!1}(e,s))}function V1(s,e){return s.isCollapsed?function(i,o){const a=i.start,l=o.getNearestSelectionRange(a);if(!l){const p=a.getAncestors().reverse().find(f=>o.isObject(f));return p?G._createOn(p):null}if(!l.isCollapsed)return l;const u=l.start;return a.isEqual(u)?null:new G(u)}(s,e):function(i,o){const{start:a,end:l}=i,u=o.checkChild(a,"$text"),p=o.checkChild(l,"$text"),f=o.getLimitElement(a),k=o.getLimitElement(l);if(f===k){if(u&&p)return null;if(function(C,x,I){const D=C.nodeAfter&&!I.isLimit(C.nodeAfter)||I.checkChild(C,"$text"),N=x.nodeBefore&&!I.isLimit(x.nodeBefore)||I.checkChild(x,"$text");return D||N}(a,l,o)){const C=a.nodeAfter&&o.isSelectable(a.nodeAfter)?null:o.getNearestSelectionRange(a,"forward"),x=l.nodeBefore&&o.isSelectable(l.nodeBefore)?null:o.getNearestSelectionRange(l,"backward"),I=C?C.start:a,D=x?x.end:l;return new G(I,D)}}const b=f&&!f.is("rootElement"),_=k&&!k.is("rootElement");if(b||_){const C=a.nodeAfter&&l.nodeBefore&&a.nodeAfter.parent===l.nodeBefore.parent,x=b&&(!C||!U1(a.nodeAfter,o)),I=_&&(!C||!U1(l.nodeBefore,o));let D=a,N=l;return x&&(D=Z._createBefore(F1(f,o))),I&&(N=Z._createAfter(F1(k,o))),new G(D,N)}return null}(s,e)}function F1(s,e){let i=s,o=i;for(;e.isLimit(o)&&o.parent;)i=o,o=o.parent;return i}function U1(s,e){return s&&e.isSelectable(s)}class $j extends tt(){constructor(e,i){super(),this.model=e,this.view=new _j(i),this.mapper=new g1,this.downcastDispatcher=new b1({mapper:this.mapper,schema:e.schema});const o=this.model.document,a=o.selection,l=this.model.markers;var u,p,f;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(k=>{this.downcastDispatcher.convertChanges(o.differ,l,k),this.downcastDispatcher.convertSelection(a,l,k)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(k,b){return(_,C)=>{const x=C.newSelection,I=[];for(const N of x.getRanges())I.push(b.toModelRange(N));const D=k.createSelection(I,{backward:x.isBackward});D.isEqual(k.document.selection)||k.change(N=>{N.setSelection(D)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(u=this.mapper,p=this.model.schema,f=this.view,(k,b)=>{if(!f.document.isComposing||v.isAndroid)for(let _=0;_<b.targetRanges.length;_++){const C=b.targetRanges[_],x=u.toModelRange(C),I=V1(x,p);I&&!I.isEqual(x)&&(b.targetRanges[_]=u.toViewRange(I))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(k,b,_)=>{if(!_.consumable.consume(b.item,k.name))return;const C=_.writer,x=_.mapper.toViewPosition(b.range.start),I=C.createText(b.item.data);C.insert(x,I)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(k,b,_)=>{_.convertAttributes(b.item),b.reconversion||!b.item.is("element")||b.item.isEmpty||_.convertChildren(b.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(k,b,_)=>{const C=_.mapper.toViewPosition(b.position),x=b.position.getShiftedBy(b.length),I=_.mapper.toViewPosition(x,{isPhantom:!0}),D=_.writer.createRange(C,I),N=_.writer.remove(D.getTrimmed());for(const L of _.writer.createRangeIn(N).getItems())_.mapper.unbindViewElement(L,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(k,b,_)=>{const C=_.writer,x=C.document.selection;for(const I of x.getRanges())I.isCollapsed&&I.end.parent.isAttached()&&_.writer.mergeAttributes(I.start);C.setSelection(null)}),this.downcastDispatcher.on("selection",(k,b,_)=>{const C=b.selection;if(C.isCollapsed||!_.consumable.consume(C,"selection"))return;const x=[];for(const I of C.getRanges())x.push(_.mapper.toViewRange(I));_.writer.setSelection(x,{backward:C.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(k,b,_)=>{const C=b.selection;if(!C.isCollapsed||!_.consumable.consume(C,"selection"))return;const x=_.writer,I=C.getFirstPosition(),D=_.mapper.toViewPosition(I),N=x.breakAttributes(D);x.setSelection(N)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(k=>{if(k.rootName=="$graveyard")return null;const b=new Ly(this.view.document,k.name);return b.rootName=k.rootName,this.mapper.bindElements(k,b),b})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Rd{constructor(){this._consumables=new Map}add(e,i){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new Wj(e),this._consumables.set(e,o)),o.add(i))}test(e,i){const o=this._consumables.get(e);return o===void 0?null:e.is("$text")||e.is("documentFragment")?o:o.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const o=this._consumables.get(e);o!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const u of o)u!="style"&&u!="class"&&i.attributes.push(u);const a=e.getClassNames();for(const u of a)i.classes.push(u);const l=e.getStyleNames();for(const u of l)i.styles.push(u);return i}static createFrom(e,i){if(i||(i=new Rd),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,Rd.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const o of e.getChildren())i=Rd.createFrom(o,i);return i}}const og=["attributes","classes","styles"];class Wj{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of og)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of og)if(i in e){const o=this._test(i,e[i]);if(o!==!0)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of og)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of og)i in e&&this._revert(i,e[i])}_add(e,i){const o=pt(i),a=this._consumables[e];for(const l of o){if(e==="attributes"&&(l==="class"||l==="style"))throw new V("viewconsumable-invalid-attribute",this);if(a.set(l,!0),e==="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(u,!0)}}_test(e,i){const o=pt(i),a=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style"){const u=a.get(l);if(u===void 0)return null;if(!u)return!1}else{const u=l=="class"?"classes":"styles",p=this._test(u,[...this._consumables[u].keys()]);if(p!==!0)return p}return!0}_consume(e,i){const o=pt(i),a=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style"){if(a.set(l,!1),e=="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(u,!1)}else{const u=l=="class"?"classes":"styles";this._consume(u,[...this._consumables[u].keys()])}}_revert(e,i){const o=pt(i),a=this._consumables[e];for(const l of o)if(e!=="attributes"||l!=="class"&&l!=="style")a.get(l)===!1&&a.set(l,!0);else{const u=l=="class"?"classes":"styles";this._revert(u,[...this._consumables[u].keys()])}}}class qj extends tt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new oa(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new oa(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new V("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new V("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof Z){const o=e.nodeBefore,a=e.nodeAfter;if(!(o instanceof it))throw new V("schema-check-merge-no-element-before",this);if(!(a instanceof it))throw new V("schema-check-merge-no-element-after",this);return this.checkMerge(o,a)}for(const o of i.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[o,a])=>{if(!a)return;const l=e(o,a);typeof l=="boolean"&&(i.stop(),i.return=l)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[o,a])=>{const l=e(o,a);typeof l=="boolean"&&(i.stop(),i.return=l)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof Z?i=e.parent:i=(e instanceof G?[e]:Array.from(e.getRanges())).reduce((o,a)=>{const l=a.getCommonAncestor();return o?o.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new lt("",e.getAttributes())];return this.checkAttribute(o,i)}{const o=e.getRanges();for(const a of o)for(const l of a)if(this.checkAttribute(l.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(o){for(const a of o)yield*a.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new G(e);let o,a;const l=e.getAncestors().reverse().find(u=>this.isLimit(u))||e.root;i!="both"&&i!="backward"||(o=new oo({boundaries:G._createIn(l),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(a=new oo({boundaries:G._createIn(l),startPosition:e}));for(const u of function*(p,f){let k=!1;for(;!k;){if(k=!0,p){const b=p.next();b.done||(k=!1,yield{walker:p,value:b.value})}if(f){const b=f.next();b.done||(k=!1,yield{walker:f,value:b.value})}}}(o,a)){const p=u.walker==o?"elementEnd":"elementStart",f=u.value;if(f.type==p&&this.isObject(f.item))return G._createOn(f.item);if(this.checkChild(f.nextPosition,"$text"))return new G(f.nextPosition)}return null}findAllowedParent(e,i){let o=e.parent;for(;o;){if(this.checkChild(o,i))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,i,o){const a=o.model;for(const[l,u]of Object.entries(i))a.schema.checkAttribute(e,l)&&o.setAttribute(l,u,e)}removeDisallowedAttributes(e,i){for(const o of e)if(o.is("$text"))H1(this,o,i);else{const a=G._createIn(o).getPositions();for(const l of a)H1(this,l.nodeBefore||l.parent,i)}}getAttributesWithProperty(e,i,o){const a={};for(const[l,u]of e.getAttributes()){const p=this.getAttributeProperties(l);p[i]!==void 0&&(o!==void 0&&o!==p[i]||(a[l]=u))}return a}createContext(e){return new oa(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,o=Object.keys(i);for(const a of o)e[a]=Gj(i[a],a);for(const a of o)Kj(e,a);for(const a of o)Qj(e,a);for(const a of o)Yj(e,a);for(const a of o)Zj(e,a),Jj(e,a);for(const a of o)Xj(e,a),ez(e,a),tz(e,a);this._compiledDefinitions=e}_checkContextMatch(e,i,o=i.length-1){const a=i.getItem(o);if(e.allowIn.includes(a.name)){if(o==0)return!0;{const l=this.getDefinition(a);return this._checkContextMatch(l,i,o-1)}}return!1}*_getValidRangesForRange(e,i){let o=e.start,a=e.start;for(const l of e.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(G._createIn(l),i)),this.checkAttribute(l,i)||(o.isEqual(a)||(yield new G(o,a)),o=Z._createAfter(l)),a=Z._createAfter(l);o.isEqual(a)||(yield new G(o,a))}findOptimalInsertionRange(e,i){const o=e.getSelectedElement();if(o&&this.isObject(o)&&!this.isInline(o))return i=="before"||i=="after"?new G(Z._createAt(o,i)):G._createOn(o);const a=rn(e.getSelectedBlocks());if(!a)return new G(e.focus);if(a.isEmpty)return new G(Z._createAt(a,0));const l=Z._createAfter(a);return e.focus.isTouching(l)?new G(l):new G(Z._createBefore(a))}}class oa{constructor(e){if(e instanceof oa)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(iz)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new oa([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Gj(s,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,a){for(const l of o){const u=Object.keys(l).filter(p=>p.startsWith("is"));for(const p of u)a[p]=!!l[p]}}(s,i),sa(s,i,"allowIn"),sa(s,i,"allowContentOf"),sa(s,i,"allowWhere"),sa(s,i,"allowAttributes"),sa(s,i,"allowAttributesOf"),sa(s,i,"allowChildren"),sa(s,i,"inheritTypesFrom"),function(o,a){for(const l of o){const u=l.inheritAllFrom;u&&(a.allowContentOf.push(u),a.allowWhere.push(u),a.allowAttributesOf.push(u),a.inheritTypesFrom.push(u))}}(s,i),i}function Kj(s,e){const i=s[e];for(const o of i.allowChildren){const a=s[o];a&&a.allowIn.push(e)}i.allowChildren.length=0}function Qj(s,e){for(const i of s[e].allowContentOf)s[i]&&nz(s,i).forEach(o=>{o.allowIn.push(e)});delete s[e].allowContentOf}function Yj(s,e){for(const i of s[e].allowWhere){const o=s[i];if(o){const a=o.allowIn;s[e].allowIn.push(...a)}}delete s[e].allowWhere}function Zj(s,e){for(const i of s[e].allowAttributesOf){const o=s[i];if(o){const a=o.allowAttributes;s[e].allowAttributes.push(...a)}}delete s[e].allowAttributesOf}function Jj(s,e){const i=s[e];for(const o of i.inheritTypesFrom){const a=s[o];if(a){const l=Object.keys(a).filter(u=>u.startsWith("is"));for(const u of l)u in i||(i[u]=a[u])}}delete i.inheritTypesFrom}function Xj(s,e){const i=s[e],o=i.allowIn.filter(a=>s[a]);i.allowIn=Array.from(new Set(o))}function ez(s,e){const i=s[e];for(const o of i.allowIn)s[o].allowChildren.push(e)}function tz(s,e){const i=s[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function sa(s,e,i){for(const o of s){const a=o[i];typeof a=="string"?e[i].push(a):Array.isArray(a)&&e[i].push(...a)}}function nz(s,e){const i=s[e];return(o=s,Object.keys(o).map(a=>o[a])).filter(a=>a.allowIn.includes(i.name));var o}function iz(s){return typeof s=="string"||s.is("documentFragment")?{name:typeof s=="string"?s:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:s.is("element")?s.name:"$text",*getAttributeKeys(){yield*s.getAttributeKeys()},getAttribute:e=>s.getAttribute(e)}}function H1(s,e,i){for(const o of e.getAttributeKeys())s.checkAttribute(e,o)||i.removeAttribute(o,e)}var rz=Object.defineProperty,oz=Object.defineProperties,sz=Object.getOwnPropertyDescriptors,$1=Object.getOwnPropertySymbols,az=Object.prototype.hasOwnProperty,cz=Object.prototype.propertyIsEnumerable,W1=(s,e,i)=>e in s?rz(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class lz extends fe(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((o,a)=>{for(var l in a||(a={}))az.call(a,l)&&W1(o,l,a[l]);if($1)for(var l of $1(a))cz.call(a,l)&&W1(o,l,a[l]);return o})({},e),oz(i,sz({consumable:null,writer:null,store:null,convertItem:(o,a)=>this._convertItem(o,a),convertChildren:(o,a)=>this._convertChildren(o,a),safeInsert:(o,a)=>this._safeInsert(o,a),updateConversionResult:(o,a)=>this._updateConversionResult(o,a),splitToAllowedParent:(o,a)=>this._splitToAllowedParent(o,a),getSplitParts:o=>this._getSplitParts(o),keepEmptyElement:o=>this._keepEmptyElement(o)})))}convert(e,i,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(u,p){let f;for(const k of new oa(u)){const b={};for(const C of k.getAttributeKeys())b[C]=k.getAttribute(C);const _=p.createElement(k.name,b);f&&p.insert(_,f),f=Z._createAt(_,0)}return f}(o,i),this.conversionApi.writer=i,this.conversionApi.consumable=Rd.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),l=i.createDocumentFragment();if(a){this._removeEmptyElements();for(const u of Array.from(this._modelCursor.parent.getChildren()))i.append(u,l);l.markers=function(u,p){const f=new Set,k=new Map,b=G._createIn(u).getItems();for(const _ of b)_.is("element","$marker")&&f.add(_);for(const _ of f){const C=_.getAttribute("data-name"),x=p.createPositionBefore(_);k.has(C)?k.get(C).end=x.clone():k.set(C,new G(x.clone())),p.remove(_)}return k}(l,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(e,i){const o={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof G))throw new V("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,i){let o=i.is("position")?i:Z._createAt(i,0);const a=new G(o);for(const l of Array.from(e.getChildren())){const u=this._convertItem(l,o);u.modelRange instanceof G&&(a.end=u.modelRange.end,o=u.modelCursor)}return{modelRange:a,modelCursor:o}}_safeInsert(e,i){const o=this._splitToAllowedParent(e,i);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,i){const o=this._getSplitParts(e),a=this.conversionApi.writer;i.modelRange||(i.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(o[o.length-1])));const l=this._cursorParents.get(e);i.modelCursor=l?a.createPositionAt(l,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:o,writer:a}=this.conversionApi;let l=o.findAllowedParent(i,e);if(l){if(l===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return P1(i,e,o)?{position:N1(i,a)}:null;const u=this.conversionApi.writer.split(i,l),p=[];for(const k of u.range.getWalker())if(k.type=="elementEnd")p.push(k.item);else{const b=p.pop(),_=k.item;this._registerSplitPair(b,_)}const f=u.range.end.parent;return this._cursorParents.set(e,f),{position:u.position,cursorParent:f}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(i,o),o.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class dz{getHtml(e){const i=ae.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class uz{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Jp(e,{renderingMode:"data"}),this.htmlWriter=new dz}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),o=i.createDocumentFragment(),a=i.body.childNodes;for(;a.length>0;)o.appendChild(a[0]);return o}}class hz extends fe(){constructor(e,i){super(),this.model=e,this.mapper=new g1,this.downcastDispatcher=new b1({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,a,l)=>{if(!l.consumable.consume(a.item,o.name))return;const u=l.writer,p=l.mapper.toViewPosition(a.range.start),f=u.createText(a.item.data);u.insert(p,f)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,a,l)=>{l.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||l.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new lz({schema:e.schema}),this.viewDocument=new Qp(i),this.stylesProcessor=i,this.htmlProcessor=new uz(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new zy(this.viewDocument),this.upcastDispatcher.on("text",(o,a,{schema:l,consumable:u,writer:p})=>{let f=a.modelCursor;if(!u.test(a.viewItem))return;if(!l.checkChild(f,"$text")){if(!P1(f,"$text",l)||a.viewItem.data.trim().length==0)return;const b=f.nodeBefore;f=N1(f,p),b&&b.is("element","$marker")&&(p.move(p.createRangeOn(b),f),f=p.createPositionAfter(b))}u.consume(a.viewItem);const k=p.createText(a.viewItem.data);p.insert(k,f),a.modelRange=p.createRange(f,f.getShiftedBy(k.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,a,l)=>{if(!a.modelRange&&l.consumable.consume(a.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(a.viewItem,a.modelCursor);a.modelRange=u,a.modelCursor=p}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,a,l)=>{if(!a.modelRange&&l.consumable.consume(a.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(a.viewItem,a.modelCursor);a.modelRange=u,a.modelCursor=p}},{priority:"lowest"}),tt().prototype.decorate.call(this,"init"),tt().prototype.decorate.call(this,"set"),tt().prototype.decorate.call(this,"get"),tt().prototype.decorate.call(this,"toView"),tt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},M1)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([i]))throw new V("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(i);return a.isAttached()||ie("datacontroller-get-detached-root",this),o!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,i={}){const o=this.toView(e,i);return this.processor.toData(o)}toView(e,i={}){const o=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const l=G._createIn(e),u=new na(o);this.mapper.bindElements(e,u);const p=e.is("documentFragment")?e.markers:function(f){const k=[],b=f.root.document;if(!b)return new Map;const _=G._createIn(f);for(const C of b.model.markers){const x=C.getRange(),I=x.isCollapsed,D=x.start.isEqual(_.start)||x.end.isEqual(_.end);if(I&&D)k.push([C.name,x]);else{const N=_.getIntersection(x);N&&k.push([C.name,N])}}return k.sort(([C,x],[I,D])=>{if(x.end.compareWith(D.start)!=="after")return 1;if(x.start.compareWith(D.end)!=="before")return-1;switch(x.start.compareWith(D.start)){case"before":return 1;case"after":return-1;default:switch(x.end.compareWith(D.end)){case"before":return 1;case"after":return-1;default:return I.localeCompare(C)}}}),new Map(k)}(e);return this.downcastDispatcher.convert(l,p,a,i),u}init(e){if(this.model.document.version)throw new V("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new V("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const a of Object.keys(i)){const l=this.model.document.getRoot(a);o.insert(this.parse(i[a],l),l,0)}}),Promise.resolve()}set(e,i={}){let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new V("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(o)){const u=this.model.document.getRoot(l);a.remove(a.createRangeIn(u)),a.insert(this.parse(o[l],u),u,0)}})}parse(e,i="$root"){const o=this.processor.toView(e);return this.toModel(o,i)}toModel(e,i="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class pz{constructor(e,i){this._helpers=new Map,this._downcast=pt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=pt(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const o=this._downcast.includes(i);if(!this._upcast.includes(i)&&!o)throw new V("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new V("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:o}of cw(e))this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:o}of cw(e))this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:o}of cw(e))this.for("upcast").attributeToAttribute({view:o,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:o}){if(this._helpers.has(e))throw new V("conversion-group-exists",this);const a=o?new Rj(i):new Uj(i);this._helpers.set(e,a)}}function*cw(s){if(s.model.values)for(const e of s.model.values){const i={key:s.model.key,value:e},o=s.view[e],a=s.upcastAlso?s.upcastAlso[e]:void 0;yield*q1(i,o,a)}else yield*q1(s.model,s.view,s.upcastAlso)}function*q1(s,e,i){if(yield{model:s,view:e},i)for(const o of pt(i))yield{model:s,view:o}}class vi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function lw(s,e){const i=K1(e),o=i.reduce((u,p)=>u+p.offsetSize,0),a=s.parent;Ld(s);const l=s.index;return a._insertChild(l,i),Od(a,l+i.length),Od(a,l),new G(s,s.getShiftedBy(o))}function G1(s){if(!s.isFlat)throw new V("operation-utils-remove-range-not-flat",this);const e=s.start.parent;Ld(s.start),Ld(s.end);const i=e._removeChildren(s.start.index,s.end.index-s.start.index);return Od(e,s.start.index),i}function Bd(s,e){if(!s.isFlat)throw new V("operation-utils-move-range-not-flat",this);const i=G1(s);return lw(e=e._getTransformedByDeletion(s.start,s.end.offset-s.start.offset),i)}function K1(s){const e=[];(function i(o){if(typeof o=="string")e.push(new lt(o));else if(o instanceof ir)e.push(new lt(o.data,o.getAttributes()));else if(o instanceof ia)e.push(o);else if(zn(o))for(const a of o)i(a)})(s);for(let i=1;i<e.length;i++){const o=e[i],a=e[i-1];o instanceof lt&&a instanceof lt&&Q1(o,a)&&(e.splice(i-1,2,new lt(a.data+o.data,a.getAttributes())),i--)}return e}function Od(s,e){const i=s.getChild(e-1),o=s.getChild(e);if(i&&o&&i.is("$text")&&o.is("$text")&&Q1(i,o)){const a=new lt(i.data+o.data,i.getAttributes());s._removeChildren(e-1,2),s._insertChild(e-1,a)}}function Ld(s){const e=s.textNode,i=s.parent;if(e){const o=s.offset-e.startOffset,a=e.index;i._removeChildren(a,1);const l=new lt(e.data.substr(0,o),e.getAttributes()),u=new lt(e.data.substr(o),e.getAttributes());i._insertChild(a,[l,u])}}function Q1(s,e){const i=s.getAttributes(),o=e.getAttributes();for(const a of i){if(a[1]!==e.getAttribute(a[0]))return!1;o.next()}return o.next().done}class Ke extends vi{constructor(e,i,o,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[G._createFromPositionAndShift(this.sourcePosition,this.howMany),G._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ke(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ke(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,a=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new V("move-operation-nodes-do-not-exist",this);if(e===i&&o<a&&a<o+this.howMany)throw new V("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&pn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=o&&this.targetPosition.path[l]<o+this.howMany)throw new V("move-operation-node-into-itself",this)}}_execute(){Bd(G._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const o=Z.fromJSON(e.sourcePosition,i),a=Z.fromJSON(e.targetPosition,i);return new this(o,e.howMany,a,e.baseVersion)}}class on extends vi{constructor(e,i,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Sd(K1(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Sd([...this.nodes].map(o=>o._clone(!0))),i=new on(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new Z(e,[0]);return new Ke(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new V("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Sd([...e].map(i=>i._clone(!0))),lw(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const o=[];for(const l of e.nodes)l.name?o.push(it.fromJSON(l)):o.push(lt.fromJSON(l));const a=new on(Z.fromJSON(e.position,i),o,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class dt extends vi{constructor(e,i,o,a,l){super(l),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=o,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Z(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.splitPosition,e)}get affectedSelectable(){const e=[G._createFromPositionAndShift(this.splitPosition,0),G._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(G._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new dt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new Z(e,[0]);return new St(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new V("split-operation-position-invalid",this);if(!e.parent)throw new V("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new V("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new V("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Bd(G._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();lw(this.insertionPosition,i)}Bd(new G(Z._createAt(e,this.splitPosition.offset),Z._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new Z(e.root,i,"toPrevious")}static fromJSON(e,i){const o=Z.fromJSON(e.splitPosition,i),a=Z.fromJSON(e.insertionPosition,i),l=e.graveyardPosition?Z.fromJSON(e.graveyardPosition,i):null;return new this(o,e.howMany,a,l,e.baseVersion)}}class St extends vi{constructor(e,i,o,a,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new Z(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[G._createOn(e),G._createFromPositionAndShift(this.targetPosition,0),G._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new St(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new Z(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new dt(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new V("merge-operation-source-position-invalid",this);if(!i.parent)throw new V("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new V("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Bd(G._createIn(e),this.targetPosition),Bd(G._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const o=Z.fromJSON(e.sourcePosition,i),a=Z.fromJSON(e.targetPosition,i),l=Z.fromJSON(e.graveyardPosition,i);return new this(o,e.howMany,a,l,e.baseVersion)}}class ti extends vi{constructor(e,i,o,a,l,u){super(u),this.name=e,this.oldRange=i?i.clone():null,this.newRange=o?o.clone():null,this.affectsData=l,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new ti(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ti(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new ti(e.name,e.oldRange?G.fromJSON(e.oldRange,i):null,e.newRange?G.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const Y1=function(s,e){return tg(s,e)};class jt extends vi{constructor(e,i,o,a,l){super(l),this.range=e.clone(),this.key=i,this.oldValue=o===void 0?null:o,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new jt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new jt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new V("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Y1(e.getAttribute(this.key),this.oldValue))throw new V("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new V("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Y1(this.oldValue,this.newValue)||function(e,i,o){Ld(e.start),Ld(e.end);for(const a of e.getItems({shallow:!0})){const l=a.is("$textProxy")?a.textNode:a;o!==null?l._setAttribute(i,o):l._removeAttribute(i),Od(l.parent,l.index)}Od(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new jt(G.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ut extends vi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Ut(this.baseVersion)}getReversed(){return new Ut(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ni extends vi{constructor(e,i,o,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=o}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ni(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ni(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof it))throw new V("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new V("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new ni(Z.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class so extends vi{constructor(e,i,o,a,l){super(l),this.root=e,this.key=i,this.oldValue=o===void 0?null:o,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new so(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new so(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new V("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new V("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new V("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new V("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new so(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ir extends vi{constructor(e,i,o,a,l){super(l),this.rootName=e,this.elementName=i,this.isAdd=o,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ir(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ir(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Ir(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const Bi={};Bi[jt.className]=jt,Bi[on.className]=on,Bi[ti.className]=ti,Bi[Ke.className]=Ke,Bi[Ut.className]=Ut,Bi[vi.className]=vi,Bi[ni.className]=ni,Bi[so.className]=so,Bi[Ir.className]=Ir,Bi[dt.className]=dt,Bi[St.className]=St;class gz{static fromJSON(e,i){return Bi[e.__className].fromJSON(e,i)}}const dw=new Map;function qe(s,e,i){let o=dw.get(s);o||(o=new Map,dw.set(s,o)),o.set(e,i)}function fz(s){return[s]}function Z1(s,e,i={}){const o=function(a,l){const u=dw.get(a);return u&&u.has(l)?u.get(l):fz}(s.constructor,e.constructor);try{return o(s=s.clone(),e,i)}catch(a){throw a}}function mz(s,e,i){s=s.slice(),e=e.slice();const o=new kz(i.document,i.useRelations,i.forceWeakRemove);o.setOriginalOperations(s),o.setOriginalOperations(e);const a=o.originalOperations;if(s.length==0||e.length==0)return{operationsA:s,operationsB:e,originalOperations:a};const l=new WeakMap;for(const f of s)l.set(f,0);const u={nextBaseVersionA:s[s.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:s.length,originalOperationsBCount:e.length};let p=0;for(;p<s.length;){const f=s[p],k=l.get(f);if(k==e.length){p++;continue}const b=e[k],_=Z1(f,b,o.getContext(f,b,!0)),C=Z1(b,f,o.getContext(b,f,!1));o.updateRelation(f,b),o.setOriginalOperations(_,f),o.setOriginalOperations(C,b);for(const x of _)l.set(x,k+C.length);s.splice(p,1,..._),e.splice(k,1,...C)}if(i.padWithNoOps){const f=s.length-u.originalOperationsACount,k=e.length-u.originalOperationsBCount;X1(s,k-f),X1(e,f-k)}return J1(s,u.nextBaseVersionB),J1(e,u.nextBaseVersionA),{operationsA:s,operationsB:e,originalOperations:a}}class kz{constructor(e,i,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,i=null){const o=i?this.originalOperations.get(i):null;for(const a of e)this.originalOperations.set(a,o||a)}updateRelation(e,i){if(e instanceof Ke)i instanceof St?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Ke&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof dt){if(i instanceof St)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Ke)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const o=G._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&o.containsPosition(e.splitPosition)){const a=o.end.offset-e.splitPosition.offset,l=e.splitPosition.offset-o.start.offset;this._setRelation(e,i,{howMany:a,offset:l})}}}else if(e instanceof St)i instanceof St?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof dt?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof Ke&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof ti){const o=e.newRange;if(!o)return;if(i instanceof Ke){const a=G._createFromPositionAndShift(i.sourcePosition,i.howMany),l=a.containsPosition(o.start)||a.start.isEqual(o.start),u=a.containsPosition(o.end)||a.end.isEqual(o.end);!l&&!u||a.containsRange(o)||this._setRelation(e,i,{side:l?"left":"right",path:l?o.start.path.slice():o.end.path.slice()})}else if(i instanceof St){const a=o.start.isEqual(i.targetPosition),l=o.start.isEqual(i.deletionPosition),u=o.end.isEqual(i.deletionPosition),p=o.end.isEqual(i.sourcePosition);(a||l||u||p)&&this._setRelation(e,i,{wasInLeftElement:a,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:u,wasInRightElement:p})}}}getContext(e,i,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const o=this.originalOperations.get(i),a=this._history.getUndoneOperation(o);if(!a)return null;const l=this.originalOperations.get(e),u=this._relations.get(l);return u&&u.get(a)||null}_setRelation(e,i,o){const a=this.originalOperations.get(e),l=this.originalOperations.get(i);let u=this._relations.get(a);u||(u=new Map,this._relations.set(a,u)),u.set(l,o)}}function J1(s,e){for(const i of s)i.baseVersion=e++}function X1(s,e){for(let i=0;i<e;i++)s.push(new Ut(0))}function eE(s,e,i){const o=s.nodes.getNode(0).getAttribute(e);if(o==i)return null;const a=new G(s.position,s.position.getShiftedBy(s.howMany));return new jt(a,e,o,i,0)}function tE(s,e){return s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function wc(s,e){const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=new Ke(a.start,a.end.offset-a.start.offset,e,0);i.push(l);for(let u=o+1;u<s.length;u++)s[u]=s[u]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];e=e._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return i}qe(jt,jt,(s,e,i)=>{if(s.key===e.key&&s.range.start.hasSameParentAs(e.range.start)){const o=s.range.getDifference(e.range).map(l=>new jt(l,s.key,s.oldValue,s.newValue,0)),a=s.range.getIntersection(e.range);return a&&i.aIsStrong&&o.push(new jt(a,e.key,e.newValue,s.newValue,0)),o.length==0?[new Ut(0)]:o}return[s]}),qe(jt,on,(s,e)=>{if(s.range.start.hasSameParentAs(e.position)&&s.range.containsPosition(e.position)){const i=s.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new jt(o,s.key,s.oldValue,s.newValue,s.baseVersion));if(e.shouldReceiveAttributes){const o=eE(e,s.key,s.oldValue);o&&i.unshift(o)}return i}return s.range=s.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[s]}),qe(jt,St,(s,e)=>{const i=[];s.range.start.hasSameParentAs(e.deletionPosition)&&(s.range.containsPosition(e.deletionPosition)||s.range.start.isEqual(e.deletionPosition))&&i.push(G._createFromPositionAndShift(e.graveyardPosition,1));const o=s.range._getTransformedByMergeOperation(e);return o.isCollapsed||i.push(o),i.map(a=>new jt(a,s.key,s.oldValue,s.newValue,s.baseVersion))}),qe(jt,Ke,(s,e)=>function(o,a){const l=G._createFromPositionAndShift(a.sourcePosition,a.howMany);let u=null,p=[];l.containsRange(o,!0)?u=o:o.start.hasSameParentAs(l.start)?(p=o.getDifference(l),u=o.getIntersection(l)):p=[o];const f=[];for(let k of p){k=k._getTransformedByDeletion(a.sourcePosition,a.howMany);const b=a.getMovedRangeStart(),_=k.start.hasSameParentAs(b),C=k._getTransformedByInsertion(b,a.howMany,_);f.push(...C)}return u&&f.push(u._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),f}(s.range,e).map(o=>new jt(o,s.key,s.oldValue,s.newValue,s.baseVersion))),qe(jt,dt,(s,e)=>{if(s.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.range.end.offset++,[s];if(s.range.start.hasSameParentAs(e.splitPosition)&&s.range.containsPosition(e.splitPosition)){const i=s.clone();return i.range=new G(e.moveTargetPosition.clone(),s.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),s.range.end=e.splitPosition.clone(),s.range.end.stickiness="toPrevious",[s,i]}return s.range=s.range._getTransformedBySplitOperation(e),[s]}),qe(on,jt,(s,e)=>{const i=[s];if(s.shouldReceiveAttributes&&s.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(s.position)){const o=eE(s,e.key,e.newValue);o&&i.push(o)}return i}),qe(on,on,(s,e,i)=>(s.position.isEqual(e.position)&&i.aIsStrong||(s.position=s.position._getTransformedByInsertOperation(e)),[s])),qe(on,Ke,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),qe(on,dt,(s,e)=>(s.position=s.position._getTransformedBySplitOperation(e),[s])),qe(on,St,(s,e)=>(s.position=s.position._getTransformedByMergeOperation(e),[s])),qe(ti,on,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByInsertOperation(e)[0]),s.newRange&&(s.newRange=s.newRange._getTransformedByInsertOperation(e)[0]),[s])),qe(ti,ti,(s,e,i)=>{if(s.name==e.name){if(!i.aIsStrong)return[new Ut(0)];s.oldRange=e.newRange?e.newRange.clone():null}return[s]}),qe(ti,St,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByMergeOperation(e)),s.newRange&&(s.newRange=s.newRange._getTransformedByMergeOperation(e)),[s])),qe(ti,Ke,(s,e,i)=>{if(s.oldRange&&(s.oldRange=G._createFromRanges(s.oldRange._getTransformedByMoveOperation(e))),s.newRange){if(i.abRelation){const o=G._createFromRanges(s.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(s.newRange.start))return s.newRange.end=o.end,s.newRange.start.path=i.abRelation.path,[s];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(s.newRange.end))return s.newRange.start=o.start,s.newRange.end.path=i.abRelation.path,[s]}s.newRange=G._createFromRanges(s.newRange._getTransformedByMoveOperation(e))}return[s]}),qe(ti,dt,(s,e,i)=>{if(s.oldRange&&(s.oldRange=s.oldRange._getTransformedBySplitOperation(e)),s.newRange){if(i.abRelation){const o=s.newRange._getTransformedBySplitOperation(e);return s.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?s.newRange.start=Z._createAt(e.insertionPosition):s.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(s.newRange.start=Z._createAt(e.moveTargetPosition)),s.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?s.newRange.end=Z._createAt(e.moveTargetPosition):s.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?s.newRange.end=Z._createAt(e.insertionPosition):s.newRange.end=o.end,[s]}s.newRange=s.newRange._getTransformedBySplitOperation(e)}return[s]}),qe(St,on,(s,e)=>(s.sourcePosition.hasSameParentAs(e.position)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByInsertOperation(e),s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e),[s])),qe(St,St,(s,e,i)=>{if(s.sourcePosition.isEqual(e.sourcePosition)&&s.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),s.sourcePosition=new Z(e.graveyardPosition.root,o),s.howMany=0,[s]}return[new Ut(0)]}if(s.sourcePosition.isEqual(e.sourcePosition)&&!s.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const o=s.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!o||!(o&&!a)&&i.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),u=s.targetPosition._getTransformedByMergeOperation(e);return[new Ke(l,s.howMany,u,0)]}return[new Ut(0)]}return s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMergeOperation(e),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),s.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),qe(St,Ke,(s,e,i)=>{const o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&s.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(s.sourcePosition)?[new Ut(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(s.sourcePosition)?s.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(s.sourcePosition)&&i.abRelation=="mergeSourceAffected"?s.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(s.targetPosition)?(s.targetPosition.stickiness="toNone",s.howMany-=e.howMany):e.targetPosition.isEqual(s.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(s.targetPosition.stickiness="toPrevious",s.howMany+=e.howMany):(s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition.hasSameParentAs(e.sourcePosition)&&(s.howMany-=e.howMany)),s.sourcePosition=s.sourcePosition._getTransformedByMoveOperation(e),s.targetPosition=s.targetPosition._getTransformedByMoveOperation(e),s.sourcePosition.stickiness="toPrevious",s.targetPosition.stickiness="toNext",s.graveyardPosition.isEqual(e.targetPosition)||(s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)),[s])}),qe(St,dt,(s,e,i)=>{if(e.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),s.deletionPosition.isEqual(e.graveyardPosition)&&(s.howMany=e.howMany)),s.targetPosition.isEqual(e.splitPosition)){const o=e.howMany!=0,a=e.graveyardPosition&&s.deletionPosition.isEqual(e.graveyardPosition);if(o||a||i.abRelation=="mergeTargetNotMoved")return s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),[s]}if(s.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return s.howMany=0,s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s];if(i.abRelation=="mergeSameElement"||s.sourcePosition.offset>0)return s.sourcePosition=e.moveTargetPosition.clone(),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}return s.sourcePosition.hasSameParentAs(e.splitPosition)&&(s.howMany=e.splitPosition.offset),s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}),qe(Ke,on,(s,e)=>{const i=G._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByInsertOperation(e,!1)[0];return s.sourcePosition=i.start,s.howMany=i.end.offset-i.start.offset,s.targetPosition.isEqual(e.position)||(s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e)),[s]}),qe(Ke,Ke,(s,e,i)=>{const o=G._createFromPositionAndShift(s.sourcePosition,s.howMany),a=G._createFromPositionAndShift(e.sourcePosition,e.howMany);let l,u=i.aIsStrong,p=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?p=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(p=!1),l=s.targetPosition.isEqual(e.targetPosition)&&p?s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):s.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),tE(s,e)&&tE(e,s))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(a,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),wc([o],l);if(a.containsPosition(s.targetPosition)&&a.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),wc([o],l);const f=pn(s.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),wc([o],l);s.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?s.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(u=!1):u=!0;const k=[],b=o.getDifference(a);for(const C of b){C.start=C.start._getTransformedByDeletion(e.sourcePosition,e.howMany),C.end=C.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const x=pn(C.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",I=C._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,x);k.push(...I)}const _=o.getIntersection(a);return _!==null&&u&&(_.start=_.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),_.end=_.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),k.length===0?k.push(_):k.length==1?a.start.isBefore(o.start)||a.start.isEqual(o.start)?k.unshift(_):k.push(_):k.splice(1,0,_)),k.length===0?[new Ut(s.baseVersion)]:wc(k,l)}),qe(Ke,dt,(s,e,i)=>{let o=s.targetPosition.clone();s.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(o=s.targetPosition._getTransformedBySplitOperation(e));const a=G._createFromPositionAndShift(s.sourcePosition,s.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.howMany++,s.targetPosition=o,[s];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let u=new G(e.splitPosition,a.end);return u=u._getTransformedBySplitOperation(e),wc([new G(a.start,e.splitPosition),u],o)}s.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(o=e.moveTargetPosition),s.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(o=s.targetPosition);const l=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const u=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);s.howMany>1&&u&&!i.aWasUndone&&l.push(G._createFromPositionAndShift(e.insertionPosition,1))}return wc(l,o)}),qe(Ke,St,(s,e,i)=>{const o=G._createFromPositionAndShift(s.sourcePosition,s.howMany);if(e.deletionPosition.hasSameParentAs(s.sourcePosition)&&o.containsPosition(e.sourcePosition)){if(s.type!="remove"||i.forceWeakRemove){if(s.howMany==1)return i.bWasUndone?(s.sourcePosition=e.graveyardPosition.clone(),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]):[new Ut(0)]}else if(!i.aWasUndone){const l=[];let u=e.graveyardPosition.clone(),p=e.targetPosition._getTransformedByMergeOperation(e);s.howMany>1&&(l.push(new Ke(s.sourcePosition,s.howMany-1,s.targetPosition,0)),u=u._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1),p=p._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1));const f=e.deletionPosition._getCombined(s.sourcePosition,s.targetPosition),k=new Ke(u,1,f,0),b=k.getMovedRangeStart().path.slice();b.push(0);const _=new Z(k.targetPosition.root,b);p=p._getTransformedByMove(u,f,1);const C=new Ke(p,e.howMany,_,0);return l.push(k),l.push(C),l}}const a=G._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByMergeOperation(e);return s.sourcePosition=a.start,s.howMany=a.end.offset-a.start.offset,s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]}),qe(ni,on,(s,e)=>(s.position=s.position._getTransformedByInsertOperation(e),[s])),qe(ni,St,(s,e)=>s.position.isEqual(e.deletionPosition)?(s.position=e.graveyardPosition.clone(),s.position.stickiness="toNext",[s]):(s.position=s.position._getTransformedByMergeOperation(e),[s])),qe(ni,Ke,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),qe(ni,ni,(s,e,i)=>{if(s.position.isEqual(e.position)){if(!i.aIsStrong)return[new Ut(0)];s.oldName=e.newName}return[s]}),qe(ni,dt,(s,e)=>{if(pn(s.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new ni(s.position.getShiftedBy(1),s.oldName,s.newName,0);return[s,i]}return s.position=s.position._getTransformedBySplitOperation(e),[s]}),qe(so,so,(s,e,i)=>{if(s.root===e.root&&s.key===e.key){if(!i.aIsStrong||s.newValue===e.newValue)return[new Ut(0)];s.oldValue=e.newValue}return[s]}),qe(Ir,Ir,(s,e)=>s.rootName===e.rootName&&s.isAdd===e.isAdd?[new Ut(0)]:[s]),qe(dt,on,(s,e)=>(s.splitPosition.hasSameParentAs(e.position)&&s.splitPosition.offset<e.position.offset&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByInsertOperation(e),s.insertionPosition=s.insertionPosition._getTransformedByInsertOperation(e),[s])),qe(dt,St,(s,e,i)=>{if(!s.graveyardPosition&&!i.bWasUndone&&s.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const a=new Z(e.graveyardPosition.root,o),l=dt.getInsertionPosition(new Z(e.graveyardPosition.root,o)),u=new dt(a,0,l,null,0);return s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=dt.getInsertionPosition(s.splitPosition),s.graveyardPosition=u.insertionPosition.clone(),s.graveyardPosition.stickiness="toNext",[u,s]}return s.splitPosition.hasSameParentAs(e.deletionPosition)&&!s.splitPosition.isAfter(e.deletionPosition)&&s.howMany--,s.splitPosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=dt.getInsertionPosition(s.splitPosition),s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),qe(dt,Ke,(s,e,i)=>{const o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);if(s.graveyardPosition){const l=o.start.isEqual(s.graveyardPosition)||o.containsPosition(s.graveyardPosition);if(!i.bWasUndone&&l){const u=s.splitPosition._getTransformedByMoveOperation(e),p=s.graveyardPosition._getTransformedByMoveOperation(e),f=p.path.slice();f.push(0);const k=new Z(p.root,f);return[new Ke(u,s.howMany,k,0)]}s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)}const a=s.splitPosition.isEqual(e.targetPosition);if(a&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return s.howMany+=e.howMany,s.splitPosition=s.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),s.insertionPosition=dt.getInsertionPosition(s.splitPosition),[s];if(a&&i.abRelation&&i.abRelation.howMany){const{howMany:l,offset:u}=i.abRelation;return s.howMany+=l,s.splitPosition=s.splitPosition.getShiftedBy(u),[s]}if(s.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(s.splitPosition)){const l=e.howMany-(s.splitPosition.offset-e.sourcePosition.offset);return s.howMany-=l,s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany),s.splitPosition=e.sourcePosition.clone(),s.insertionPosition=dt.getInsertionPosition(s.splitPosition),[s]}return e.sourcePosition.isEqual(e.targetPosition)||(s.splitPosition.hasSameParentAs(e.sourcePosition)&&s.splitPosition.offset<=e.sourcePosition.offset&&(s.howMany-=e.howMany),s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany)),s.splitPosition.stickiness="toNone",s.splitPosition=s.splitPosition._getTransformedByMoveOperation(e),s.splitPosition.stickiness="toNext",s.graveyardPosition?s.insertionPosition=s.insertionPosition._getTransformedByMoveOperation(e):s.insertionPosition=dt.getInsertionPosition(s.splitPosition),[s]}),qe(dt,dt,(s,e,i)=>{if(s.splitPosition.isEqual(e.splitPosition)){if(!s.graveyardPosition&&!e.graveyardPosition)return[new Ut(0)];if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition))return[new Ut(0)];if(i.abRelation=="splitBefore")return s.howMany=0,s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e),[s]}if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition)){const o=s.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!o||!(o&&!a)&&i.aIsStrong){const l=[];return e.howMany&&l.push(new Ke(e.moveTargetPosition,e.howMany,e.splitPosition,0)),s.howMany&&l.push(new Ke(s.splitPosition,s.howMany,s.moveTargetPosition,0)),l}return[new Ut(0)]}if(s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e)),s.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return s.howMany++,[s];if(e.splitPosition.isEqual(s.insertionPosition)&&i.baRelation=="splitBefore"){const o=e.insertionPosition.path.slice();o.push(0);const a=new Z(e.insertionPosition.root,o);return[s,new Ke(s.insertionPosition,1,a,0)]}return s.splitPosition.hasSameParentAs(e.splitPosition)&&s.splitPosition.offset<e.splitPosition.offset&&(s.howMany-=e.howMany),s.splitPosition=s.splitPosition._getTransformedBySplitOperation(e),s.insertionPosition=dt.getInsertionPosition(s.splitPosition),[s]});class kn extends fe(Z){constructor(e,i,o="toNone"){if(super(e,i,o),!this.root.is("rootElement"))throw new V("model-liveposition-root-not-rootelement",e);bz.call(this)}detach(){this.stopListening()}toPosition(){return new Z(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function bz(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const i=e[0];i.isDocumentOperation&&wz.call(this,i)},{priority:"low"})}function wz(s){const e=this.getTransformedByOperation(s);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}kn.prototype.is=function(s){return s==="livePosition"||s==="model:livePosition"||s=="position"||s==="model:position"};class _c{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},ie("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:o=!0,isUndo:a=!1,isTyping:l=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=o,this.isUndo=a,this.isTyping=l}get type(){return ie("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var _z=Object.defineProperty,Az=Object.defineProperties,vz=Object.getOwnPropertyDescriptors,nE=Object.getOwnPropertySymbols,Cz=Object.prototype.hasOwnProperty,yz=Object.prototype.propertyIsEnumerable,iE=(s,e,i)=>e in s?_z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,rE=(s,e)=>{for(var i in e||(e={}))Cz.call(e,i)&&iE(s,i,e[i]);if(nE)for(var i of nE(e))yz.call(e,i)&&iE(s,i,e[i]);return s};class Ez{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),a=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),a||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=G._createFromPositionAndShift(i.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const l=a.getData();this.bufferMarkerChange(a.name,l,l)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1);const a=i.graveyardPosition.parent;this._markInsert(a,i.graveyardPosition.offset,1);const l=i.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,i.targetPosition.offset,o.maxOffset);break}case"detachRoot":case"addRoot":{const o=i.affectedSelectable;if(!o._isLoaded||o.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const o=i.root.rootName;this._bufferRootAttributeChange(o,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,o){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=o:(a={newMarkerData:o,oldMarkerData:i},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&o.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,o]of this._changedMarkers)o.oldMarkerData.range!=null&&e.push({name:i,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,o]of this._changedMarkers)o.newMarkerData.range!=null&&e.push({name:i,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const o=e.range&&!i.range,a=!e.range&&i.range,l=e.range&&i.range&&!e.range.isEqual(i.range);if(o||a||l)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const o of this._changesInElement.keys()){const a=this._changesInElement.get(o).sort((b,_)=>b.offset===_.offset?b.type!=_.type?b.type=="remove"?-1:1:0:b.offset<_.offset?-1:1),l=this._elementSnapshots.get(o),u=oE(o.getChildren()),p=xz(l.length,a);let f=0,k=0;for(const b of p)if(b==="i")i.push(this._getInsertDiff(o,f,u[f])),f++;else if(b==="r")i.push(this._getRemoveDiff(o,f,l[k])),k++;else if(b==="a"){const _=u[f].attributes,C=l[k].attributes;let x;if(u[f].name=="$text")x=new G(Z._createAt(o,f),Z._createAt(o,f+1));else{const I=o.offsetToIndex(f);x=new G(Z._createAt(o,f),Z._createAt(o.getChild(I),0))}i.push(...this._getAttributesDiff(x,C,_)),f++,k++}else f++,k++}i.sort((o,a)=>o.position.root!=a.position.root?o.position.root.rootName<a.position.root.rootName?-1:1:o.position.isEqual(a.position)?o.changeCount-a.changeCount:o.position.isBefore(a.position)?-1:1);for(let o=1,a=0;o<i.length;o++){const l=i[a],u=i[o],p=l.type=="remove"&&u.type=="remove"&&l.name=="$text"&&u.name=="$text"&&l.position.isEqual(u.position),f=l.type=="insert"&&u.type=="insert"&&l.name=="$text"&&u.name=="$text"&&l.position.parent==u.position.parent&&l.position.offset+l.length==u.position.offset,k=l.type=="attribute"&&u.type=="attribute"&&l.position.parent==u.position.parent&&l.range.isFlat&&u.range.isFlat&&l.position.offset+l.length==u.position.offset&&l.attributeKey==u.attributeKey&&l.attributeOldValue==u.attributeOldValue&&l.attributeNewValue==u.attributeNewValue;p||f||k?(l.length++,k&&(l.range.end=l.range.end.getShiftedBy(1)),i[o]=null):a=o}i=i.filter(o=>o);for(const o of i)delete o.changeCount,o.type=="attribute"&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(Iz),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=rE({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const o=this._changedRoots.get(e);o.state!==void 0?(delete o.state,o.attributes===void 0&&this._changedRoots.delete(e)):o.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,o,a){const l=this._changedRoots.get(e)||{name:e},u=l.attributes||{};if(u[i]){const p=u[i];a===p.oldValue?delete u[i]:p.newValue=a}else u[i]={oldValue:o,newValue:a};Object.entries(u).length===0?(delete l.attributes,l.state===void 0&&this._changedRoots.delete(e)):(l.attributes=u,this._changedRoots.set(e,l))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=G._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const a=o.getData();this.bufferMarkerChange(o.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const o of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,o,null,e.getAttribute(o));for(const o of this._markerCollection)if(o.getRange().root==e){const a=o.getData();this.bufferMarkerChange(o.name,(i=rE({},a),Az(i,vz({range:null}))),a)}var i}}_markInsert(e,i,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,i,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,i,o)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(i,o),o.push(i);for(let a=0;a<o.length;a++)o[a].howMany<1&&(o.splice(a,1),a--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,oE(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const o of i){const a=e.offset+e.howMany,l=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<l&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<l){const u=o.howMany;o.howMany=e.offset-o.offset,i.unshift({type:"attribute",offset:a,howMany:u-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(a<=o.offset)o.offset-=e.howMany;else if(a<=l)if(e.offset<o.offset){const u=a-o.offset;o.offset=e.offset,o.howMany-=u,e.nodesToHandle-=u}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<l){const u=l-e.offset;o.howMany-=u,e.nodesToHandle-=u}}if(o.type=="remove"&&(a<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(a<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const u=a-o.offset;o.offset=e.offset,o.howMany-=u}else if(e.offset<l)if(a<=l){const u=o.howMany;o.howMany=e.offset-o.offset;const p=u-o.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:p,count:this._changeCount++})}else o.howMany-=l-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&a>o.offset){if(a>l){const u={type:"attribute",offset:l,howMany:a-l,count:this._changeCount++};this._handleChange(u,i),i.push(u)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<l&&(a>l?(e.nodesToHandle=a-l,e.offset=l):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&a>o.offset){const u={type:"attribute",offset:o.offset,howMany:a-o.offset,count:this._changeCount++};this._handleChange(u,i),i.push(u),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&a<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&a>=l&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,o){return{type:"insert",position:Z._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++,_element:o.element}}_getRemoveDiff(e,i,o){return{type:"remove",position:Z._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++,_element:o.element}}_getAttributesDiff(e,i,o){const a=[];o=new Map(o);for(const[l,u]of i){const p=o.has(l)?o.get(l):null;p!==u&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:u,attributeNewValue:p,changeCount:this._changeCount++}),o.delete(l)}for(const[l,u]of o)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:u,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const o=this._changesInElement.get(i),a=e.startOffset;if(o){for(const l of o)if(l.type=="insert"&&a>=l.offset&&a<l.offset+l.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,o){const a=new G(Z._createAt(e,i),Z._createAt(e,i+o));for(const l of a.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function oE(s){const e=[];for(const i of s)if(i.is("$text"))for(let o=0;o<i.data.length;o++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function xz(s,e){const i=[];let o=0,a=0;for(const l of e){if(l.offset>o){for(let u=0;u<l.offset-o;u++)i.push("e");a+=l.offset-o}if(l.type=="insert"){for(let u=0;u<l.howMany;u++)i.push("i");o=l.offset+l.howMany}else if(l.type=="remove"){for(let u=0;u<l.howMany;u++)i.push("r");o=l.offset,a+=l.howMany}else i.push(..."a".repeat(l.howMany).split("")),o=l.offset+l.howMany,a+=l.howMany}if(a<s)for(let l=0;l<s-a-o;l++)i.push("e");return i}function Iz(s){const e="position"in s&&s.position.root.rootName=="$graveyard",i="range"in s&&s.range.root.rootName=="$graveyard";return!e&&!i}class Tz{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new V("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const o=this._operations[0];e===void 0&&(e=o.baseVersion);let a=i-1;for(const[p,f]of this._gaps)e>p&&e<f&&(e=f),a>p&&a<f&&(a=p-1);if(a<o.baseVersion||e>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(e);l===void 0&&(l=0);let u=this._baseVersionToOperationIndex.get(a);return u===void 0&&(u=this._operations.length-1),this._operations.slice(l,u+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class sg extends it{constructor(e,i,o="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=o}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}sg.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"):s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"||s==="node"||s==="model:node"};var Dz=Object.defineProperty,Sz=Object.defineProperties,Mz=Object.getOwnPropertyDescriptors,sE=Object.getOwnPropertySymbols,Pz=Object.prototype.hasOwnProperty,Nz=Object.prototype.propertyIsEnumerable,aE=(s,e,i)=>e in s?Dz(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,cE=(s,e)=>{for(var i in e||(e={}))Pz.call(e,i)&&aE(s,i,e[i]);if(sE)for(var i of sE(e))Nz.call(e,i)&&aE(s,i,e[i]);return s},lE=(s,e)=>Sz(s,Mz(e));const dE="$graveyard";class Rz extends fe(){constructor(e){super(),this.model=e,this.history=new Tz,this.selection=new rr(this),this.roots=new Xi({idProperty:"rootName"}),this.differ=new Ez(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",dE),this.listenTo(e,"applyOperation",(i,o)=>{const a=o[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,o)=>{const a=o[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,o,a,l,u)=>{const p=lE(cE({},o.getData()),{range:l});this.differ.bufferMarkerChange(o.name,u,p),a===null&&o.on("change",(f,k)=>{const b=o.getData();this.differ.bufferMarkerChange(o.name,lE(cE({},b),{range:k}),b)})}),this.registerPostFixer(i=>{let o=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(i.remove(i.createRangeIn(a)),o=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(i.removeMarker(a),o=!0);return o})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(dE)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new V("model-document-createroot-name-exists",this,{name:i});const o=new sg(this,e,i);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Sy(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,o=i.schema,a=i.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(a)||i.createRange(a)}_validateSelectionRange(e){return uE(e.start)&&uE(e.end)}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(this.selection.refresh(),i=o(e),i)break;while(i)}}function uE(s){const e=s.textNode;if(e){const i=e.data,o=s.offset-e.startOffset;return!Nb(i,o)&&!Rb(i,o)}return!0}var Bz=Object.defineProperty,Oz=Object.defineProperties,Lz=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,jz=Object.prototype.hasOwnProperty,zz=Object.prototype.propertyIsEnumerable,pE=(s,e,i)=>e in s?Bz(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class Vz extends fe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof Ac?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,o=!1,a=!1){const l=e instanceof Ac?e.name:e;if(l.includes(","))throw new V("markercollection-incorrect-marker-name",this);const u=this._markers.get(l);if(u){const b=u.getData(),_=u.getRange();let C=!1;return _.isEqual(i)||(u._attachLiveRange(Ai.fromRange(i)),C=!0),o!=u.managedUsingOperations&&(u._managedUsingOperations=o,C=!0),typeof a=="boolean"&&a!=u.affectsData&&(u._affectsData=a,C=!0),C&&this.fire(`update:${l}`,u,_,i,b),u}const p=Ai.fromRange(i),f=new Ac(l,p,o,a);var k;return this._markers.set(l,f),this.fire(`update:${l}`,f,null,i,(k=((b,_)=>{for(var C in _||(_={}))jz.call(_,C)&&pE(b,C,_[C]);if(hE)for(var C of hE(_))zz.call(_,C)&&pE(b,C,_[C]);return b})({},f.getData()),Oz(k,Lz({range:null})))),f}_remove(e){const i=e instanceof Ac?e.name:e,o=this._markers.get(i);return!!o&&(this._markers.delete(i),this.fire(`update:${i}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const i=e instanceof Ac?e.name:e,o=this._markers.get(i);if(!o)throw new V("markercollection-refresh-marker-not-exists",this);const a=o.getRange();this.fire(`update:${i}`,o,a,a,o.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ac extends fe(Ko){constructor(e,i,o,a){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=o,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ac.prototype.is=function(s){return s==="marker"||s==="model:marker"};class Fz extends vi{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new V("detach-operation-on-document-node",this)}_execute(){G1(G._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ao extends Ko{constructor(e){super(),this.markers=new Map,this._children=new Sd,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const o of e)o.name?i.push(it.fromJSON(o)):i.push(lt.fromJSON(o));return new ao(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(a){return typeof a=="string"?[new lt(a)]:(zn(a)||(a=[a]),Array.from(a).map(l=>typeof l=="string"?new lt(l):l instanceof ir?new lt(l.data,l.getAttributes()):l))}(i);for(const a of o)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const a of o)a.parent=null;return o}}ao.prototype.is=function(s){return s==="documentFragment"||s==="model:documentFragment"};class Uz{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new lt(e,i)}createElement(e,i){return new it(e,i)}createDocumentFragment(){return new ao}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,o=0){if(this._assertWriterUsedCorrectly(),e instanceof lt&&e.data=="")return;const a=Z._createAt(i,o);if(e.parent){if(mE(e.root,a.root))return void this.move(G._createOn(e),a);if(e.root.document)throw new V("model-writer-insert-forbidden-move",this);this.remove(e)}const l=a.root.document?a.root.document.version:null,u=new on(a,e,l);if(e instanceof lt&&(u.shouldReceiveAttributes=!0),this.batch.addOperation(u),this.model.applyOperation(u),e instanceof ao)for(const[p,f]of e.markers){const k=Z._createAt(f.root,0),b={range:new G(f.start._getCombined(k,a),f.end._getCombined(k,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(p)?this.updateMarker(p,b):this.addMarker(p,b)}}insertText(e,i,o,a){i instanceof ao||i instanceof it||i instanceof Z?this.insert(this.createText(e),i,o):this.insert(this.createText(e,i),o,a)}insertElement(e,i,o,a){i instanceof ao||i instanceof it||i instanceof Z?this.insert(this.createElement(e),i,o):this.insert(this.createElement(e,i),o,a)}append(e,i){this.insert(e,i,"end")}appendText(e,i,o){i instanceof ao||i instanceof it?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),o,"end")}appendElement(e,i,o){i instanceof ao||i instanceof it?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),o,"end")}setAttribute(e,i,o){if(this._assertWriterUsedCorrectly(),o instanceof G){const a=o.getMinimalFlatRanges();for(const l of a)gE(this,e,i,l)}else fE(this,e,i,o)}setAttributes(e,i){for(const[o,a]of yr(e))this.setAttribute(o,a,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof G){const o=i.getMinimalFlatRanges();for(const a of o)gE(this,e,null,a)}else fE(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=o=>{for(const a of o.getAttributeKeys())this.removeAttribute(a,o)};if(e instanceof G)for(const o of e.getItems())i(o);else i(e)}move(e,i,o){if(this._assertWriterUsedCorrectly(),!(e instanceof G))throw new V("writer-move-invalid-range",this);if(!e.isFlat)throw new V("writer-move-range-not-flat",this);const a=Z._createAt(i,o);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!mE(e.root,a.root))throw new V("writer-move-different-document",this);const l=e.root.document?e.root.document.version:null,u=new Ke(e.start,e.end.offset-e.start.offset,a,l);this.batch.addOperation(u),this.model.applyOperation(u)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof G?e:G._createOn(e)).getMinimalFlatRanges().reverse();for(const o of i)this._addOperationForAffectedMarkers("move",o),Hz(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof it))throw new V("writer-merge-no-element-before",this);if(!(o instanceof it))throw new V("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,o){return this.model.createPositionFromPath(e,i,o)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,o=e.nodeAfter;this.move(G._createIn(o),Z._createAt(i,"end")),this.remove(o)}_merge(e){const i=Z._createAt(e.nodeBefore,"end"),o=Z._createAt(e.nodeAfter,0),a=e.root.document.graveyard,l=new Z(a,[0]),u=e.root.document.version,p=new St(o,e.nodeAfter.maxOffset,i,l,u);this.batch.addOperation(p),this.model.applyOperation(p)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof it))throw new V("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,a=new ni(Z._createBefore(e),e.name,i,o);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,i){this._assertWriterUsedCorrectly();let o,a,l=e.parent;if(!l.parent)throw new V("writer-split-element-no-parent",this);if(i||(i=l.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new V("writer-split-invalid-limit-element",this);do{const u=l.root.document?l.root.document.version:null,p=l.maxOffset-e.offset,f=dt.getInsertionPosition(e),k=new dt(e,p,f,null,u);this.batch.addOperation(k),this.model.applyOperation(k),o||a||(o=l,a=e.parent.nextSibling),l=(e=this.createPositionAfter(e.parent)).parent}while(l!==i);return{position:e,range:new G(Z._createAt(o,"end"),Z._createAt(a,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new V("writer-wrap-range-not-flat",this);const o=i instanceof it?i:new it(i);if(o.childCount>0)throw new V("writer-wrap-element-not-empty",this);if(o.parent!==null)throw new V("writer-wrap-element-attached",this);this.insert(o,e.start);const a=new G(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,Z._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new V("writer-unwrap-element-no-parent",this);this.move(G._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new V("writer-addmarker-no-usingoperation",this);const o=i.usingOperation,a=i.range,l=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new V("writer-addmarker-marker-exists",this);if(!a)throw new V("writer-addmarker-no-range",this);return o?(jd(this,e,null,a,l),this.model.markers.get(e)):this.model.markers._set(e,a,o,l)}updateMarker(e,i){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name,a=this.model.markers.get(o);if(!a)throw new V("writer-updatemarker-marker-not-exists",this);if(!i)return ie("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(a);const l=typeof i.usingOperation=="boolean",u=typeof i.affectsData=="boolean",p=u?i.affectsData:a.affectsData;if(!l&&!i.range&&!u)throw new V("writer-updatemarker-wrong-options",this);const f=a.getRange(),k=i.range?i.range:f;l&&i.usingOperation!==a.managedUsingOperations?i.usingOperation?jd(this,o,null,k,p):(jd(this,o,f,null,p),this.model.markers._set(o,k,void 0,p)):a.managedUsingOperations?jd(this,o,f,k,p):this.model.markers._set(o,k,void 0,p)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new V("writer-removemarker-no-marker",this);const o=this.model.markers.get(i);if(!o.managedUsingOperations)return void this.model.markers._remove(i);jd(this,i,o.getRange(),null,o.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const o=this.model.document.getRoot(e);if(o&&o.isAttached())throw new V("writer-addroot-root-exists",this);const a=this.model.document,l=new Ir(e,i,!0,a,a.version);return this.batch.addOperation(l),this.model.applyOperation(l),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new V("writer-detachroot-no-root",this);for(const l of this.model.markers)l.getRange().root===i&&this.removeMarker(l);for(const l of i.getAttributeKeys())this.removeAttribute(l,i);this.remove(this.createRangeIn(i));const o=this.model.document,a=new Ir(i.rootName,i.name,!1,o,o.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[o,a]of yr(e))this._setSelectionAttribute(o,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=rr._getStoreAttributeKey(e);this.setAttribute(a,i,o.anchor.parent)}o._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=rr._getStoreAttributeKey(e);this.removeAttribute(o,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new V("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const a=o.getRange();let l=!1;if(e==="move"){const u=i;l=u.containsPosition(a.start)||u.start.isEqual(a.start)||u.containsPosition(a.end)||u.end.isEqual(a.end)}else{const u=i,p=u.nodeBefore,f=u.nodeAfter,k=a.start.parent==p&&a.start.isAtEnd,b=a.end.parent==f&&a.end.offset==0,_=a.end.nodeAfter==f,C=a.start.nodeAfter==f;l=k||b||_||C}l&&this.updateMarker(o.name,{range:a})}}}function gE(s,e,i,o){const a=s.model,l=a.document;let u,p,f,k=o.start;for(const _ of o.getWalker({shallow:!0}))f=_.item.getAttribute(e),u&&p!=f&&(p!=i&&b(),k=u),u=_.nextPosition,p=f;function b(){const _=new G(k,u),C=_.root.document?l.version:null,x=new jt(_,e,p,i,C);s.batch.addOperation(x),a.applyOperation(x)}u instanceof Z&&u!=k&&p!=i&&b()}function fE(s,e,i,o){const a=s.model,l=a.document,u=o.getAttribute(e);let p,f;if(u!=i){if(o.root===o){const k=o.document?l.version:null;f=new so(o,e,u,i,k)}else{p=new G(Z._createBefore(o),s.createPositionAfter(o));const k=p.root.document?l.version:null;f=new jt(p,e,u,i,k)}s.batch.addOperation(f),a.applyOperation(f)}}function jd(s,e,i,o,a){const l=s.model,u=l.document,p=new ti(e,i,o,l.markers,!!a,u.version);s.batch.addOperation(p),l.applyOperation(p)}function Hz(s,e,i,o){let a;if(s.root.document){const l=o.document,u=new Z(l.graveyard,[0]);a=new Ke(s,e,u,l.version)}else a=new Fz(s,e);i.addOperation(a),o.applyOperation(a)}function mE(s,e){return s===e||s instanceof sg&&e instanceof sg}function $z(s,e,i={}){if(e.isCollapsed)return;const o=e.getFirstRange();if(o.root.rootName=="$graveyard")return;const a=s.schema;s.change(l=>{if(!i.doNotResetEntireContent&&function(k,b){const _=k.getLimitElement(b);if(!b.containsEntireContent(_))return!1;const C=b.getFirstRange();return C.start.parent==C.end.parent?!1:k.checkChild(_,"paragraph")}(a,e))return void function(k,b){const _=k.model.schema.getLimitElement(b);k.remove(k.createRangeIn(_)),wE(k,k.createPositionAt(_,0),b)}(l,e);const u={};if(!i.doNotAutoparagraph){const k=e.getSelectedElement();k&&Object.assign(u,a.getAttributesWithProperty(k,"copyOnReplace",!0))}const[p,f]=function(k){const b=k.root.document.model,_=k.start;let C=k.end;if(b.hasContent(k,{ignoreMarkers:!0})){const x=function(I){const D=I.parent,N=D.root.document.model.schema,L=D.getAncestors({parentFirst:!0,includeSelf:!0});for(const U of L){if(N.isLimit(U))return null;if(N.isBlock(U))return U}}(C);if(x&&C.isTouching(b.createPositionAt(x,0))){const I=b.createSelection(k);b.modifySelection(I,{direction:"backward"});const D=I.getLastPosition(),N=b.createRange(D,C);b.hasContent(N,{ignoreMarkers:!0})||(C=D)}}return[kn.fromPosition(_,"toPrevious"),kn.fromPosition(C,"toNext")]}(o);p.isTouching(f)||l.remove(l.createRange(p,f)),i.leaveUnmerged||(function(k,b,_){const C=k.model;if(!uw(k.model.schema,b,_))return;const[x,I]=function(D,N){const L=D.getAncestors(),U=N.getAncestors();let W=0;for(;L[W]&&L[W]==U[W];)W++;return[L[W],U[W]]}(b,_);!x||!I||(!C.hasContent(x,{ignoreMarkers:!0})&&C.hasContent(I,{ignoreMarkers:!0})?bE(k,b,_,x.parent):kE(k,b,_,x.parent))}(l,p,f),a.removeDisallowedAttributes(p.parent.getChildren(),l)),_E(l,e,p),!i.doNotAutoparagraph&&function(k,b){const _=k.checkChild(b,"$text"),C=k.checkChild(b,"paragraph");return!_&&C}(a,p)&&wE(l,p,e,u),p.detach(),f.detach()})}function kE(s,e,i,o){const a=e.parent,l=i.parent;if(a!=o&&l!=o){for(e=s.createPositionAfter(a),(i=s.createPositionBefore(l)).isEqual(e)||s.insert(l,e),s.merge(e);i.parent.isEmpty;){const u=i.parent;i=s.createPositionBefore(u),s.remove(u)}uw(s.model.schema,e,i)&&kE(s,e,i,o)}}function bE(s,e,i,o){const a=e.parent,l=i.parent;if(a!=o&&l!=o){for(e=s.createPositionAfter(a),(i=s.createPositionBefore(l)).isEqual(e)||s.insert(a,i);e.parent.isEmpty;){const u=e.parent;e=s.createPositionBefore(u),s.remove(u)}i=s.createPositionBefore(l),function(u,p){const f=p.nodeBefore,k=p.nodeAfter;f.name!=k.name&&u.rename(f,k.name),u.clearAttributes(f),u.setAttributes(Object.fromEntries(k.getAttributes()),f),u.merge(p)}(s,i),uw(s.model.schema,e,i)&&bE(s,e,i,o)}}function uw(s,e,i){const o=e.parent,a=i.parent;return o!=a&&!s.isLimit(o)&&!s.isLimit(a)&&function(l,u,p){const f=new G(l,u);for(const k of f.getWalker())if(p.isLimit(k.item))return!1;return!0}(e,i,s)}function wE(s,e,i,o={}){const a=s.createElement("paragraph");s.model.schema.setAllowedAttributes(a,o,s),s.insert(a,e),_E(s,i,s.createPositionAt(a,0))}function _E(s,e,i){e instanceof rr?s.setSelection(i):e.setTo(i)}function AE(s,e){const i=[];Array.from(s.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(s.start)||o.start.isEqual(s.start))&&(o.end.isBefore(s.end)||o.end.isEqual(s.end))).forEach(o=>{i.push(o.start.parent),e.remove(o)}),i.forEach(o=>{let a=o;for(;a.parent&&a.isEmpty;){const l=e.createRangeOn(a);a=a.parent,e.remove(l)}})}class Wz{constructor(e,i,o){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new V("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?G._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new G(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=kn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new V("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=kn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=kn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof it)||!this._canMergeLeft(e))return;const i=kn._createBefore(e);i.stickiness="toNext";const o=kn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=kn._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=kn._createAt(i.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof it)||!this._canMergeRight(e))return;const i=kn._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new V("insertcontent-invalid-insertion-position",this);this.position=Z._createAt(i.nodeBefore,"end");const o=kn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=kn._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=kn._createAt(i.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof it&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof it&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===i&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function qz(s,e,i,o={}){if(!s.schema.isObject(e))throw new V("insertobject-element-not-an-object",s,{object:e});const a=i||s.document.selection;let l=a;o.findOptimalPosition&&s.schema.isBlock(e)&&(l=s.createSelection(s.schema.findOptimalInsertionRange(a,o.findOptimalPosition)));const u=rn(a.getSelectedBlocks()),p={};return u&&Object.assign(p,s.schema.getAttributesWithProperty(u,"copyOnReplace",!0)),s.change(f=>{l.isCollapsed||s.deleteContent(l,{doNotAutoparagraph:!0});let k=e;const b=l.anchor.parent;!s.schema.checkChild(b,e)&&s.schema.checkChild(b,"paragraph")&&s.schema.checkChild("paragraph",e)&&(k=f.createElement("paragraph"),f.insert(e,k)),s.schema.setAllowedAttributes(k,p,f);const _=s.insertContent(k,l);return _.isCollapsed||o.setSelection&&function(C,x,I,D){const N=C.model;if(I=="on")return void C.setSelection(x,"on");if(I!="after")throw new V("insertobject-invalid-place-parameter-value",N);let L=x.nextSibling;if(N.schema.isInline(x))return void C.setSelection(x,"after");!(L&&N.schema.checkChild(L,"$text"))&&N.schema.checkChild(x.parent,"paragraph")&&(L=C.createElement("paragraph"),N.schema.setAllowedAttributes(L,D,C),N.insertContent(L,C.createPositionAfter(x))),L&&C.setSelection(L,0)}(f,e,o.setSelection,p),_})}const Gz=' ,.?!:;"-()';function Kz(s,e){const{isForward:i,walker:o,unit:a,schema:l,treatEmojiAsSingleUnit:u}=s,{type:p,item:f,nextPosition:k}=e;if(p=="text")return s.unit==="word"?function(b,_){let C=b.position.textNode;for(C||(C=_?b.position.nodeAfter:b.position.nodeBefore);C&&C.is("$text");){const x=b.position.offset-C.startOffset;if(Zz(C,x,_))C=_?b.position.nodeAfter:b.position.nodeBefore;else{if(Yz(C.data,x,_))break;b.next()}}return b.position}(o,i):function(b,_,C){const x=b.position.textNode;if(x){const I=x.data;let D=b.position.offset-x.startOffset;for(;Nb(I,D)||_=="character"&&Rb(I,D)||C&&wy(I,D);)b.next(),D=b.position.offset-x.startOffset}return b.position}(o,a,u);if(p==(i?"elementStart":"elementEnd")){if(l.isSelectable(f))return Z._createAt(f,i?"after":"before");if(l.checkChild(k,"$text"))return k}else{if(l.isLimit(f))return void o.skip(()=>!0);if(l.checkChild(k,"$text"))return k}}function Qz(s,e){const i=s.root,o=Z._createAt(i,e?"end":0);return e?new G(s,o):new G(o,s)}function Yz(s,e,i){const o=e+(i?0:-1);return Gz.includes(s.charAt(o))}function Zz(s,e,i){return e===(i?s.offsetSize:0)}class Jz extends tt(){constructor(){super(),this.markers=new Vz,this.document=new Rz(this),this.schema=new qj,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),Hj(this),this.document.registerPostFixer(M1),this.on("insertContent",(e,[i,o])=>{e.return=function(a,l,u){return a.change(p=>{const f=u||a.document.selection;f.isCollapsed||a.deleteContent(f,{doNotAutoparagraph:!0});const k=new Wz(a,p,f.anchor),b=[];let _;if(l.is("documentFragment")){if(l.markers.size){const I=[];for(const[D,N]of l.markers){const{start:L,end:U}=N,W=L.isEqual(U);I.push({position:L,name:D,isCollapsed:W},{position:U,name:D,isCollapsed:W})}I.sort(({position:D},{position:N})=>D.isBefore(N)?1:-1);for(const{position:D,name:N,isCollapsed:L}of I){let U=null,W=null;const J=D.parent===l&&D.isAtStart,pe=D.parent===l&&D.isAtEnd;J||pe?L&&(W=J?"start":"end"):(U=p.createElement("$marker"),p.insert(U,D)),b.push({name:N,element:U,collapsed:W})}}_=l.getChildren()}else _=[l];k.handleNodes(_);let C=k.getSelectionRange();if(l.is("documentFragment")&&b.length){const I=C?Ai.fromRange(C):null,D={};for(let N=b.length-1;N>=0;N--){const{name:L,element:U,collapsed:W}=b[N],J=!D[L];if(J&&(D[L]=[]),U){const pe=p.createPositionAt(U,"before");D[L].push(pe),p.remove(U)}else{const pe=k.getAffectedRange();if(!pe){W&&D[L].push(k.position);continue}W?D[L].push(pe[W]):D[L].push(J?pe.start:pe.end)}}for(const[N,[L,U]]of Object.entries(D))L&&U&&L.root===U.root&&L.root.document&&p.addMarker(N,{usingOperation:!0,affectsData:!0,range:new G(L,U)});I&&(C=I.toRange(),I.detach())}C&&(f instanceof rr?p.setSelection(C):f.setTo(C));const x=k.getAffectedRange()||a.createRange(f.anchor);return k.destroy(),x})}(this,i,o)}),this.on("insertObject",(e,[i,o,a])=>{e.return=qz(this,i,o,a)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new _c,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){V.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new _c):e instanceof _c||(e=new _c(e)):e=new _c,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(o){V.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,i,o,...a){const l=hw(i,o);return this.fire("insertContent",[e,l,o,...a])}insertObject(e,i,o,a,...l){const u=hw(i,o);return this.fire("insertObject",[e,u,a,a,...l])}deleteContent(e,i){$z(this,e,i)}modifySelection(e,i){(function(o,a,l={}){const u=o.schema,p=l.direction!="backward",f=l.unit?l.unit:"character",k=!!l.treatEmojiAsSingleUnit,b=a.focus,_=new oo({boundaries:Qz(b,p),singleCharacters:!0,direction:p?"forward":"backward"}),C={walker:_,schema:u,isForward:p,unit:f,treatEmojiAsSingleUnit:k};let x;for(;x=_.next();){if(x.done)return;const I=Kz(C,x.value);if(I)return void(a instanceof rr?o.change(D=>{D.setSelectionFocus(I)}):a.setFocus(I))}})(this,e,i)}getSelectedContent(e){return function(i,o){return i.change(a=>{const l=a.createDocumentFragment(),u=o.getFirstRange();if(!u||u.isCollapsed)return l;const p=u.start.root,f=u.start.getCommonPath(u.end),k=p.getNodeByPath(f);let b;b=u.start.parent==u.end.parent?u:a.createRange(a.createPositionAt(k,u.start.path[f.length]),a.createPositionAt(k,u.end.path[f.length]+1));const _=b.end.offset-b.start.offset;for(const C of b.getItems({shallow:!0}))C.is("$textProxy")?a.appendText(C.data,C.getAttributes(),l):a.append(a.cloneElement(C,!0),l);if(b!=u){const C=u._getTransformedByMove(b.start,a.createPositionAt(l,0),_)[0],x=a.createRange(a.createPositionAt(l,0),C.start);AE(a.createRange(C.end,a.createPositionAt(l,"end")),a),AE(x,a)}return l})}(this,e)}hasContent(e,i={}){const o=e instanceof G?e:G._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:l=!1}=i;if(!l){for(const u of this.markers.getMarkersIntersectingRange(o))if(u.affectsData)return!0}for(const u of o.getItems())if(this.schema.isContent(u)&&(!u.is("$textProxy")||!a||u.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=hw(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,o){return new Z(e,i,o)}createPositionAt(e,i){return Z._createAt(e,i)}createPositionAfter(e){return Z._createAfter(e)}createPositionBefore(e){return Z._createBefore(e)}createRange(e,i){return new G(e,i)}createRangeIn(e){return G._createIn(e)}createRangeOn(e){return G._createOn(e)}createSelection(...e){return new _i(...e)}createBatch(e){return new _c(e)}createOperationFromJSON(e){return gz.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new Uz(this,i);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function hw(s,e){if(s)return s instanceof _i||s instanceof rr?s:s instanceof ia?e||e===0?new _i(s,e):s.is("rootElement")?new _i(s,"in"):new _i(s,"on"):new _i(s)}class Xz extends qo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class pw extends qo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class co{constructor(e){this.document=e}createDocumentFragment(e){return new na(this.document,e)}createElement(e,i,o){return new bi(this.document,e,i,o)}createText(e){return new ct(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,o){return o._insertChild(e,i)}removeChildren(e,i,o){return o._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const o=e.parent;if(o){const a=o.getChildIndex(e);return this.removeChildren(a,1,o),this.insertChild(a,i,o),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const o=i.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),i)}}rename(e,i){const o=new bi(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,o)?o:null}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){Gt(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return ce._createAt(e,i)}createPositionAfter(e){return ce._createAfter(e)}createPositionBefore(e){return ce._createBefore(e)}createRange(e,i){return new ye(e,i)}createRangeOn(e){return ye._createOn(e)}createRangeIn(e){return ye._createIn(e)}createSelection(...e){return new tr(...e)}}class e6{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const o=this.get(e);if(!o)throw new V("commandcollection-command-not-found",this,{commandName:e});return o.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var t6=Object.defineProperty,vE=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,i6=Object.prototype.propertyIsEnumerable,CE=(s,e,i)=>e in s?t6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;const gw="contentEditing",yE="common";class r6{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.locale.t;this.addKeystrokeInfoCategory({id:gw,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button"),keystroke:[["Enter"],["Space"]]}]}]})}addKeystrokeInfoCategory({id:e,label:i,description:o,groups:a}){this.keystrokeInfos.set(e,{id:e,label:i,description:o,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:yE}),a&&a.forEach(l=>{this.addKeystrokeInfoGroup(((u,p)=>{for(var f in p||(p={}))n6.call(p,f)&&CE(u,f,p[f]);if(vE)for(var f of vE(p))i6.call(p,f)&&CE(u,f,p[f]);return u})({categoryId:e},l))})}addKeystrokeInfoGroup({categoryId:e=gw,id:i,label:o,keystrokes:a}){const l=this.keystrokeInfos.get(e);if(!l)throw new V("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});l.groups.set(i,{id:i,label:o,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=gw,groupId:i=yE,keystrokes:o}){if(!this.keystrokeInfos.has(e))throw new V("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:o});const a=this.keystrokeInfos.get(e);if(!a.groups.has(i))throw new V("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:o});a.groups.get(i).keystrokes.push(...o)}}var EE=Object.getOwnPropertySymbols,o6=Object.prototype.hasOwnProperty,s6=Object.prototype.propertyIsEnumerable,xE=(s,e)=>{var i={};for(var o in s)o6.call(s,o)&&e.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&EE)for(var o of EE(s))e.indexOf(o)<0&&s6.call(s,o)&&(i[o]=s[o]);return i};class a6 extends tt(){constructor(e={}){super();const i=this.constructor,o=i.defaultConfig||{},{translations:a}=o,l=xE(o,["translations"]),u=e,{translations:p=a}=u,f=xE(u,["translations"]),k=e.language||l.language;this._context=e.context||new Ey({language:k,translations:p}),this._context._addEditor(this,!e.context);const b=Array.from(i.builtinPlugins||[]);this.config=new nn(f,l),this.config.define("plugins",b),this.config.define(this._context._getEditorConfig()),this.plugins=new Cy(this,b,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new e6,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Jz,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const _=new EL;this.data=new hz(this.model,_),this.editing=new $j(this.model,_),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new pz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new nL(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new r6(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new V("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),o=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],l=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(a),o,l)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(o){V.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function fw(s){return class extends s{updateSourceElement(e){if(!this.sourceElement)throw new V("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!o)return void iy(this.sourceElement,"");const a=typeof e=="string"?e:this.data.get();iy(this.sourceElement,a)}}}fw.updateSourceElement=fw(Object).prototype.updateSourceElement;class IE extends Hp{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Xi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new V("pendingactions-add-invalid-message",this);const i=new(tt());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Te={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};class Oi extends Xi{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,o,a)=>{this._renderViewIntoCollectionParent(o,a)}),this.on("remove",(i,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new V("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const o of this)for(const a of e)o.delegate(a).to(i);this.on("add",(o,a)=>{for(const l of e)a.delegate(l).to(i)}),this.on("remove",(o,a)=>{for(const l of e)a.stopDelegating(l,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class or extends fe(){constructor(e){super(),Object.assign(this,ME(SE(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new V("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const o of i.children)cg(o)?yield o:mw(o)&&(yield*e(o))}(this)}static bind(e,i){return{to:(o,a)=>new c6({eventNameOrFunction:o,attribute:o,observable:e,emitter:i,callback:a}),if:(o,a,l)=>new TE({observable:e,emitter:i,attribute:o,valueIfTrue:a,callback:l})}}static extend(e,i){if(e._isRendered)throw new V("template-extend-render",[this,e]);BE(e,ME(SE(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new V("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),ag(this.text)?this._bindToObservable({schema:this.text,updater:l6(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,o=e.revertData;for(const a in this.attributes){const l=i.getAttribute(a),u=this.attributes[a];o&&(o.attributes[a]=l);const p=OE(u)?u[0].ns:null;if(ag(u)){const f=OE(u)?u[0].value:u;o&&LE(a)&&f.unshift(l),this._bindToObservable({schema:f,updater:d6(i,a,p),data:e})}else if(a=="style"&&typeof u[0]!="string")this._renderStyleAttribute(u[0],e);else{o&&l&&LE(a)&&u.unshift(l);const f=u.map(k=>k&&k.value||k).reduce((k,b)=>k.concat(b),[]).reduce(NE,"");vc(f)||i.setAttributeNS(p,a,f)}}}_renderStyleAttribute(e,i){const o=i.node;for(const a in e){const l=e[a];ag(l)?this._bindToObservable({schema:[l],updater:u6(o,a),data:i}):o.style[a]=l}}_renderElementChildren(e){const i=e.node,o=e.intoFragment?document.createDocumentFragment():i,a=e.isApplying;let l=0;for(const u of this.children)if(kw(u)){if(!a){u.setParent(i);for(const p of u)o.appendChild(p.element)}}else if(cg(u))a||(u.isRendered||u.render(),o.appendChild(u.element));else if(Cr(u))o.appendChild(u);else if(a){const p={children:[],bindings:[],attributes:{}};e.revertData.children.push(p),u._renderNode({intoFragment:!1,node:o.childNodes[l++],isApplying:!0,revertData:p})}else o.appendChild(u.render());e.intoFragment&&i.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const o=this.eventListeners[i].map(a=>{const[l,u]=i.split("@");return a.activateDomEventListener(l,u,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:i,data:o}){const a=o.revertData;DE(e,i,o);const l=e.filter(u=>!vc(u)).filter(u=>u.observable).map(u=>u.activateAttributeListener(e,i,o));a&&a.bindings.push(l)}_revertTemplateFromNode(e,i){for(const a of i.bindings)for(const l of a)l();if(i.text)return void(e.textContent=i.text);const o=e;for(const a in i.attributes){const l=i.attributes[a];l===null?o.removeAttribute(a):o.setAttribute(a,l)}for(let a=0;a<i.children.length;++a)this._revertTemplateFromNode(o.childNodes[a],i.children[a])}}class zd{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,o){const a=()=>DE(e,i,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class c6 extends zd{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,o){const a=(l,u)=>{i&&!u.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(u):this.observable.fire(this.eventNameOrFunction,u))};return this.emitter.listenTo(o.node,e,a),()=>{this.emitter.stopListening(o.node,e,a)}}}class TE extends zd{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!vc(super.getValue(e))&&(this.valueIfTrue||!0)}}function ag(s){return!!s&&(s.value&&(s=s.value),Array.isArray(s)?s.some(ag):s instanceof zd)}function DE(s,e,{node:i}){const o=function(l,u){return l.map(p=>p instanceof zd?p.getValue(u):p)}(s,i);let a;a=s.length==1&&s[0]instanceof TE?o[0]:o.reduce(NE,""),vc(a)?e.remove():e.set(a)}function l6(s){return{set(e){s.textContent=e},remove(){s.textContent=""}}}function d6(s,e,i){return{set(o){s.setAttributeNS(i,e,o)},remove(){s.removeAttributeNS(i,e)}}}function u6(s,e){return{set(i){s.style[e]=i},remove(){s.style[e]=null}}}function SE(s){return tn(s,e=>{if(e&&(e instanceof zd||mw(e)||cg(e)||kw(e)))return e})}function ME(s){if(typeof s=="string"?s=function(e){return{text:[e]}}(s):s.text&&function(e){e.text=pt(e.text)}(s),s.on&&(s.eventListeners=function(e){for(const i in e)PE(e,i);return e}(s.on),delete s.on),!s.text){s.attributes&&function(i){for(const o in i)i[o].value&&(i[o].value=pt(i[o].value)),PE(i,o)}(s.attributes);const e=[];if(s.children)if(kw(s.children))e.push(s.children);else for(const i of s.children)mw(i)||cg(i)||Cr(i)?e.push(i):e.push(new or(i));s.children=e}return s}function PE(s,e){s[e]=pt(s[e])}function NE(s,e){return vc(e)?s:vc(s)?e:`${s} ${e}`}function RE(s,e){for(const i in e)s[i]?s[i].push(...e[i]):s[i]=e[i]}function BE(s,e){if(e.attributes&&(s.attributes||(s.attributes={}),RE(s.attributes,e.attributes)),e.eventListeners&&(s.eventListeners||(s.eventListeners={}),RE(s.eventListeners,e.eventListeners)),e.text&&s.text.push(...e.text),e.children&&e.children.length){if(s.children.length!=e.children.length)throw new V("ui-template-extend-children-mismatch",s);let i=0;for(const o of e.children)BE(s.children[i++],o)}}function vc(s){return!s&&s!==0}function cg(s){return s instanceof ve}function mw(s){return s instanceof or}function kw(s){return s instanceof Oi}function OE(s){return ut(s[0])&&s[0].ns}function LE(s){return s=="class"||s=="style"}var jE=d(7676),h6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(jE.A,h6),jE.A.locals;class ve extends Xn(tt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Xi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=or.bind(this,this)}createCollection(e){const i=new Oi(e);return this._viewCollections.add(i),i}registerChild(e){zn(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){zn(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new or(e)}extendTemplate(e){or.extend(this.template,e)}render(){if(this.isRendered)throw new V("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var zE=d(7801),p6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(zE.A,p6),zE.A.locals;class lg extends ve{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${K()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class g6 extends ve{constructor(e,i){super(e);const o=e.t,a=new lg;a.text=o("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[Kn(document,"p",{},o("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const o=[Kn(document,"h3",{},i.label),...Array.from(i.groups.values()).map(a=>this._createGroup(a)).flat()];return i.description&&o.splice(1,0,Kn(document,"p",{},i.description)),Kn(document,"section",{},o)})}_createGroup(e){const i=e.keystrokes.sort((a,l)=>a.label.localeCompare(l.label)).map(a=>this._createGroupRow(a)).flat(),o=[Kn(document,"dl",{},i)];return e.label&&o.unshift(Kn(document,"h4",{},e.label)),o}_createGroupRow(e){const i=this.locale.t,o=Kn(document,"dt"),a=Kn(document,"dd"),l=function(p){return typeof p=="string"?[[p]]:typeof p[0]=="string"?[p]:p}(e.keystroke),u=[];for(const p of l)u.push(p.map(f6).join(""));return o.innerHTML=e.label,a.innerHTML=u.join(", ")+(e.mayRequireFn&&v.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[o,a]}}function f6(s){return Up(s).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const VE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var FE=d(8527),m6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(FE.A,m6),FE.A.locals;class k6 extends re{constructor(){super(...arguments),this.contentView=null}static get requires(){return[uo]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",o=>{const a=new Je(o);return a.set({label:i("Accessibility help"),tooltip:!0,withText:!1,keystroke:"Alt+0",icon:VE}),a.on("execute",()=>this._showDialog()),a}),e.keystrokes.set("Alt+0",(o,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_setupRootLabels(){const e=this.editor,i=e.editing.view,o=e.t;function a(l,u){const p=`${u.getAttribute("aria-label")}. ${o("Press %0 for help.",[Up("Alt+0")])}`;l.setAttribute("aria-label",p,u)}e.ui.on("ready",()=>{i.change(l=>{for(const u of i.document.roots)a(l,u)}),e.on("addRoot",(l,u)=>{const p=e.editing.view.document.getRoot(u.rootName);i.change(f=>a(f,p))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),o=e.locale.t;this.contentView||(this.contentView=new g6(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:o("Accessibility help"),icon:VE,hasCloseButton:!0,content:this.contentView})}}class b6 extends Oi{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new or({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Kn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var UE=d(7621),w6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(UE.A,w6),UE.A.locals;const HE=class extends ve{constructor(){super();const s=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",s.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",s.if("isColorInherited","ck-icon_inherit-color")],viewBox:s.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const s=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=s.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:o}of Array.from(s.attributes))HE.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;s.childNodes.length>0;)this.element.appendChild(s.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(s=>{s.style.fill=this.fillColor})}};let Qo=HE;Qo.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class _6 extends ve{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var $E=d(9715),A6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()($E.A,A6),$E.A.locals;class Je extends ve{constructor(e,i=new _6){super(e),this._focusDelayed=null;const o=this.bindTemplate,a=K();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new Qo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",u=>!u),o.if("isVisible","ck-hidden",u=>!u),o.to("isOn",u=>u?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],role:o.to("role"),type:o.to("type",u=>u||"button"),tabindex:o.to("tabindex"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy"),"aria-disabled":o.if("isEnabled",!0,u=>!u),"aria-pressed":o.to("isOn",u=>!!this.isToggleable&&String(!!u)),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to(u=>{this.isEnabled?this.fire("execute"):u.preventDefault()})}};v.isSafari&&(this._focusDelayed||(this._focusDelayed=Pb(()=>this.focus(),0)),l.on.mousedown=o.to(()=>{this._focusDelayed()}),l.on.mouseup=o.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ve;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>Up(i))}]}),e}_getTooltipString(e,i,o){return e?typeof e=="string"?e:(o&&(o=Up(o)),e instanceof Function?e(i,o):`${i}${o?` (${o})`:""}`):""}}var WE=d(4391),v6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(WE.A,v6),WE.A.locals;class dg extends Je{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ve;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}const bw='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var qE=d(25),C6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(qE.A,C6),qE.A.locals;class y6 extends ve{constructor(e,i){super(e);const o=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",o.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:o.if("isCollapsed","hidden"),"aria-labelledby":o.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Je(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:bw}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",o=>String(o))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",o=>!o),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var GE=d(7317),E6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(GE.A,E6),GE.A.locals,d(6931),d(9047);var KE=d(4962),x6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(KE.A,x6),KE.A.locals;class ug extends ve{constructor(e,i){super(e);const o=`ck-labeled-field-view-${K()}`,a=`ck-labeled-field-view-status-${K()}`;this.fieldView=i(this,o,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(u,p)=>u||p);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",u=>!u),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new lg(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new ve(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",a=>!a)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class I6 extends ve{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new mn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var QE=d(253),T6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(QE.A,T6),QE.A.locals;class D6 extends I6{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class S6 extends D6{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var YE=d(1671),M6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(YE.A,M6),YE.A.locals;class P6 extends ve{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",o=>`ck-dropdown__panel_${o}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(o=>{o.target.tagName.toLocaleLowerCase()!=="input"&&o.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():ie("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var ZE=d(8149),N6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(ZE.A,N6),ZE.A.locals;const ww=class extends ve{constructor(s,e,i){super(s);const o=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new ei,this.focusTracker=new mn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",a=>!a)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,o)=>{if(o)if(this.panelPosition==="auto"){const a=ww._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const s=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",s),this.keystrokes.set("esc",s)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:s,north:e,southEast:i,southWest:o,northEast:a,northWest:l,southMiddleEast:u,southMiddleWest:p,northMiddleEast:f,northMiddleWest:k}=ww.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,o,u,p,s,a,l,f,k,e]:[o,i,p,u,s,l,a,k,f,e]}};let _w=ww;_w.defaultPanelPositions={south:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/2,name:"s"}),southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,e)=>({top:s.bottom,left:s.left-e.width+s.width,name:"sw"}),southMiddleEast:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/4,name:"sme"}),southMiddleWest:(s,e)=>({top:s.bottom,left:s.left-3*(e.width-s.width)/4,name:"smw"}),north:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/2,name:"n"}),northEast:(s,e)=>({top:s.top-e.height,left:s.left,name:"ne"}),northWest:(s,e)=>({top:s.top-e.height,left:s.left-e.width+s.width,name:"nw"}),northMiddleEast:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/4,name:"nme"}),northMiddleWest:(s,e)=>({top:s.top-e.height,left:s.left-3*(e.width-s.width)/4,name:"nmw"})},_w._getOptimalPosition=xb;class R6 extends Je{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Qo;return e.content=bw,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Li extends fe(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let o=e.actions[i];typeof o=="string"&&(o=[o]);for(const a of o)e.keystrokeHandler.set(a,(l,u)=>{this[i](),u()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Aw)||null}get last(){return this.focusables.filter(Aw).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,o)=>{const a=i.element===this.focusTracker.focusedElement;return a&&(e=o),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const o=this.current;if(o===null)return this[e===1?"first":"last"];let a=this.focusables.get(o),l=(o+i+e)%i;do{const u=this.focusables.get(l);if(Aw(u)){a=u;break}l=(l+i+e)%i}while(l!==o);return a}}function Aw(s){return Vd(s)&&Zs(s.element)}function Vd(s){return!(!("focus"in s)||typeof s.focus!="function")}class JE extends ve{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class B6 extends ve{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var O6=Object.defineProperty,XE=Object.getOwnPropertySymbols,L6=Object.prototype.hasOwnProperty,j6=Object.prototype.propertyIsEnumerable,ex=(s,e,i)=>e in s?O6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,tx=(s,e)=>{for(var i in e||(e={}))L6.call(e,i)&&ex(s,i,e[i]);if(XE)for(var i of XE(e))j6.call(e,i)&&ex(s,i,e[i]);return s};function nx(s){if(Array.isArray(s))return{items:s,removeItems:[]};const e={items:[],removeItems:[]};return s?tx(tx({},e),s):e}var ix=d(9677),z6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(ix.A,z6),ix.A.locals;const{threeVerticalDots:rx}=Te,V6={alignLeft:Te.alignLeft,bold:Te.bold,importExport:Te.importExport,paragraph:Te.paragraph,plus:Te.plus,text:Te.text,threeVerticalDots:Te.threeVerticalDots,pilcrow:Te.pilcrow,dragIndicator:Te.dragIndicator};class vw extends ve{constructor(e,i){super(e);const o=this.bindTemplate,a=this.t;this.options=i||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new mn,this.keystrokes=new ei,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new F6(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l=e.uiLanguageDirection==="rtl";this._focusCycler=new Li({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const u=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var p;this.options.shouldGroupWhenFull&&this.options.isFloating&&u.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:u,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(p=this,p.bindTemplate.to(f=>{f.target===p.element&&f.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new H6(this):new U6(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,o){this.items.addMany(this._buildItemsFromConfig(e,i,o))}_buildItemsFromConfig(e,i,o){const a=nx(e),l=o||a.removeItems;return this._cleanItemsConfiguration(a.items,i,l).map(u=>ut(u)?this._createNestedToolbarDropdown(u,i,l):u==="|"?new JE:u==="-"?new B6:i.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,i,o){const a=e.filter((l,u,p)=>l==="|"||o.indexOf(l)===-1&&(l==="-"?!this.options.shouldGroupWhenFull||(ie("toolbarview-line-break-ignored-when-grouping-items",p),!1):!(!ut(l)&&!i.has(l))||(ie("toolbarview-item-unavailable",{item:l}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const i=u=>u!=="-"&&u!=="|",o=e.length,a=e.findIndex(i);if(a===-1)return[];const l=o-e.slice().reverse().findIndex(i);return e.slice(a,l).filter((u,p,f)=>i(u)?!0:!(p>0&&f[p-1]===u))}_createNestedToolbarDropdown(e,i,o){let{label:a,icon:l,items:u,tooltip:p=!0,withText:f=!1}=e;if(u=this._cleanItemsConfiguration(u,i,o),!u.length)return null;const k=lo(this.locale);return a||ie("toolbarview-nested-toolbar-dropdown-missing-label",e),k.class="ck-toolbar__nested-toolbar-dropdown",k.buttonView.set({label:a,tooltip:p,withText:!!f}),l!==!1?k.buttonView.icon=V6[l]||l||rx:k.buttonView.withText=!0,Cw(k,()=>k.toolbarView._buildItemsFromConfig(u,i,o)),k}}class F6 extends ve{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class U6{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>Vd(o)?o:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class H6{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,o)=>{const a=o.index,l=Array.from(o.added);for(const u of o.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=a;u<a+l.length;u++){const p=l[u-a];u>this.ungroupedItems.length?this.groupedItems.add(p,u-this.ungroupedItems.length):this.ungroupedItems.add(p,u)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Zs(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,o=new Ee(e.lastChild),a=new Ee(e);if(!this.cachedPadding){const l=ae.window.getComputedStyle(e),u=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(l[u])}return i==="ltr"?o.right>a.right-this.cachedPadding:o.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ri(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new JE),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,o=lo(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Cw(o,this.groupedItems),o.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:rx}),o}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Vd(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class hg extends ve{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",o=>!o)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class ox extends ve{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class pg extends ve{constructor(e,i=new lg){super(e);const o=this.bindTemplate,a=new ax(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:i.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",o.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof ox));e&&e.focus()}}}var sx=d(5199),$6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(sx.A,$6),sx.A.locals;class ax extends ve{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new Oi,this.items=this.createCollection(),this.focusTracker=new mn,this.keystrokes=new ei,this._focusCycler=new Li({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof pg?this._registerFocusableItemsGroup(e):e instanceof hg&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const o of i.removed)o instanceof pg?this._deregisterFocusableItemsGroup(o):o instanceof hg&&this._deregisterFocusableListItem(o);for(const o of Array.from(i.added).reverse())o instanceof pg?this._registerFocusableItemsGroup(o,i.index):this._registerFocusableListItem(o,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,o)=>{for(const a of o.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(o.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+o.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((a,l)=>{const u=i!==void 0?i+l:void 0;this._registerFocusableListItem(a,u)});const o=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,o),e.items.on("change",o)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var cx=d(1792),W6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cx.A,W6),cx.A.locals;class gg extends ve{constructor(e,i){super(e);const o=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new ei,this.focusTracker=new mn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new Je;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new Je,i=e.bindTemplate;return e.icon=bw,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var lx=d(1666),q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(lx.A,q6),lx.A.locals;var dx=d(3629),G6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(dx.A,G6),dx.A.locals;function lo(s,e=R6){const i=typeof e=="function"?new e(s):e,o=new P6(s),a=new _w(s,i,o);return i.bind("isEnabled").to(a),i instanceof gg?i.arrowView.bind("isOn").to(a,"isOpen"):i.bind("isOn").to(a,"isOpen"),function(l){(function(u){u.on("render",()=>{g({emitter:u,activator:()=>u.isOpen,callback:()=>{u.isOpen=!1},contextElements:()=>[u.element,...u.focusTracker._elements]})})})(l),function(u){u.on("execute",p=>{p.source instanceof dg||(u.isOpen=!1)})}(l),function(u){u.focusTracker.on("change:isFocused",(p,f,k)=>{u.isOpen&&!k&&(u.isOpen=!1)})}(l),function(u){u.keystrokes.set("arrowdown",(p,f)=>{u.isOpen&&(u.panelView.focus(),f())}),u.keystrokes.set("arrowup",(p,f)=>{u.isOpen&&(u.panelView.focusLast(),f())})}(l),function(u){u.on("change:isOpen",(p,f,k)=>{if(k)return;const b=u.panelView.element;b&&b.contains(ae.document.activeElement)&&u.buttonView.focus()})}(l),function(u){u.on("change:isOpen",(p,f,k)=>{k&&u.panelView.focus()},{priority:"low"})}(l)}(a),a}function Cw(s,e,i={}){s.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),s.isOpen?ux(s,e,i):s.once("change:isOpen",()=>ux(s,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&gx(s,()=>s.toolbarView.items.find(o=>o.isOn))}function ux(s,e,i){const o=s.locale,a=o.t,l=s.toolbarView=new vw(o),u=typeof e=="function"?e():e;l.ariaLabel=i.ariaLabel||a("Dropdown toolbar"),i.maxWidth&&(l.maxWidth=i.maxWidth),i.class&&(l.class=i.class),i.isCompact&&(l.isCompact=i.isCompact),i.isVertical&&(l.isVertical=!0),u instanceof Oi?l.items.bindTo(u).using(p=>p):l.items.addMany(u),s.panelView.children.add(l),l.items.delegate("execute").to(s)}function hx(s,e,i={}){s.isOpen?px(s,e,i):s.once("change:isOpen",()=>px(s,e,i),{priority:"highest"}),gx(s,()=>s.listView.items.find(o=>o instanceof hg&&o.children.first.isOn))}function px(s,e,i){const o=s.locale,a=s.listView=new ax(o),l=typeof e=="function"?e():e;a.ariaLabel=i.ariaLabel,a.role=i.role,fx(s,a.items,l,o),s.panelView.children.add(a),a.items.delegate("execute").to(s)}function gx(s,e){s.on("change:isOpen",()=>{if(!s.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():ie("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:Y.low-10})}function fx(s,e,i,o){e.bindTo(i).using(a=>{if(a.type==="separator")return new ox(o);if(a.type==="group"){const l=new pg(o);return l.set({label:a.label}),fx(s,l.items,a.items,o),l.items.delegate("execute").to(s),l}if(a.type==="button"||a.type==="switchbutton"){const l=new hg(o);let u;return a.type==="button"?(u=new Je(o),u.extendTemplate({attributes:{"aria-checked":u.bindTemplate.to("isOn")}})):u=new dg(o),u.bind(...Object.keys(a.model)).to(a.model),u.delegate("execute").to(l),l.children.add(u),l}return null})}const fg=(s,e,i)=>{const o=new S6(s.locale);return o.set({id:e,ariaDescribedById:i}),o.bind("isReadOnly").to(s,"isEnabled",a=>!a),o.bind("hasError").to(s,"errorText",a=>!!a),o.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(o),o};var mx=d(1905),K6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(mx.A,K6),mx.A.locals;var kx=d(6309),Q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(kx.A,Q6),kx.A.locals;class Y6{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(yw(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new V("componentfactory-item-missing",this,{name:e});return this._components.get(yw(e)).callback(this.editor.locale)}has(e){return this._components.has(yw(e))}}function yw(s){return String(s).toLowerCase()}var bx=d(7913),Z6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bx.A,Z6),bx.A.locals;class J6 extends ve{constructor(e,i={}){super(e);const o=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",o.to("class")]},children:this.children}),i.icon&&(this.iconView=new Qo,this.iconView.content=i.icon,this.children.add(this.iconView));const a=new ve(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:o.to("label")}]}),this.children.add(a)}}var wx=d(9822),X6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(wx.A,X6),wx.A.locals;class e7 extends ve{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new ei,this._focusTracker=new mn,this._focusables=new Oi,this.focusCycler=new Li({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const o=new Je(this.locale);let a;for(a in o.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(o),i)a!="onExecute"&&a!="onCreate"&&o.set(a,i[a]);this.children.add(o)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class t7 extends ve{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var _x=d(9819),n7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(_x.A,n7),_x.A.locals;const mg="screen-center",Ax="editor-center",i7="editor-top-side",r7="editor-top-center",o7="editor-bottom-center",s7="editor-above-center",a7="editor-below-center",vx=pc("px"),Cx=class extends function(s){return class extends s{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(ae.document,"mouseup",this._onDragEndBound),this.listenTo(ae.document,"touchend",this._onDragEndBound),this.listenTo(ae.document,"mousemove",this._onDragBound),this.listenTo(ae.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(ae.document,"mouseup",this._onDragEndBound),this.stopListening(ae.document,"touchend",this._onDragEndBound),this.stopListening(ae.document,"mousemove",this._onDragBound),this.stopListening(ae.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let o=0,a=0;i instanceof MouseEvent?(o=i.clientX,a=i.clientY):(o=i.touches[0].clientX,a=i.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:a},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let o=0,a=0;i instanceof MouseEvent?(o=i.clientX,a=i.clientY):(o=i.touches[0].clientX,a=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(ve){constructor(s,{getCurrentDomRoot:e,getViewportOffset:i}){super(s),this.wasMoved=!1;const o=this.bindTemplate,a=s.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",mg),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new ei,this.focusTracker=new mn,this._focusables=new Oi,this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",l=>!l),o.if("_isVisible","ck-hidden",l=>!l)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",l=>vx(l)),left:o.to("_left",l=>vx(l)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(s,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(s,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(ae.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(ae.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(s,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:s,title:e,hasCloseButton:i=!0,content:o,actionButtons:a}){e&&(this.headerView=new J6(this.locale,{icon:s}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),o&&(o instanceof ve&&(o=[o]),this.contentView=new t7(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),a&&(this.actionsView=new e7(this.locale),this.actionsView.setButtons(a),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(s,e){const i=this._getViewportRect(),o=this._getDialogRect();s+o.width>i.right&&(s=i.right-o.width),s<i.left&&(s=i.left),e<i.top&&(e=i.top),this._moveTo(s,e)}_moveTo(s,e){this._left=s,this._top=e}moveBy(s,e){this.moveTo(this._left+s,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const s=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(s):i=mg;const o=Cx.defaultOffset,a=this._getDialogRect();switch(i){case i7:if(e){const l=this.locale.contentLanguageDirection==="ltr"?e.right-a.width-o:e.left+o;this.moveTo(l,e.top+o)}else this._moveOffScreen();break;case Ax:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),Math.round(e.top+e.height/2-a.height/2)):this._moveOffScreen();break;case mg:this.moveTo(Math.round((s.width-a.width)/2),Math.round((s.height-a.height)/2));break;case r7:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top+o):this._moveOffScreen();break;case o7:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom-a.height-o):this._moveOffScreen();break;case s7:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top-a.height-o):this._moveOffScreen();break;case a7:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom+o):this._moveOffScreen()}}_getVisibleDomRootRect(s){let e=new Ee(this._getCurrentDomRoot()).getVisible();return e?(e=s.getIntersection(e),e||null):null}_getDialogRect(){return new Ee(this.element.firstElementChild)}_getViewportRect(){return function(s){s=Object.assign({top:0,bottom:0,left:0,right:0},s);const e=new Ee(ae.window);return e.top+=s.top,e.height-=s.top,e.bottom-=s.bottom,e.height-=s.bottom,e.left+=s.left,e.right-=s.right,e.width-=s.left+s.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const s=[];if(this.contentView)for(const e of this.contentView.children)Vd(e)&&s.push(e);this.actionsView&&s.push(this.actionsView),this.closeButtonView&&s.push(this.closeButtonView),s.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),Vd(i=e)&&"focusCycler"in i&&i.focusCycler instanceof Li&&(this.listenTo(e.focusCycler,"forwardCycle",o=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&o.stop()}),this.listenTo(e.focusCycler,"backwardCycle",o=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&o.stop()}))})}_createCloseButton(){const s=new Je(this.locale),e=this.locale.t;return s.set({label:e("Close"),tooltip:!0,icon:Te.cancel}),s.on("execute",()=>this.fire("close",{source:"closeButton"})),s}};let kg=Cx;kg.defaultOffset=15;class uo extends re{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{uo._visibleDialogPlugin&&uo._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,o)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),o())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const o of i)o.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:o,hasCloseButton:a=!0,content:l,actionButtons:u,className:p,isModal:f,position:k,onHide:b}){const _=this.editor;this.view=new kg(_.locale,{getCurrentDomRoot:()=>_.editing.view.getDomRoot(_.model.document.selection.anchor.root.rootName),getViewportOffset:()=>_.ui.viewportOffset});const C=this.view;C.on("close",()=>{this.hide()}),_.ui.view.body.add(C),_.ui.focusTracker.add(C.element),_.keystrokes.listenTo(C.element),k||(k=f?mg:Ax),C.set({position:k,_isVisible:!0,className:p,isModal:f}),C.setupParts({icon:i,title:o,hasCloseButton:a,content:l,actionButtons:u}),this.id=e,b&&(this._onHide=b),this.isOpen=!0,uo._visibleDialogPlugin=this}hide(){uo._visibleDialogPlugin&&uo._visibleDialogPlugin.fire(`hide:${uo._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,uo._visibleDialogPlugin=null}}var yx=d(3710),c7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(yx.A,c7),yx.A.locals;var l7=Object.defineProperty,Ex=Object.getOwnPropertySymbols,d7=Object.prototype.hasOwnProperty,u7=Object.prototype.propertyIsEnumerable,xx=(s,e,i)=>e in s?l7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,Qe=(s,e)=>{for(var i in e||(e={}))d7.call(e,i)&&xx(s,i,e[i]);if(Ex)for(var i of Ex(e))u7.call(e,i)&&xx(s,i,e[i]);return s};const Ix=pc("px"),Tx=ae.document.body,h7={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Ew=class extends ve{constructor(s){super(s);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Ix),left:e.to("left",Ix)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(s){this.show();const e=Ew.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:Tx,fitInViewport:!0},s),o=Ew._getOptimalPosition(i)||h7,a=parseInt(o.left),l=parseInt(o.top),u=o.name,p=o.config||{},{withArrow:f=!0}=p;this.top=l,this.left=a,this.position=u,this.withArrow=f}pin(s){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(s):this._stopPinning()},this._startPinning(s),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(s){this.attachTo(s);const e=xw(s.target),i=s.limiter?xw(s.limiter):Tx;this.listenTo(ae.document,"scroll",(o,a)=>{const l=a.target,u=e&&l.contains(e),p=i&&l.contains(i);!u&&!p&&e&&i||this.attachTo(s)},{useCapture:!0}),this.listenTo(ae.window,"resize",()=>{this.attachTo(s)})}_stopPinning(){this.stopListening(ae.document,"scroll"),this.stopListening(ae.window,"resize")}};let ii=Ew;function xw(s){return Lt(s)?s:fi(s)?s.commonAncestorContainer:typeof s=="function"?xw(s()):null}function Dx(s={}){const{sideOffset:e=ii.arrowSideOffset,heightOffset:i=ii.arrowHeightOffset,stickyVerticalOffset:o=ii.stickyVerticalOffset,config:a}=s;return{northWestArrowSouthWest:(p,f)=>Qe({top:l(p,f),left:p.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(p,f)=>Qe({top:l(p,f),left:p.left-.25*f.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(p,f)=>Qe({top:l(p,f),left:p.left-f.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(p,f)=>Qe({top:l(p,f),left:p.left-.75*f.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(p,f)=>Qe({top:l(p,f),left:p.left-f.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(p,f)=>Qe({top:l(p,f),left:p.left+p.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(p,f)=>Qe({top:l(p,f),left:p.left+p.width/2-.25*f.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(p,f)=>Qe({top:l(p,f),left:p.left+p.width/2-f.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(p,f)=>Qe({top:l(p,f),left:p.left+p.width/2-.75*f.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(p,f)=>Qe({top:l(p,f),left:p.left+p.width/2-f.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(p,f)=>Qe({top:l(p,f),left:p.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(p,f)=>Qe({top:l(p,f),left:p.right-.25*f.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(p,f)=>Qe({top:l(p,f),left:p.right-f.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(p,f)=>Qe({top:l(p,f),left:p.right-.75*f.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(p,f)=>Qe({top:l(p,f),left:p.right-f.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:p=>Qe({top:u(p),left:p.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(p,f)=>Qe({top:u(p),left:p.left-.25*f.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(p,f)=>Qe({top:u(p),left:p.left-f.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(p,f)=>Qe({top:u(p),left:p.left-.75*f.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(p,f)=>Qe({top:u(p),left:p.left-f.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:p=>Qe({top:u(p),left:p.left+p.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(p,f)=>Qe({top:u(p),left:p.left+p.width/2-.25*f.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(p,f)=>Qe({top:u(p),left:p.left+p.width/2-f.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(p,f)=>Qe({top:u(p),left:p.left+p.width/2-.75*f.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(p,f)=>Qe({top:u(p),left:p.left+p.width/2-f.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:p=>Qe({top:u(p),left:p.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(p,f)=>Qe({top:u(p),left:p.right-.25*f.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(p,f)=>Qe({top:u(p),left:p.right-f.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(p,f)=>Qe({top:u(p),left:p.right-.75*f.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(p,f)=>Qe({top:u(p),left:p.right-f.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(p,f)=>Qe({top:p.top+p.height/2-f.height/2,left:p.left-f.width-i,name:"arrow_e"},a&&{config:a}),eastArrowWest:(p,f)=>Qe({top:p.top+p.height/2-f.height/2,left:p.right+i,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(p,f,k,b)=>{const _=b||k;return p.getIntersection(_)?_.height-p.height>o?null:{top:_.top+o,left:p.left+p.width/2-f.width/2,name:"arrowless",config:Qe({withArrow:!1},a)}:null}};function l(p,f){return p.top-f.height-i}function u(p){return p.bottom+i}}ii.arrowSideOffset=25,ii.arrowHeightOffset=10,ii.stickyVerticalOffset=20,ii._getOptimalPosition=xb,ii.defaultPositions=Dx();var Sx=d(9205),p7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Sx.A,p7),Sx.A.locals;const Mx="ck-tooltip",ri=class extends Xn(){constructor(s){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,ri._editors.add(s),ri._instance)return ri._instance;ri._instance=this,this.tooltipTextView=new ve(s.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ii(s.locale),this.balloonPanelView.class=Mx,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(o){i.observe(o,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Dd(this._pinTooltip,600),this.listenTo(ae.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ae.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ae.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ae.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ae.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(s){const e=s.ui.view&&s.ui.view.body;ri._editors.delete(s),this.stopListening(s.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),ri._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ri._instance=null)}static getPositioningFunctions(s){const e=ri.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[s]}_onEnterOrFocus(s,{target:e}){const i=Iw(e);i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,Px(i)))}_onLeaveOrBlur(s,{target:e,relatedTarget:i}){if(s.name==="mouseleave"){if(!Lt(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=Iw(e),a=Iw(i);o&&o!==a&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(s,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(s,{text:e,position:i,cssClass:o}){const a=rn(ri._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:s,positions:ri.getPositioningFunctions(i)}),this._resizeObserver=new Ri(s,()=>{Zs(s)||this._unpinTooltip()}),this._mutationObserver.attach(s),this.balloonPanelView.class=[Mx,o].filter(l=>l).join(" ");for(const l of ri._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=s,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const s of ri._editors)this.stopListening(s.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){const s=Px(this._currentElementWithTooltip);Zs(this._currentElementWithTooltip)&&s.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ri.getPositioningFunctions(s.position)}):this._unpinTooltip()}};let bg=ri;function Iw(s){return Lt(s)?s.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Px(s){return{text:s.dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}}bg.defaultBalloonPositions=Dx({heightOffset:5,sideOffset:13}),bg._editors=new Set,bg._instance=null;const wg=function(s,e,i){var o=!0,a=!0;if(typeof s!="function")throw new TypeError("Expected a function");return ut(i)&&(o="leading"in i?!!i.leading:o,a="trailing"in i?!!i.trailing:a),Dd(s,e,{leading:o,maxWait:e,trailing:a})};var g7=Object.defineProperty,Nx=Object.getOwnPropertySymbols,f7=Object.prototype.hasOwnProperty,m7=Object.prototype.propertyIsEnumerable,Rx=(s,e,i)=>e in s?g7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,k7=(s,e)=>{for(var i in e||(e={}))f7.call(e,i)&&Rx(s,i,e[i]);if(Nx)for(var i of Nx(e))m7.call(e,i)&&Rx(s,i,e[i]);return s};const b7=50,w7=350,_7="Powered by";class A7 extends Xn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=wg(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function o(x){return x.length>=40&&x.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let a="";try{a=atob(i)}catch{return"INVALID"}const l=a.split("-"),u=l[0],p=l[1];if(!p)return o(i);try{atob(p)}catch{try{if(atob(u),!atob(u).length)return o(i)}catch{return o(i)}}if(u.length<40||u.length>255)return"INVALID";let f="";try{atob(u),f=atob(p)}catch{return"INVALID"}if(f.length!==8)return"INVALID";const k=Number(f.substring(0,4)),b=Number(f.substring(4,6))-1,_=Number(f.substring(6,8)),C=new Date(k,b,_);return C<hi||isNaN(Number(C))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,o,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,o,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new ii,o=Ox(e),a=new v7(e.locale,o.label);i.content.add(a),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,o){const a=Ox(i),l=a.side==="right"?function(u,p){return Bx(u,p,(f,k)=>f.left+f.width-k.width-p.horizontalOffset)}(o,a):function(u,p){return Bx(u,p,f=>f.left+p.horizontalOffset)}(o,a);return{target:o,positions:[l]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,o=e.ui.focusTracker.focusedElement;if(!i||!o)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(l=>e.ui.getEditableElement(l));a.includes(o)?this._lastFocusedEditableElement=o:this._lastFocusedEditableElement=a[0]}}class v7 extends ve{constructor(e,i){super(e);const o=new Qo,a=this.bindTemplate;o.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),o.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],o],on:{dragstart:a.to(l=>l.preventDefault())}}]})}}function Bx(s,e,i){return(o,a)=>{const l=new Ee(s);if(l.width<w7||l.height<b7)return null;let u;u=e.position==="inside"?l.bottom-a.height:l.bottom-a.height/2,u-=e.verticalOffset;const p=i(l,a),f=o.clone().moveTo(p,u).getIntersection(a.clone().moveTo(p,u)).getVisible();return!f||f.getArea()<a.getArea()?null:{top:u,left:p,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Ox(s){const e=s.config.get("ui.poweredBy"),i=e&&e.position||"border";return k7({position:i,label:_7,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:s.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var Lx=d(1801),C7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Lx.A,C7),Lx.A.locals;const jx="polite";class y7{constructor(e){this.editor=e}announce(e,i,o=jx){const a=this.editor;this.view||(this.view=new E7(a.locale),a.ui.view.body.add(this.view));let l=this.view.regionViews.find(u=>u.regionName===e);l||(l=new x7(this.view.locale),this.view.regionViews.add(l)),l.set({regionName:e,text:i,politeness:o})}}class E7 extends ve{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class x7 extends ve{constructor(e){super(e);const i=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",jx),this.setTemplate({tag:"div",attributes:{role:"region","data-region":i.to("regionName"),"aria-live":i.to("politeness")},children:[{text:i.to("text")}]})}}var I7=Object.defineProperty,zx=Object.getOwnPropertySymbols,T7=Object.prototype.hasOwnProperty,D7=Object.prototype.propertyIsEnumerable,Vx=(s,e,i)=>e in s?I7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class S7 extends tt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new Y6(e),this.focusTracker=new mn,this.tooltipManager=new bg(e),this.poweredBy=new A7(e),this.ariaLiveAnnouncer=new y7(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?o():this.once("ready",o)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let o,a;e.keystrokes.set("Alt+F10",(l,u)=>{const p=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(p)&&!Array.from(i.domRoots.values()).includes(p)&&(o=p);const f=this._getCurrentFocusedToolbarDefinition();f&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let k=0;k<a.length;k++){const b=a.shift();if(a.push(b),b!==f&&this._focusFocusableCandidateToolbar(b)){f&&f.options.afterBlur&&f.options.afterBlur();break}}u()}),e.keystrokes.set("Esc",(l,u)=>{const p=this._getCurrentFocusedToolbarDefinition();p&&(o?(o.focus(),o=null):e.editing.view.focus(),p.options.afterBlur&&p.options.afterBlur(),u())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:o,options:a}=i;(Zs(o.element)||a.beforeFocus)&&e.push(i)}return e.sort((i,o)=>Fx(i)-Fx(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:o}}=e;return o&&o(),!!Zs(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const o=((a,l)=>{for(var u in l||(l={}))T7.call(l,u)&&Vx(a,u,l[u]);if(zx)for(var u of zx(l))D7.call(l,u)&&Vx(a,u,l[u]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=o.top,i.viewportOffset.bottom+=o.bottom,i.viewportOffset.left+=o.left,i.viewportOffset.right+=o.right}}function Fx(s){const{toolbarView:e,options:i}=s;let o=10;return Zs(e.element)&&o--,i.isContextual&&o--,o}var Ux=d(1185),M7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Ux.A,M7),Ux.A.locals;class P7 extends ve{constructor(e){super(e),this.body=new b6(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class N7 extends P7{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new lg;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class R7 extends ve{constructor(e,i,o){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(o){e.change(a=>{const l=e.document.getRoot(o.name);a.addClass(o.isFocused?"ck-focused":"ck-blurred",l),a.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}e.isRenderingInProgress?function o(a){e.once("change:isRenderingInProgress",(l,u,p)=>{p?o(a):i(a)})}(this):i(this)}}class B7 extends R7{constructor(e,i,o,a={}){super(e,i,o);const l=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const o=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),o)})}}class Tw extends Hp{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class Hx extends tt(){constructor(e,i){super(),i&&t1(this,i),e&&this.set(e)}}var $x=d(991),O7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()($x.A,O7),$x.A.locals;var Wx=d(5380),L7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Wx.A,L7),Wx.A.locals;const _g=pc("px");class Ag extends re{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new V("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const o=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new V("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new V("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ii(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new j7(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,a)=>{if(a<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[l,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new z7(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,o)=>!o&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:o=!0,singleViewMode:a=!1}){this.view.class=i,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class j7 extends ve{constructor(e){super(e);const i=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new mn,this.buttonPrevView=this._createButtonView(i("Previous"),Te.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),Te.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const o=new Je(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o}}class z7 extends ve{constructor(e,i){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:o.to("top",_g),left:o.to("left",_g),width:o.to("width",_g),height:o.to("height",_g)}},children:this.content}),this.on("change:numberOfPanels",(a,l,u,p)=>{u>p?this._addPanels(u-p):this._removePanels(p-u),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new ve;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:o,height:a}=new Ee(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:o,height:a})}}}var qx=d(8298),V7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(qx.A,V7),qx.A.locals;const Cc=pc("px");class F7 extends ve{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new or({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",o=>o?"block":"none"),height:i.to("isSticky",o=>o?Cc(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new or({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",o=>o?Cc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",o=>o&&Cc(o)),bottom:i.to("_stickyBottomOffset",o=>o&&Cc(o)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(ae.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ee(this.limiterElement);let i=e.getVisible();if(i){const o=new Ee(ae.window);o.top+=this.viewportTopOffset,o.height-=this.viewportTopOffset,i=i.getIntersection(o)}if(i&&e.top<i.top){const o=i.top;if(o+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const a=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(o):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Cc(-ae.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Cc(-ae.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ee(this.contentPanelElement)}}class U7 extends ug{constructor(e,i){const o=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:fg},i);super(e,a.creator),this.label=i.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new Qo,this.iconView.content=Te.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Je(e),this.resetButtonView.set({label:o("Clear"),icon:Te.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",l=>!l),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class H7 extends ve{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class $7 extends ve{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new mn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Li({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Gx=/[\\^$.*+?()[\]{}|]/g,W7=RegExp(Gx.source);const Kx=function(s){return(s=zb(s))&&W7.test(s)?s.replace(Gx,"\\$&"):s};var Qx=d(8107),q7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Qx.A,q7),Qx.A.locals;var G7=Object.defineProperty,Yx=Object.getOwnPropertySymbols,K7=Object.prototype.hasOwnProperty,Q7=Object.prototype.propertyIsEnumerable,Zx=(s,e,i)=>e in s?G7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class Y7 extends ve{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new mn,this.keystrokes=new ei,this.resultsView=new $7(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new H7,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Li({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(o,{resultsCount:a,totalItemsCount:l})=>{this.resultsCount=a,this.totalItemsCount=l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(Kx(e),"ig"):null,o=this.filteredView.filter(i);this.fire("search",((a,l)=>{for(var u in l||(l={}))K7.call(l,u)&&Zx(a,u,l[u]);if(Yx)for(var u of Yx(l))Q7.call(l,u)&&Zx(a,u,l[u]);return a})({query:e},o))}_createSearchTextQueryView(){const e=new U7(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function o(a,{query:l,resultsCount:u,totalItemsCount:p}){return typeof a=="function"?a(l,u,p):a}this.on("search",(a,l)=>{if(l.resultsCount)i.set({isVisible:!1});else{const u=this._config.infoView&&this._config.infoView.text;let p,f;l.totalItemsCount?u&&u.notFound?(p=u.notFound.primary,f=u.notFound.secondary):(p=e("No results found"),f=""):u&&u.noSearchableItems?(p=u.noSearchableItems.primary,f=u.noSearchableItems.secondary):(p=e("No searchable items"),f=""),i.set({primaryText:o(p,l),secondaryText:o(f,l),isVisible:!0})}})}}var Jx=d(5727),Z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Jx.A,Z7),Jx.A.locals;const Dw=class extends Y7{constructor(s,e){super(s,e),this._config=e;const i=pc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const o=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[o.if("isVisible","ck-hidden",a=>!a),o.to("_position",a=>`ck-search__results_${a}`)],style:{width:o.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(a,l,u)=>{this._updateResultsVisibility(),u?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(a,l)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,l())}),this.listenTo(ae.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(a,{value:l})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=l,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ee(this.queryView.fieldView.element).width;const s=Dw._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Dw.defaultResultsPositions});this.resultsView._position=s?s.name:"s"}_updateResultsVisibility(){const s=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=s}};let Xx=Dw;Xx.defaultResultsPositions=[s=>({top:s.bottom,left:s.left,name:"s"}),(s,e)=>({top:s.top-e.height,left:s.left,name:"n"})],Xx._getOptimalPosition=xb;var e2=d(9529),J7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(e2.A,J7),e2.A.locals;var t2=d(109),X7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(t2.A,X7),t2.A.locals;var n2=d(2710),e9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(n2.A,e9),n2.A.locals;class t9 extends S7{constructor(e,i){super(e),this.view=i,this._toolbarConfig=nx(e.config.get("toolbar")),this._elementReplacer=new Ja,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,o=this.view,a=i.editing.view,l=o.editable,u=a.document.getRoot();l.name=u.rootName,o.render();const p=l.element;this.setEditableElement(l.name,p),o.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(p),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,o=i.document.getRoot(),a=e.sourceElement;let l;const u=e.config.get("placeholder");u&&(l=typeof u=="string"?u:u[this.view.editable.name]),!l&&a&&a.tagName.toLowerCase()==="textarea"&&(l=a.getAttribute("placeholder")),l&&(o.placeholder=l),Ty({view:i,element:o,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,o){const a=this.view.stickyPanel;if(a.isSticky){const l=new Ee(a.element).height;i.viewportOffset.top+=l}else{const l=()=>{this.editor.editing.view.scrollToTheSelection(o)};this.listenTo(a,"change:isSticky",l),setTimeout(()=>{this.stopListening(a,"change:isSticky",l)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const o=i.view;o.on("moveTo",(a,l)=>{if(!e.isSticky||o.wasMoved)return;const u=new Ee(e.contentPanelElement);l[1]<u.bottom+kg.defaultOffset&&(l[1]=u.bottom+kg.defaultOffset)},{priority:"high"})},{priority:"low"})}}var i2=d(7388),n9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(i2.A,n9),i2.A.locals;class i9 extends N7{constructor(e,i,o={}){super(e),this.stickyPanel=new F7(e),this.toolbar=new vw(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),this.editable=new B7(e,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class r2{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const o="error"in i?i.error:i.reason;o instanceof Error&&this._handleError(o,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(o=>o!==i)}_fire(e,...i){const o=this._listeners[e]||[];for(const a of o)a.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Sw(s,e=new Set){const i=[s],o=new Set;let a=0;for(;i.length>a;){const l=i[a++];if(!o.has(l)&&r9(l)&&!e.has(l))if(o.add(l),Symbol.iterator in l)try{for(const u of l)i.push(u)}catch{}else for(const u in l)u!=="defaultValue"&&i.push(l[u])}return o}function r9(s){const e=Object.prototype.toString.call(s),i=typeof s;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||s==null||s._watchdogExcluded||s instanceof EventTarget||s instanceof Event)}function o2(s,e,i=new Set){if(s===e&&typeof(o=s)=="object"&&o!==null)return!0;var o;const a=Sw(s,i),l=Sw(e,i);for(const u of a)if(l.has(u))return!0;return!1}var o9=Object.defineProperty,s9=Object.defineProperties,a9=Object.getOwnPropertyDescriptors,vg=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,a2=Object.prototype.propertyIsEnumerable,c2=(s,e,i)=>e in s?o9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,Mw=(s,e)=>{for(var i in e||(e={}))s2.call(e,i)&&c2(s,i,e[i]);if(vg)for(var i of vg(e))a2.call(e,i)&&c2(s,i,e[i]);return s};class l2 extends r2{constructor(e,i={}){super(i),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=wg(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(o,a)=>e.create(o,a)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],o=this._config.rootsAttributes||{},a={};for(const[f,k]of Object.entries(this._data.roots))k.isLoaded?(e[f]="",a[f]=o[f]||{}):i.push(f);const l=(u=Mw({},this._config),p={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:a,_watchdogInitialData:this._data},s9(u,a9(p)));var u,p;return delete l.initialData,l.extraPlugins.push(c9),this._initUsingData?this.create(e,l,l.context):Lt(this._elementOrData)?this.create(this._elementOrData,l,l.context):this.create(this._editables,l,l.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=o,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:o}=e,a=o.has("CommentsRepository")&&o.get("CommentsRepository"),l=o.has("TrackChanges")&&o.get("TrackChanges"),u={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(p=>{u.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of e.model.markers)p._affectsData&&(u.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return a&&(u.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),l&&(u.suggestions=JSON.stringify(l.getSuggestions({toJSON:!0,skipNotAttached:!0}))),u}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(i);o&&(e[i]=o)}return e}_isErrorComingFromThisItem(e){return o2(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return tn(e,(i,o)=>Lt(i)||o==="context"?i:void 0)}}class c9{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const o=e.createElement(i.name,i.attributes);if(i.children)for(const a of i.children)o._appendChild(this._createNode(e,a));return o}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([o,{content:a,attributes:l}])=>{const u=JSON.parse(a),p=JSON.parse(l),f=i.model.document.getRoot(o);for(const[k,b]of p)e.setAttribute(k,b,f);for(const k of u){const b=this._createNode(e,k);e.insert(b,f,"end")}}),Object.entries(this._data.markers).forEach(([o,a])=>{const{document:l}=i.model,u=a,{rangeJSON:{start:p,end:f}}=u,k=((I,D)=>{var N={};for(var L in I)s2.call(I,L)&&D.indexOf(L)<0&&(N[L]=I[L]);if(I!=null&&vg)for(var L of vg(I))D.indexOf(L)<0&&a2.call(I,L)&&(N[L]=I[L]);return N})(u,["rangeJSON"]),b=l.getRoot(p.root),_=e.createPositionFromPath(b,p.path,p.stickiness),C=e.createPositionFromPath(b,f.path,f.stickiness),x=e.createRange(_,C);e.addMarker(o,Mw({range:x},k))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(o=>{const a=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(o.threadId)&&l.getCommentThread(o.threadId).remove(),l.addCommentThread(Mw({channelId:a},o))}),i.forEach(o=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(o.id)?a.getSuggestion(o.id).attributes=o.attributes:a.addSuggestionData(o)})}}const Fd=Symbol("MainQueueId");class l9{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const o=e===Fd;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(Fd),this._queues.get(e)])).then(i),l=a.catch(()=>{});return this._queues.set(e,l),a.finally(()=>{this._activeActions--,this._queues.get(e)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(u=>u())})}}function d2(s){return Array.isArray(s)?s:[s]}class Cg extends fw(a6){constructor(e,i={}){if(!yg(e)&&i.initialData!==void 0)throw new V("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",function(l){return yg(l)?(u=l,u instanceof HTMLTextAreaElement?u.value:u.innerHTML):l;var u}(e)),yg(e)&&(this.sourceElement=e),this.model.document.createRoot();const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=new i9(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:o});this.ui=new t9(this,a),function(l){if(!Xr(l.updateSourceElement))throw new V("attachtoform-missing-elementapi-interface",l);const u=l.sourceElement;if(function(p){return!!p&&p.tagName.toLowerCase()==="textarea"}(u)&&u.form){let p;const f=u.form,k=()=>l.updateSourceElement();Xr(f.submit)&&(p=f.submit,f.submit=()=>{k(),p.apply(f)}),f.addEventListener("submit",k),l.on("destroy",()=>{f.removeEventListener("submit",k),p&&(f.submit=p)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(o=>{const a=new this(e,i);o(a.initPlugins().then(()=>a.ui.init(yg(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function yg(s){return Lt(s)}Cg.Context=Ey,Cg.EditorWatchdog=l2,Cg.ContextWatchdog=class extends r2{constructor(s,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new l9,this._watchdogConfig=e,this._creator=i=>s.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(s){this._creator=s}setDestructor(s){this._destructor=s}get context(){return this._context}create(s={}){return this._actionQueues.enqueue(Fd,()=>(this._contextConfig=s,this._create()))}getItem(s){return this._getWatchdog(s)._item}getItemState(s){return this._getWatchdog(s).state}add(s){const e=d2(s);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return o=new l2(null,this._watchdogConfig),o.setCreator(i.creator),o._setExcludedProperties(this._contextProps),i.destructor&&o.setDestructor(i.destructor),this._watchdogs.set(i.id,o),o.on("error",(a,{error:l,causesRestart:u})=>{this._fire("itemError",{itemId:i.id,error:l}),u&&this._actionQueues.enqueue(i.id,()=>new Promise(p=>{const f=()=>{o.off("restart",f),this._fire("itemRestart",{itemId:i.id}),p()};o.on("restart",f)}))}),o.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(s){const e=d2(s);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const o=this._getWatchdog(i);return this._watchdogs.delete(i),o.destroy()})))}destroy(){return this._actionQueues.enqueue(Fd,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Fd,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(s=>{console.error("An error happened during destroying the context or items.",s)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(s=>(this._context=s,this._contextProps=Sw(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const s=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(s))})}_getWatchdog(s){const e=this._watchdogs.get(s);if(!e)throw new Error(`Item with the given id was not registered: ${s}.`);return e}_isErrorComingFromThisItem(s){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(s))return!1;return o2(this._context,s.context)}};class Ud extends qo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function o(a){return(l,u)=>{u.preventDefault();const p=u.dropRange?[u.dropRange]:null,f=new z(i,a);i.fire(f,{dataTransfer:u.dataTransfer,method:l.name,targetRanges:p,target:u.target,domEvent:u.domEvent}),f.stop.called&&u.stopPropagation()}}this.listenTo(i,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,o=e.type=="drop"||e.type=="paste",a={dataTransfer:new l1(i,{cacheFiles:o})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(l,u){const p=u.target.ownerDocument,f=u.clientX,k=u.clientY;let b;return p.caretRangeFromPoint&&p.caretRangeFromPoint(f,k)?b=p.caretRangeFromPoint(f,k):u.rangeParent&&(b=p.createRange(),b.setStart(u.rangeParent,u.rangeOffset),b.collapse(!0)),b?l.domConverter.domRangeToView(b):null}(this.view,e)),this.fire(e.type,e,a)}}const u2=["figcaption","li"],h2=["ol","ul"];function p2(s){if(s.is("$text")||s.is("$textProxy"))return s.data;if(s.is("element","img")&&s.hasAttribute("alt"))return s.getAttribute("alt");if(s.is("element","br"))return`
`;let e="",i=null;for(const o of s.getChildren())e+=d9(o,i)+p2(o),i=o;return e}function d9(s,e){return e?s.is("element","li")&&!s.isEmpty&&s.getChild(0).is("containerElement")||h2.includes(s.name)&&h2.includes(e.name)?`

`:s.is("containerElement")||e.is("containerElement")?u2.includes(s.name)||u2.includes(e.name)?`
`:`

`:"":""}const u9=function(s,e){return s&&fy(s,e,Uo)},h9=function(s,e,i,o){var a=i.length,l=a,u=!o;if(s==null)return!l;for(s=Object(s);a--;){var p=i[a];if(u&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++a<l;){var f=(p=i[a])[0],k=s[f],b=p[1];if(u&&p[2]){if(k===void 0&&!(f in s))return!1}else{var _=new jo;if(o)var C=o(k,b,f,s,e,_);if(!(C===void 0?tg(b,k,3,o,_):C))return!1}}return!0},g2=function(s){return s==s&&!ut(s)},p9=function(s){for(var e=Uo(s),i=e.length;i--;){var o=e[i],a=s[o];e[i]=[o,a,g2(a)]}return e},f2=function(s,e){return function(i){return i!=null&&i[s]===e&&(e!==void 0||s in Object(i))}},g9=function(s){var e=p9(s);return e.length==1&&e[0][2]?f2(e[0][0],e[0][1]):function(i){return i===s||h9(i,s,e)}},f9=function(s,e){return s!=null&&e in Object(s)},m9=function(s,e,i){for(var o=-1,a=(e=qp(e,s)).length,l=!1;++o<a;){var u=fc(e[o]);if(!(l=s!=null&&i(s,u)))break;s=s[u]}return l||++o!=a?l:!!(a=s==null?0:s.length)&&Xl(a)&&sc(u,a)&&(Ot(s)||oc(s))},k9=function(s,e){return s!=null&&m9(s,e,f9)},b9=function(s,e){return Lb(s)&&g2(e)?f2(fc(s),e):function(i){var o=Cd(i,s);return o===void 0&&o===e?k9(i,s):tg(e,o,3)}},w9=function(s){return function(e){return e==null?void 0:e[s]}},_9=function(s){return function(e){return Vb(e,s)}},A9=function(s){return Lb(s)?w9(fc(s)):_9(s)},v9=function(s){return typeof s=="function"?s:s==null?Wo:typeof s=="object"?Ot(s)?b9(s[0],s[1]):g9(s):A9(s)},C9=function(s,e){var i={};return e=v9(e),u9(s,function(o,a,l){zo(i,a,e(o,a,l))}),i};var y9=Object.defineProperty,E9=Object.defineProperties,x9=Object.getOwnPropertyDescriptors,m2=Object.getOwnPropertySymbols,I9=Object.prototype.hasOwnProperty,T9=Object.prototype.propertyIsEnumerable,k2=(s,e,i)=>e in s?y9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class Hd extends re{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){const o=Array.isArray(i)?i:this._mapRestrictionPresetToActions(i);o.length&&this._markersToCopy.set(e,o)}_mapRestrictionPresetToActions(e){switch(e){case"always":return["copy","cut","dragstart"];case"default":return["cut","dragstart"];case"never":return[];default:return[]}}_copySelectedFragmentWithMarkers(e,i,o=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const l=a.model.document.selection;a.setSelection(i);const u=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),p=o(a),f=this._removeFakeMarkersInsideElement(a,p);for(const[k,b]of Object.entries(u)){f[k]||(f[k]=a.createRangeIn(p));for(const _ of b)a.remove(_)}p.markers.clear();for(const[k,b]of Object.entries(f))p.markers.set(k,b);return a.setSelection(l),p})}_pasteMarkersIntoTransformedElement(e,i){const o=this._getCopyableMarkersFromRangeMap(e);return this.editor.model.change(a=>{const l=this._insertFakeMarkersElements(a,o),u=i(a),p=this._removeFakeMarkersInsideElement(a,u);for(const f of Object.values(l).flat())a.remove(f);for(const[f,k]of Object.entries(p)){const b=a.model.markers.has(f)?this._getUniqueMarkerName(f):f;a.addMarker(b,{usingOperation:!0,affectsData:!0,range:k})}return u})}_forceMarkersCopy(e,i){const o=this._markersToCopy.get(e);this._markersToCopy.set(e,this._mapRestrictionPresetToActions("always")),i(),o?this._markersToCopy.set(e,o):this._markersToCopy.delete(e)}_canPerformMarkerClipboardAction(e,i){const[o]=e.split(":");return i?(this._markersToCopy.get(o)||[]).includes(i):this._markersToCopy.has(o)}_setUniqueMarkerNamesInFragment(e){const i=Array.from(e.markers);e.markers.clear();for(const[o,a]of i){const l=this._canPerformMarkerClipboardAction(o,null)?this._getUniqueMarkerName(o):o;e.markers.set(l,a)}}_insertFakeMarkersIntoSelection(e,i,o){const a=this._getCopyableMarkersFromSelection(e,i,o);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,i,o){return Array.from(i.getRanges()).flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a))).filter(a=>this._canPerformMarkerClipboardAction(a.name,o)).map(a=>({name:a.name,range:a.getRange()}))}_getCopyableMarkersFromRangeMap(e,i=null){return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).map(([o,a])=>({name:o,range:a})).filter(o=>this._canPerformMarkerClipboardAction(o.name,i))}_insertFakeMarkersElements(e,i){const o={},a=i.flatMap(l=>{const{start:u,end:p}=l.range;return[{position:u,marker:l,type:"start"},{position:p,marker:l,type:"end"}]}).sort(({position:l},{position:u})=>l.isBefore(u)?1:-1);for(const{position:l,marker:u,type:p}of a){const f=e.createElement("$marker",{"data-name":u.name,"data-type":p});o[u.name]||(o[u.name]=[]),o[u.name].push(f),e.insert(f,l)}return o}_removeFakeMarkersInsideElement(e,i){const o=this._getAllFakeMarkersFromElement(e,i).reduce((a,l)=>{const u=l.markerElement&&e.createPositionBefore(l.markerElement);let p=a[l.name];var f,k;return p&&p.start&&p.end&&(a[this._getUniqueMarkerName(l.name)]=a[l.name],p=null),a[l.name]=(f=((b,_)=>{for(var C in _||(_={}))I9.call(_,C)&&k2(b,C,_[C]);if(m2)for(var C of m2(_))T9.call(_,C)&&k2(b,C,_[C]);return b})({},p),k={[l.type]:u},E9(f,x9(k))),l.markerElement&&e.remove(l.markerElement),a},{});return C9(o,a=>new G(a.start||e.createPositionFromPath(i,[0]),a.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const o=Array.from(e.createRangeIn(i)).flatMap(({item:u})=>{if(!u.is("element","$marker"))return[];const p=u.getAttribute("data-name"),f=u.getAttribute("data-type");return[{markerElement:u,name:p,type:f}]}),a=[],l=[];for(const u of o)u.type==="end"&&(o.some(p=>p.name===u.name&&p.type==="start")||a.push({markerElement:null,name:u.name,type:"start"})),u.type==="start"&&(o.some(p=>p.name===u.name&&p.type==="end")||l.unshift({markerElement:null,name:u.name,type:"end"}));return[...a,...o,...l]}_getUniqueMarkerName(e){const i=e.split(":"),o=K().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${o}`:`${i.join(":")}:${o}`}}class ji extends re{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Hd]}init(){this.editor.editing.view.addObserver(Ud),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,o){const a=this.editor.plugins.get("ClipboardMarkersUtils")._copySelectedFragmentWithMarkers(o,i);this.fire("outputTransformation",{dataTransfer:e,content:a,method:o})}_setupPasteDrop(){const e=this.editor,i=e.model,o=e.editing.view,a=o.document,l=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(u,p)=>{p.method!="paste"||e.model.canEditAt(e.model.document.selection)||u.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(u,p)=>{const f=p.dataTransfer;let k;if(p.content)k=p.content;else{let C="";f.getData("text/html")?C=function(x){return x.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(I,D)=>D.length==1?" ":D).replace(/<!--[\s\S]*?-->/g,"")}(f.getData("text/html")):f.getData("text/plain")&&(((b=(b=f.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||b.includes("<br>"))&&(b=`<p>${b}</p>`),C=b),k=this.editor.data.htmlProcessor.toView(C)}var b;const _=new z(this,"inputTransformation");this.fire(_,{content:k,dataTransfer:f,targetRanges:p.targetRanges,method:p.method}),_.stop.called&&u.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,p)=>{if(p.content.isEmpty)return;const f=this.editor.data.toModel(p.content,"$clipboardHolder");f.childCount!=0&&(u.stop(),i.change(()=>{this.fire("contentInsertion",{content:f,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,p)=>{l._setUniqueMarkerNamesInFragment(p.content)},{priority:"highest"}),this.listenTo(this,"contentInsertion",(u,p)=>{p.resultRange=i.insertContent(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,o=e.editing.view.document,a=(l,u)=>{const p=u.dataTransfer;u.preventDefault(),this._fireOutputTransformationEvent(p,i.selection,l.name)};this.listenTo(o,"copy",a,{priority:"low"}),this.listenTo(o,"cut",(l,u)=>{e.model.canEditAt(e.model.document.selection)?a(l,u):u.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(l,u)=>{const p=e.data.toView(u.content);o.fire("clipboardOutput",{dataTransfer:u.dataTransfer,content:p,method:u.method})},{priority:"low"}),this.listenTo(o,"clipboardOutput",(l,u)=>{u.content.isEmpty||(u.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(u.content)),u.dataTransfer.setData("text/plain",p2(u.content))),u.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class b2{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(o,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class D9 extends Be{constructor(e,i){super(e),this._buffer=new b2(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,o=i.document,a=e.text||"",l=a.length;let u=o.selection;if(e.selection?u=e.selection:e.range&&(u=i.createSelection(e.range)),!i.canEditAt(u))return;const p=e.resultRange;i.enqueueChange(this._buffer.batch,f=>{this._buffer.lock();const k=Array.from(o.selection.getAttributes());i.deleteContent(u),a&&i.insertContent(f.createText(a,k),u),p?f.setSelection(p):u.is("documentSelection")||f.setSelection(u),this._buffer.unlock(),this._buffer.input(l)})}}const w2=["insertText","insertReplacementText"];class S9 extends xr{constructor(e){super(e),this.focusObserver=e.getObserver(ng),v.isAndroid&&w2.push("insertCompositionText");const i=e.document;i.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const{data:l,targetRanges:u,inputType:p,domEvent:f}=a;if(!w2.includes(p))return;this.focusObserver.flush();const k=new z(i,"insertText");i.fire(k,new bc(e,f,{text:l,selection:e.createSelection(u)})),k.stop.called&&o.stop()}),i.on("compositionend",(o,{data:a,domEvent:l})=>{this.isEnabled&&!v.isAndroid&&a&&i.fire("insertText",new bc(e,l,{text:a,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class _2 extends re{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,o=e.editing.view,a=i.document.selection;o.addObserver(S9);const l=new D9(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(o.document,"insertText",(u,p)=>{o.document.isComposing||p.preventDefault();const{text:f,selection:k,resultRange:b}=p,_=Array.from(k.getRanges()).map(I=>e.editing.mapper.toModelRange(I));let C=f;if(v.isAndroid){const I=Array.from(_[0].getItems()).reduce((D,N)=>D+(N.is("$textProxy")?N.data:""),"");I&&(I.length<=C.length?C.startsWith(I)&&(C=C.substring(I.length),_[0].start=_[0].start.getShiftedBy(I.length)):I.startsWith(C)&&(_[0].start=_[0].start.getShiftedBy(C.length),C=""))}const x={text:C,selection:i.createSelection(_)};b&&(x.resultRange=e.editing.mapper.toModelRange(b)),e.execute("insertText",x),o.scrollToTheSelection()}),v.isAndroid?this.listenTo(o.document,"keydown",(u,p)=>{!a.isCollapsed&&p.keyCode==229&&o.document.isComposing&&A2(i,l)}):this.listenTo(o.document,"compositionstart",()=>{a.isCollapsed||A2(i,l)})}}function A2(s,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),s.enqueueChange(i.batch,()=>{s.deleteContent(s.document.selection)}),i.unlock()}class v2 extends Be{constructor(e,i){super(e),this.direction=i,this._buffer=new b2(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,o=i.document;i.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const l=a.createSelection(e.selection||o.selection);if(!i.canEditAt(l))return;const u=e.sequence||1,p=l.isCollapsed;if(l.isCollapsed&&i.modifySelection(l,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(u))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(l,u))return void this.editor.execute("paragraph",{selection:l});if(l.isCollapsed)return;let f=0;l.getFirstRange().getMinimalFlatRanges().forEach(k=>{f+=Hl(k.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(l,{doNotResetEntireContent:p,direction:this.direction}),this._buffer.input(f),a.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,o=i.document.selection,a=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(a))||!i.schema.checkChild(a,"paragraph"))return!1;const l=a.getChild(0);return!l||!l.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,o=i.document.selection,a=i.schema.getLimitElement(o),l=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(l,a),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const o=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),l=o.schema.getLimitElement(a),u=l.getChild(0);return a.parent==u&&!!e.containsEntireContent(u)&&!!o.schema.checkChild(l,"paragraph")&&u.name!="paragraph"}}const C2="word",Yo="selection",yc="backward",$d="forward",y2={deleteContent:{unit:Yo,direction:yc},deleteContentBackward:{unit:"codePoint",direction:yc},deleteWordBackward:{unit:C2,direction:yc},deleteHardLineBackward:{unit:Yo,direction:yc},deleteSoftLineBackward:{unit:Yo,direction:yc},deleteContentForward:{unit:"character",direction:$d},deleteWordForward:{unit:C2,direction:$d},deleteHardLineForward:{unit:Yo,direction:$d},deleteSoftLineForward:{unit:Yo,direction:$d}};class M9 extends xr{constructor(e){super(e);const i=e.document;let o=0;i.on("keydown",()=>{o++}),i.on("keyup",()=>{o=0}),i.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;const{targetRanges:u,domEvent:p,inputType:f}=l,k=y2[f];if(!k)return;const b={direction:k.direction,unit:k.unit,sequence:o};b.unit==Yo&&(b.selectionToRemove=e.createSelection(u[0])),f==="deleteContentBackward"&&(v.isAndroid&&(b.sequence=1),function(C){if(C.length!=1||C[0].isCollapsed)return!1;const x=C[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let I=0;for(const{nextPosition:D}of x){if(D.parent.is("$text")){const N=D.parent.data,L=D.offset;if(Nb(N,L)||Rb(N,L)||wy(N,L))continue;I++}else I++;if(I>1)return!0}return!1}(u)&&(b.unit=Yo,b.selectionToRemove=e.createSelection(u)));const _=new mc(i,"delete",u[0]);i.fire(_,new bc(e,p,b)),_.stop.called&&a.stop()}),v.isBlink&&function(a){const l=a.view,u=l.document;let p=null,f=!1;function k(_){return _==We.backspace||_==We.delete}function b(_){return _==We.backspace?yc:$d}u.on("keydown",(_,{keyCode:C})=>{p=C,f=!1}),u.on("keyup",(_,{keyCode:C,domEvent:x})=>{const I=u.selection,D=a.isEnabled&&C==p&&k(C)&&!I.isCollapsed&&!f;if(p=null,D){const N=I.getFirstRange(),L=new mc(u,"delete",N),U={unit:Yo,direction:b(C),selectionToRemove:I};u.fire(L,new bc(l,x,U))}}),u.on("beforeinput",(_,{inputType:C})=>{const x=y2[C];k(p)&&x&&x.direction==b(p)&&(f=!0)},{priority:"high"}),u.on("beforeinput",(_,{inputType:C,data:x})=>{p==We.delete&&C=="insertText"&&x==""&&_.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ho extends re{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,o=i.document,a=e.model.document;i.addObserver(M9),this._undoOnBackspace=!1;const l=new v2(e,"forward");e.commands.add("deleteForward",l),e.commands.add("forwardDelete",l),e.commands.add("delete",new v2(e,"backward")),this.listenTo(o,"delete",(u,p)=>{o.isComposing||p.preventDefault();const{direction:f,sequence:k,selectionToRemove:b,unit:_}=p,C=f==="forward"?"deleteForward":"delete",x={sequence:k};if(_=="selection"){const I=Array.from(b.getRanges()).map(D=>e.editing.mapper.toModelRange(D));x.selection=e.model.createSelection(I)}else x.unit=_;e.execute(C,x),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(u,p)=>{this._undoOnBackspace&&p.direction=="backward"&&p.sequence==1&&p.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),p.preventDefault(),u.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class P9 extends re{static get requires(){return[_2,ho]}static get pluginName(){return"Typing"}}function E2(s,e){let i=s.start;return{text:Array.from(s.getWalker({ignoreElementEnd:!1})).reduce((o,{item:a})=>a.is("$text")||a.is("$textProxy")?o+a.data:(i=e.createPositionAfter(a),""),""),range:e.createRange(i,s.end)}}class x2 extends tt(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,i={}){const o=this.model,a=o.document.selection,l=o.createRange(o.createPositionAt(a.focus.parent,0),a.focus),{text:u,range:p}=E2(l,o),f=this.testCallback(u);if(!f&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!f,f){const k=Object.assign(i,{text:u,range:p});typeof f=="object"&&Object.assign(k,f),this.fire(`matched:${e}`,k)}}}class I2 extends re{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,o=e.editing.view,a=e.locale,l=i.document.selection;this.listenTo(o.document,"arrowKey",(u,p)=>{if(!l.isCollapsed||p.shiftKey||p.altKey||p.ctrlKey)return;const f=p.keyCode==We.arrowright,k=p.keyCode==We.arrowleft;if(!f&&!k)return;const b=a.contentLanguageDirection;let _=!1;_=b==="ltr"&&f||b==="rtl"&&k?this._handleForwardMovement(p):this._handleBackwardMovement(p),_===!0&&u.stop()},{context:"$text",priority:"highest"}),this.listenTo(l,"change:range",(u,p)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!p.directChange&&zi(l.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,o=this.editor.model,a=o.document.selection,l=a.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!po(a,i))&&!!zi(l,i)&&(qd(e),po(a,i)&&zi(l,i,!0)?Wd(o,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,o=this.editor.model,a=o.document.selection,l=a.getFirstPosition();return this._isGravityOverridden?(qd(e),this._restoreGravity(),zi(l,i,!0)?Wd(o,i):Eg(o,i,l),!0):l.isAtStart?!!po(a,i)&&(qd(e),Eg(o,i,l),!0):!po(a,i)&&zi(l,i,!0)?(qd(e),Eg(o,i,l),!0):!!T2(l,i)&&(l.isAtEnd&&!po(a,i)&&zi(l,i)?(qd(e),Eg(o,i,l),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,o=i.document.selection,a=e.editing.view.document;e.editing.view.addObserver(pw);let l=!1;this.listenTo(a,"mousedown",()=>{l=!0}),this.listenTo(a,"selectionChange",()=>{const u=this.attributes;if(!l||(l=!1,!o.isCollapsed)||!po(o,u))return;const p=o.getFirstPosition();zi(p,u)&&(p.isAtStart||zi(p,u,!0)?Wd(i,u):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,o=this.attributes;this.listenTo(e,"insertContent",()=>{const a=i.getFirstPosition();po(i,o)&&zi(a,o)&&Wd(e,o)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,o=i.document.selection,a=e.editing.view;let l=!1,u=!1;this.listenTo(a.document,"delete",(p,f)=>{l=f.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!l)return;const p=o.getFirstPosition();u=po(o,this.attributes)&&!T2(p,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{l&&(l=!1,u||e.model.enqueueChange(()=>{const p=o.getFirstPosition();po(o,this.attributes)&&zi(p,this.attributes)&&(p.isAtStart||zi(p,this.attributes,!0)?Wd(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function po(s,e){for(const i of e)if(s.hasAttribute(i))return!0;return!1}function Eg(s,e,i){const o=i.nodeBefore;s.change(a=>{if(o){const l=[],u=s.schema.isObject(o)&&s.schema.isInline(o);for(const[p,f]of o.getAttributes())!s.schema.checkAttribute("$text",p)||u&&s.schema.getAttributeProperties(p).copyFromObject===!1||l.push([p,f]);a.setSelectionAttribute(l)}else a.removeSelectionAttribute(e)})}function Wd(s,e){s.change(i=>{i.removeSelectionAttribute(e)})}function qd(s){s.preventDefault()}function T2(s,e){return zi(s.getShiftedBy(-1),e)}function zi(s,e,i=!1){const{nodeBefore:o,nodeAfter:a}=s;for(const l of e){const u=o?o.getAttribute(l):void 0,p=a?a.getAttribute(l):void 0;if((!i||u!==void 0&&p!==void 0)&&p!==u)return!0}return!1}const D2={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Ec('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Ec("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Ec("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Ec('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Ec('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Ec("'"),to:[null,"‚",null,"’"]}},S2={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},N9=["symbols","mathematical","typography","quotes"];function R9(s){return typeof s=="string"?new RegExp(`(${Kx(s)})$`):s}function B9(s){return typeof s=="string"?()=>[s]:s instanceof Array?()=>s:s}function O9(s){return(s.textNode?s.textNode:s.nodeAfter).getAttributes()}function Ec(s){return new RegExp(`(^|\\s)(${s})([^${s}]*)(${s})$`)}function xg(s,e,i,o){return o.createRange(M2(s,e,i,!0,o),M2(s,e,i,!1,o))}function M2(s,e,i,o,a){let l=s.textNode||(o?s.nodeBefore:s.nodeAfter),u=null;for(;l&&l.getAttribute(e)==i;)u=l,l=o?l.previousSibling:l.nextSibling;return u?a.createPositionAt(u,o?"before":"after"):s}function*P2(s,e){for(const i of e)i&&s.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class L9 extends Be{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,o=i.document.selection,a=i.schema,l=o.isCollapsed,u=o.getFirstRange(),p=u.start.parent,f=u.end.parent;if(a.isLimit(p)||a.isLimit(f))return l||p!=f||i.deleteContent(o),!1;if(l){const k=P2(e.model.schema,o.getAttributes());return N2(e,u.start),e.setSelectionAttribute(k),!0}{const k=!(u.start.isAtStart&&u.end.isAtEnd),b=p==f;if(i.deleteContent(o,{leaveUnmerged:k}),k){if(b)return N2(e,o.focus),!0;e.setSelection(f,0)}}return!1}}function N2(s,e){s.split(e),s.setSelection(e.parent.nextSibling,0)}const j9={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class R2 extends xr{constructor(e){super(e);const i=this.document;let o=!1;i.on("keydown",(a,l)=>{o=l.shiftKey}),i.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;let u=l.inputType;v.isSafari&&o&&u=="insertParagraph"&&(u="insertLineBreak");const p=l.domEvent,f=j9[u];if(!f)return;const k=new mc(i,"enter",l.targetRanges[0]);i.fire(k,new bc(e,p,{isSoft:f.isSoft})),k.stop.called&&a.stop()})}observe(){}stopObserving(){}}class Ig extends re{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,o=i.document,a=this.editor.t;i.addObserver(R2),e.commands.add("enter",new L9(e)),this.listenTo(o,"enter",(l,u)=>{o.isComposing||u.preventDefault(),u.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class z9 extends Be{execute(){const e=this.editor.model,i=e.document;e.change(o=>{(function(a,l,u){const p=u.isCollapsed,f=u.getFirstRange(),k=f.start.parent,b=f.end.parent,_=k==b;if(p){const C=P2(a.schema,u.getAttributes());B2(a,l,f.end),l.removeSelectionAttribute(u.getAttributeKeys()),l.setSelectionAttribute(C)}else{const C=!(f.start.isAtStart&&f.end.isAtEnd);a.deleteContent(u,{leaveUnmerged:C}),_?B2(a,l,u.focus):C&&l.setSelection(b,0)}})(e,o,i.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(o,a){if(a.rangeCount>1)return!1;const l=a.anchor;if(!l||!o.checkChild(l,"softBreak"))return!1;const u=a.getFirstRange(),p=u.start.parent,f=u.end.parent;return!((Pw(p,o)||Pw(f,o))&&p!==f)}(e.schema,i.selection)}}function B2(s,e,i){const o=e.createElement("softBreak");s.insertContent(o,i),e.setSelection(o,"after")}function Pw(s,e){return!s.is("rootElement")&&(e.isLimit(s)||Pw(s.parent,e))}class V9 extends re{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,o=e.conversion,a=e.editing.view,l=a.document,u=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:f})=>f.createEmptyElement("br")}),a.addObserver(R2),e.commands.add("shiftEnter",new z9(e)),this.listenTo(l,"enter",(p,f)=>{l.isComposing||f.preventDefault(),f.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class F9 extends fe(){constructor(){super(...arguments),this._stack=[]}add(e,i){const o=this._stack,a=o[0];this._insertDescriptor(e);const l=o[0];a===l||Nw(a,l)||this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:i})}remove(e,i){const o=this._stack,a=o[0];this._removeDescriptor(e);const l=o[0];a===l||Nw(a,l)||this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:i})}_insertDescriptor(e){const i=this._stack,o=i.findIndex(l=>l.id===e.id);if(Nw(e,i[o]))return;o>-1&&i.splice(o,1);let a=0;for(;i[a]&&U9(i[a],e);)a++;i.splice(a,0,e)}_removeDescriptor(e){const i=this._stack,o=i.findIndex(a=>a.id===e);o>-1&&i.splice(o,1)}}function Nw(s,e){return s&&e&&s.priority==e.priority&&Tg(s.classes)==Tg(e.classes)}function U9(s,e){return s.priority>e.priority||!(s.priority<e.priority)&&Tg(s.classes)>Tg(e.classes)}function Tg(s){return Array.isArray(s)?s.sort().join(","):s}const H9='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',$9="ck-widget",O2="ck-widget_selected";function Kt(s){return!!s.is("element")&&!!s.getCustomProperty("widget")}function Rw(s,e,i={}){if(!s.is("containerElement"))throw new V("widget-to-widget-wrong-element-type",null,{element:s});return e.setAttribute("contenteditable","false",s),e.addClass($9,s),e.setCustomProperty("widget",!0,s),s.getFillerOffset=G9,e.setCustomProperty("widgetLabel",[],s),i.label&&function(o,a){o.getCustomProperty("widgetLabel").push(a)}(s,i.label),i.hasSelectionHandle&&function(o,a){const l=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(u){const p=this.toDomElement(u),f=new Qo;return f.set("content",H9),f.render(),p.appendChild(f.element),p});a.insert(a.createPositionAt(o,0),l),a.addClass(["ck-widget_with-selection-handle"],o)}(s,e),L2(s,e),s}function W9(s,e,i){if(e.classes&&i.addClass(pt(e.classes),s),e.attributes)for(const o in e.attributes)i.setAttribute(o,e.attributes[o],s)}function q9(s,e,i){if(e.classes&&i.removeClass(pt(e.classes),s),e.attributes)for(const o in e.attributes)i.removeAttribute(o,s)}function L2(s,e,i=W9,o=q9){const a=new F9;a.on("change:top",(l,u)=>{u.oldDescriptor&&o(s,u.oldDescriptor,u.writer),u.newDescriptor&&i(s,u.newDescriptor,u.writer)}),e.setCustomProperty("addHighlight",(l,u,p)=>a.add(u,p),s),e.setCustomProperty("removeHighlight",(l,u,p)=>a.remove(u,p),s)}function j2(s,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],s),e.setAttribute("role","textbox",s),i.label&&e.setAttribute("aria-label",i.label,s),e.setAttribute("contenteditable",s.isReadOnly?"false":"true",s),s.on("change:isReadOnly",(o,a,l)=>{e.setAttribute("contenteditable",l?"false":"true",s)}),s.on("change:isFocused",(o,a,l)=>{l?e.addClass("ck-editor__nested-editable_focused",s):e.removeClass("ck-editor__nested-editable_focused",s)}),L2(s,e),s}function z2(s,e){const i=s.getSelectedElement();if(i){const o=Zo(s);if(o)return e.createRange(e.createPositionAt(i,o))}return e.schema.findOptimalInsertionRange(s)}function G9(){return null}const go="widget-type-around";function aa(s,e,i){return!!s&&Kt(s)&&!i.isInline(e)}function Zo(s){return s.getAttribute(go)}var V2=d(8508),K9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(V2.A,K9),V2.A.locals;const F2=["before","after"],Q9=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,U2="ck-widget__type-around_disabled";class Y9 extends re{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ig,ho]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(o,a,l)=>{i.change(u=>{for(const p of i.document.roots)l?u.removeClass(U2,p):u.addClass(U2,p)}),l||e.model.change(u=>{u.removeSelectionAttribute(go)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const o=this.editor,a=o.editing.view,l=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,i),attributes:l}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,i,o,a){this.listenTo(e,i,(...l)=>{this.isEnabled&&o(...l)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Zo(e);if(!i)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,o=e.locale.t,a={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(l,u,p)=>{const f=p.mapper.toViewElement(u.item);f&&aa(f,u.item,i)&&(function(k,b,_){const C=k.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(x){const I=this.toDomElement(x);return function(D,N){for(const L of F2){const U=new or({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${L}`],title:N[L],"aria-hidden":"true"},children:[D.ownerDocument.importNode(Q9,!0)]});D.appendChild(U.render())}}(I,b),function(D){const N=new or({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});D.appendChild(N.render())}(I),I});k.insert(k.createPositionAt(_,"end"),C)}(p.writer,a,f),f.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,o=i.document.selection,a=i.schema,l=e.editing.view;function u(p){return`ck-widget_type-around_show-fake-caret_${p}`}this._listenToIfEnabled(l.document,"arrowKey",(p,f)=>{this._handleArrowKeyPress(p,f)},{context:[Kt,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(p,f)=>{f.directChange&&e.model.change(k=>{k.removeSelectionAttribute(go)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const p=o.getSelectedElement();p&&aa(e.editing.mapper.toViewElement(p),p,a)||e.model.change(f=>{f.removeSelectionAttribute(go)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(p,f,k)=>{const b=k.writer;if(this._currentFakeCaretModelElement){const I=k.mapper.toViewElement(this._currentFakeCaretModelElement);I&&(b.removeClass(F2.map(u),I),this._currentFakeCaretModelElement=null)}const _=f.selection.getSelectedElement();if(!_)return;const C=k.mapper.toViewElement(_);if(!aa(C,_,a))return;const x=Zo(f.selection);x&&(b.addClass(u(x),C),this._currentFakeCaretModelElement=_)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(p,f,k)=>{k||e.model.change(b=>{b.removeSelectionAttribute(go)})})}_handleArrowKeyPress(e,i){const o=this.editor,a=o.model,l=a.document.selection,u=a.schema,p=o.editing.view,f=function(_,C){const x=Tb(_,C);return x==="down"||x==="right"}(i.keyCode,o.locale.contentLanguageDirection),k=p.document.selection.getSelectedElement();let b;aa(k,o.editing.mapper.toModelElement(k),u)?b=this._handleArrowKeyPressOnSelectedWidget(f):l.isCollapsed?b=this._handleArrowKeyPressWhenSelectionNextToAWidget(f):i.shiftKey||(b=this._handleArrowKeyPressWhenNonCollapsedSelection(f)),b&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,o=Zo(i.document.selection);return i.change(a=>o?o!==(e?"after":"before")?(a.removeSelectionAttribute(go),!0):!1:(a.setSelectionAttribute(go,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,o=i.model,a=o.schema,l=i.plugins.get("Widget"),u=l._getObjectElementNextToSelection(e);return!!aa(i.editing.mapper.toViewElement(u),u,a)&&(o.change(p=>{l._setSelectionOverElement(u),p.setSelectionAttribute(go,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,o=i.model,a=o.schema,l=i.editing.mapper,u=o.document.selection,p=e?u.getLastPosition().nodeBefore:u.getFirstPosition().nodeAfter;return!!aa(l.toViewElement(p),p,a)&&(o.change(f=>{f.setSelection(p,"on"),f.setSelectionAttribute(go,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(o,a)=>{const l=a.domTarget.closest(".ck-widget__type-around__button");if(!l)return;const u=function(k){return k.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),p=function(k,b){const _=k.closest(".ck-widget");return b.mapDomToView(_)}(l,i.domConverter),f=e.editing.mapper.toModelElement(p);this._insertParagraph(f,u),a.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,o=e.editing.view;this._listenToIfEnabled(o.document,"enter",(a,l)=>{if(a.eventPhase!="atTarget")return;const u=i.getSelectedElement(),p=e.editing.mapper.toViewElement(u),f=e.model.schema;let k;this._insertParagraphAccordingToFakeCaretPosition()?k=!0:aa(p,u,f)&&(this._insertParagraph(u,l.isSoft?"before":"after"),k=!0),k&&(l.preventDefault(),a.stop())},{context:Kt})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),v.isAndroid?this._listenToIfEnabled(e,"keydown",(i,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,o=e.model,a=o.schema;this._listenToIfEnabled(i.document,"delete",(l,u)=>{if(l.eventPhase!="atTarget")return;const p=Zo(o.document.selection);if(!p)return;const f=u.direction,k=o.document.selection.getSelectedElement(),b=f=="forward";if(p==="before"===b)e.execute("delete",{selection:o.createSelection(k,"on")});else{const _=a.getNearestSelectionRange(o.createPositionAt(k,p),f);if(_)if(_.isCollapsed){const C=o.createSelection(_.start);if(o.modifySelection(C,{direction:f}),C.focus.isEqual(_.start)){const x=function(I,D){let N=D;for(const L of D.getAncestors({parentFirst:!0})){if(L.childCount>1||I.isLimit(L))break;N=L}return N}(a,_.start.parent);o.deleteContent(o.createSelection(x,"on"),{doNotAutoparagraph:!0})}else o.change(x=>{x.setSelection(_),e.execute(b?"deleteForward":"delete")})}else o.change(C=>{C.setSelection(_),e.execute(b?"deleteForward":"delete")})}u.preventDefault(),l.stop()},{context:Kt})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,o=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[l,u])=>{if(u&&!u.is("documentSelection"))return;const p=Zo(o);return p?(a.stop(),i.change(f=>{const k=o.getSelectedElement(),b=i.createPositionAt(k,p),_=f.createSelection(b),C=i.insertContent(l,_);return f.setSelection(_),C})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,a)=>{const[,l,u={}]=a;if(l&&!l.is("documentSelection"))return;const p=Zo(i);p&&(u.findOptimalPosition=p,a[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[a])=>{a&&!a.is("documentSelection")||Zo(i)&&o.stop()},{priority:"high"})}}function Z9(s){const e=s.model;return(i,o)=>{const a=o.keyCode==We.arrowup,l=o.keyCode==We.arrowdown,u=o.shiftKey,p=e.document.selection;if(!a&&!l)return;const f=l;if(u&&function(b,_){return!b.isCollapsed&&b.isBackward==_}(p,f))return;const k=function(b,_,C){const x=b.model;if(C){const I=_.isCollapsed?_.focus:_.getLastPosition(),D=H2(x,I,"forward");if(!D)return null;const N=x.createRange(I,D),L=$2(x.schema,N,"backward");return L?x.createRange(I,L):null}{const I=_.isCollapsed?_.focus:_.getFirstPosition(),D=H2(x,I,"backward");if(!D)return null;const N=x.createRange(D,I),L=$2(x.schema,N,"forward");return L?x.createRange(L,I):null}}(s,p,f);if(k){if(k.isCollapsed&&(p.isCollapsed||u))return;(k.isCollapsed||function(b,_,C){const x=b.model,I=b.view.domConverter;if(C){const W=x.createSelection(_.start);x.modifySelection(W),W.focus.isAtEnd||_.start.isEqual(W.focus)||(_=x.createRange(W.focus,_.end))}const D=b.mapper.toViewRange(_),N=I.viewRangeToDom(D),L=Ee.getDomRangeRects(N);let U;for(const W of L)if(U!==void 0){if(Math.round(W.top)>=U)return!1;U=Math.max(U,Math.round(W.bottom))}else U=Math.round(W.bottom);return!0}(s,k,f))&&(e.change(b=>{const _=f?k.end:k.start;if(u){const C=e.createSelection(p.anchor);C.setFocus(_),b.setSelection(C)}else b.setSelection(_)}),i.stop(),o.preventDefault(),o.stopPropagation())}}}function H2(s,e,i){const o=s.schema,a=s.createRangeIn(e.root),l=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:u,item:p,type:f}of a.getWalker({startPosition:e,direction:i})){if(o.isLimit(p)&&!o.isInline(p))return u;if(f==l&&o.isBlock(p))return null}return null}function $2(s,e,i){const o=i=="backward"?e.end:e.start;if(s.checkChild(o,"$text"))return o;for(const{nextPosition:a}of e.getWalker({direction:i}))if(s.checkChild(a,"$text"))return a;return null}var W2=d(695),J9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(W2.A,J9),W2.A.locals;class Gd extends re{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Y9,ho]}init(){const e=this.editor,i=e.editing.view,o=i.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{const f=p.writer,k=u.selection;if(k.isCollapsed)return;const b=k.getSelectedElement();if(!b)return;const _=e.editing.mapper.toViewElement(b);var C;Kt(_)&&p.consumable.consume(k,"selection")&&f.setSelection(f.createRangeOn(_),{fake:!0,label:(C=_,C.getCustomProperty("widgetLabel").reduce((x,I)=>typeof I=="function"?x?x+". "+I():I():x?x+". "+I:I,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const f=p.writer,k=f.document.selection;let b=null;for(const _ of k.getRanges())for(const C of _){const x=C.item;Kt(x)&&!X9(x,b)&&(f.addClass(O2,x),this._previouslySelected.add(x),b=x)}},{priority:"low"}),i.addObserver(pw),this.listenTo(o,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(o,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[Kt,"$text"]}),this.listenTo(o,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(o,"arrowKey",Z9(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(l,u)=>{this._handleDelete(u.direction=="forward")&&(u.preventDefault(),l.stop())},{context:"$root"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const o=this.editor,a=o.editing.view,l=a.document;let u=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(u)&&i.preventDefault());if(function(f){let k=f;for(;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(Kt(k))return!1;k=k.parent}return!1}(u)||!Kt(u)&&(u=u.findAncestor(Kt),!u))return;v.isAndroid&&i.preventDefault(),l.isFocused||a.focus();const p=o.editing.mapper.toModelElement(u);this._setSelectionOverElement(p)}_selectBlockContent(e){const i=this.editor,o=i.model,a=i.editing.mapper,l=o.schema,u=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),p=function(f,k){for(const b of f.getAncestors({includeSelf:!0,parentFirst:!0})){if(k.checkChild(b,"$text"))return b;if(k.isLimit(b)&&!k.isObject(b))break}return null}(a.toModelElement(u),o.schema);return!!p&&(o.change(f=>{const k=l.isLimit(p)?null:function(C,x){const I=new oo({startPosition:C});for(const{item:D}of I){if(x.isLimit(D)||!D.is("element"))return null;if(x.checkChild(D,"$text"))return D}return null}(f.createPositionAfter(p),l),b=f.createPositionAt(p,0),_=k?f.createPositionAt(k,0):f.createPositionAt(p,"end");f.setSelection(f.createRange(b,_))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const o=i.keyCode,a=this.editor.model,l=a.schema,u=a.document.selection,p=u.getSelectedElement(),f=Tb(o,this.editor.locale.contentLanguageDirection),k=f=="down"||f=="right",b=f=="up"||f=="down";if(p&&l.isObject(p)){const C=k?u.getLastPosition():u.getFirstPosition(),x=l.getNearestSelectionRange(C,k?"forward":"backward");return void(x&&(a.change(I=>{I.setSelection(x)}),i.preventDefault(),e.stop()))}if(!u.isCollapsed&&!i.shiftKey){const C=u.getFirstPosition(),x=u.getLastPosition(),I=C.nodeAfter,D=x.nodeBefore;return void((I&&l.isObject(I)||D&&l.isObject(D))&&(a.change(N=>{N.setSelection(k?x:C)}),i.preventDefault(),e.stop()))}if(!u.isCollapsed)return;const _=this._getObjectElementNextToSelection(k);if(_&&l.isObject(_)){if(l.isInline(_)&&b)return;this._setSelectionOverElement(_),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const o=this.editor.model,a=o.schema,l=o.document.selection.getSelectedElement();l&&a.isObject(l)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(a=>{let l=i.anchor.parent;for(;l.isEmpty;){const u=l;l=u.parent,a.remove(u)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,o=i.schema,a=i.document.selection,l=i.createSelection(a);if(i.modifySelection(l,{direction:e?"forward":"backward"}),l.isEqual(a))return null;const u=e?l.focus.nodeBefore:l.focus.nodeAfter;return u&&o.isObject(u)?u:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(O2,i);this._previouslySelected.clear()}}function X9(s,e){return!!e&&Array.from(s.getAncestors()).includes(e)}class Dg extends re{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Ag]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",o=>{(function(a){const l=a.getSelectedElement();return!(!l||!Kt(l))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:o,getRelatedElement:a,balloonClassName:l="ck-toolbar-container"}){if(!o.length)return void ie("widget-toolbar-no-items",{toolbarId:e});const u=this.editor,p=u.t,f=new vw(u.locale);if(f.ariaLabel=i||p("Widget toolbar"),this._toolbarDefinitions.has(e))throw new V("widget-toolbar-duplicated",this,{toolbarId:e});const k={view:f,getRelatedElement:a,balloonClassName:l,itemsConfig:o,initialized:!1};u.ui.addToolbar(f,{isContextual:!0,beforeFocus:()=>{const b=a(u.editing.view.document.selection);b&&this._showToolbar(k,b)},afterBlur:()=>{this._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}_updateToolbarsVisibility(){let e=0,i=null,o=null;for(const a of this._toolbarDefinitions.values()){const l=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const u=l.getAncestors().length;u>e&&(e=u,i=l,o=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}o&&this._showToolbar(o,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?q2(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:G2(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const a=o.getRelatedElement(this.editor.editing.view.document.selection);q2(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function q2(s,e){const i=s.plugins.get("ContextualBalloon"),o=G2(s,e);i.updatePosition(o)}function G2(s,e){const i=s.editing.view,o=ii.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}var K2=d(4095),eV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(K2.A,eV),K2.A.locals;const Bw=pc("px");class tV extends ve{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>Bw(i)),top:e.to("top",i=>Bw(i)),width:e.to("width",i=>Bw(i))}}})}}class Sg extends re{constructor(){super(...arguments),this.removeDropMarkerDelayed=Pb(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=wg(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=wg(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new tV,this._domEmitter=new(Xn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,o,a,l,u){this.removeDropMarkerDelayed.cancel();const p=Q2(this.editor,e,i,o,a,l,u);if(p)return u&&u.containsRange(p)?this.removeDropMarker():void this._updateDropMarkerThrottled(p)}getFinalDropRange(e,i,o,a,l,u){const p=Q2(this.editor,e,i,o,a,l,u);return this.removeDropMarker(),p}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:o})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(o);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,o=i.model.markers;i.model.change(a=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const o=this.toDomElement(i);return o.append("⁠",i.createElement("span"),"⁠"),o})}_updateDropTargetLine(e){const i=this.editor.editing,o=e.start.nodeBefore,a=e.start.nodeAfter,l=e.start.parent,u=o?i.mapper.toViewElement(o):null,p=u?i.view.domConverter.mapViewToDom(u):null,f=a?i.mapper.toViewElement(a):null,k=f?i.view.domConverter.mapViewToDom(f):null,b=i.mapper.toViewElement(l);if(!b)return;const _=i.view.domConverter.mapViewToDom(b),C=this._getScrollableRect(b),{scrollX:x,scrollY:I}=ae.window,D=p?new Ee(p):null,N=k?new Ee(k):null,L=new Ee(_).excludeScrollbarsAndBorders(),U=D?D.bottom:L.top,W=N?N.top:L.bottom,J=ae.window.getComputedStyle(_),pe=U<=W?(U+W)/2:W;if(C.top<pe&&pe<C.bottom){const _e=L.left+parseFloat(J.paddingLeft),Oe=L.right-parseFloat(J.paddingRight),ft=Math.max(_e+x,C.left),Qt=Math.min(Oe+x,C.right);this._dropTargetLineView.set({isVisible:!0,left:ft,top:pe+I,width:Qt-ft})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let o;if(this._scrollables.has(i))o=this._scrollables.get(i).domElement;else{o=function(l){let u=l;do{u=u.parentElement;const p=ae.window.getComputedStyle(u).overflowY;if(p=="auto"||p=="scroll")break}while(u.tagName!="BODY");return u}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(o,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const a=new Ri(o,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:o,resizeObserver:a})}return new Ee(o).excludeScrollbarsAndBorders()}}function Q2(s,e,i,o,a,l,u){const p=s.model,f=s.editing.mapper;let k=Z2(s,e);for(;k;){if(!l){if(p.schema.checkChild(k,"$text")){if(i){const b=i[0].start,_=f.toModelPosition(b);if(!u||Array.from(u.getItems()).every(C=>p.schema.checkChild(_,C))){if(p.schema.checkChild(_,"$text"))return p.createRange(_);if(b)return Mg(s,Z2(s,b.parent),o,a)}}}else if(p.schema.isInline(k))return Mg(s,k,o,a)}if(p.schema.isBlock(k))return Mg(s,k,o,a);if(p.schema.checkChild(k,"$block")){const b=Array.from(k.getChildren()).filter(x=>x.is("element")&&!nV(s,x));let _=0,C=b.length;if(C==0)return p.createRange(p.createPositionAt(k,"end"));for(;_<C-1;){const x=Math.floor((_+C)/2);Y2(s,b[x],o,a)=="before"?C=x:_=x}return Mg(s,b[_],o,a)}k=k.parent}return null}function nV(s,e){const i=s.editing.mapper,o=s.editing.view.domConverter,a=i.toViewElement(e);if(!a)return!0;const l=o.mapViewToDom(a);return ae.window.getComputedStyle(l).float!="none"}function Mg(s,e,i,o){const a=s.model;return a.createRange(a.createPositionAt(e,Y2(s,e,i,o)))}function Y2(s,e,i,o){const a=s.editing.mapper,l=s.editing.view.domConverter,u=a.toViewElement(e),p=l.mapViewToDom(u),f=new Ee(p);return s.model.schema.isInline(e)?i<(f.left+f.right)/2?"before":"after":o<(f.top+f.bottom)/2?"before":"after"}function Z2(s,e){const i=s.editing.mapper,o=s.editing.view,a=i.toModelElement(e);if(a)return a;const l=o.createPositionBefore(e),u=i.findMappedViewAncestor(l);return i.toModelElement(u)}var iV=Object.defineProperty,rV=Object.defineProperties,oV=Object.getOwnPropertyDescriptors,J2=Object.getOwnPropertySymbols,sV=Object.prototype.hasOwnProperty,aV=Object.prototype.propertyIsEnumerable,X2=(s,e,i)=>e in s?iV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class cV extends re{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Xn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,o,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),v.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(o,a)=>this._handleBlockDragStart(a)),this._domEmitter.listenTo(ae.document,"dragover",(o,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(ae.document,"drop",(o,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(ae.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(o,a,l)=>{i.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,o=i.document.selection,a=this.editor.editing.view,l=Array.from(o.getSelectedBlocks()),u=i.createRange(i.createPositionBefore(l[0]),i.createPositionAfter(l[l.length-1]));i.change(p=>p.setSelection(u)),this._isBlockDragging=!0,a.focus(),a.getObserver(Ud).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),o=e.clientY,a=document.elementFromPoint(i,o),l=this.editor.editing.view;var u,p;a&&a.closest(".ck-editor__editable")&&l.getObserver(Ud).onDomEvent((u=((f,k)=>{for(var b in k||(k={}))sV.call(k,b)&&X2(f,b,k[b]);if(J2)for(var b of J2(k))aV.call(k,b)&&X2(f,b,k[b]);return f})({},e),p={type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:i,clientY:o,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},rV(u,oV(p))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var eI=d(7793),lV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(eI.A,lV),eI.A.locals;class dV extends re{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Pb(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Xn())}static get pluginName(){return"DragDrop"}static get requires(){return[ji,Gd,Sg,cV]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Ud),i.addObserver(pw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,a,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,a,l)=>{l||this._finalizeDragging(!1)}),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,o=e.editing.view,a=o.document,l=e.plugins.get(Sg);this.listenTo(a,"dragstart",(u,p)=>{if(p.target&&p.target.is("editableElement")||(this._prepareDraggedRange(p.target),!this._draggedRange))return void p.preventDefault();this._draggingUid=K(),p.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",p.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const f=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(p.dataTransfer,f,"dragstart");const{dataTransfer:k,domTarget:b,domEvent:_}=p,{clientX:C}=_;this._updatePreview({dataTransfer:k,domTarget:b,clientX:C}),p.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(u,p)=>{this._finalizeDragging(!p.dataTransfer.isCanceled&&p.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(ae.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&o.focus()}),this.listenTo(a,"dragleave",()=>{l.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(u,p)=>{if(!this.isEnabled)return void(p.dataTransfer.dropEffect="none");const{clientX:f,clientY:k}=p.domEvent;l.updateDropMarker(p.target,p.targetRanges,f,k,this._blockMode,this._draggedRange),this._draggedRange||(p.dataTransfer.dropEffect="copy"),v.isGecko||(p.dataTransfer.effectAllowed=="copy"?p.dataTransfer.dropEffect="copy":["all","copyMove"].includes(p.dataTransfer.effectAllowed)&&(p.dataTransfer.dropEffect="move")),u.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,o=e.plugins.get(Sg);this.listenTo(i,"clipboardInput",(a,l)=>{if(l.method!="drop")return;const{clientX:u,clientY:p}=l.domEvent,f=o.getFinalDropRange(l.target,l.targetRanges,u,p,this._blockMode,this._draggedRange);if(!f)return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),tI(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(f,!0))return this._finalizeDragging(!1),void a.stop();l.targetRanges=[e.editing.mapper.toViewRange(f)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(ji);e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const a=o.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const a=tI(o.dataTransfer)=="move",l=!o.resultRange||!o.resultRange.isCollapsed;this._finalizeDragging(l&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,o=i.document;this.listenTo(o,"mousedown",(a,l)=>{if(v.isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let u=nI(l.target);if(v.isBlink&&!e.isReadOnly&&!u&&!o.selection.isCollapsed){const p=o.selection.getSelectedElement();p&&Kt(p)||(u=o.selection.editableElement)}u&&(i.change(p=>{p.setAttribute("draggable","true",u)}),this._draggableElement=e.editing.mapper.toModelElement(u))}),this.listenTo(o,"mouseup",()=>{v.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,o=i.model;i.plugins.get(Sg).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&o.change(a=>{const l=o.createSelection(this._draggedRange);o.deleteContent(l,{doNotAutoparagraph:!0});const u=l.getFirstPosition().parent;u.isEmpty&&!o.schema.checkChild(u,"$text")&&o.schema.checkChild(u,"paragraph")&&a.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,o=i.model,a=o.document.selection,l=e?nI(e):null;if(l){const k=i.editing.mapper.toModelElement(l);this._draggedRange=Ai.fromRange(o.createRangeOn(k)),this._blockMode=o.schema.isBlock(k),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const u=Array.from(a.getSelectedBlocks()),p=a.getFirstRange();if(u.length==0)return void(this._draggedRange=Ai.fromRange(p));const f=iI(o,u);if(u.length>1)this._draggedRange=Ai.fromRange(f),this._blockMode=!0;else if(u.length==1){const k=p.start.isTouching(f.start)&&p.end.isTouching(f.end);this._draggedRange=Ai.fromRange(k?f:p),this._blockMode=k}o.change(k=>k.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:o}){const a=this.editor.editing.view,l=a.document.selection.editableElement,u=a.domConverter.mapViewToDom(l),p=ae.window.getComputedStyle(u);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Kn(ae.document,"div",{style:"position: fixed; left: -999999px;"}),ae.document.body.appendChild(this._previewContainer));const f=new Ee(u);if(u.contains(i))return;const k=parseFloat(p.paddingLeft),b=Kn(ae.document,"div");b.className="ck ck-content",b.style.width=p.width,b.style.paddingLeft=`${f.left-o+k}px`,v.isiOS&&(b.style.backgroundColor="white"),b.innerHTML=e.getData("text/html"),e.setDragImage(b,0,0),this._previewContainer.appendChild(b)}}function tI(s){return v.isGecko?s.dropEffect:["all","copyMove"].includes(s.effectAllowed)?"move":"copy"}function nI(s){if(s.is("editableElement"))return null;if(s.hasClass("ck-widget__selection-handle"))return s.findAncestor(Kt);if(Kt(s))return s;const e=s.findAncestor(i=>Kt(i)||i.is("editableElement"));return Kt(e)?e:null}function iI(s,e){const i=e[0],o=e[e.length-1],a=i.getCommonAncestor(o),l=s.createPositionBefore(i),u=s.createPositionAfter(o);if(a&&a.is("element")&&!s.schema.isLimit(a)){const p=s.createRangeOn(a),f=l.isTouching(p.start),k=u.isTouching(p.end);if(f&&k)return iI(s,[a])}return s.createRange(l,u)}class uV extends re{static get pluginName(){return"PastePlainText"}static get requires(){return[ji]}init(){const e=this.editor,i=e.model,o=e.editing.view,a=o.document,l=i.document.selection;let u=!1;o.addObserver(Ud),this.listenTo(a,"keydown",(p,f)=>{u=f.shiftKey}),e.plugins.get(ji).on("contentInsertion",(p,f)=>{(u||function(k,b){if(k.childCount>1)return!1;const _=k.getChild(0);return b.isObject(_)?!1:Array.from(_.getAttributeKeys()).length==0}(f.content,i.schema))&&i.change(k=>{const b=Array.from(l.getAttributes()).filter(([C])=>i.schema.getAttributeProperties(C).isFormatting);l.isCollapsed||i.deleteContent(l,{doNotAutoparagraph:!0}),b.push(...l.getAttributes());const _=k.createRangeIn(f.content);for(const C of _.getItems())C.is("$textProxy")&&k.setAttributes(b,C)})})}}class rI extends re{static get pluginName(){return"Clipboard"}static get requires(){return[Hd,ji,dV,uV]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class hV extends Be{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let o=e.schema.getLimitElement(i);if(i.containsEntireContent(o)||!oI(e.schema,o))do if(o=o.parent,!o)return;while(!oI(e.schema,o));e.change(a=>{a.setSelection(o,"in")})}}function oI(s,e){return s.isLimit(e)&&(s.checkChild(e,"$text")||s.checkChild(e,"paragraph"))}const pV=vd("Ctrl+A");class gV extends re{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,o=e.editing.view.document;e.commands.add("selectAll",new hV(e)),this.listenTo(o,"keydown",(a,l)=>{gc(l)===pV&&(e.execute("selectAll"),l.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class fV extends re{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",i=>{const o=e.commands.get("selectAll"),a=new Je(i),l=i.t;return a.set({label:l("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),a})}}class mV extends re{static get requires(){return[gV,fV]}static get pluginName(){return"SelectAll"}}var kV=Object.defineProperty,sI=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,aI=(s,e,i)=>e in s?kV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class cI extends Be{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,o)=>{o[1]=((l,u)=>{for(var p in u||(u={}))bV.call(u,p)&&aI(l,p,u[p]);if(sI)for(var p of sI(u))wV.call(u,p)&&aI(l,p,u[p]);return l})({},o[1]);const a=o[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,o){const a=this.editor.model,l=a.document,u=[],p=e.map(k=>k.getTransformedByOperations(o)),f=p.flat();for(const k of p){const b=k.filter(_=>_.root!=l.graveyard).filter(_=>!AV(_,f));b.length&&(_V(b),u.push(b[0]))}u.length&&a.change(k=>{k.setSelection(u,{backward:i})})}_undo(e,i){const o=this.editor.model,a=o.document;this._createdBatches.add(i);const l=e.operations.slice().filter(u=>u.isDocumentOperation);l.reverse();for(const u of l){const p=u.baseVersion+1,f=Array.from(a.history.getOperations(p)),k=mz([u.getReversed()],f,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let b of k){const _=b.affectedSelectable;_&&!o.canEditAt(_)&&(b=new Ut(b.baseVersion)),i.addOperation(b),o.applyOperation(b),a.history.setOperationAsUndone(u,b)}}}}function _V(s){s.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<s.length;e++){const i=s[e-1].getJoined(s[e],!0);i&&(e--,s.splice(e,2,i))}}function AV(s,e){return e.some(i=>i!==s&&i.containsRange(s,!0))}class vV extends cI{execute(e=null){const i=e?this._stack.findIndex(l=>l.batch==e):this._stack.length-1,o=this._stack.splice(i,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(o.batch,a);const l=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,l)}),this.fire("revert",o.batch,a),this.refresh()}}class CV extends cI{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const o=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(o);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,i)}),this.refresh()}}class yV extends re{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new vV(e),this._redoCommand=new CV(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(o,a)=>{const l=a[0];if(!l.isDocumentOperation)return;const u=l.batch,p=this._redoCommand.createdBatches.has(u),f=this._undoCommand.createdBatches.has(u);this._batchRegistry.has(u)||(this._batchRegistry.add(u),u.isUndoable&&(p?this._undoCommand.addBatch(u):f||(this._undoCommand.addBatch(u),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class EV extends re{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,o=e.t,a=i.uiLanguageDirection=="ltr"?Te.undo:Te.redo,l=i.uiLanguageDirection=="ltr"?Te.redo:Te.undo;this._addButton("undo",o("Undo"),"CTRL+Z",a),this._addButton("redo",o("Redo"),"CTRL+Y",l)}_addButton(e,i,o,a){const l=this.editor;l.ui.componentFactory.add(e,u=>{const p=l.commands.get(e),f=new Je(u);return f.set({label:i,icon:a,keystroke:o,tooltip:!0}),f.bind("isEnabled").to(p,"isEnabled"),this.listenTo(f,"execute",()=>{l.execute(e),l.editing.view.focus()}),f})}}class lI extends re{static get requires(){return[yV,EV]}static get pluginName(){return"Undo"}}class xV extends tt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((o,a)=>{i.onload=()=>{const l=i.result;this._data=l,o(l)},i.onerror=()=>{a("error")},i.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class sr extends re{constructor(){super(...arguments),this.loaders=new Xi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[IE]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return ie("filerepository-no-upload-adapter"),null;const i=new dI(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(o=>{this._loadersMap.set(o,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let o=0;for(const a of this.loaders)o+=a.uploaded;this.uploaded=o}),i.on("change:uploadTotal",()=>{let o=0;for(const a of this.loaders)a.uploadTotal&&(o+=a.uploadTotal);this.uploadTotal=o}),i}destroyLoader(e){const i=e instanceof dI?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((o,a)=>{o===i&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(IE);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,o=a=>`${i("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class dI extends tt(){constructor(e,i){super(),this.id=K(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new xV,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,a)=>a?o/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new V("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new V("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((o,a)=>{i.rejecter=a,i.isFulfilled=!1,e.then(l=>{i.isFulfilled=!0,o(l)}).catch(l=>{i.isFulfilled=!0,a(l)})}),i}}class IV extends Je{constructor(e){super(e),this.buttonView=this,this._fileInputView=new TV(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class TV extends ve{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const uI="ckCsrfToken",hI="abcdefghijklmnopqrstuvwxyz0123456789";function DV(){let s=function(o){o=o.toLowerCase();const a=document.cookie.split(";");for(const l of a){const u=l.split("=");if(decodeURIComponent(u[0].trim().toLowerCase())===o)return decodeURIComponent(u[1])}return null}(uI);var e,i;return s&&s.length==40||(s=function(o){let a="";const l=new Uint8Array(o);window.crypto.getRandomValues(l);for(let u=0;u<l.length;u++){const p=hI.charAt(l[u]%hI.length);a+=Math.random()>.5?p.toUpperCase():p}return a}(40),e=uI,i=s,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),s}class SV{constructor(e,i,o){this.loader=e,this.url=i,this.t=o}upload(){return this.loader.file.then(e=>new Promise((i,o)=>{this._initRequest(),this._initListeners(i,o,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,o){const a=this.xhr,l=this.loader,u=(0,this.t)("Cannot upload file:")+` ${o.name}.`;a.addEventListener("error",()=>i(u)),a.addEventListener("abort",()=>i()),a.addEventListener("load",()=>{const p=a.response;if(!p||!p.uploaded)return i(p&&p.error&&p.error.message?p.error.message:u);e({default:p.url})}),a.upload&&a.upload.addEventListener("progress",p=>{p.lengthComputable&&(l.uploadTotal=p.total,l.uploaded=p.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",DV()),this.xhr.send(i)}}function Jo(s,e,i,o){let a,l=null;typeof o=="function"?a=o:(l=s.commands.get(o),a=()=>{s.execute(o)}),s.model.document.on("change:data",(u,p)=>{if(l&&!l.isEnabled||!e.isEnabled)return;const f=rn(s.model.document.selection.getRanges());if(!f.isCollapsed||p.isUndo||!p.isLocal)return;const k=Array.from(s.model.document.differ.getChanges()),b=k[0];if(k.length!=1||b.type!=="insert"||b.name!="$text"||b.length!=1)return;const _=b.position.parent;if(_.is("element","codeBlock")||_.is("element","listItem")&&typeof o!="function"&&!["numberedList","bulletedList","todoList"].includes(o)||l&&l.value===!0)return;const C=_.getChild(0),x=s.model.createRangeOn(C);if(!x.containsRange(f)&&!f.end.isEqual(x.end))return;const I=i.exec(C.data.substr(0,f.end.offset));I&&s.model.enqueueChange(D=>{const N=D.createPositionAt(_,0),L=D.createPositionAt(_,I[0].length),U=new Ai(N,L);if(a({match:I})!==!1){D.remove(U);const W=s.model.document.selection.getFirstRange(),J=D.createRangeIn(_);!_.isEmpty||J.isEqual(W)||J.containsRange(W,!0)||D.remove(_)}U.detach(),s.model.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})})})}function xc(s,e,i,o){let a,l;i instanceof RegExp?a=i:l=i,l=l||(u=>{let p;const f=[],k=[];for(;(p=a.exec(u))!==null&&!(p&&p.length<4);){let{index:b,1:_,2:C,3:x}=p;const I=_+C+x;b+=p[0].length-I.length;const D=[b,b+_.length],N=[b+_.length+C.length,b+_.length+C.length+x.length];f.push(D),f.push(N),k.push([b+_.length,b+_.length+C.length])}return{remove:f,format:k}}),s.model.document.on("change:data",(u,p)=>{if(p.isUndo||!p.isLocal||!e.isEnabled)return;const f=s.model,k=f.document.selection;if(!k.isCollapsed)return;const b=Array.from(f.document.differ.getChanges()),_=b[0];if(b.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const C=k.focus,x=C.parent,{text:I,range:D}=function(W,J){let pe=W.start;return{text:Array.from(W.getItems()).reduce((Oe,ft)=>!ft.is("$text")&&!ft.is("$textProxy")||ft.getAttribute("code")?(pe=J.createPositionAfter(ft),""):Oe+ft.data,""),range:J.createRange(pe,W.end)}}(f.createRange(f.createPositionAt(x,0),C),f),N=l(I),L=pI(D.start,N.format,f),U=pI(D.start,N.remove,f);L.length&&U.length&&f.enqueueChange(W=>{if(o(W,L)!==!1){for(const J of U.reverse())W.remove(J);f.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})}})})}function pI(s,e,i){return e.filter(o=>o[0]!==void 0&&o[1]!==void 0).map(o=>i.createRange(s.getShiftedBy(o[0]),s.getShiftedBy(o[1])))}function Pg(s,e){return(i,o)=>{if(!s.commands.get(e).isEnabled)return!1;const a=s.model.schema.getValidRanges(o,e);for(const l of a)i.setAttribute(e,!0,l);i.removeSelectionAttribute(e)}}class gI extends Be{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,o=i.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;i.change(l=>{if(o.isCollapsed)a?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const u=i.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const p of u)a?l.setAttribute(this.attributeKey,a,p):l.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const a of o.getRanges())for(const l of a.getItems())if(i.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const Ic="bold";class MV extends re{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Ic}),e.model.schema.setAttributeProperties(Ic,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ic,view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ic,new gI(e,Ic)),e.keystrokes.set("CTRL+B",Ic),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}const Ow="bold";class PV extends re{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Ow,o=>{const a=e.commands.get(Ow),l=new Je(o);return l.set({label:i("Bold"),icon:Te.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(Ow),e.editing.view.focus()}),l})}}var fI=d(4199),NV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(fI.A,NV),fI.A.locals;const Tc="italic";class RV extends re{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Tc}),e.model.schema.setAttributeProperties(Tc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Tc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Tc,new gI(e,Tc)),e.keystrokes.set("CTRL+I",Tc),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const Lw="italic";class BV extends re{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Lw,o=>{const a=e.commands.get(Lw),l=new Je(o);return l.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(Lw),e.editing.view.focus()}),l})}}class OV extends Be{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.schema,a=i.document.selection,l=Array.from(a.getSelectedBlocks()),u=e.forceValue===void 0?!this.value:e.forceValue;i.change(p=>{if(u){const f=l.filter(k=>Ng(k)||kI(o,k));this._applyQuote(p,f)}else this._removeQuote(p,l.filter(Ng))})}_getValue(){const e=rn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Ng(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,o=rn(e.getSelectedBlocks());return!!o&&kI(i,o)}_removeQuote(e,i){mI(e,i).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const l=e.createPositionBefore(o.start.parent);return void e.move(o,l)}o.end.isAtEnd||e.split(o.end);const a=e.createPositionAfter(o.end.parent);e.move(o,a)})}_applyQuote(e,i){const o=[];mI(e,i).reverse().forEach(a=>{let l=Ng(a.start);l||(l=e.createElement("blockQuote"),e.wrap(a,l)),o.push(l)}),o.reverse().reduce((a,l)=>a.nextSibling==l?(e.merge(e.createPositionAfter(a)),a):l)}}function Ng(s){return s.parent.name=="blockQuote"?s.parent:null}function mI(s,e){let i,o=0;const a=[];for(;o<e.length;){const l=e[o],u=e[o+1];i||(i=s.createPositionBefore(l)),u&&l.nextSibling==u||(a.push(s.createRange(i,s.createPositionAfter(l))),i=null),o++}return a}function kI(s,e){const i=s.checkChild(e.parent,"blockQuote"),o=s.checkChild(["$root","blockQuote"],e);return i&&o}class LV extends re{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ig,ho]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new OV(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(u=>{const p=e.model.document.differ.getChanges();for(const f of p)if(f.type=="insert"){const k=f.position.nodeAfter;if(!k)continue;if(k.is("element","blockQuote")&&k.isEmpty)return u.remove(k),!0;if(k.is("element","blockQuote")&&!i.checkChild(f.position,k))return u.unwrap(k),!0;if(k.is("element")){const b=u.createRangeIn(k);for(const _ of b.getItems())if(_.is("element","blockQuote")&&!i.checkChild(u.createPositionBefore(_),_))return u.unwrap(_),!0}}else if(f.type=="remove"){const k=f.position.parent;if(k.is("element","blockQuote")&&k.isEmpty)return u.remove(k),!0}return!1});const o=this.editor.editing.view.document,a=e.model.document.selection,l=e.commands.get("blockQuote");this.listenTo(o,"enter",(u,p)=>{!a.isCollapsed||!l.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(u,p)=>{if(p.direction!="backward"||!a.isCollapsed||!l.value)return;const f=a.getLastPosition().parent;f.isEmpty&&!f.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"})}}var bI=d(8708),jV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bI.A,jV),bI.A.locals;class zV extends re{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add("blockQuote",o=>{const a=e.commands.get("blockQuote"),l=new Je(o);return l.set({label:i("Block quote"),icon:Te.quote,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),l})}}class VV extends re{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t;if(e.ui.componentFactory.add("ckbox",o=>{const a=e.commands.get("ckbox"),l=new Je(o);return l.set({label:i("Open file manager"),icon:Te.browseFiles,tooltip:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),l.on("execute",()=>{e.execute("ckbox")}),l}),e.plugins.has("ImageInsertUI")){const o=e.plugins.get("ImageInsertUI");o.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=Te.imageAssetManager,a.bind("label").to(o,"isImageSelected",l=>i(l?"Replace image with file manager":"Insert image with file manager")),a},formViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=Te.imageAssetManager,a.withText=!0,a.bind("label").to(o,"isImageSelected",l=>i(l?"Replace with file manager":"Insert with file manager")),a.on("execute",()=>{o.dropdownView.isOpen=!1}),a}})}}}var FV=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Kd=s=>{let e=0;for(let i=0;i<s.length;i++){let o=s[i];e=83*e+FV.indexOf(o)}return e},jw=s=>{let e=s/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},zw=s=>{let e=Math.max(0,Math.min(1,s));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Vw=(s,e)=>(i=>i<0?-1:1)(s)*Math.pow(Math.abs(s),e),wI=class extends Error{constructor(s){super(s),this.name="ValidationError",this.message=s}},UV=s=>{if(!s||s.length<6)throw new wI("The blurhash string must be at least 6 characters");let e=Kd(s[0]),i=Math.floor(e/9)+1,o=e%9+1;if(s.length!==4+2*o*i)throw new wI(`blurhash length mismatch: length is ${s.length} but it should be ${4+2*o*i}`)},HV=s=>{let e=s>>8&255,i=255&s;return[jw(s>>16),jw(e),jw(i)]},$V=(s,e)=>{let i=Math.floor(s/361),o=Math.floor(s/19)%19,a=s%19;return[Vw((i-9)/9,2)*e,Vw((o-9)/9,2)*e,Vw((a-9)/9,2)*e]},WV=(s,e,i,o)=>{UV(s),o|=1;let a=Kd(s[0]),l=Math.floor(a/9)+1,u=a%9+1,p=(Kd(s[1])+1)/166,f=new Array(u*l);for(let _=0;_<f.length;_++)if(_===0){let C=Kd(s.substring(2,6));f[_]=HV(C)}else{let C=Kd(s.substring(4+2*_,6+2*_));f[_]=$V(C,p*o)}let k=4*e,b=new Uint8ClampedArray(k*i);for(let _=0;_<i;_++)for(let C=0;C<e;C++){let x=0,I=0,D=0;for(let W=0;W<l;W++)for(let J=0;J<u;J++){let pe=Math.cos(Math.PI*C*J/e)*Math.cos(Math.PI*_*W/i),_e=f[J+W*u];x+=_e[0]*pe,I+=_e[1]*pe,D+=_e[2]*pe}let N=zw(x),L=zw(I),U=zw(D);b[4*C+0+_*k]=N,b[4*C+1+_*k]=L,b[4*C+2+_*k]=U,b[4*C+3+_*k]=255}return b},qV=Object.defineProperty,_I=Object.getOwnPropertySymbols,GV=Object.prototype.hasOwnProperty,KV=Object.prototype.propertyIsEnumerable,AI=(s,e,i)=>e in s?qV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;function vI(s){const e=[];let i=0;for(const a in s){const l=parseInt(a,10);isNaN(l)||(l>i&&(i=l),e.push(`${s[a]} ${a}w`))}const o=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:s.default,imageSources:o}}const Qd=32;function CI({url:s,method:e="GET",data:i,onUploadProgress:o,signal:a,authorization:l}){const u=new XMLHttpRequest;u.open(e,s.toString()),u.setRequestHeader("Authorization",l),u.setRequestHeader("CKBox-Version","CKEditor 5"),u.responseType="json";const p=()=>{u.abort()};return new Promise((f,k)=>{a.throwIfAborted(),a.addEventListener("abort",p),u.addEventListener("loadstart",()=>{a.addEventListener("abort",p)}),u.addEventListener("loadend",()=>{a.removeEventListener("abort",p)}),u.addEventListener("error",()=>{k()}),u.addEventListener("abort",()=>{k()}),u.addEventListener("load",()=>{const b=u.response;if(!b||b.statusCode>=400)return k(b&&b.message);f(b)}),o&&u.upload.addEventListener("progress",b=>{o(b)}),u.send(i)})}const QV={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function YV(s,e){return i=this,o=null,a=function*(){try{const l=yield fetch(s,((u,p)=>{for(var f in p||(p={}))GV.call(p,f)&&AI(u,f,p[f]);if(_I)for(var f of _I(p))KV.call(p,f)&&AI(u,f,p[f]);return u})({method:"HEAD",cache:"force-cache"},e));return l.ok&&l.headers.get("content-type")||""}catch{return""}},new Promise((l,u)=>{var p=b=>{try{k(a.next(b))}catch(_){u(_)}},f=b=>{try{k(a.throw(b))}catch(_){u(_)}},k=b=>b.done?l(b.value):Promise.resolve(b.value).then(p,f);k((a=a.apply(i,o)).next())});var i,o,a}var ZV=Object.defineProperty,yI=Object.getOwnPropertySymbols,JV=Object.prototype.hasOwnProperty,XV=Object.prototype.propertyIsEnumerable,EI=(s,e,i)=>e in s?ZV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,xI=(s,e)=>{for(var i in e||(e={}))JV.call(e,i)&&EI(s,i,e[i]);if(yI)for(var i of yI(e))XV.call(e,i)&&EI(s,i,e[i]);return s};class eF extends Be{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,o=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Kn(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(a,l)=>{if(!this.isEnabled)return;const u=e.commands.get("insertImage"),p=e.commands.get("link"),f=function({assets:b,isImageAllowed:_,isLinkAllowed:C}){return b.map(x=>function(I){const D=I.data.metadata;return D?D.width&&D.height:!1}(x)?{id:x.data.id,type:"image",attributes:tF(x)}:{id:x.data.id,type:"link",attributes:nF(x)}).filter(x=>x.type==="image"?_:C)}({assets:l,isImageAllowed:u.isEnabled,isLinkAllowed:p.isEnabled}),k=f.length;k!==0&&(i.change(b=>{for(const _ of f){const C=_===f[k-1],x=k===1;this._insertAsset(_,C,b,x),o&&(setTimeout(()=>this._chosenAssets.delete(_),1e3),this._chosenAssets.add(_))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,o,a){const l=this.editor.model.document.selection;o.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,o,a),i||o.setSelection(l.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:o,imageSources:a,imageTextAlternative:l,imageWidth:u,imageHeight:p,imagePlaceholder:f}=e.attributes;i.execute("insertImage",{source:xI({src:o,sources:a,alt:l,width:u,height:p},f?{placeholder:f}:null)})}_insertLink(e,i,o){const a=this.editor,l=a.model,u=l.document.selection,{linkName:p,linkHref:f}=e.attributes;if(u.isCollapsed){const k=yr(u.getAttributes()),b=i.createText(p,k);if(!o){const C=u.getLastPosition(),x=C.parent;x.name==="paragraph"&&x.isEmpty||a.execute("insertParagraph",{position:C});const I=l.insertContent(b);return i.setSelection(I),void a.execute("link",f)}const _=l.insertContent(b);i.setSelection(_)}a.execute("link",f)}}function tF(s){const{imageFallbackUrl:e,imageSources:i}=vI(s.data.imageUrls),{description:o,width:a,height:l,blurHash:u}=s.data.metadata,p=function(f){if(f)try{const k=`${Qd}px`,b=document.createElement("canvas");b.setAttribute("width",k),b.setAttribute("height",k);const _=b.getContext("2d");if(!_)return;const C=_.createImageData(Qd,Qd),x=WV(f,Qd,Qd);return C.data.set(x),_.putImageData(C,0,0),b.toDataURL()}catch{return}}(u);return xI({imageFallbackUrl:e,imageSources:i,imageTextAlternative:o||"",imageWidth:a,imageHeight:l},p?{imagePlaceholder:p}:null)}function nF(s){return{linkName:s.data.name,linkHref:iF(s)}}function iF(s){const e=new URL(s.data.url);return e.searchParams.set("download","true"),e.toString()}var Fw=(s,e,i)=>new Promise((o,a)=>{var l=f=>{try{p(i.next(f))}catch(k){a(k)}},u=f=>{try{p(i.throw(f))}catch(k){a(k)}},p=f=>f.done?o(f.value):Promise.resolve(f.value).then(l,u);p((i=i.apply(s,e)).next())});class II extends re{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return Fw(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),o=!!window.CKBox;if(!i&&!o)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const a=e.plugins.get("CloudServices"),l=e.config.get("cloudServices.tokenUrl"),u=e.config.get("ckbox.tokenUrl");if(!u)throw new V("ckbox-plugin-missing-token-url",this);this._token=u==l?a.token:yield a.registerTokenUrl(u)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),o=function(a,l){const[,u]=a.value.split("."),p=JSON.parse(atob(u)),f=p.auth&&p.auth.ckbox&&p.auth.ckbox.workspaces||[p.aud];return l?(p.auth&&p.auth.ckbox&&p.auth.ckbox.role)=="superadmin"||f.includes(l)?l:null:f[0]}(this._token,i);if(o==null)throw Re("ckbox-access-default-workspace-error"),e;return o}getCategoryIdForFile(e,i){return Fw(this,null,function*(){const o=(0,this.editor.t)("Cannot determine a category for the uploaded file."),a=this.editor.config.get("ckbox.defaultUploadCategories"),l=this._getAvailableCategories(i),u=typeof e=="string"?(p=yield YV(e,i),QV[p]):function(b){const _=b.name,C=new RegExp("\\.(?<ext>[^.]+)$");return _.match(C).groups.ext.toLowerCase()}(e);var p;const f=yield l;if(!f)throw o;if(a){const b=Object.keys(a).find(_=>a[_].find(C=>C.toLowerCase()==u));if(b){const _=f.find(C=>C.id===b||C.name===b);if(!_)throw o;return _.id}}const k=f.find(b=>b.extensions.find(_=>_.toLowerCase()==u));if(!k)throw o;return k.id})}_getAvailableCategories(e){return Fw(this,null,function*(){const i=this.editor,o=this._token,{signal:a}=e,l=i.config.get("ckbox.serviceOrigin"),u=this.getWorkspaceId();try{const f=[];let k,b=0;do{const _=yield p(b);f.push(..._.items),k=_.totalCount-(b+50),b+=50}while(k>0);return f}catch{return a.throwIfAborted(),void Re("ckbox-fetch-category-http-error")}function p(f){const k=new URL("categories",l);return k.searchParams.set("limit","50"),k.searchParams.set("offset",f.toString()),k.searchParams.set("workspaceId",u),CI({url:k,signal:a,authorization:o.value})}})}}var Uw=(s,e,i)=>new Promise((o,a)=>{var l=f=>{try{p(i.next(f))}catch(k){a(k)}},u=f=>{try{p(i.throw(f))}catch(k){a(k)}},p=f=>f.done?o(f.value):Promise.resolve(f.value).then(l,u);p((i=i.apply(s,e)).next())});class rF extends re{static get requires(){return["ImageUploadEditing","ImageUploadProgress",sr,TI]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Uw(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),o=!!window.CKBox;if(!i&&!o)return;const a=e.plugins.get(sr),l=e.plugins.get(II);a.createUploadAdapter=f=>new oF(f,e,l);const u=!e.config.get("ckbox.ignoreDataId"),p=e.plugins.get("ImageUploadEditing");u&&p.on("uploadComplete",(f,{imageElement:k,data:b})=>{e.model.change(_=>{_.setAttribute("ckboxImageId",b.ckboxImageId,k)})})})}}class oF{constructor(e,i,o){this.loader=e,this.token=o.getToken(),this.ckboxUtils=o,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return Uw(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,o=yield this.loader.file,a=yield e.getCategoryIdForFile(o,{signal:this.controller.signal}),l=new URL("assets",this.serviceOrigin),u=new FormData;return l.searchParams.set("workspaceId",e.getWorkspaceId()),u.append("categoryId",a),u.append("file",o),CI({method:"POST",url:l,data:u,onUploadProgress:p=>{p.lengthComputable&&(this.loader.uploadTotal=p.total,this.loader.uploaded=p.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(p=>Uw(this,null,function*(){const f=vI(p.imageUrls);return{ckboxImageId:p.id,default:f.imageFallbackUrl,sources:f.imageSources}})).catch(()=>{const p=i("Cannot upload file:")+` ${o.name}.`;return Promise.reject(p)})})}abort(){this.controller.abort()}}class TI extends re{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",rF,II]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),SI()&&e.commands.add("ckbox",new eF(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||SI()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||Re("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,o)=>{if(!i.last.getAttribute("linkHref")&&o==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(o=>{o.on("attribute:ckboxLinkId:imageBlock",(a,l,u)=>{const{writer:p,mapper:f,consumable:k}=u;if(!k.consume(l.item,a.name))return;const b=[...f.toViewElement(l.item).getChildren()].find(_=>_.name==="a");b&&(l.item.hasAttribute("ckboxLinkId")?p.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),b):p.removeAttribute("data-ckbox-resource-id",b))},{priority:"low"}),o.on("attribute:ckboxLinkId",(a,l,u)=>{const{writer:p,mapper:f,consumable:k}=u;if(k.consume(l.item,a.name)){if(l.attributeOldValue){const b=DI(p,l.attributeOldValue);p.unwrap(f.toViewRange(l.range),b)}if(l.attributeNewValue){const b=DI(p,l.attributeNewValue);if(l.item.is("selection")){const _=p.document.selection;p.wrap(_.getFirstRange(),b)}else p.wrap(f.toViewRange(l.range),b)}}},{priority:"low"})}),e.conversion.for("upcast").add(o=>{o.on("element:a",(a,l,u)=>{const{writer:p,consumable:f}=u;if(!l.viewItem.getAttribute("href")||!f.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const k=l.viewItem.getAttribute("data-ckbox-resource-id");if(k)if(l.modelRange)for(let b of l.modelRange.getItems())b.is("$textProxy")&&(b=b.textNode),aF(b)&&p.setAttribute("ckboxLinkId",k,b);else{const b=l.modelCursor.nodeBefore||l.modelCursor.parent;p.setAttribute("ckboxLinkId",k,b)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:o=>o.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(o,[a,l])=>{a.removeAttribute("ckboxImageId",l)})}_initFixers(){const e=this.editor,i=e.model,o=i.document.selection;i.document.registerPostFixer(function(a){return l=>{let u=!1;const p=a.model,f=a.commands.get("ckbox");if(!f)return u;for(const k of p.document.differ.getChanges()){if(k.type!=="insert"&&k.type!=="attribute")continue;const b=k.type==="insert"?new G(k.position,k.position.getShiftedBy(k.length)):k.range,_=k.type==="attribute"&&k.attributeKey==="linkHref"&&k.attributeNewValue===null;for(const C of b.getItems()){if(_&&C.hasAttribute("ckboxLinkId")){l.removeAttribute("ckboxLinkId",C),u=!0;continue}const x=sF(C,f._chosenAssets);for(const I of x){const D=I.type==="image"?"ckboxImageId":"ckboxLinkId";I.id!==C.getAttribute(D)&&(l.setAttribute(D,I.id,C),u=!0)}}}return u}}(e)),i.document.registerPostFixer(function(a){return l=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(l.removeSelectionAttribute("ckboxLinkId"),!0)}(o))}}function sF(s,e){const i=s.is("element","imageInline")||s.is("element","imageBlock"),o=s.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&i?a.attributes.imageFallbackUrl===s.getAttribute("src"):a.type==="link"&&o?a.attributes.linkHref===s.getAttribute("linkHref"):void 0)}function DI(s,e){const i=s.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return s.setCustomProperty("link",!0,i),i}function aF(s){return!!s.is("$text")||!(!s.is("element","imageInline")&&!s.is("element","imageBlock"))}function SI(){return!!window.CKBox}var MI=d(1866),cF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(MI.A,cF),MI.A.locals;class lF extends re{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,o=e.t;if(i.add("ckfinder",a=>{const l=e.commands.get("ckfinder"),u=new Je(a);return u.set({label:o("Insert image or file"),icon:Te.browseFiles,tooltip:!0}),u.bind("isEnabled").to(l),u.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),u}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckfinder");return l.icon=Te.imageAssetManager,l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace image with file manager":"Insert image with file manager")),l},formViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckfinder");return l.icon=Te.imageAssetManager,l.withText=!0,l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace with file manager":"Insert with file manager")),l.on("execute",()=>{a.dropdownView.isOpen=!1}),l}})}}}class dF extends Be{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new V("ckfinder-unknown-openermethod",e);const o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;const a=o.onInit;o.language||(o.language=e.locale.uiLanguage),o.onInit=l=>{a&&a(l),l.on("files:choose",u=>{const p=u.data.files.toArray(),f=p.filter(_=>!_.isImage()),k=p.filter(_=>_.isImage());for(const _ of f)e.execute("link",_.getUrl());const b=[];for(const _ of k){const C=_.getUrl();b.push(C||l.request("file:getProxyUrl",{file:_}))}b.length&&PI(e,b)}),l.on("file:choose:resizedImage",u=>{const p=u.data.resizedUrl;if(p)PI(e,[p]);else{const f=e.plugins.get("Notification"),k=e.locale.t;f.showWarning(k("Could not obtain resized image URL."),{title:k("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}function PI(s,e){if(s.commands.get("insertImage").isEnabled)s.execute("insertImage",{source:e});else{const i=s.plugins.get("Notification"),o=s.locale.t;i.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}class uF extends re{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Tw,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new V("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new dF(e))}}class hF extends re{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",sr]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),o=i.token,a=i.uploadUrl;if(!o)return;const l=e.plugins.get("CloudServicesCore");this._uploadGateway=l.createUploadGateway(o,a),e.plugins.get(sr).createUploadAdapter=u=>new pF(this._uploadGateway,u)}}class pF{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,o)=>{this.loader.uploadTotal=o.total,this.loader.uploaded=o.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class gF extends Be{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=rn(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&NI(i,e.schema)}execute(e={}){const i=this.editor.model,o=i.document,a=e.selection||o.selection;i.canEditAt(a)&&i.change(l=>{const u=a.getSelectedBlocks();for(const p of u)!p.is("element","paragraph")&&NI(p,i.schema)&&l.rename(p,"paragraph")})}}function NI(s,e){return e.checkChild(s.parent,"paragraph")&&!e.isObject(s)}class fF extends Be{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,o=e.attributes;let a=e.position;i.canEditAt(a)&&i.change(l=>{if(a=this._findPositionToInsertParagraph(a,l),!a)return;const u=l.createElement("paragraph");o&&i.schema.setAllowedAttributes(u,o,l),i.insertContent(u,a),l.setSelection(u,"in")})}_findPositionToInsertParagraph(e,i){const o=this.editor.model;if(o.schema.checkChild(e,"paragraph"))return e;const a=o.schema.findAllowedParent(e,"paragraph");if(!a)return null;const l=e.parent,u=o.schema.checkChild(l,"$text");return l.isEmpty||u&&e.isAtEnd?o.createPositionAfter(l):!l.isEmpty&&u&&e.isAtStart?o.createPositionBefore(l):i.split(e,a).position}}const RI=class extends re{static get pluginName(){return"Paragraph"}init(){const s=this.editor,e=s.model;s.commands.add("paragraph",new gF(s)),s.commands.add("insertParagraph",new fF(s)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),s.conversion.elementToElement({model:"paragraph",view:"p"}),s.conversion.for("upcast").elementToElement({model:(i,{writer:o})=>RI.paragraphLikeElements.has(i.name)?i.isEmpty?null:o.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Hw=RI;Hw.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class mF extends Be{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=rn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>BI(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,o=i.document,a=e.value;i.change(l=>{const u=Array.from(o.selection.getSelectedBlocks()).filter(p=>BI(p,a,i.schema));for(const p of u)p.is("element",a)||l.rename(p,a)})}}function BI(s,e,i){return i.checkChild(s.parent,e)&&!i.isObject(s)}const OI="paragraph";class kF extends re{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Hw]}init(){const e=this.editor,i=e.config.get("heading.options"),o=[];for(const a of i)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),o.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new mF(e,o))}afterInit(){const e=this.editor,i=e.commands.get("enter"),o=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(a,l)=>{const u=e.model.document.selection.getFirstPosition().parent;o.some(p=>u.is("element",p.model))&&!u.is("element",OI)&&u.childCount===0&&l.writer.rename(u,OI)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Y.low+1})}}var LI=d(6269),bF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(LI.A,bF),LI.A.locals;class wF extends re{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,o=function(u){const p=u.t,f={Paragraph:p("Paragraph"),"Heading 1":p("Heading 1"),"Heading 2":p("Heading 2"),"Heading 3":p("Heading 3"),"Heading 4":p("Heading 4"),"Heading 5":p("Heading 5"),"Heading 6":p("Heading 6")};return u.config.get("heading.options").map(k=>{const b=f[k.title];return b&&b!=k.title&&(k.title=b),k})}(e),a=i("Choose heading"),l=i("Heading");e.ui.componentFactory.add("heading",u=>{const p={},f=new Xi,k=e.commands.get("heading"),b=e.commands.get("paragraph"),_=[k];for(const x of o){const I={type:"button",model:new Hx({label:x.title,class:x.class,role:"menuitemradio",withText:!0})};x.model==="paragraph"?(I.model.bind("isOn").to(b,"value"),I.model.set("commandName","paragraph"),_.push(b)):(I.model.bind("isOn").to(k,"value",D=>D===x.model),I.model.set({commandName:"heading",commandValue:x.model})),f.add(I),p[x.model]=x.title}const C=lo(u);return hx(C,f,{ariaLabel:l,role:"menu"}),C.buttonView.set({ariaLabel:l,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:l}),C.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),C.bind("isEnabled").toMany(_,"isEnabled",(...x)=>x.some(I=>I)),C.buttonView.bind("label").to(k,"value",b,"value",(x,I)=>{const D=x||I&&"paragraph";return typeof D=="boolean"?a:p[D]?p[D]:a}),this.listenTo(C,"execute",x=>{const{commandName:I,commandValue:D}=x.source;e.execute(I,D?{value:D}:void 0),e.editing.view.focus()}),C})}}function jI(s){return s.createContainerElement("figure",{class:"image"},[s.createEmptyElement("img"),s.createSlot("children")])}function zI(s,e){const i=s.plugins.get("ImageUtils"),o=s.plugins.has("ImageInlineEditing")&&s.plugins.has("ImageBlockEditing");return l=>i.isInlineImageView(l)?o&&(l.getStyle("display")=="block"||l.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(l):null;function a(l){const u={name:!0};return l.hasAttribute("src")&&(u.attributes=["src"]),u}}function $w(s,e){const i=rn(e.getSelectedBlocks());return!i||s.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function Rg(s){return s&&s.endsWith("px")?parseInt(s):null}function VI(s){const e=Rg(s.getStyle("width")),i=Rg(s.getStyle("height"));return!(!e||!i)}var _F=Object.defineProperty,FI=Object.getOwnPropertySymbols,AF=Object.prototype.hasOwnProperty,vF=Object.prototype.propertyIsEnumerable,UI=(s,e,i)=>e in s?_F(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,HI=(s,e)=>{for(var i in e||(e={}))AF.call(e,i)&&UI(s,i,e[i]);if(FI)for(var i of FI(e))vF.call(e,i)&&UI(s,i,e[i]);return s};const CF=/^(image|image-inline)$/;class oi extends re{constructor(){super(...arguments),this._domEmitter=new(Xn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,o=null,a={}){const l=this.editor,u=l.model,p=u.document.selection,f=$I(l,i||p,o);e=HI(HI({},Object.fromEntries(p.getAttributes())),e);for(const k in e)u.schema.checkAttribute(f,k)||delete e[k];return u.change(k=>{const{setImageSizes:b=!0}=a,_=k.createElement(f,e);return u.insertObject(_,i,null,{setSelection:"on",findOptimalPosition:i||f=="imageInline"?void 0:"auto"}),_.parent?(b&&this.setImageNaturalSizeAttributes(_),_):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(o=>{const a=new ae.window.Image;this._domEmitter.listenTo(a,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(o.batch,l=>{l.setAttribute("width",a.naturalWidth,e),l.setAttribute("height",a.naturalHeight,e)}),this._domEmitter.stopListening(a,"load")}),a.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let a=i.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:CF})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,o){if($I(i,o,null)=="imageBlock"){const l=function(u,p){const f=z2(u,p),k=f.start.parent;return k.isEmpty&&!k.is("element","$root")?k.parent:k}(o,i.model);if(i.model.schema.checkChild(l,"imageBlock"))return!0}else if(i.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,i,o){return i.setCustomProperty("image",!0,e),Rw(e,i,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Kt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:o}of i.createRangeIn(e))if(this.isInlineImageView(o))return o}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function $I(s,e,i){const o=s.model.schema,a=s.config.get("image.insert.type");return s.plugins.has("ImageBlockEditing")?s.plugins.has("ImageInlineEditing")?i||(a==="inline"?"imageInline":a!=="auto"?"imageBlock":e.is("selection")?$w(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class yF extends Be{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,o=i.plugins.get("ImageUtils"),a=i.model,l=o.getClosestSelectedImageElement(a.document.selection);a.change(u=>{u.setAttribute("alt",e.newValue,l)})}}class EF extends re{static get requires(){return[oi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new yF(this.editor))}}var WI=d(4062),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(WI.A,xF),WI.A.locals;var qI=d(2722),IF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(qI.A,IF),qI.A.locals;class TF extends ve{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new mn,this.keystrokes=new ei,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._focusables=new Oi,this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,o,a){const l=new Je(this.locale);return l.set({label:e,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),a&&l.delegate("execute").to(this,a),l}_createLabeledInputView(){const e=this.locale.t,i=new ug(this.locale,fg);return i.label=e("Text alternative"),i}}function GI(s){const e=s.editing.view,i=ii.defaultPositions,o=s.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class DF extends re{static get requires(){return[Ag]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const a=e.commands.get("imageTextAlternative"),l=new Je(o);return l.set({label:i("Change image text alternative"),icon:Te.textAlternative,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value",u=>!!u),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const e=this.editor,i=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(w(TF))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,l)=>{this._hideForm(!0),l()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(a){const l=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const u=GI(a);l.updatePosition(u)}}(e):this._hideForm(!0)}),g({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:GI(e)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class KI extends re{static get requires(){return[EF,DF]}static get pluginName(){return"ImageTextAlternative"}}function QI(s,e){const i=(o,a,l)=>{if(!l.consumable.consume(a.item,o.name))return;const u=l.writer,p=l.mapper.toViewElement(a.item),f=s.findViewImgElement(p);a.attributeNewValue===null?(u.removeAttribute("srcset",f),u.removeAttribute("sizes",f)):a.attributeNewValue&&(u.setAttribute("srcset",a.attributeNewValue,f),u.setAttribute("sizes","100vw",f))};return o=>{o.on(`attribute:srcset:${e}`,i)}}function Bg(s,e,i){const o=(a,l,u)=>{if(!u.consumable.consume(l.item,a.name))return;const p=u.writer,f=u.mapper.toViewElement(l.item),k=s.findViewImgElement(f);p.setAttribute(l.attributeKey,l.attributeNewValue||"",k)};return a=>{a.on(`attribute:${i}:${e}`,o)}}class YI extends xr{observe(e){this.listenTo(e,"load",(i,o)=>{const a=o.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(o)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var SF=Object.defineProperty,ZI=Object.getOwnPropertySymbols,MF=Object.prototype.hasOwnProperty,PF=Object.prototype.propertyIsEnumerable,JI=(s,e,i)=>e in s?SF(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,Og=(s,e)=>{for(var i in e||(e={}))MF.call(e,i)&&JI(s,i,e[i]);if(ZI)for(var i of ZI(e))PF.call(e,i)&&JI(s,i,e[i]);return s};class NF extends Be{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&ie("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&ie("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=pt(e.source),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(o.getAttributes());i.forEach((u,p)=>{const f=o.getSelectedElement();if(typeof u=="string"&&(u={src:u}),p&&f&&a.isImage(f)){const k=this.editor.model.createPositionAfter(f);a.insertImage(Og(Og({},u),l),k)}else a.insertImage(Og(Og({},u),l))})}}class RF extends Be{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),o=this.editor.plugins.get("ImageUtils");this.editor.model.change(a=>{a.setAttribute("src",e.source,i),this.cleanupImage(a,i),o.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class Ww extends re{static get requires(){return[oi]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(YI),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const o=new NF(e),a=new RF(e);e.commands.add("insertImage",o),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",o)}}class XI extends re{static get requires(){return[oi]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,o=i.plugins.get("ImageUtils"),a=e==="imageBlock"?"figure":"img";function l(u,p,f,k){u.on(`attribute:${p}:${e}`,(b,_,C)=>{if(!C.consumable.consume(_.item,b.name))return;const x=C.writer,I=C.mapper.toViewElement(_.item),D=o.findViewImgElement(I);if(_.attributeNewValue!==null?x.setAttribute(f,_.attributeNewValue,D):x.removeAttribute(f,D),_.item.hasAttribute("sources"))return;const N=_.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!N&&!k)return;const L=_.item.getAttribute("width"),U=_.item.getAttribute("height");L&&U&&x.setStyle("aspect-ratio",`${L}/${U}`,D)})}i.conversion.for("upcast").attributeToAttribute({view:{name:a,styles:{width:/.+/}},model:{key:"width",value:u=>VI(u)?Rg(u.getStyle("width")):null}}).attributeToAttribute({view:{name:a,key:"width"},model:"width"}).attributeToAttribute({view:{name:a,styles:{height:/.+/}},model:{key:"height",value:u=>VI(u)?Rg(u.getStyle("height")):null}}).attributeToAttribute({view:{name:a,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(u=>{l(u,"width","width",!0),l(u,"height","height",!0)}),i.conversion.for("dataDowncast").add(u=>{l(u,"width","width",!1),l(u,"height","height",!1)})}}class eT extends Be{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,o=this.editor.model,a=i.plugins.get("ImageUtils"),l=a.getClosestSelectedImageElement(o.document.selection),u=Object.fromEntries(l.getAttributes());return u.src||u.uploadId?o.change(p=>{const{setImageSizes:f=!0}=e,k=Array.from(o.markers).filter(C=>C.getRange().containsItem(l)),b=a.insertImage(u,o.createSelection(l,"on"),this._modelElementName,{setImageSizes:f});if(!b)return null;const _=p.createRangeOn(b);for(const C of k){const x=C.getRange(),I=x.root.rootName!="$graveyard"?x.getJoined(_,!0):_;p.updateMarker(C,{range:I})}return{oldElement:l,newElement:b}}):null}}var tT=d(7378),BF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(tT.A,BF),tT.A.locals;class nT extends re{static get requires(){return[oi]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,o=e.plugins.get("ImageUtils");i.for("editingDowncast").add(a=>{a.on("attribute:placeholder",(l,u,p)=>{if(!p.consumable.test(u.item,l.name)||!u.item.is("element","imageBlock")&&!u.item.is("element","imageInline"))return;p.consumable.consume(u.item,l.name);const f=p.writer,k=p.mapper.toViewElement(u.item),b=o.findViewImgElement(k);u.attributeNewValue?(f.addClass("image_placeholder",b),f.setStyle("background-image",`url(${u.attributeNewValue})`,b),f.setCustomProperty("editingPipeline:doNotReuseOnce",!0,b)):(f.removeClass("image_placeholder",b),f.removeStyle("background-image",b))})})}_setupLoadListener(){const e=this.editor,i=e.model,o=e.editing,a=o.view,l=e.plugins.get("ImageUtils");a.addObserver(YI),this.listenTo(a.document,"imageLoaded",(u,p)=>{const f=a.domConverter.mapDomToView(p.target);if(!f)return;const k=l.getImageWidgetFromImageView(f);if(!k)return;const b=o.mapper.toModelElement(k);b&&b.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},_=>{_.removeAttribute("placeholder",b)})})}}class iT extends re{static get requires(){return[Ww,XI,oi,nT,ji]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new eT(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>jI(u)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>a.toImageWidget(jI(u),u,i("image widget"))}),o.for("downcast").add(Bg(a,"imageBlock","src")).add(Bg(a,"imageBlock","alt")).add(QI(a,"imageBlock")),o.for("upcast").elementToElement({view:zI(e,"imageBlock"),model:(l,{writer:u})=>u.createElement("imageBlock",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)}).add(function(l){const u=(p,f,k)=>{if(!k.consumable.test(f.viewItem,{name:!0,classes:"image"}))return;const b=l.findViewImgElement(f.viewItem);if(!b||!k.consumable.test(b,{name:!0}))return;k.consumable.consume(f.viewItem,{name:!0,classes:"image"});const _=rn(k.convertItem(b,f.modelCursor).modelRange.getItems());_?(k.convertChildren(f.viewItem,_),k.updateConversionResult(_,f)):k.consumable.revert(f.viewItem,{name:!0,classes:"image"})};return p=>{p.on("element:figure",u)}}(a))}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const f=Array.from(p.content.getChildren());let k;if(!f.every(a.isInlineImageView))return;k=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):i.document.selection.getFirstRange();const b=i.createSelection(k);if($w(i.schema,b)==="imageBlock"){const _=new co(o.document),C=f.map(x=>_.createElement("figure",{class:"image"},x));p.content=_.createDocumentFragment(C)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&i.change(f=>{const k=f.createRangeIn(p.content);for(const b of k.getItems())b.is("element","imageBlock")&&a.setImageNaturalSizeAttributes(b)})})}}var rT=d(3350),OF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(rT.A,OF),rT.A.locals;class LF extends ve{constructor(e,i=[]){super(e),this.focusTracker=new mn,this.keystrokes=new ei,this._focusables=new Oi,this.children=this.createCollection(),this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const o of i)this.children.add(o),this._focusables.add(o),o instanceof y6&&this._focusables.addMany(o.children);if(this._focusables.length>1)for(const o of this._focusables)jF(o)&&(o.focusCycler.on("forwardCycle",a=>{this._focusCycler.focusNext(),a.stop()}),o.focusCycler.on("backwardCycle",a=>{this._focusCycler.focusPrevious(),a.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),m({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function jF(s){return"focusCycler"in s}class oT extends re{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[oi]}init(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=o.isImage(i.getSelectedElement())});const a=l=>this._createToolbarComponent(l);e.ui.componentFactory.add("insertImage",a),e.ui.componentFactory.add("imageInsert",a)}registerIntegration({name:e,observable:i,buttonViewCreator:o,formViewCreator:a,requiresForm:l}){this._integrations.has(e)&&ie("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:o,formViewCreator:a,requiresForm:!!l})}_createToolbarComponent(e){const i=this.editor,o=e.t,a=this._prepareIntegrations();if(!a.length)return null;let l;const u=a[0];if(a.length==1){if(!u.requiresForm)return u.buttonViewCreator(!0);l=u.buttonViewCreator(!0)}else{const k=u.buttonViewCreator(!1);l=new gg(e,k),l.tooltip=!0,l.bind("label").to(this,"isImageSelected",b=>o(b?"Replace image":"Insert image"))}const p=this.dropdownView=lo(e,l),f=a.map(({observable:k})=>typeof k=="function"?k():k);return p.bind("isEnabled").toMany(f,"isEnabled",(...k)=>k.some(b=>b)),p.once("change:isOpen",()=>{const k=a.map(({formViewCreator:_})=>_(a.length==1)),b=new LF(i.locale,k);p.panelView.children.add(b)}),p}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return ie("image-insert-integrations-not-specified"),i;for(const o of e)this._integrations.has(o)?i.push(this._integrations.get(o)):["upload","assetManager","url"].includes(o)||ie("image-insert-unknown-integration",{item:o});return i.length||ie("image-insert-integrations-not-registered"),i}}var sT=d(265),zF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(sT.A,zF),sT.A.locals;class VF extends re{static get requires(){return[iT,Gd,KI,oT]}static get pluginName(){return"ImageBlock"}}class FF extends re{static get requires(){return[Ww,XI,oi,nT,ji]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((o,a)=>{if(o.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new eT(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(l,{writer:u})=>u.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(l,{writer:u})=>a.toImageWidget(function(p){return p.createContainerElement("span",{class:"image-inline"},p.createEmptyElement("img"))}(u),u,i("image widget"))}),o.for("downcast").add(Bg(a,"imageInline","src")).add(Bg(a,"imageInline","alt")).add(QI(a,"imageInline")),o.for("upcast").elementToElement({view:zI(e,"imageInline"),model:(l,{writer:u})=>u.createElement("imageInline",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const f=Array.from(p.content.getChildren());let k;if(!f.every(a.isBlockImageView))return;k=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):i.document.selection.getFirstRange();const b=i.createSelection(k);if($w(i.schema,b)==="imageInline"){const _=new co(o.document),C=f.map(x=>x.childCount===1?(Array.from(x.getAttributes()).forEach(I=>_.setAttribute(...I,a.findViewImgElement(x))),x.getChild(0)):x);p.content=_.createDocumentFragment(C)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&i.change(f=>{const k=f.createRangeIn(p.content);for(const b of k.getItems())b.is("element","imageInline")&&a.setImageNaturalSizeAttributes(b)})})}}class UF extends re{static get requires(){return[FF,Gd,KI,oT]}static get pluginName(){return"ImageInline"}}class aT extends re{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[oi]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&i.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class HF extends Be{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),o=e.plugins.get("ImageUtils");if(!e.plugins.has(iT))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,l=a.getSelectedElement();if(!l){const u=i.getCaptionFromModelSelection(a);return this.isEnabled=!!u,void(this.value=!!u)}this.isEnabled=o.isImage(l),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(l):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,i)})}_showImageCaption(e,i){const o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),l=this.editor.plugins.get("ImageUtils");let u=o.getSelectedElement();const p=a._getSavedCaption(u);l.isInlineImage(u)&&(this.editor.execute("imageTypeBlock"),u=o.getSelectedElement());const f=p||e.createElement("caption");e.append(f,u),i&&e.setSelection(f,"in")}_hideImageCaption(e){const i=this.editor,o=i.model.document.selection,a=i.plugins.get("ImageCaptionEditing"),l=i.plugins.get("ImageCaptionUtils");let u,p=o.getSelectedElement();p?u=l.getCaptionFromImageModelElement(p):(u=l.getCaptionFromModelSelection(o),p=u.parent),a._saveCaption(p,u),e.setSelection(p,"on"),e.remove(u)}}class $F extends re{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[oi,aT]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new HF(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),l=e.t;e.conversion.for("upcast").elementToElement({view:u=>a.matchImageCaptionViewElement(u),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>o.isBlockImage(u.parent)?p.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>{if(!o.isBlockImage(u.parent))return null;const f=p.createEditableElement("figcaption");p.setCustomProperty("imageCaption",!0,f),f.placeholder=l("Enter image caption"),Ty({view:i,element:f,keepOnFocus:!0});const k=u.parent.getAttribute("alt");return j2(f,p,{label:k?l("Caption for image: %0",[k]):l("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),l=e.commands.get("imageTypeBlock"),u=p=>{if(!p.return)return;const{oldElement:f,newElement:k}=p.return;if(!f)return;if(i.isBlockImage(f)){const _=o.getCaptionFromImageModelElement(f);if(_)return void this._saveCaption(k,_)}const b=this._getSavedCaption(f);b&&this._saveCaption(k,b)};a&&this.listenTo(a,"execute",u,{priority:"low"}),l&&this.listenTo(l,"execute",u,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?it.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const l=i.document.differ.getChanges();for(const u of l){if(u.attributeKey!=="alt")continue;const p=u.range.start.nodeAfter;if(o.isBlockImage(p)){const f=a.getCaptionFromImageModelElement(p);if(!f)return;e.editing.reconvertItem(f)}}})}}class WF extends re{static get requires(){return[aT]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",l=>{const u=e.commands.get("toggleImageCaption"),p=new Je(l);return p.set({icon:Te.caption,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(u,"value","isEnabled"),p.bind("label").to(u,"value",f=>a(f?"Toggle caption off":"Toggle caption on")),this.listenTo(p,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const f=o.getCaptionFromModelSelection(e.model.document.selection);if(f){const k=e.editing.mapper.toViewElement(f);i.scrollToTheSelection(),i.change(b=>{b.addClass("image__caption_highlighted",k)})}e.editing.view.focus()}),p})}}var cT=d(5247),qF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cT.A,qF),cT.A.locals;function lT(s){const e=s.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function GF(s){return new Promise((e,i)=>{const o=s.getAttribute("src");fetch(o).then(a=>a.blob()).then(a=>{const l=dT(a,o),u=l.replace("image/",""),p=new File([a],`image.${u}`,{type:l});e(p)}).catch(a=>a&&a.name==="TypeError"?function(l){return function(u){return new Promise((p,f)=>{const k=ae.document.createElement("img");k.addEventListener("load",()=>{const b=ae.document.createElement("canvas");b.width=k.width,b.height=k.height,b.getContext("2d").drawImage(k,0,0),b.toBlob(_=>_?p(_):f())}),k.addEventListener("error",()=>f()),k.src=u})}(l).then(u=>{const p=dT(u,l),f=p.replace("image/","");return new File([u],`image.${f}`,{type:p})})}(o).then(e).catch(i):i(a))})}function dT(s,e){return s.type?s.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class KF extends re{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,o=a=>{const l=new IV(a),u=e.commands.get("uploadImage"),p=e.config.get("image.upload.types"),f=lT(p);return l.set({acceptedType:p.map(k=>`image/${k}`).join(","),allowMultipleFiles:!0,label:i("Upload image from computer"),icon:Te.imageUpload,tooltip:!0}),l.bind("isEnabled").to(u),l.on("done",(k,b)=>{const _=Array.from(b).filter(C=>f.test(C.type));_.length&&(e.execute("uploadImage",{file:_}),e.editing.view.focus())}),l};if(e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const l=e.ui.componentFactory.create("uploadImage");return l.bind("label").to(a,"isImageSelected",u=>i(u?"Replace image from computer":"Upload image from computer")),l},formViewCreator:()=>{const l=e.ui.componentFactory.create("uploadImage");return l.withText=!0,l.bind("label").to(a,"isImageSelected",u=>i(u?"Replace from computer":"Upload from computer")),l.on("execute",()=>{a.dropdownView.isOpen=!1}),l}})}}}var uT=d(2267),QF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(uT.A,QF),uT.A.locals;var hT=d(7693),YF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(hT.A,YF),hT.A.locals;var pT=d(1559),ZF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(pT.A,ZF),pT.A.locals;class JF extends re{constructor(e){super(e),this.uploadStatusChange=(i,o,a)=>{const l=this.editor,u=o.item,p=u.getAttribute("uploadId");if(!a.consumable.consume(o.item,i.name))return;const f=l.plugins.get("ImageUtils"),k=l.plugins.get(sr),b=p?o.attributeNewValue:null,_=this.placeholder,C=l.editing.mapper.toViewElement(u),x=a.writer;if(b=="reading")return gT(C,x),void fT(f,_,C,x);if(b=="uploading"){const I=k.loaders.get(p);return gT(C,x),void(I?(mT(C,x),function(D,N,L,U){const W=function(J){const pe=J.createUIElement("div",{class:"ck-progress-bar"});return J.setCustomProperty("progressBar",!0,pe),pe}(N);N.insert(N.createPositionAt(D,"end"),W),L.on("change:uploadedPercent",(J,pe,_e)=>{U.change(Oe=>{Oe.setStyle("width",_e+"%",W)})})}(C,x,I,l.editing.view),function(D,N,L,U){if(U.data){const W=D.findViewImgElement(N);L.setAttribute("src",U.data,W)}}(f,C,x,I)):fT(f,_,C,x))}b=="complete"&&k.loaders.get(p)&&function(I,D,N){const L=D.createUIElement("div",{class:"ck-image-upload-complete-icon"});D.insert(D.createPositionAt(I,"end"),L),setTimeout(()=>{N.change(U=>U.remove(U.createRangeOn(L)))},3e3)}(C,x,l.editing.view),function(I,D){bT(I,D,"progressBar")}(C,x),mT(C,x),function(I,D){D.removeClass("ck-appear",I)}(C,x)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function gT(s,e){s.hasClass("ck-appear")||e.addClass("ck-appear",s)}function fT(s,e,i,o){i.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",i);const a=s.findViewImgElement(i);a.getAttribute("src")!==e&&o.setAttribute("src",e,a),kT(i,"placeholder")||o.insert(o.createPositionAfter(a),function(l){const u=l.createUIElement("div",{class:"ck-upload-placeholder-loader"});return l.setCustomProperty("placeholder",!0,u),u}(o))}function mT(s,e){s.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",s),bT(s,e,"placeholder")}function kT(s,e){for(const i of s.getChildren())if(i.getCustomProperty(e))return i}function bT(s,e,i){const o=kT(s,i);o&&e.remove(e.createRangeOn(o))}var XF=Object.defineProperty,e8=Object.defineProperties,t8=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,n8=Object.prototype.hasOwnProperty,i8=Object.prototype.propertyIsEnumerable,_T=(s,e,i)=>e in s?XF(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;class r8 extends Be{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(o)}execute(e){const i=pt(e.file),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(o.getAttributes());i.forEach((u,p)=>{const f=o.getSelectedElement();if(p&&f&&a.isImage(f)){const k=this.editor.model.createPositionAfter(f);this._uploadImage(u,l,k)}else this._uploadImage(u,l)})}_uploadImage(e,i,o){const a=this.editor,l=a.plugins.get(sr).createLoader(e),u=a.plugins.get("ImageUtils");var p,f;l&&u.insertImage((p=((k,b)=>{for(var _ in b||(b={}))n8.call(b,_)&&_T(k,_,b[_]);if(wT)for(var _ of wT(b))i8.call(b,_)&&_T(k,_,b[_]);return k})({},i),f={uploadId:l.id},e8(p,t8(f))),o)}}class o8 extends re{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[sr,Tw,ji,oi]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,o=e.conversion,a=e.plugins.get(sr),l=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline"),p=lT(e.config.get("image.upload.types")),f=new r8(e);e.commands.add("uploadImage",f),e.commands.add("imageUpload",f),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,b)=>{if(_=b.dataTransfer,Array.from(_.types).includes("text/html")&&_.getData("text/html")!=="")return;var _;const C=Array.from(b.dataTransfer.files).filter(x=>!!x&&p.test(x.type));C.length&&(k.stop(),e.model.change(x=>{b.targetRanges&&x.setSelection(b.targetRanges.map(I=>e.editing.mapper.toModelRange(I))),e.execute("uploadImage",{file:C})}))}),this.listenTo(u,"inputTransformation",(k,b)=>{const _=Array.from(e.editing.view.createRangeIn(b.content)).map(x=>x.item).filter(x=>function(I,D){return!(!I.isInlineImageView(D)||!D.getAttribute("src")||!D.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!D.getAttribute("src").match(/^blob:/g))}(l,x)&&!x.getAttribute("uploadProcessed")).map(x=>({promise:GF(x),imageElement:x}));if(!_.length)return;const C=new co(e.editing.view.document);for(const x of _){C.setAttribute("uploadProcessed",!0,x.imageElement);const I=a.createLoader(x.promise);I&&(C.setAttribute("src","",x.imageElement),C.setAttribute("uploadId",I.id,x.imageElement))}}),e.editing.view.document.on("dragover",(k,b)=>{b.preventDefault()}),i.on("change",()=>{const k=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),b=new Set;for(const _ of k)if(_.type=="insert"&&_.name!="$text"){const C=_.position.nodeAfter,x=_.position.root.rootName=="$graveyard";for(const I of s8(e,C)){const D=I.getAttribute("uploadId");if(!D)continue;const N=a.loaders.get(D);N&&(x?b.has(D)||N.abort():(b.add(D),this._uploadImageElements.set(D,I),N.status=="idle"&&this._readAndUpload(N)))}}}),this.on("uploadComplete",(k,{imageElement:b,data:_})=>{const C=_.urls?_.urls:_;this.editor.model.change(x=>{x.setAttribute("src",C.default,b),this._parseAndSetSrcsetAttributeOnImage(C,b,x),l.setImageNaturalSizeAttributes(b)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,o=i.model,a=i.locale.t,l=i.plugins.get(sr),u=i.plugins.get(Tw),p=i.plugins.get("ImageUtils"),f=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},b=>{b.setAttribute("uploadStatus","reading",f.get(e.id))}),e.read().then(()=>{const b=e.upload(),_=f.get(e.id);if(v.isSafari){const C=i.editing.mapper.toViewElement(_),x=p.findViewImgElement(C);i.editing.view.once("render",()=>{if(!x.parent)return;const I=i.editing.view.domConverter.mapViewToDom(x.parent);if(!I)return;const D=I.style.display;I.style.display="none",I._ckHack=I.offsetHeight,I.style.display=D})}return o.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","uploading",_)}),b}).then(b=>{o.enqueueChange({isUndoable:!1},_=>{const C=f.get(e.id);_.setAttribute("uploadStatus","complete",C),this.fire("uploadComplete",{data:b,imageElement:C})}),k()}).catch(b=>{if(e.status!=="error"&&e.status!=="aborted")throw b;e.status=="error"&&b&&u.showWarning(b,{title:a("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},_=>{_.remove(f.get(e.id))}),k()});function k(){o.enqueueChange({isUndoable:!1},b=>{const _=f.get(e.id);b.removeAttribute("uploadId",_),b.removeAttribute("uploadStatus",_),f.delete(e.id)}),l.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,o){let a=0;const l=Object.keys(e).filter(u=>{const p=parseInt(u,10);if(!isNaN(p))return a=Math.max(a,p),!0}).map(u=>`${e[u]} ${u}w`).join(", ");if(l!=""){const u={srcset:l};i.hasAttribute("width")||i.hasAttribute("height")||(u.width=a),o.setAttributes(u,i)}}}function s8(s,e){const i=s.plugins.get("ImageUtils");return Array.from(s.model.createRangeOn(e)).filter(o=>i.isImage(o.item)).map(o=>o.item)}var AT=d(3469),a8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(AT.A,a8),AT.A.locals;class c8 extends Be{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(o=>{if(o.isDefault)for(const a of o.modelElements)this._defaultStyles[a]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,o=i.model,a=i.plugins.get("ImageUtils");o.change(l=>{const u=e.value,{setImageSizes:p=!0}=e;let f=a.getClosestSelectedImageElement(o.document.selection);u&&this.shouldConvertImageType(u,f)&&(this.editor.execute(a.isBlockImage(f)?"imageTypeInline":"imageTypeBlock",{setImageSizes:p}),f=a.getClosestSelectedImageElement(o.document.selection)),!u||this._styles.get(u).isDefault?l.removeAttribute("imageStyle",f):l.setAttribute("imageStyle",u,f),p&&a.setImageNaturalSizeAttributes(f)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var l8=Object.defineProperty,vT=Object.getOwnPropertySymbols,d8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable,CT=(s,e,i)=>e in s?l8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,yT=(s,e)=>{for(var i in e||(e={}))d8.call(e,i)&&CT(s,i,e[i]);if(vT)for(var i of vT(e))u8.call(e,i)&&CT(s,i,e[i]);return s};const{objectFullWidth:h8,objectInline:ET,objectLeft:xT,objectRight:qw,objectCenter:Gw,objectBlockLeft:IT,objectBlockRight:TT}=Te,Lg={get inline(){return{name:"inline",title:"In line",icon:ET,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:xT,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:IT,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Gw,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:qw,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:TT,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Gw,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:qw,modelElements:["imageBlock"],className:"image-style-side"}}},DT={full:h8,left:IT,right:TT,center:Gw,inlineLeft:xT,inlineRight:qw,inline:ET},ST=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function MT(s){ie("image-style-configuration-definition-invalid",s)}const Kw={normalizeStyles:function(s){return(s.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?Lg[i]?yT({},Lg[i]):{name:i}:function(o,a){const l=yT({},a);for(const u in o)Object.prototype.hasOwnProperty.call(a,u)||(l[u]=o[u]);return l}(Lg[i.name],i),typeof i.icon=="string"&&(i.icon=DT[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:o,isInlinePluginLoaded:a}){const{modelElements:l,name:u}=i;if(!(l&&l.length&&u))return MT({style:i}),!1;{const p=[o?"imageBlock":null,a?"imageInline":null];if(!l.some(f=>p.includes(f)))return ie("image-style-missing-dependency",{style:i,missingPlugins:l.map(f=>f==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,s))},getDefaultStylesConfiguration:function(s,e){return s&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:s?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(s){return s.has("ImageBlockEditing")&&s.has("ImageInlineEditing")?[...ST]:[]},warnInvalidStyle:MT,DEFAULT_OPTIONS:Lg,DEFAULT_ICONS:DT,DEFAULT_DROPDOWN_DEFINITIONS:ST};function PT(s,e){for(const i of e)if(i.name===s)return i}class NT extends re{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[oi]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Kw,o=this.editor,a=o.plugins.has("ImageBlockEditing"),l=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",i(a,l)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:l}),this._setupConversion(a,l),this._setupPostFixer(),o.commands.add("imageStyle",new c8(o,this.normalizedStyles))}_setupConversion(e,i){const o=this.editor,a=o.model.schema,l=(u=this.normalizedStyles,(f,k,b)=>{if(!b.consumable.consume(k.item,f.name))return;const _=PT(k.attributeNewValue,u),C=PT(k.attributeOldValue,u),x=b.mapper.toViewElement(k.item),I=b.writer;C&&I.removeClass(C.className,x),_&&I.addClass(_.className,x)});var u;const p=function(f){const k={imageInline:f.filter(b=>!b.isDefault&&b.modelElements.includes("imageInline")),imageBlock:f.filter(b=>!b.isDefault&&b.modelElements.includes("imageBlock"))};return(b,_,C)=>{if(!_.modelRange)return;const x=_.viewItem,I=rn(_.modelRange.getItems());if(I&&C.schema.checkAttribute(I,"imageStyle"))for(const D of k[I.name])C.consumable.consume(x,{classes:D.className})&&C.writer.setAttribute("imageStyle",D.name,I)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",l),o.data.downcastDispatcher.on("attribute:imageStyle",l),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",p,{priority:"low"})),i&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",p,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,o=e.plugins.get(oi),a=new Map(this.normalizedStyles.map(l=>[l.name,l]));i.registerPostFixer(l=>{let u=!1;for(const p of i.differ.getChanges())if(p.type=="insert"||p.type=="attribute"&&p.attributeKey=="imageStyle"){let f=p.type=="insert"?p.position.nodeAfter:p.range.start.nodeAfter;if(f&&f.is("element","paragraph")&&f.childCount>0&&(f=f.getChild(0)),!o.isImage(f))continue;const k=f.getAttribute("imageStyle");if(!k)continue;const b=a.get(k);b&&b.modelElements.includes(f.name)||(l.removeAttribute("imageStyle",f),u=!0)}return u})}}var RT=d(6386),p8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(RT.A,p8),RT.A.locals;class g8 extends re{static get requires(){return[NT]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],o=BT(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const l of o)this._createButton(l);const a=BT([...i.filter(ut),...Kw.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const l of a)this._createDropdown(l,o)}_createDropdown(e,i){const o=this.editor.ui.componentFactory;o.add(e.name,a=>{let l;const{defaultItem:u,items:p,title:f}=e,k=p.filter(x=>i.find(({name:I})=>OT(I)===x)).map(x=>{const I=o.create(x);return x===u&&(l=I),I});p.length!==k.length&&Kw.warnInvalidStyle({dropdown:e});const b=lo(a,gg),_=b.buttonView,C=_.arrowView;return Cw(b,k,{enableActiveItemFocusOnDropdownOpen:!0}),_.set({label:LT(f,l.label),class:null,tooltip:!0}),C.unbind("label"),C.set({label:f}),_.bind("icon").toMany(k,"isOn",(...x)=>{const I=x.findIndex(Wo);return I<0?l.icon:k[I].icon}),_.bind("label").toMany(k,"isOn",(...x)=>{const I=x.findIndex(Wo);return LT(f,I<0?l.label:k[I].label)}),_.bind("isOn").toMany(k,"isOn",(...x)=>x.some(Wo)),_.bind("class").toMany(k,"isOn",(...x)=>x.some(Wo)?"ck-splitbutton_flatten":void 0),_.on("execute",()=>{k.some(({isOn:x})=>x)?b.isOpen=!b.isOpen:l.fire("execute")}),b.bind("isEnabled").toMany(k,"isEnabled",(...x)=>x.some(Wo)),this.listenTo(b,"execute",()=>{this.editor.editing.view.focus()}),b})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(OT(i),o=>{const a=this.editor.commands.get("imageStyle"),l=new Je(o);return l.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value",u=>u===i),l.on("execute",this._executeCommand.bind(this,i)),l})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function BT(s,e){for(const i of s)e[i.title]&&(i.title=e[i.title]);return s}function OT(s){return`imageStyle:${s}`}function LT(s,e){return(s?s+": ":"")+e}class f8 extends re{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new vy(e)),e.commands.add("outdent",new vy(e))}}class m8 extends re{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,o=e.t,a=i.uiLanguageDirection=="ltr"?Te.indent:Te.outdent,l=i.uiLanguageDirection=="ltr"?Te.outdent:Te.indent;this._defineButton("indent",o("Increase indent"),a),this._defineButton("outdent",o("Decrease indent"),l)}_defineButton(e,i,o){const a=this.editor;a.ui.componentFactory.add(e,l=>{const u=a.commands.get(e),p=new Je(l);return p.set({label:i,icon:o,tooltip:!0}),p.bind("isEnabled").to(u,"isEnabled"),this.listenTo(p,"execute",()=>{a.execute(e),a.editing.view.focus()}),p})}}class k8{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,o,a)=>{if(!a.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!a.schema.isInline(o.item))return;const l=a.writer,u=l.document.selection;for(const p of this._definitions){const f=l.createAttributeElement("a",p.attributes,{priority:5});p.classes&&l.addClass(p.classes,f);for(const k in p.styles)l.setStyle(k,p.styles[k],f);l.setCustomProperty("link",!0,f),p.callback(o.attributeNewValue)?o.item.is("selection")?l.wrap(u.getFirstRange(),f):l.wrap(a.mapper.toViewRange(o.range),f):l.unwrap(a.mapper.toViewRange(o.range),f)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,o,{writer:a,mapper:l})=>{const u=l.toViewElement(o.item),p=Array.from(u.getChildren()).find(f=>f.is("element","a"));for(const f of this._definitions){const k=yr(f.attributes);if(f.callback(o.attributeNewValue)){for(const[b,_]of k)b==="class"?a.addClass(_,p):a.setAttribute(b,_,p);f.classes&&a.addClass(f.classes,p);for(const b in f.styles)a.setStyle(b,f.styles[b],p)}else{for(const[b,_]of k)b==="class"?a.removeClass(_,p):a.removeAttribute(b,p);f.classes&&a.removeClass(f.classes,p);for(const b in f.styles)a.removeStyle(b,p)}}})}}}const b8=function(s,e,i){var o=s.length;return i=i===void 0?o:i,!e&&i>=o?s:Ry(s,e,i)};var w8=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const jT=function(s){return w8.test(s)},_8=function(s){return s.split("")};var zT="\\ud800-\\udfff",A8="["+zT+"]",Qw="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Yw="\\ud83c[\\udffb-\\udfff]",VT="[^"+zT+"]",FT="(?:\\ud83c[\\udde6-\\uddff]){2}",UT="[\\ud800-\\udbff][\\udc00-\\udfff]",HT="(?:"+Qw+"|"+Yw+")?",$T="[\\ufe0e\\ufe0f]?",v8=$T+HT+("(?:\\u200d(?:"+[VT,FT,UT].join("|")+")"+$T+HT+")*"),C8="(?:"+[VT+Qw+"?",Qw,FT,UT,A8].join("|")+")",y8=RegExp(Yw+"(?="+Yw+")|"+C8+v8,"g");const E8=function(s){return s.match(y8)||[]},x8=function(s){return jT(s)?E8(s):_8(s)},I8=function(s){return function(e){e=zb(e);var i=jT(e)?x8(e):void 0,o=i?i[0]:e.charAt(0),a=i?b8(i,1).join(""):e.slice(1);return o[s]()+a}}("toUpperCase"),T8=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,D8=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,S8=/^((\w+:(\/{2,})?)|(\W))/i,M8=["https?","ftps?","mailto"],jg="Ctrl+K";function WT(s,{writer:e}){const i=e.createAttributeElement("a",{href:s},{priority:5});return e.setCustomProperty("link",!0,i),i}function qT(s,e=M8){const i=String(s),o=e.join("|");return function(a,l){return!!a.replace(T8,"").match(l)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",o)}`,"i"))?i:"#"}function Zw(s,e){return!!s&&e.checkAttribute(s.name,"linkHref")}function Jw(s,e){const i=(o=s,D8.test(o)?"mailto:":e);var o;const a=!!i&&!GT(s);return s&&a?i+s:s}function GT(s){return S8.test(s)}function KT(s){window.open(s,"_blank","noopener")}class P8 extends Be{constructor(){super(...arguments),this.manualDecorators=new Xi,this.automaticDecorators=new k8}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement()||rn(i.getSelectedBlocks());Zw(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,i={}){const o=this.editor.model,a=o.document.selection,l=[],u=[];for(const p in i)i[p]?l.push(p):u.push(p);o.change(p=>{if(a.isCollapsed){const f=a.getFirstPosition();if(a.hasAttribute("linkHref")){const k=QT(a);let b=xg(f,"linkHref",a.getAttribute("linkHref"),o);a.getAttribute("linkHref")===k&&(b=this._updateLinkContent(o,p,b,e)),p.setAttribute("linkHref",e,b),l.forEach(_=>{p.setAttribute(_,!0,b)}),u.forEach(_=>{p.removeAttribute(_,b)}),p.setSelection(p.createPositionAfter(b.end.nodeBefore))}else if(e!==""){const k=yr(a.getAttributes());k.set("linkHref",e),l.forEach(_=>{k.set(_,!0)});const{end:b}=o.insertContent(p.createText(e,k),f);p.setSelection(b)}["linkHref",...l,...u].forEach(k=>{p.removeSelectionAttribute(k)})}else{const f=o.schema.getValidRanges(a.getRanges(),"linkHref"),k=[];for(const _ of a.getSelectedBlocks())o.schema.checkAttribute(_,"linkHref")&&k.push(p.createRangeOn(_));const b=k.slice();for(const _ of f)this._isRangeToUpdate(_,k)&&b.push(_);for(const _ of b){let C=_;if(b.length===1){const x=QT(a);a.getAttribute("linkHref")===x&&(C=this._updateLinkContent(o,p,_,e),p.setSelection(p.createSelection(C)))}p.setAttribute("linkHref",e,C),l.forEach(x=>{p.setAttribute(x,!0,C)}),u.forEach(x=>{p.removeAttribute(x,C)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,o=i.document.selection,a=o.getSelectedElement();return Zw(a,i.schema)?a.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,i){for(const o of i)if(o.containsRange(e))return!1;return!0}_updateLinkContent(e,i,o,a){const l=i.createText(a,{linkHref:a});return e.insertContent(l,o)}}function QT(s){if(s.isCollapsed){const e=s.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(s.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class N8 extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement();Zw(o,e.schema)?this.isEnabled=e.schema.checkAttribute(o,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,o=i.document.selection,a=e.commands.get("link");i.change(l=>{const u=o.isCollapsed?[xg(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),i)]:i.schema.getValidRanges(o.getRanges(),"linkHref");for(const p of u)if(l.removeAttribute("linkHref",p),a)for(const f of a.manualDecorators)l.removeAttribute(f.id,p)})}}class R8 extends tt(){constructor({id:e,label:i,attributes:o,classes:a,styles:l,defaultValue:u}){super(),this.id=e,this.set("value",void 0),this.defaultValue=u,this.label=i,this.attributes=o,this.classes=a,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var YT=d(7719),B8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(YT.A,B8),YT.A.locals;var O8=Object.defineProperty,ZT=Object.getOwnPropertySymbols,L8=Object.prototype.hasOwnProperty,j8=Object.prototype.propertyIsEnumerable,JT=(s,e,i)=>e in s?O8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,z8=(s,e)=>{for(var i in e||(e={}))L8.call(e,i)&&JT(s,i,e[i]);if(ZT)for(var i of ZT(e))j8.call(e,i)&&JT(s,i,e[i]);return s};const XT="automatic",V8=/^(https?:)?\/\//;class eD extends re{static get pluginName(){return"LinkEditing"}static get requires(){return[I2,_2,ji]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:WT}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,l)=>WT(qT(a,i),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new P8(e)),e.commands.add("unlink",new N8(e));const o=function(a,l){const u={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return l.forEach(p=>("label"in p&&u[p.label]&&(p.label=u[p.label]),p)),l}(e.t,function(a){const l=[];if(a)for(const[u,p]of Object.entries(a)){const f=Object.assign({},p,{id:`link${I8(u)}`});l.push(f)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(a=>a.mode===XT)),this._enableManualDecorators(o.filter(a=>a.mode==="manual")),e.plugins.get(I2).registerAttribute("linkHref"),function(a,l,u,p){const f=a.editing.view,k=new Set;f.document.registerPostFixer(b=>{const _=a.model.document.selection;let C=!1;if(_.hasAttribute(l)){const x=xg(_.getFirstPosition(),l,_.getAttribute(l),a.model),I=a.editing.mapper.toViewRange(x);for(const D of I.getItems())D.is("element",u)&&!D.hasClass(p)&&(b.addClass(p,D),k.add(D),C=!0)}return C}),a.conversion.for("editingDowncast").add(b=>{function _(){f.change(C=>{for(const x of k.values())C.removeClass(p,x),k.delete(x)})}b.on("insert",_,{priority:"highest"}),b.on("remove",_,{priority:"highest"}),b.on("attribute",_,{priority:"highest"}),b.on("selection",_,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,o=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:XT,callback:a=>!!a&&V8.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,o=i.commands.get("link").manualDecorators;e.forEach(a=>{i.model.schema.extend("$text",{allowAttributes:a.id});const l=new R8(a);o.add(l),i.conversion.for("downcast").attributeToElement({model:l.id,view:(u,{writer:p,schema:f},{item:k})=>{if((k.is("selection")||f.isInline(k))&&u){const b=p.createAttributeElement("a",l.attributes,{priority:5});l.classes&&p.addClass(l.classes,b);for(const _ in l.styles)p.setStyle(_,l.styles[_],b);return p.setCustomProperty("link",!0,b),b}}}),i.conversion.for("upcast").elementToAttribute({view:z8({name:"a"},l._createPattern()),model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(o,a)=>{if(!(v.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let l=a.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(o.stop(),a.preventDefault(),KT(u))},{context:"$capture"}),this.listenTo(i,"keydown",(o,a)=>{const l=e.commands.get("link").value;l&&a.keyCode===We.enter&&a.altKey&&(o.stop(),KT(l))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(o,{attributeKeys:a})=>{a.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(l=>{var u;(function(p,f){p.removeSelectionAttribute("linkHref");for(const k of f)p.removeSelectionAttribute(k)})(l,(u=e.schema,u.getDefinition("$text").allowAttributes.filter(p=>p.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,o=this.editor.config.get("link.defaultProtocol");o&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,l)=>{i.change(u=>{const p=u.createRangeIn(l.content);for(const f of p.getItems())if(f.hasAttribute("linkHref")){const k=Jw(f.getAttribute("linkHref"),o);u.setAttribute("linkHref",k,f)}})})}}var tD=d(3817),F8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(tD.A,F8),tD.A.locals;class U8 extends ve{constructor(e,i){super(e),this.focusTracker=new mn,this.keystrokes=new ei,this._focusables=new Oi;const o=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,i=new ug(this.locale,fg);return i.label=e("Link URL"),i}_createButton(e,i,o,a){const l=new Je(this.locale);return l.set({label:e,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),a&&l.delegate("execute").to(this,a),l}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const o of e.manualDecorators){const a=new dg(this.locale);a.set({name:o.id,label:o.label,withText:!0}),a.bind("isOn").toMany([o,e],"value",(l,u)=>u===void 0&&l===void 0?!!o.defaultValue:!!l),a.on("execute",()=>{o.set("value",!a.isOn)}),i.add(a)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const o=new ve;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var nD=d(8762),H8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(nD.A,H8),nD.A.locals;class $8 extends ve{constructor(e,i={}){super(e),this.focusTracker=new mn,this.keystrokes=new ei,this._focusables=new Oi;const o=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),Te.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,o){const a=new Je(this.locale);return a.set({label:e,icon:i,tooltip:!0}),a.delegate("execute").to(this,o),a}_createPreviewButton(){const e=new Je(this.locale),i=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",a=>a&&qT(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||o("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const Tr="link-ui";class W8 extends re{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Ag]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(Xz),this._balloon=e.plugins.get(Ag),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Tr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Tr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:jg},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new $8(e.locale,e.config.get("link")),o=e.commands.get("link"),a=e.commands.get("unlink");return i.bind("href").to(o,"value"),i.editButtonView.bind("isEnabled").to(o),i.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(l,u)=>{this._hideUI(),u()}),i.keystrokes.set(jg,(l,u)=>{this._addFormView(),u()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),a=e.config.get("link.allowCreatingEmptyLinks"),l=new(w(U8))(e.locale,i);return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isEnabled").to(i,"isEnabled"),l.saveButtonView.bind("isEnabled").to(i,"isEnabled",l.urlInputView,"isEmpty",(u,p)=>u&&(a||!p)),this.listenTo(l,"submit",()=>{const{value:u}=l.urlInputView.fieldView.element,p=Jw(u,o);e.execute("link",p,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(u,p)=>{this._closeFormView(),p()}),l}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link"),o=e.t;e.ui.componentFactory.add("link",a=>{const l=new Je(a);return l.isEnabled=!0,l.label=o("Link"),l.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',l.keystroke=jg,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(i,"isEnabled"),l.bind("isOn").to(i,"value",u=>!!u),this.listenTo(l,"execute",()=>this._showUI(!0)),l})}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(jg,(o,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),g({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let o=this._getSelectedLinkElement(),a=u();const l=()=>{const p=this._getSelectedLinkElement(),f=u();o&&!p||!o&&f!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=p,a=f};function u(){return i.selection.focus.getAncestors().reverse().find(p=>p.is("element"))}this.listenTo(e.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,o=e.document;let a;if(i.markers.has(Tr)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(Tr)),u=e.createRange(e.createPositionBefore(l[0]),e.createPositionAfter(l[l.length-1]));a=e.domConverter.viewRangeToDom(u)}else a=()=>{const l=this._getSelectedLinkElement();return l?e.domConverter.mapViewToDom(l):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,o=i.getSelectedElement();if(i.isCollapsed||o&&Kt(o))return Xw(i.getFirstPosition());{const a=i.getFirstRange().getTrimmed(),l=Xw(a.start),u=Xw(a.end);return l&&l==u&&e.createRangeIn(l).getTrimmed().isEqual(a)?l:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const o=e.document.selection.getFirstRange();if(e.markers.has(Tr))i.updateMarker(Tr,{range:o});else if(o.start.isAtEnd){const a=o.start.getLastMatchingPosition(({item:l})=>!e.schema.isContent(l),{boundaries:o});i.addMarker(Tr,{usingOperation:!1,affectsData:!1,range:i.createRange(a,o.end)})}else i.addMarker(Tr,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Tr)&&e.change(i=>{i.removeMarker(Tr)})}}function Xw(s){return s.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const iD=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class q8 extends re{static get requires(){return[ho,eD]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?xg(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const o=this.editor.model,a=o.document.selection,l=a.getFirstPosition(),u=a.getLastPosition();let p=i.getJoined(this._expandLinkRange(o,l)||i);p&&(p=p.getJoined(this._expandLinkRange(o,u)||i)),p&&(p.start.isBefore(l)||p.end.isAfter(u))&&e.setSelection(p)}_enablePasteLinking(){const e=this.editor,i=e.model,o=i.document.selection,a=e.plugins.get("ClipboardPipeline"),l=e.commands.get("link");a.on("inputTransformation",(u,p)=>{if(!this.isEnabled||!l.isEnabled||o.isCollapsed||p.method!=="paste"||o.rangeCount>1)return;const f=o.getFirstRange(),k=p.dataTransfer.getData("text/plain");if(!k)return;const b=k.match(iD);b&&b[2]===k&&(i.change(_=>{this._selectEntireLinks(_,f),l.execute(k)}),u.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new x2(e.model,o=>{if(!function(l){return l.length>4&&l[l.length-1]===" "&&l[l.length-2]!==" "}(o))return;const a=rD(o.substr(0,o.length-1));return a?{url:a}:void 0});i.on("matched:data",(o,a)=>{const{batch:l,range:u,url:p}=a;if(!l.isTyping)return;const f=u.end.getShiftedBy(-1),k=f.getShiftedBy(-p.length),b=e.model.createRange(k,f);this._applyAutoLink(p,b)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const a=i.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const l=i.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const a=i.document.selection.getFirstPosition(),l=i.createRange(i.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:o,range:a}=E2(e,i),l=rD(o);if(l){const u=i.createRange(a.end.getShiftedBy(-l.length),a.end);this._applyAutoLink(l,u)}}_applyAutoLink(e,i){const o=this.editor.model,a=Jw(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(l,u){return u.schema.checkAttributeInSelection(u.createSelection(l),"linkHref")}(i,o)&&GT(a)&&!function(l){const u=l.start.nodeAfter;return!!u&&u.hasAttribute("linkHref")}(i)&&this._persistAutoLink(a,i)}_persistAutoLink(e,i){const o=this.editor.model,a=this.editor.plugins.get("Delete");o.enqueueChange(l=>{l.setAttribute("linkHref",e,i),o.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function rD(s){const e=iD.exec(s);return e?e[2]:null}var oD=d(4808),G8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(oD.A,G8),oD.A.locals;class Vi{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=pt(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return rn(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of Yd(this._getStartNode(),this._isForward?"forward":"backward")){const o=i.getAttribute("listIndent");if(o<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=o}else if(o>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>i.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Yd(s,e="forward"){const i=e=="forward",o=[];let a=null;for(;sn(s);){let l=null;if(a){const u=s.getAttribute("listIndent"),p=a.getAttribute("listIndent");u>p?o[p]=a:u<p?(l=o[u],o.length=u):l=a}yield{node:s,previous:a,previousNodeInList:l},a=s,s=i?s.nextSibling:s.previousSibling}}class K8{constructor(e){this._listHead=e}[Symbol.iterator](){return Yd(this._listHead,"forward")}}var Q8=Object.defineProperty,Y8=Object.defineProperties,Z8=Object.getOwnPropertyDescriptors,sD=Object.getOwnPropertySymbols,J8=Object.prototype.hasOwnProperty,X8=Object.prototype.propertyIsEnumerable,aD=(s,e,i)=>e in s?Q8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,e0=(s,e)=>{for(var i in e||(e={}))J8.call(e,i)&&aD(s,i,e[i]);if(sD)for(var i of sD(e))X8.call(e,i)&&aD(s,i,e[i]);return s},t0=(s,e)=>Y8(s,Z8(e));class Dc{static next(){return K()}}function sn(s){return!!s&&s.is("element")&&s.hasAttribute("listItemId")}function n0(s,e={}){return[...Xo(s,t0(e0({},e),{direction:"backward"})),...Xo(s,t0(e0({},e),{direction:"forward"}))]}function Xo(s,e={}){const i=e.direction=="forward",o=Array.from(new Vi(s,t0(e0({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?o:o.reverse()}function cD(s){const e=new Vi(s,{sameIndent:!0,sameAttributes:"listType"}),i=new Vi(s,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(e).reverse(),...i]}function ca(s){return!Vi.first(s,{sameIndent:!0,sameAttributes:"listItemId"})}function lD(s){return!Vi.first(s,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Zd(s,e={}){s=pt(s);const i=e.withNested!==!1,o=new Set;for(const a of s)for(const l of n0(a,{higherIndent:i}))o.add(l);return la(o)}function eU(s){s=pt(s);const e=new Set;for(const i of s)for(const o of cD(i))e.add(o);return la(e)}function i0(s,e){const i=Xo(s,{direction:"forward"}),o=Dc.next();for(const a of i)e.setAttribute("listItemId",o,a);return i}function r0(s,e,i){const o={};for(const[l,u]of e.getAttributes())l.startsWith("list")&&(o[l]=u);const a=Xo(s,{direction:"forward"});for(const l of a)i.setAttributes(o,l);return a}function o0(s,e,{expand:i,indentBy:o=1}={}){s=pt(s);const a=i?Zd(s):s;for(const l of a){const u=l.getAttribute("listIndent")+o;u<0?zg(l,e):e.setAttribute("listIndent",u,l)}return a}function zg(s,e){s=pt(s);for(const i of s)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of s)for(const o of i.getAttributeKeys())o.startsWith("list")&&e.removeAttribute(o,i);return s}function Jd(s){if(!s.length)return!1;const e=s[0].getAttribute("listItemId");return!!e&&!s.some(i=>i.getAttribute("listItemId")!=e)}function la(s){return Array.from(s).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function Xd(s){const e=s.document.selection.getSelectedElement();return e&&s.schema.isObject(e)&&s.schema.isBlock(e)?e:null}function s0(s,e){return e.checkChild(s.parent,"listItem")&&e.checkChild(s,"$text")&&!e.isObject(s)}function tU(s,e,i){return Xo(e,{direction:"forward"}).pop().index>s.index?r0(s,e,i):[]}class dD extends Be{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=uD(e.document.selection);e.change(o=>{const a=[];Jd(i)&&!ca(i[0])?(this._direction=="forward"&&a.push(...o0(i,o)),a.push(...i0(i[0],o))):this._direction=="forward"?a.push(...o0(i,o,{expand:!0})):a.push(...function(l,u){const p=Zd(l=pt(l)),f=new Set,k=Math.min(...p.map(_=>_.getAttribute("listIndent"))),b=new Map;for(const _ of p)b.set(_,Vi.first(_,{lowerIndent:!0}));for(const _ of p){if(f.has(_))continue;f.add(_);const C=_.getAttribute("listIndent")-1;if(C<0)zg(_,u);else{if(_.getAttribute("listIndent")==k){const x=tU(_,b.get(_),u);for(const I of x)f.add(I);if(x.length)continue}u.setAttribute("listIndent",C,_)}}return la(f)}(i,o));for(const l of a){if(!l.hasAttribute("listType"))continue;const u=Vi.first(l,{sameIndent:!0});u&&o.setAttribute("listType",u.getAttribute("listType"),l)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",la(new Set(e)))}_checkEnabled(){let e=uD(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Jd(e)&&!ca(e[0]))return!0;e=Zd(e),i=e[0];const o=Vi.first(i,{sameIndent:!0});return!!o&&o.getAttribute("listType")==i.getAttribute("listType")}}function uD(s){const e=Array.from(s.getSelectedBlocks()),i=e.findIndex(o=>!sn(o));return i!=-1&&(e.length=i),e}class hD extends Be{constructor(e,i){super(e),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.document,a=Xd(i),l=Array.from(o.selection.getSelectedBlocks()).filter(p=>i.schema.checkAttribute(p,"listType")||s0(p,i.schema)),u=e.forceValue!==void 0?!e.forceValue:this.value;i.change(p=>{if(u){const f=l[l.length-1],k=Xo(f,{direction:"forward"}),b=[];k.length>1&&b.push(...i0(k[1],p)),b.push(...zg(l,p)),b.push(...function(_,C){const x=[];let I=Number.POSITIVE_INFINITY;for(const{node:D}of Yd(_.nextSibling,"forward")){const N=D.getAttribute("listIndent");if(N==0)break;N<I&&(I=N);const L=N-I;C.setAttribute("listIndent",L,D),x.push(D)}return x}(f,p)),this._fireAfterExecute(b)}else if((a||o.selection.isCollapsed)&&sn(l[0])){const f=cD(a||l[0]);for(const k of f)p.setAttribute("listType",this.type,k);this._fireAfterExecute(f)}else{const f=[];for(const k of l)if(k.hasAttribute("listType"))for(const b of Zd(k,{withNested:!1}))b.getAttribute("listType")!=this.type&&(p.setAttribute("listType",this.type,b),f.push(b));else!k.is("element","listItem")&&s0(k,i.schema)&&p.rename(k,"listItem"),p.setAttributes({listIndent:0,listItemId:Dc.next(),listType:this.type},k),f.push(k);this._fireAfterExecute(f)}})}_fireAfterExecute(e){this.fire("afterExecute",la(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const o of i)if(o.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,o=e.document.selection,a=Array.from(o.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const l of a)if(i.checkAttribute(l,"listType")||s0(l,i))return!0;return!1}}class pD extends Be{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,o=i.document.selection,a=[];i.change(l=>{const{firstElement:u,lastElement:p}=this._getMergeSubjectElements(o,e),f=u.getAttribute("listIndent")||0,k=p.getAttribute("listIndent"),b=p.getAttribute("listItemId");if(f!=k){const C=(_=p,Array.from(new Vi(_,{direction:"forward",higherIndent:!0})));a.push(...o0([p,...C],l,{indentBy:f-k,expand:f<k}))}var _;if(e){let C=o;o.isCollapsed&&(C=l.createSelection(l.createRange(l.createPositionAt(u,"end"),l.createPositionAt(p,0)))),i.deleteContent(C,{doNotResetEntireContent:o.isCollapsed});const x=C.getLastPosition().parent,I=x.nextSibling;a.push(x),I&&I!==p&&I.getAttribute("listItemId")==b&&a.push(...r0(I,x,l))}else a.push(...r0(p,u,l));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",la(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,o=Xd(e);if(i.isCollapsed||o){const a=o||i.getFirstPosition().parent;if(!sn(a))return!1;const l=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!l||Jd([a,l]))return!1}else{const a=i.getLastPosition(),l=i.getFirstPosition();if(a.parent===l.parent||!sn(a.parent))return!1}return!0}_getMergeSubjectElements(e,i){const o=Xd(this.editor.model);let a,l;if(e.isCollapsed||o){const u=o||e.getFirstPosition().parent,p=ca(u);this._direction=="backward"?(l=u,a=p&&!i?Vi.first(u,{sameIndent:!0,lowerIndent:!0}):u.previousSibling):(a=u,l=u.nextSibling)}else a=e.getFirstPosition().parent,l=e.getLastPosition().parent;return{firstElement:a,lastElement:l}}}class gD extends Be{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=i0(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",la(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&sn(i)&&!ca(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class nU extends re{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return eU(e)}isFirstBlockOfListItem(e){return ca(e)}isListItemBlock(e){return sn(e)}expandListBlocksToCompleteItems(e,i={}){return Zd(e,i)}}function fD(s){return s.is("element","ol")||s.is("element","ul")}function Vg(s){return s.is("element","li")}function iU(s,e,i,o=kD(i,e)){return s.createAttributeElement(mD(i),null,{priority:2*e/100-100,id:o})}function rU(s,e,i){return s.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function mD(s){return s=="numbered"?"ol":"ul"}function kD(s,e){return`list-${s}-${e}`}function ar(s,e){const i=s.nodeBefore;if(sn(i)){let o=i;for(const{node:a}of Yd(o,"backward"))if(o=a,e.has(o))return;e.set(i,o)}else{const o=s.nodeAfter;sn(o)&&e.set(o,o)}}function oU(){return(s,e,i)=>{const{writer:o,schema:a}=i;if(!e.modelRange)return;const l=Array.from(e.modelRange.getItems({shallow:!0})).filter(_=>a.checkAttribute(_,"listItemId"));if(!l.length)return;const u=Dc.next(),p=function(_){let C=0,x=_.parent;for(;x;){if(Vg(x))C++;else{const I=x.previousSibling;I&&Vg(I)&&C++}x=x.parent}return C}(e.viewItem);let f=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const k=l[0].getAttribute("listType");k&&(f=k);const b={listItemId:u,listIndent:p,listType:f};for(const _ of l)_.hasAttribute("listItemId")||o.setAttributes(b,_);l.length>1&&l[1].getAttribute("listItemId")!=b.listItemId&&i.keepEmptyElement(l[0])}}function bD(){return(s,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const o=new co(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))Vg(a)||fD(a)||o.remove(a)}}function wD(s,e,i,{dataPipeline:o}={}){const a=function(l){return(u,p)=>{const f=[];for(const k of l)u.hasAttribute(k)&&f.push(`attribute:${k}`);return!!f.every(k=>p.test(u,k)!==!1)&&(f.forEach(k=>p.consume(u,k)),!0)}}(s);return(l,u,p)=>{const{writer:f,mapper:k,consumable:b}=p,_=u.item;if(!s.includes(u.attributeKey)||!a(_,b))return;const C=function(I,D,N){const L=N.createRangeOn(I);return D.toViewRange(L).getTrimmed().end.nodeBefore}(_,k,i);(function(I,D,N){for(;I.parent.is("attributeElement")&&I.parent.getCustomProperty("listItemWrapper");)D.unwrap(D.createRangeIn(I.parent),I.parent);const L=D.createPositionBefore(I).getWalker({direction:"backward"}),U=[];for(const{item:W}of L){if(W.is("element")&&N.toModelElement(W))break;W.is("element")&&W.getCustomProperty("listItemMarker")&&U.push(W)}for(const W of U)D.remove(W)})(C,f,k),function(I,D){let N=I.parent;for(;N.is("attributeElement")&&["ul","ol","li"].includes(N.name);){const L=N.parent;D.unwrap(D.createRangeOn(I),N),N=L}}(C,f);const x=function(I,D,N,L,{dataPipeline:U}){let W=L.createRangeOn(D);if(!ca(I))return W;for(const J of N){if(J.scope!="itemMarker")continue;const pe=J.createElement(L,I,{dataPipeline:U});if(!pe||(L.setCustomProperty("listItemMarker",!0,pe),L.insert(W.start,pe),W=L.createRange(L.createPositionBefore(pe),L.createPositionAfter(D)),!J.createWrapperElement||!J.canWrapElement))continue;const _e=J.createWrapperElement(L,I,{dataPipeline:U});L.setCustomProperty("listItemWrapper",!0,_e),J.canWrapElement(I)?W=L.wrap(W,_e):(W=L.wrap(L.createRangeOn(pe),_e),W=L.createRange(W.start,L.createPositionAfter(D)))}return W}(_,C,e,f,{dataPipeline:o});(function(I,D,N,L){if(!I.hasAttribute("listIndent"))return;const U=I.getAttribute("listIndent");let W=I;for(let J=U;J>=0;J--){const pe=rU(L,J,W.getAttribute("listItemId")),_e=iU(L,J,W.getAttribute("listType"));for(const Oe of N)Oe.scope!="list"&&Oe.scope!="item"||!W.hasAttribute(Oe.attributeName)||Oe.setAttributeOnDowncast(L,W.getAttribute(Oe.attributeName),Oe.scope=="list"?_e:pe);if(D=L.wrap(D,pe),D=L.wrap(D,_e),J==0||(W=Vi.first(W,{lowerIndent:!0}),!W))break}})(_,x,e,f)}}function _D(s,{dataPipeline:e}={}){return(i,{writer:o})=>{if(!AD(i,s))return null;if(!e)return o.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function AD(s,e,i=n0(s)){if(!sn(s))return!1;for(const o of s.getAttributeKeys())if(!o.startsWith("selection:")&&!e.includes(o))return!1;return i.length<2}var vD=d(1232),sU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(vD.A,sU),vD.A.locals;var CD=d(6903),aU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(CD.A,aU),CD.A.locals;const Fg=["listType","listIndent","listItemId"];class cU extends re{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[Ig,ho,nU,ji]}init(){const e=this.editor,i=e.model,o=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new V("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:Fg}),o?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of Fg)i.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new hD(e,"numbered")),e.commands.add("bulletedList",new hD(e,"bulleted")),e.commands.add("indentList",new dD(e,"forward")),e.commands.add("outdentList",new dD(e,"backward")),e.commands.add("splitListItemBefore",new gD(e,"before")),e.commands.add("splitListItemAfter",new gD(e,"after")),o&&(e.commands.add("mergeListItemBackward",new pD(e,"backward")),e.commands.add("mergeListItemForward",new pD(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),o=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),o&&o.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Fg,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),o=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,l)=>{const u=e.model.document.selection;Xd(e.model)||e.model.change(()=>{const p=u.getFirstPosition();if(u.isCollapsed&&l.direction=="backward"){if(!p.isAtStart)return;const f=p.parent;if(!sn(f))return;if(Vi.first(f,{sameAttributes:"listType",sameIndent:!0})||f.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:yD(e.model,"backward")})}else lD(f)||e.execute("splitListItemAfter"),e.execute("outdentList");l.preventDefault(),a.stop()}else{if(u.isCollapsed&&!u.getLastPosition().isAtEnd||!o||!o.isEnabled)return;o.execute({shouldMergeOnBlocksContentLevel:yD(e.model,"forward")}),l.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,o=e.commands,a=o.get("enter");this.listenTo(e.editing.view.document,"enter",(l,u)=>{const p=i.document,f=p.selection.getFirstPosition().parent;if(p.selection.isCollapsed&&sn(f)&&f.isEmpty&&!u.isSoft){const k=ca(f),b=lD(f);k&&b?(e.execute("outdentList"),u.preventDefault(),l.stop()):k&&!b?(e.execute("splitListItemAfter"),u.preventDefault(),l.stop()):b&&(e.execute("splitListItemBefore"),u.preventDefault(),l.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const l=o.get("splitListItemBefore");l.refresh(),l.isEnabled&&n0(e.model.document.selection.getLastPosition().parent).length===2&&l.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,o)=>{const a=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),o.stopPropagation(),o.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,o=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),l=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(u,{writer:p})=>p.createElement(l,{listType:""})}).elementToElement({view:"p",model:(u,{writer:p})=>u.parent&&u.parent.is("element","li")?p.createElement(l,{listType:""}):null,converterPriority:"high"}).add(u=>{u.on("element:li",oU()),u.on("element:ul",bD(),{priority:"high"}),u.on("element:ol",bD(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:l,view:_D(o),converterPriority:"high"}).add(u=>{u.on("attribute",wD(o,this._downcastStrategies,i))}),e.conversion.for("dataDowncast").elementToElement({model:l,view:_D(o,{dataPipeline:!0}),converterPriority:"high"}).add(u=>{u.on("attribute",wD(o,this._downcastStrategies,i,{dataPipeline:!0}))}),this.listenTo(i.document,"change:data",function(u,p,f,k){return()=>{const x=u.document.differ.getChanges(),I=[],D=new Map,N=new Set;for(const L of x)if(L.type=="insert"&&L.name!="$text")ar(L.position,D),L.attributes.has("listItemId")?N.add(L.position.nodeAfter):ar(L.position.getShiftedBy(L.length),D);else if(L.type=="remove"&&L.attributes.has("listItemId"))ar(L.position,D);else if(L.type=="attribute"){const U=L.range.start.nodeAfter;f.includes(L.attributeKey)?(ar(L.range.start,D),L.attributeNewValue===null?(ar(L.range.start.getShiftedBy(1),D),_(U)&&I.push(U)):N.add(U)):sn(U)&&_(U)&&I.push(U)}for(const L of D.values())I.push(...b(L,N));for(const L of new Set(I))p.reconvertItem(L)};function b(x,I){const D=[],N=new Set,L=[];for(const{node:U,previous:W}of Yd(x,"forward")){if(N.has(U))continue;const J=U.getAttribute("listIndent");W&&J<W.getAttribute("listIndent")&&(L.length=J+1),L[J]=Object.fromEntries(Array.from(U.getAttributes()).filter(([_e])=>f.includes(_e)));const pe=Xo(U,{direction:"forward"});for(const _e of pe)N.add(_e),(_(_e,pe)||C(_e,L,I))&&D.push(_e)}return D}function _(x,I){const D=p.mapper.toViewElement(x);if(!D)return!1;if(k.fire("checkElement",{modelElement:x,viewElement:D}))return!0;if(!x.is("element","paragraph")&&!x.is("element","listItem"))return!1;const N=AD(x,f,I);return!(!N||!D.is("element","p"))||!(N||!D.is("element","span"))}function C(x,I,D){if(D.has(x))return!1;const N=p.mapper.toViewElement(x);let L=I.length-1;for(let U=N.parent;!U.is("editableElement");U=U.parent){const W=Vg(U),J=fD(U);if(!J&&!W)continue;const pe="checkAttributes:"+(W?"item":"list");if(k.fire(pe,{viewElement:U,modelAttributes:I[L]}))break;if(J&&(L--,L<0))return!1}return!0}}(i,e.editing,o,this),{priority:"high"}),this.on("checkAttributes:item",(u,{viewElement:p,modelAttributes:f})=>{p.id!=f.listItemId&&(u.return=!0,u.stop())}),this.on("checkAttributes:list",(u,{viewElement:p,modelAttributes:f})=>{p.name==mD(f.listType)&&p.id==kD(f.listType,f.listIndent)||(u.return=!0,u.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(o=>function(a,l,u,p){const f=a.document.differ.getChanges(),k=new Map,b=p.editor.config.get("list.multiBlock");let _=!1;for(const x of f){if(x.type=="insert"&&x.name!="$text"){const I=x.position.nodeAfter;if(!a.schema.checkAttribute(I,"listItemId"))for(const D of Array.from(I.getAttributeKeys()))u.includes(D)&&(l.removeAttribute(D,I),_=!0);ar(x.position,k),x.attributes.has("listItemId")||ar(x.position.getShiftedBy(x.length),k);for(const{item:D,previousPosition:N}of a.createRangeIn(I))sn(D)&&ar(N,k)}else x.type=="remove"?ar(x.position,k):x.type=="attribute"&&u.includes(x.attributeKey)&&(ar(x.range.start,k),x.attributeNewValue===null&&ar(x.range.start.getShiftedBy(1),k));if(!b&&x.type=="attribute"&&Fg.includes(x.attributeKey)){const I=x.range.start.nodeAfter;x.attributeNewValue===null&&I&&I.is("element","listItem")?(l.rename(I,"paragraph"),_=!0):x.attributeOldValue===null&&I&&I.is("element")&&I.name!="listItem"&&(l.rename(I,"listItem"),_=!0)}}const C=new Set;for(const x of k.values())_=p.fire("postFixer",{listNodes:new K8(x),listHead:x,writer:l,seenIds:C})||_;return _}(e,o,i,this)),this.on("postFixer",(o,{listNodes:a,writer:l})=>{o.return=function(u,p){let f=0,k=-1,b=null,_=!1;for(const{node:C}of u){const x=C.getAttribute("listIndent");if(x>f){let I;b===null?(b=x-f,I=f):(b>x&&(b=x),I=x-b),I>k+1&&(I=k+1),p.setAttribute("listIndent",I,C),_=!0,k=I}else b=null,f=x+1,k=x}return _}(a,l)||o.return},{priority:"high"}),this.on("postFixer",(o,{listNodes:a,writer:l,seenIds:u})=>{o.return=function(p,f,k){const b=new Set;let _=!1;for(const{node:C}of p){if(b.has(C))continue;let x=C.getAttribute("listType"),I=C.getAttribute("listItemId");if(f.has(I)&&(I=Dc.next()),f.add(I),C.is("element","listItem"))C.getAttribute("listItemId")!=I&&(k.setAttribute("listItemId",I,C),_=!0);else for(const D of Xo(C,{direction:"forward"}))b.add(D),D.getAttribute("listType")!=x&&(I=Dc.next(),x=D.getAttribute("listType")),D.getAttribute("listItemId")!=I&&(k.setAttribute("listItemId",I,D),_=!0)}return _}(a,u,l)||o.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(o){return(a,[l,u])=>{const p=l.is("documentFragment")?Array.from(l.getChildren()):[l];if(!p.length)return;const f=(u?o.createSelection(u):o.document.selection).getFirstPosition();let k;if(sn(f.parent))k=f.parent;else{if(!sn(f.nodeBefore))return;k=f.nodeBefore}o.change(b=>{const _=k.getAttribute("listType"),C=k.getAttribute("listIndent"),x=p[0].getAttribute("listIndent")||0,I=Math.max(C-x,0);for(const D of p){const N=sn(D);k.is("element","listItem")&&D.is("element","paragraph")&&b.rename(D,"listItem"),b.setAttributes({listIndent:(N?D.getAttribute("listIndent"):0)+I,listItemId:N?D.getAttribute("listItemId"):Dc.next(),listType:_},D)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(o,a)=>{e.change(l=>{const u=Array.from(a.content.getChildren()),p=u[u.length-1];if(u.length>1&&p.is("element")&&p.isEmpty&&u.slice(0,-1).every(sn)&&l.remove(p),a.method=="copy"||a.method=="cut"){const f=Array.from(a.content.getChildren());Jd(f)&&zg(f,l)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function yD(s,e){const i=s.document.selection;if(!i.isCollapsed)return!Xd(s);if(e==="forward")return!0;const o=i.getFirstPosition().parent,a=o.previousSibling;return!s.schema.isObject(a)&&(!!a.isEmpty||Jd([o,a]))}function ED(s,e,i,o){s.ui.componentFactory.add(e,a=>{const l=s.commands.get(e),u=new Je(a);return u.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),u.on("execute",()=>{s.execute(e),s.editing.view.focus()}),u})}class lU extends re{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;ED(this.editor,"numberedList",e("Numbered List"),Te.numberedList),ED(this.editor,"bulletedList",e("Bulleted List"),Te.bulletedList)}}class dU extends re{static get requires(){return[cU,lU]}static get pluginName(){return"List"}}const uU=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:s,typeAttribute:e,listType:i}of uU);var xD=d(9968),hU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(xD.A,hU),xD.A.locals;var ID=d(7141),pU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(ID.A,pU),ID.A.locals,vd("Ctrl+Enter");var TD=d(8991),gU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(TD.A,gU),TD.A.locals,vd("Ctrl+Enter");function DD(s,e){const i=(o,a,l)=>{if(!l.consumable.consume(a.item,o.name))return;const u=a.attributeNewValue,p=l.writer,f=l.mapper.toViewElement(a.item),k=[...f.getChildren()].find(_=>_.getCustomProperty("media-content"));p.remove(k);const b=s.getMediaViewElement(p,u,e);p.insert(p.createPositionAt(f,0),b)};return o=>{o.on("attribute:url:media",i)}}function SD(s,e,i,o){return s.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(s,i,o),s.createSlot()])}function MD(s){const e=s.getSelectedElement();return e&&e.is("element","media")?e:null}function PD(s,e,i,o){s.change(a=>{const l=a.createElement("media",{url:e});s.insertObject(l,i,null,{setSelection:"on",findOptimalPosition:o?"auto":void 0})})}class fU extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=MD(i);this.value=o?o.getAttribute("url"):void 0,this.isEnabled=function(a){const l=a.getSelectedElement();return!!l&&l.name==="media"}(i)||function(a,l){let p=z2(a,l).start.parent;return p.isEmpty&&!l.schema.isLimit(p)&&(p=p.parent),l.schema.checkChild(p,"media")}(i,e)}execute(e){const i=this.editor.model,o=i.document.selection,a=MD(o);a?i.change(l=>{l.setAttribute("url",e,a)}):PD(i,e,o,!0)}}class mU{constructor(e,i){const o=i.providers,a=i.extraProviders||[],l=new Set(i.removeProviders),u=o.concat(a).filter(p=>{const f=p.name;return f?!l.has(f):(ie("media-embed-no-provider-name",{provider:p}),!1)});this.locale=e,this.providerDefinitions=u}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,o){return this._getMedia(i).getViewElement(e,o)}_getMedia(e){if(!e)return new ND(this.locale);e=e.trim();for(const i of this.providerDefinitions){const o=i.html,a=pt(i.url);for(const l of a){const u=this._getUrlMatches(e,l);if(u)return new ND(this.locale,e,u,o)}}return null}_getUrlMatches(e,i){let o=e.match(i);if(o)return o;let a=e.replace(/^https?:\/\//,"");return o=a.match(i),o||(a=a.replace(/^www\./,""),o=a.match(i),o||null)}}class ND{constructor(e,i,o,a){this.url=this._getValidUrl(i),this._locale=e,this._match=o,this._previewRenderer=a}getViewElement(e,i){const o={};let a;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),i.renderForEditingView&&(o.class="ck-media__wrapper");const l=this._getPreviewHtml(i);a=e.createRawElement("div",o,(u,p)=>{p.setContentOf(u,l)})}else this.url&&(o.url=this.url),a=e.createEmptyElement(i.elementName,o);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Qo,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new or({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var RD=d(7048),kU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(RD.A,kU),RD.A.locals;class Ug extends re{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const o=i[1],a=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new mU(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,o=e.t,a=e.conversion,l=e.config.get("mediaEmbed.previewsInData"),u=e.config.get("mediaEmbed.elementName"),p=this.registry;e.commands.add("mediaEmbed",new fU(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(f,{writer:k})=>{const b=f.getAttribute("url");return SD(k,p,b,{elementName:u,renderMediaPreview:!!b&&l})}}),a.for("dataDowncast").add(DD(p,{elementName:u,renderMediaPreview:l})),a.for("editingDowncast").elementToStructure({model:"media",view:(f,{writer:k})=>{const b=f.getAttribute("url");return function(_,C,x){return C.setCustomProperty("media",!0,_),Rw(_,C,{label:x})}(SD(k,p,b,{elementName:u,renderForEditingView:!0}),k,o("media widget"))}}),a.for("editingDowncast").add(DD(p,{elementName:u,renderForEditingView:!0})),a.for("upcast").elementToElement({view:f=>["oembed",u].includes(f.name)&&f.getAttribute("url")?{name:!0}:null,model:(f,{writer:k})=>{const b=f.getAttribute("url");return p.hasMedia(b)?k.createElement("media",{url:b}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(f,{writer:k})=>{const b=f.getAttribute("data-oembed-url");return p.hasMedia(b)?k.createElement("media",{url:b}):null}}).add(f=>{f.on("element:figure",(k,b,_)=>{if(!_.consumable.consume(b.viewItem,{name:!0,classes:"media"}))return;const{modelRange:C,modelCursor:x}=_.convertChildren(b.viewItem,b.modelCursor);b.modelRange=C,b.modelCursor=x,rn(C.getItems())||_.consumable.revert(b.viewItem,{name:!0,classes:"media"})})})}}const bU=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class wU extends re{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[rI,ho,lI]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",()=>{const a=i.selection.getFirstRange(),l=kn.fromPosition(a.start);l.stickiness="toPrevious";const u=kn.fromPosition(a.end);u.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(ae.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const o=this.editor,a=o.plugins.get(Ug).registry,l=new Ai(e,i),u=l.getWalker({ignoreElementEnd:!0});let p="";for(const f of u)f.item.is("$textProxy")&&(p+=f.item.data);if(p=p.trim(),!p.match(bU)||!a.hasMedia(p))return void l.detach();o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=kn.fromPosition(e),this._timeoutId=ae.window.setTimeout(()=>{o.model.change(f=>{this._timeoutId=null,f.remove(l),l.detach();let k=null;this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert),PD(o.model,p,k,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get(ho).requestUndoOnBackspace()},100)):l.detach()}}var BD=d(5651),_U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(BD.A,_U),BD.A.locals;class AU extends ve{constructor(e,i){super(i);const o=i.t;this.focusTracker=new mn,this.keystrokes=new ei,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Te.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",a=>!!a),this.cancelButtonView=this._createButton(o("Cancel"),Te.cancel,"ck-button-cancel","cancel"),this._focusables=new Oi,this._focusCycler=new Li({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new ug(this.locale,fg),o=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{i.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),i}_createButton(e,i,o,a){const l=new Je(this.locale);return l.set({label:e,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),a&&l.delegate("execute").to(this,a),l}}class vU extends re{static get requires(){return[Ug]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",o=>{const a=lo(o);return this._setUpDropdown(a,i),a})}_setUpDropdown(e,i){const o=this.editor,a=o.t,l=e.buttonView,u=o.plugins.get(Ug).registry;e.once("change:isOpen",()=>{const p=new(w(AU))(function(f,k){return[b=>{if(!b.url.length)return f("The URL must not be empty.")},b=>{if(!k.hasMedia(b.url))return f("This media URL is not supported.")}]}(o.t,u),o.locale);e.panelView.children.add(p),l.on("open",()=>{p.disableCssTransitions(),p.url=i.value||"",p.urlInputView.fieldView.select(),p.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{p.isValid()&&(o.execute("mediaEmbed",p.url),o.editing.view.focus())}),e.on("change:isOpen",()=>p.resetFormStatus()),e.on("cancel",()=>{o.editing.view.focus()}),p.delegate("submit","cancel").to(e),p.urlInputView.fieldView.bind("value").to(i,"value"),p.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),l.set({label:a("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var OD=d(70),CU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(OD.A,CU),OD.A.locals;function yU(s,e){if(!s.childCount)return;const i=new co(s.document),o=function(u,p){const f=p.createRangeIn(u),k=new er({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),b=[];for(const _ of f)if(_.type==="elementStart"&&k.match(_.item)){const C=xU(_.item);b.push({element:_.item,id:C.id,order:C.order,indent:C.indent})}return b}(s,i);if(!o.length)return;let a=null,l=1;o.forEach((u,p)=>{const f=function(I,D){if(!I)return!0;if(I.id!==D.id)return D.indent-I.indent!=1;const N=D.element.previousSibling;if(!N)return!0;return L=N,!(L.is("element","ol")||L.is("element","ul"));var L}(o[p-1],u),k=f?null:o[p-1],b=(C=u,(_=k)?C.indent-_.indent:C.indent-1);var _,C;if(f&&(a=null,l=1),!a||b!==0){const I=function(D,N){const L=new RegExp(`@list l${D.id}:level${D.indent}\\s*({[^}]*)`,"gi"),U=/mso-level-number-format:([^;]{0,100});/gi,W=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,J=L.exec(N);let pe="decimal",_e="ol",Oe=null;if(J&&J[1]){const ft=U.exec(J[1]);if(ft&&ft[1]&&(pe=ft[1].trim(),_e=pe!=="bullet"&&pe!=="image"?"ol":"ul"),pe==="bullet"){const Qt=function($g){const eu=function(DS){if(DS.getChild(0).is("$text"))return null;for(const SS of DS.getChildren()){if(!SS.is("element","span"))continue;const Wg=SS.getChild(0);if(Wg)return Wg.is("$text")?Wg:Wg.getChild(0)}return null}($g);if(!eu)return null;const Mc=eu._data;return Mc==="o"?"circle":Mc==="·"?"disc":Mc==="§"?"square":null}(D.element);Qt&&(pe=Qt)}else{const Qt=W.exec(J[1]);Qt&&Qt[1]&&(Oe=parseInt(Qt[1]))}}return{type:_e,startIndex:Oe,style:EU(pe)}}(u,e);if(a){if(u.indent>l){const D=a.getChild(a.childCount-1),N=D.getChild(D.childCount-1);a=LD(I,N,i),l+=1}else if(u.indent<l){const D=l-u.indent;a=function(N,L){const U=N.getAncestors({parentFirst:!0});let W=null,J=0;for(const pe of U)if((pe.is("element","ul")||pe.is("element","ol"))&&J++,J===L){W=pe;break}return W}(a,D),l=u.indent}}else a=LD(I,u.element,i);u.indent<=l&&(a.is("element",I.type)||(a=i.rename(I.type,a)))}const x=function(I,D){return function(N,L){const U=new er({name:"span",styles:{"mso-list":"Ignore"}}),W=L.createRangeIn(N);for(const J of W)J.type==="elementStart"&&U.match(J.item)&&L.remove(J.item)}(I,D),D.removeStyle("text-indent",I),D.rename("li",I)}(u.element,i);i.appendChild(x,a)})}function EU(s){if(s.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(s){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return s;default:return null}}function LD(s,e,i){const o=e.parent,a=i.createElement(s.type),l=o.getChildIndex(e)+1;return i.insertChild(l,a,o),s.style&&i.setStyle("list-style-type",s.style,a),s.startIndex&&s.startIndex>1&&i.setAttribute("start",s.startIndex,a),a}function xU(s){const e={},i=s.getStyle("mso-list");if(i){const o=i.match(/(^|\s{1,100})l(\d+)/i),a=i.match(/\s{0,100}lfo(\d+)/i),l=i.match(/\s{0,100}level(\d+)/i);o&&a&&l&&(e.id=o[2],e.order=a[1],e.indent=parseInt(l[1]))}return e}function IU(s,e){if(!s.childCount)return;const i=new co(s.document),o=function(l,u){const p=u.createRangeIn(l),f=new er({name:/v:(.+)/}),k=[];for(const b of p){if(b.type!="elementStart")continue;const _=b.item,C=_.previousSibling,x=C&&C.is("element")?C.name:null,I=["Chart"],D=f.match(_),N=_.getAttribute("o:gfxdata"),L=x==="v:shapetype",U=N&&I.some(W=>_.getAttribute("id").includes(W));D&&N&&!L&&!U&&k.push(b.item.getAttribute("id"))}return k}(s,i);(function(l,u,p){const f=p.createRangeIn(u),k=new er({name:"img"}),b=[];for(const _ of f)if(_.item.is("element")&&k.match(_.item)){const C=_.item,x=C.getAttribute("v:shapes")?C.getAttribute("v:shapes").split(" "):[];x.length&&x.every(I=>l.indexOf(I)>-1)?b.push(C):C.getAttribute("src")||b.push(C)}for(const _ of b)p.remove(_)})(o,s,i),function(l,u,p){const f=p.createRangeIn(u),k=[];for(const C of f)if(C.type=="elementStart"&&C.item.is("element","v:shape")){const x=C.item.getAttribute("id");if(l.includes(x))continue;b(C.item.parent.getChildren(),x)||k.push(C.item)}for(const C of k){const x={src:_(C)};C.hasAttribute("alt")&&(x.alt=C.getAttribute("alt"));const I=p.createElement("img",x);p.insertChild(C.index+1,I,C.parent)}function b(C,x){for(const I of C)if(I.is("element")&&(I.name=="img"&&I.getAttribute("v:shapes")==x||b(I.getChildren(),x)))return!0;return!1}function _(C){for(const x of C.getChildren())if(x.is("element")&&x.getAttribute("src"))return x.getAttribute("src")}}(o,s,i),function(l,u){const p=u.createRangeIn(l),f=new er({name:/v:(.+)/}),k=[];for(const b of p)b.type=="elementStart"&&f.match(b.item)&&k.push(b.item);for(const b of k)u.remove(b)}(s,i);const a=function(l,u){const p=u.createRangeIn(l),f=new er({name:"img"}),k=[];for(const b of p)b.item.is("element")&&f.match(b.item)&&b.item.getAttribute("src").startsWith("file://")&&k.push(b.item);return k}(s,i);a.length&&function(l,u,p){if(l.length===u.length)for(let f=0;f<l.length;f++){const k=`data:${u[f].type};base64,${TU(u[f].hex)}`;p.setAttribute("src",k,l[f])}}(a,function(l){if(!l)return[];const u=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,p=new RegExp("(?:("+u.source+"))([\\da-fA-F\\s]+)\\}","g"),f=l.match(p),k=[];if(f)for(const b of f){let _=!1;b.includes("\\pngblip")?_="image/png":b.includes("\\jpegblip")&&(_="image/jpeg"),_&&k.push({hex:b.replace(u,"").replace(/[^\da-fA-F]/g,""),type:_})}return k}(e),i)}function TU(s){return btoa(s.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const DU=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,SU=/xmlns:o="urn:schemas-microsoft-com/i;class MU{constructor(e){this.document=e}isActive(e){return DU.test(e)||SU.test(e)}execute(e){const{body:i,stylesString:o}=e._parsedData;yU(i,o),IU(i,e.dataTransfer.getData("text/rtf")),function(a){const l=[],u=new co(a.document);for(const{item:p}of u.createRangeIn(a))if(p.is("element")){for(const f of p.getClassNames())/\bmso/gi.exec(f)&&u.removeClass(f,p);for(const f of p.getStyleNames())/\bmso/gi.exec(f)&&u.removeStyle(f,p);p.is("element","w:sdt")&&l.push(p)}for(const p of l){const f=p.parent,k=f.getChildIndex(p);u.insertChild(k,p.getChildren(),f),u.remove(p)}}(i),e.content=i}}function jD(s,e,i,{blockElements:o,inlineObjectElements:a}){let l=i.createPositionAt(s,e=="forward"?"after":"before");return l=l.getLastMatchingPosition(({item:u})=>u.is("element")&&!o.includes(u.name)&&!a.includes(u.name),{direction:e}),e=="forward"?l.nodeAfter:l.nodeBefore}function zD(s,e){return!!s&&s.is("element")&&e.includes(s.name)}const PU=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class NU{constructor(e){this.document=e}isActive(e){return PU.test(e)}execute(e){const i=new co(this.document),{body:o}=e._parsedData;(function(a,l){for(const u of a.getChildren())if(u.is("element","b")&&u.getStyle("font-weight")==="normal"){const p=a.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),a)}})(o,i),function(a,l){for(const u of l.createRangeIn(a)){const p=u.item;if(p.is("element","li")){const f=p.getChild(0);f&&f.is("element","p")&&l.unwrapElement(f)}}}(o,i),function(a,l){const u=new Qp(l.document.stylesProcessor),p=new Jp(u,{renderingMode:"data"}),f=p.blockElements,k=p.inlineObjectElements,b=[];for(const _ of l.createRangeIn(a)){const C=_.item;if(C.is("element","br")){const x=jD(C,"forward",l,{blockElements:f,inlineObjectElements:k}),I=jD(C,"backward",l,{blockElements:f,inlineObjectElements:k}),D=zD(x,f);(zD(I,f)||D)&&b.push(C)}}for(const _ of b)_.hasClass("Apple-interchange-newline")?l.remove(_):l.replace(_,l.createElement("p"))}(o,i),e.content=o}}const RU=/<google-sheets-html-origin/i;class BU{constructor(e){this.document=e}isActive(e){return RU.test(e)}execute(e){const i=new co(this.document),{body:o}=e._parsedData;(function(a,l){for(const u of a.getChildren())if(u.is("element","google-sheets-html-origin")){const p=a.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),a)}})(o,i),function(a,l){for(const u of a.getChildren())u.is("element","table")&&u.hasAttribute("xmlns")&&l.removeAttribute("xmlns",u)}(o,i),function(a,l){for(const u of a.getChildren())u.is("element","table")&&u.getStyle("width")==="0px"&&l.removeStyle("width",u)}(o,i),function(a,l){for(const u of Array.from(a.getChildren()))u.is("element","style")&&l.remove(u)}(o,i),e.content=o}}function VD(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join("  ").substr(0,i.length))}function OU(s,e){const i=new DOMParser,o=function(f){return VD(VD(f)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(f){const k="</body>",b="</html>",_=f.indexOf(k);if(_<0)return f;const C=f.indexOf(b,_+k.length);return f.substring(0,_+k.length)+(C>=0?f.substring(C):"")}(s=(s=s.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),a=i.parseFromString(o,"text/html");(function(f){f.querySelectorAll("span[style*=spacerun]").forEach(k=>{const b=k,_=b.innerText.length||0;b.innerText=Array(_+1).join("  ").substr(0,_)})})(a);const l=a.body.innerHTML,u=function(f,k){const b=new Qp(k),_=new Jp(b,{renderingMode:"data"}),C=f.createDocumentFragment(),x=f.body.childNodes;for(;x.length>0;)C.appendChild(x[0]);return _.domToView(C,{skipComments:!0})}(a,e),p=function(f){const k=[],b=[],_=Array.from(f.getElementsByTagName("style"));for(const C of _)C.sheet&&C.sheet.cssRules&&C.sheet.cssRules.length&&(k.push(C.sheet),b.push(C.innerHTML));return{styles:k,stylesString:b.join(" ")}}(a);return{body:u,bodyString:l,styles:p.styles,stylesString:p.stylesString}}function Mt(s,e,i,o,a=1){e!=null&&a!=null&&e>a?o.setAttribute(s,e,i):o.removeAttribute(s,i)}function da(s,e,i={}){const o=s.createElement("tableCell",i);return s.insertElement("paragraph",o),s.insert(o,e),o}function a0(s,e){const i=e.parent.parent,o=parseInt(i.getAttribute("headingColumns")||"0"),{column:a}=s.getCellLocation(e);return!!o&&a<o}function LU(){return s=>{s.on("element:table",(e,i,o)=>{const a=i.viewItem;if(!o.consumable.test(a,{name:!0}))return;const{rows:l,headingRows:u,headingColumns:p}=function(b){let _,C=0;const x=[],I=[];let D;for(const N of Array.from(b.getChildren())){if(N.name!=="tbody"&&N.name!=="thead"&&N.name!=="tfoot")continue;N.name!=="thead"||D||(D=N);const L=Array.from(N.getChildren()).filter(U=>U.is("element","tr"));for(const U of L)if(D&&N===D||N.name==="tbody"&&Array.from(U.getChildren()).length&&Array.from(U.getChildren()).every(W=>W.is("element","th")))C++,x.push(U);else{I.push(U);const W=jU(U);(!_||W<_)&&(_=W)}}return{headingRows:C,headingColumns:_||0,rows:[...x,...I]}}(a),f={};p&&(f.headingColumns=p),u&&(f.headingRows=u);const k=o.writer.createElement("table",f);if(o.safeInsert(k,i.modelCursor)){if(o.consumable.consume(a,{name:!0}),l.forEach(b=>o.convertItem(b,o.writer.createPositionAt(k,"end"))),o.convertChildren(a,o.writer.createPositionAt(k,"end")),k.isEmpty){const b=o.writer.createElement("tableRow");o.writer.insert(b,o.writer.createPositionAt(k,"end")),da(o.writer,o.writer.createPositionAt(b,"end"))}o.updateConversionResult(k,i)}})}}function FD(s){return e=>{e.on(`element:${s}`,(i,o,{writer:a})=>{if(!o.modelRange)return;const l=o.modelRange.start.nodeAfter,u=a.createPositionAt(l,0);if(o.viewItem.isEmpty)return void a.insertElement("paragraph",u);const p=Array.from(l.getChildren());if(p.every(f=>f.is("element","$marker"))){const f=a.createElement("paragraph");a.insert(f,a.createPositionAt(l,0));for(const k of p)a.move(a.createRangeOn(k),a.createPositionAt(f,"end"))}},{priority:"low"})}}function jU(s){let e=0,i=0;const o=Array.from(s.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;i<o.length&&o[i].name==="th";){const a=o[i];e+=parseInt(a.getAttribute("colspan")||"1"),i++}return e}class rt{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(o.cell,o.row,o.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const l=parseInt(a.getAttribute("colspan")||"1"),u=parseInt(a.getAttribute("rowspan")||"1");(l>1||u>1)&&this._recordSpans(a,u,l),this._shouldSkipSlot()||(i=this._formatOutValue(a)),this._nextCellAtColumn=this._column+l}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,o=this._column){return{done:!1,value:new zU(this,e,i,o)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,o=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||o||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,o){const a={cell:e,row:this._row,column:this._column};for(let l=this._row;l<this._row+i;l++)for(let u=this._column;u<this._column+o;u++)l==this._row&&u==this._column||this._markSpannedCell(l,u,a)}_markSpannedCell(e,i,o){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,o)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,o)=>i+parseInt(o.getAttribute("colspan")||"1"),0)}}class zU{constructor(e,i,o,a){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=o,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function UD(s,e){return(i,{writer:o})=>{const a=i.getAttribute("headingRows")||0,l=o.createContainerElement("table",null,[]),u=o.createContainerElement("figure",{class:"table"},l);a>0&&o.insert(o.createPositionAt(l,"end"),o.createContainerElement("thead",null,o.createSlot(p=>p.is("element","tableRow")&&p.index<a))),a<s.getRows(i)&&o.insert(o.createPositionAt(l,"end"),o.createContainerElement("tbody",null,o.createSlot(p=>p.is("element","tableRow")&&p.index>=a)));for(const{positionOffset:p,filter:f}of e.additionalSlots)o.insert(o.createPositionAt(l,p),o.createSlot(f));return o.insert(o.createPositionAt(l,"after"),o.createSlot(p=>!p.is("element","tableRow")&&!e.additionalSlots.some(({filter:f})=>f(p)))),e.asWidget?function(p,f){return f.setCustomProperty("table",!0,p),Rw(p,f,{hasSelectionHandle:!0})}(u,o):u}}function HD(s={}){return(e,{writer:i})=>{const o=e.parent,a=o.parent,l=a.getChildIndex(o),u=new rt(a,{row:l}),p=a.getAttribute("headingRows")||0,f=a.getAttribute("headingColumns")||0;let k=null;for(const b of u)if(b.cell==e){const _=b.row<p||b.column<f?"th":"td";k=s.asWidget?j2(i.createEditableElement(_),i):i.createContainerElement(_);break}return k}}function $D(s={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!WD(e))return null;if(s.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const o=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}}function WD(s){return s.parent.childCount==1&&!!s.getAttributeKeys().next().done}class VU extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=e.schema;this.isEnabled=function(a,l){const u=a.getFirstPosition().parent,p=u===u.root?u:u.parent;return l.checkChild(p,"table")}(i,o)}execute(e={}){const i=this.editor,o=i.model,a=i.plugins.get("TableUtils"),l=i.config.get("table.defaultHeadings.rows"),u=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&l&&(e.headingRows=l),e.headingColumns===void 0&&u&&(e.headingColumns=u),o.change(p=>{const f=a.createTable(p,e);o.insertObject(f,null,null,{findOptimalPosition:"auto"}),p.setSelection(p.createPositionAt(f.getNodeByPath([0,0,0]),0))})}}class qD extends Be{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),a=this.order==="above",l=o.getSelectionAffectedTableCells(i),u=o.getRowIndexes(l),p=a?u.first:u.last,f=l[0].findAncestor("table");o.insertRows(f,{at:a?p:p+1,copyStructureFromAbove:!a})}}class GD extends Be{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),a=this.order==="left",l=o.getSelectionAffectedTableCells(i),u=o.getColumnIndexes(l),p=a?u.first:u.last,f=l[0].findAncestor("table");o.insertColumns(f,{columns:1,at:a?p:p+1})}}class KD extends Be{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function QD(s,e,i){const{startRow:o,startColumn:a,endRow:l,endColumn:u}=e,p=i.createElement("table"),f=l-o+1;for(let b=0;b<f;b++)i.insertElement("tableRow",p,"end");const k=[...new rt(s,{startRow:o,endRow:l,startColumn:a,endColumn:u,includeAllSlots:!0})];for(const{row:b,column:_,cell:C,isAnchor:x,cellAnchorRow:I,cellAnchorColumn:D}of k){const N=b-o,L=p.getChild(N);if(x){const U=i.cloneElement(C);i.append(U,L),eS(U,b,_,l,u,i)}else(I<o||D<a)&&da(i,i.createPositionAt(L,"end"))}return function(b,_,C,x,I){const D=parseInt(_.getAttribute("headingRows")||"0");D>0&&Mt("headingRows",D-C,b,I,0);const N=parseInt(_.getAttribute("headingColumns")||"0");N>0&&Mt("headingColumns",N-x,b,I,0)}(p,s,o,a,i),p}function YD(s,e,i=0){const o=[],a=new rt(s,{startRow:i,endRow:e-1});for(const l of a){const{row:u,cellHeight:p}=l;u<e&&e<=u+p-1&&o.push(l)}return o}function ZD(s,e,i){const o=s.parent,a=o.parent,l=o.index,u=e-l,p={},f=parseInt(s.getAttribute("rowspan"))-u;f>1&&(p.rowspan=f);const k=parseInt(s.getAttribute("colspan")||"1");k>1&&(p.colspan=k);const b=l+u,_=[...new rt(a,{startRow:l,endRow:b,includeAllSlots:!0})];let C,x=null;for(const I of _){const{row:D,column:N,cell:L}=I;L===s&&C===void 0&&(C=N),C!==void 0&&C===N&&D===b&&(x=da(i,I.getPositionBefore(),p))}return Mt("rowspan",u,s,i),x}function JD(s,e){const i=[],o=new rt(s);for(const a of o){const{column:l,cellWidth:u}=a;l<e&&e<=l+u-1&&i.push(a)}return i}function XD(s,e,i,o){const a=i-e,l={},u=parseInt(s.getAttribute("colspan"))-a;u>1&&(l.colspan=u);const p=parseInt(s.getAttribute("rowspan")||"1");p>1&&(l.rowspan=p);const f=da(o,o.createPositionAfter(s),l);return Mt("colspan",a,s,o),f}function eS(s,e,i,o,a,l){const u=parseInt(s.getAttribute("colspan")||"1"),p=parseInt(s.getAttribute("rowspan")||"1");i+u-1>a&&Mt("colspan",a-i+1,s,l,1),e+p-1>o&&Mt("rowspan",o-e+1,s,l,1)}function c0(s,e){const i=e.getColumns(s),o=new Array(i).fill(0);for(const{column:l}of new rt(s))o[l]++;const a=o.reduce((l,u,p)=>u?l:[...l,p],[]);if(a.length>0){const l=a[a.length-1];return e.removeColumns(s,{at:l}),!0}return!1}function l0(s,e){const i=[],o=e.getRows(s);for(let a=0;a<o;a++)s.getChild(a).isEmpty&&i.push(a);if(i.length>0){const a=i[i.length-1];return e.removeRows(s,{at:a}),!0}return!1}function d0(s,e){c0(s,e)||l0(s,e)}function tS(s,e){const i=Array.from(new rt(s,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:a})=>a===1))return e.lastRow;const o=i[0].cellHeight-1;return e.lastRow+o}function nS(s,e){const i=Array.from(new rt(s,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:a})=>a===1))return e.lastColumn;const o=i[0].cellWidth-1;return e.lastColumn+o}class Hg extends Be{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],a=this.value,l=this.direction;e.change(u=>{const p=l=="right"||l=="down",f=p?o:a,k=p?a:o,b=k.parent;(function(D,N,L){iS(D)||(iS(N)&&L.remove(L.createRangeIn(N)),L.move(L.createRangeIn(D),L.createPositionAt(N,"end"))),L.remove(D)})(k,f,u);const _=this.isHorizontal?"colspan":"rowspan",C=parseInt(o.getAttribute(_)||"1"),x=parseInt(a.getAttribute(_)||"1");u.setAttribute(_,C+x,f),u.setSelection(u.createRangeIn(f));const I=this.editor.plugins.get("TableUtils");d0(b.findAncestor("table"),I)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),o=i.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const a=this.isHorizontal?function(p,f,k){const b=p.parent,_=b.parent,C=f=="right"?p.nextSibling:p.previousSibling,x=(_.getAttribute("headingColumns")||0)>0;if(!C)return;const I=f=="right"?p:C,D=f=="right"?C:p,{column:N}=k.getCellLocation(I),{column:L}=k.getCellLocation(D),U=parseInt(I.getAttribute("colspan")||"1"),W=a0(k,I),J=a0(k,D);if(!(x&&W!=J))return N+U===L?C:void 0}(o,this.direction,i):function(p,f,k){const b=p.parent,_=b.parent,C=_.getChildIndex(b);if(f=="down"&&C===k.getRows(_)-1||f=="up"&&C===0)return null;const x=parseInt(p.getAttribute("rowspan")||"1"),I=_.getAttribute("headingRows")||0,D=f=="down"&&C+x===I,N=f=="up"&&C===I;if(I&&(D||N))return null;const L=parseInt(p.getAttribute("rowspan")||"1"),U=f=="down"?C+L:C,W=[...new rt(_,{endRow:U})],J=W.find(Oe=>Oe.cell===p),pe=J.column,_e=W.find(({row:Oe,cellHeight:ft,column:Qt})=>Qt===pe&&(f=="down"?Oe===U:U===Oe+ft));return _e&&_e.cell?_e.cell:null}(o,this.direction,i);if(!a)return;const l=this.isHorizontal?"rowspan":"colspan",u=parseInt(o.getAttribute(l)||"1");return parseInt(a.getAttribute(l)||"1")===u?a:void 0}}function iS(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class FU extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const a=o.findAncestor("table"),l=e.getRows(a)-1,u=e.getRowIndexes(i),p=u.first===0&&u.last===l;this.isEnabled=!p}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),a=i.getRowIndexes(o),l=o[0],u=l.findAncestor("table"),p=i.getCellLocation(l).column;e.change(f=>{const k=a.last-a.first+1;i.removeRows(u,{at:a.first,rows:k});const b=function(_,C,x,I){const D=_.getChild(Math.min(C,I-1));let N=D.getChild(0),L=0;for(const U of D.getChildren()){if(L>x)return N;N=U,L+=parseInt(U.getAttribute("colspan")||"1")}return N}(u,a.first,p,i.getRows(u));f.setSelection(f.createPositionAt(b,0))})}}class UU extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const a=o.findAncestor("table"),l=e.getColumns(a),{first:u,last:p}=e.getColumnIndexes(i);this.isEnabled=p-u<l-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,o]=function(f,k){const b=k.getSelectionAffectedTableCells(f),_=b[0],C=b.pop(),x=[_,C];return _.isBefore(C)?x:x.reverse()}(this.editor.model.document.selection,e),a=i.parent.parent,l=[...new rt(a)],u={first:l.find(f=>f.cell===i).column,last:l.find(f=>f.cell===o).column},p=function(f,k,b,_){return parseInt(b.getAttribute("colspan")||"1")>1?b:k.previousSibling||b.nextSibling?b.nextSibling||k.previousSibling:_.first?f.reverse().find(({column:x})=>x<_.first).cell:f.reverse().find(({column:x})=>x>_.last).cell}(l,i,o,u);this.editor.model.change(f=>{const k=u.last-u.first+1;e.removeColumns(a,{at:u.first,columns:k}),f.setSelection(f.createPositionAt(p,0))})}}class HU extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(l=>this._isInHeading(l,l.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=i.getSelectionAffectedTableCells(o.document.selection),l=a[0].findAncestor("table"),{first:u,last:p}=i.getRowIndexes(a),f=this.value?u:p+1,k=l.getAttribute("headingRows")||0;o.change(b=>{if(f){const _=YD(l,f,f>k?k:0);for(const{cell:C}of _)ZD(C,f,b)}Mt("headingRows",f,l,b,0)})}_isInHeading(e,i){const o=parseInt(i.getAttribute("headingRows")||"0");return!!o&&e.parent.index<o}}class $U extends Be{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(l=>a0(i,l))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=i.getSelectionAffectedTableCells(o.document.selection),l=a[0].findAncestor("table"),{first:u,last:p}=i.getColumnIndexes(a),f=this.value?u:p+1;o.change(k=>{if(f){const b=JD(l,f);for(const{cell:_,column:C}of b)XD(_,C,f,k)}Mt("headingColumns",f,l,k,0)})}}function WU(s){if(s.is("element","tableColumnGroup"))return s;const e=s.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function qU(s){const e=WU(s);return e?Array.from(e.getChildren()):[]}class bn extends re{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,o=i.parent,a=o.getChildIndex(i),l=new rt(o,{row:a});for(const{cell:u,row:p,column:f}of l)if(u===e)return{row:p,column:f}}createTable(e,i){const o=e.createElement("table"),a=i.rows||2,l=i.columns||2;return u0(e,o,0,a,l),i.headingRows&&Mt("headingRows",Math.min(i.headingRows,a),o,e,0),i.headingColumns&&Mt("headingColumns",Math.min(i.headingColumns,l),o,e,0),o}insertRows(e,i={}){const o=this.editor.model,a=i.at||0,l=i.rows||1,u=i.copyStructureFromAbove!==void 0,p=i.copyStructureFromAbove?a-1:a,f=this.getRows(e),k=this.getColumns(e);if(a>f)throw new V("tableutils-insertrows-insert-out-of-range",this,{options:i});o.change(b=>{const _=e.getAttribute("headingRows")||0;if(_>a&&Mt("headingRows",_+l,e,b,0),!u&&(a===0||a===f))return void u0(b,e,a,l,k);const C=u?Math.max(a,p):a,x=new rt(e,{endRow:C}),I=new Array(k).fill(1);for(const{row:D,column:N,cellHeight:L,cellWidth:U,cell:W}of x){const J=D+L-1,pe=D<=p&&p<=J;D<a&&a<=J?(b.setAttribute("rowspan",L+l,W),I[N]=-U):u&&pe&&(I[N]=U)}for(let D=0;D<l;D++){const N=b.createElement("tableRow");b.insert(N,e,a);for(let L=0;L<I.length;L++){const U=I[L],W=b.createPositionAt(N,"end");U>0&&da(b,W,U>1?{colspan:U}:void 0),L+=Math.abs(U)-1}}})}insertColumns(e,i={}){const o=this.editor.model,a=i.at||0,l=i.columns||1;o.change(u=>{const p=e.getAttribute("headingColumns");a<p&&u.setAttribute("headingColumns",p+l,e);const f=this.getColumns(e);if(a===0||f===a){for(const b of e.getChildren())b.is("element","tableRow")&&Sc(l,u,u.createPositionAt(b,a?"end":0));return}const k=new rt(e,{column:a,includeAllSlots:!0});for(const b of k){const{row:_,cell:C,cellAnchorColumn:x,cellAnchorRow:I,cellWidth:D,cellHeight:N}=b;if(x<a){u.setAttribute("colspan",D+l,C);const L=I+N-1;for(let U=_;U<=L;U++)k.skipRow(U)}else Sc(l,u,b.getPositionBefore())}})}removeRows(e,i){const o=this.editor.model,a=i.rows||1,l=this.getRows(e),u=i.at,p=u+a-1;if(p>l-1)throw new V("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});o.change(f=>{const k={first:u,last:p},{cellsToMove:b,cellsToTrim:_}=function(C,{first:x,last:I}){const D=new Map,N=[];for(const{row:L,column:U,cellHeight:W,cell:J}of new rt(C,{endRow:I})){const pe=L+W-1;if(L>=x&&L<=I&&pe>I){const _e=W-(I-L+1);D.set(U,{cell:J,rowspan:_e})}if(L<x&&pe>=x){let _e;_e=pe>=I?I-x+1:pe-x+1,N.push({cell:J,rowspan:W-_e})}}return{cellsToMove:D,cellsToTrim:N}}(e,k);b.size&&function(C,x,I,D){const N=new rt(C,{includeAllSlots:!0,row:x}),L=[...N],U=C.getChild(x);let W;for(const{column:J,cell:pe,isAnchor:_e}of L)if(I.has(J)){const{cell:Oe,rowspan:ft}=I.get(J),Qt=W?D.createPositionAfter(W):D.createPositionAt(U,0);D.move(D.createRangeOn(Oe),Qt),Mt("rowspan",ft,Oe,D),W=Oe}else _e&&(W=pe)}(e,p+1,b,f);for(let C=p;C>=u;C--)f.remove(e.getChild(C));for(const{rowspan:C,cell:x}of _)Mt("rowspan",C,x,f);(function(C,{first:x,last:I},D){const N=C.getAttribute("headingRows")||0;x<N&&Mt("headingRows",I<N?N-(I-x+1):x,C,D,0)})(e,k,f),c0(e,this)||l0(e,this)})}removeColumns(e,i){const o=this.editor.model,a=i.at,l=i.columns||1,u=i.at+l-1;o.change(p=>{(function(k,b,_){const C=k.getAttribute("headingColumns")||0;if(C&&b.first<C){const x=Math.min(C-1,b.last)-b.first+1;_.setAttribute("headingColumns",C-x,k)}})(e,{first:a,last:u},p);const f=qU(e);for(let k=u;k>=a;k--){for(const{cell:b,column:_,cellWidth:C}of[...new rt(e)])_<=k&&C>1&&_+C>k?Mt("colspan",C-1,b,p):_===k&&p.remove(b);if(f[k]){const b=k===0?f[1]:f[k-1],_=parseFloat(f[k].getAttribute("columnWidth")),C=parseFloat(b.getAttribute("columnWidth"));p.remove(f[k]),p.setAttribute("columnWidth",_+C+"%",b)}}l0(e,this)||c0(e,this)})}splitCellVertically(e,i=2){const o=this.editor.model,a=e.parent.parent,l=parseInt(e.getAttribute("rowspan")||"1"),u=parseInt(e.getAttribute("colspan")||"1");o.change(p=>{if(u>1){const{newCellsSpan:f,updatedSpan:k}=rS(u,i);Mt("colspan",k,e,p);const b={};f>1&&(b.colspan=f),l>1&&(b.rowspan=l),Sc(u>i?i-1:u-1,p,p.createPositionAfter(e),b)}if(u<i){const f=i-u,k=[...new rt(a)],{column:b}=k.find(({cell:I})=>I===e),_=k.filter(({cell:I,cellWidth:D,column:N})=>I!==e&&N===b||N<b&&N+D>b);for(const{cell:I,cellWidth:D}of _)p.setAttribute("colspan",D+f,I);const C={};l>1&&(C.rowspan=l),Sc(f,p,p.createPositionAfter(e),C);const x=a.getAttribute("headingColumns")||0;x>b&&Mt("headingColumns",x+f,a,p)}})}splitCellHorizontally(e,i=2){const o=this.editor.model,a=e.parent,l=a.parent,u=l.getChildIndex(a),p=parseInt(e.getAttribute("rowspan")||"1"),f=parseInt(e.getAttribute("colspan")||"1");o.change(k=>{if(p>1){const b=[...new rt(l,{startRow:u,endRow:u+p-1,includeAllSlots:!0})],{newCellsSpan:_,updatedSpan:C}=rS(p,i);Mt("rowspan",C,e,k);const{column:x}=b.find(({cell:D})=>D===e),I={};_>1&&(I.rowspan=_),f>1&&(I.colspan=f);for(const D of b){const{column:N,row:L}=D;L>=u+C&&N===x&&(L+u+C)%_==0&&Sc(1,k,D.getPositionBefore(),I)}}if(p<i){const b=i-p,_=[...new rt(l,{startRow:0,endRow:u})];for(const{cell:I,cellHeight:D,row:N}of _)if(I!==e&&N+D>u){const L=D+b;k.setAttribute("rowspan",L,I)}const C={};f>1&&(C.colspan=f),u0(k,l,u+1,b,1,C);const x=l.getAttribute("headingRows")||0;x>u&&Mt("headingRows",x+b,l,k)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,o)=>i+parseInt(o.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,o)=>o.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new rt(e,i)}getSelectedTableCells(e){const i=[];for(const o of this.sortRanges(e.getRanges())){const a=o.getContainedElement();a&&a.is("element","tableCell")&&i.push(a)}return i}getTableCellsContainingSelection(e){const i=[];for(const o of e.getRanges()){const a=o.start.findAncestor("tableCell");a&&i.push(a)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(o=>o.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),o=[...new rt(i)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,o=new Set;let a=0;for(const u of e){const{row:p,column:f}=this.getCellLocation(u),k=parseInt(u.getAttribute("rowspan"))||1,b=parseInt(u.getAttribute("colspan"))||1;i.add(p),o.add(f),k>1&&i.add(p+k-1),b>1&&o.add(f+b-1),a+=k*b}return function(u,p){const f=Array.from(u.values()),k=Array.from(p.values()),b=Math.max(...f),_=Math.min(...f),C=Math.max(...k),x=Math.min(...k);return(b-_+1)*(C-x+1)}(i,o)==a}sortRanges(e){return Array.from(e).sort(GU)}_getFirstLastIndexesObject(e){const i=e.sort((o,a)=>o-a);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),o=this.getRowIndexes(e),a=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(o,a))return!1;const l=this.getColumnIndexes(e),u=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(l,u)}_areIndexesInSameSection({first:e,last:i},o){return e<o==i<o}}function u0(s,e,i,o,a,l={}){for(let u=0;u<o;u++){const p=s.createElement("tableRow");s.insert(p,e,i),Sc(a,s,s.createPositionAt(p,"end"),l)}}function Sc(s,e,i,o={}){for(let a=0;a<s;a++)da(e,i,o)}function rS(s,e){if(s<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(s/e);return{newCellsSpan:i,updatedSpan:s-i*e+i}}function GU(s,e){const i=s.start,o=e.start;return i.isBefore(o)?-1:1}class KU extends Be{refresh(){const e=this.editor.plugins.get(bn),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(bn);e.change(o=>{const a=i.getSelectedTableCells(e.document.selection),l=a.shift(),{mergeWidth:u,mergeHeight:p}=function(f,k,b){let _=0,C=0;for(const L of k){const{row:U,column:W}=b.getCellLocation(L);_=sS(L,W,_,"colspan"),C=sS(L,U,C,"rowspan")}const{row:x,column:I}=b.getCellLocation(f),D=_-I,N=C-x;return{mergeWidth:D,mergeHeight:N}}(l,a,i);Mt("colspan",u,l,o),Mt("rowspan",p,l,o);for(const f of a)QU(f,l,o);d0(l.findAncestor("table"),i),o.setSelection(l,"in")})}}function QU(s,e,i){oS(s)||(oS(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(s),i.createPositionAt(e,"end"))),i.remove(s)}function oS(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function sS(s,e,i,o){const a=parseInt(s.getAttribute(o)||"1");return Math.max(i,e+a)}class YU extends Be{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),a=i.getRowIndexes(o),l=o[0].findAncestor("table"),u=[];for(let p=a.first;p<=a.last;p++)for(const f of l.getChild(p).getChildren())u.push(e.createRangeOn(f));e.change(p=>{p.setSelection(u)})}}class ZU extends Be{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),a=o[0],l=o.pop(),u=a.findAncestor("table"),p=e.getCellLocation(a),f=e.getCellLocation(l),k=Math.min(p.column,f.column),b=Math.max(p.column,f.column),_=[];for(const C of new rt(u,{startColumn:k,endColumn:b}))_.push(i.createRangeOn(C.cell));i.change(C=>{C.setSelection(_)})}}function JU(s){s.document.registerPostFixer(e=>function(i,o){const a=o.document.differ.getChanges();let l=!1;const u=new Set;for(const p of a){let f=null;p.type=="insert"&&p.name=="table"&&(f=p.position.nodeAfter),p.type!="insert"&&p.type!="remove"||p.name!="tableRow"&&p.name!="tableCell"||(f=p.position.findAncestor("table")),tH(p)&&(f=p.range.start.findAncestor("table")),f&&!u.has(f)&&(l=XU(f,i)||l,l=eH(f,i)||l,u.add(f))}return l}(e,s))}function XU(s,e){let i=!1;const o=function(a){const l=parseInt(a.getAttribute("headingRows")||"0"),u=Array.from(a.getChildren()).reduce((f,k)=>k.is("element","tableRow")?f+1:f,0),p=[];for(const{row:f,cell:k,cellHeight:b}of new rt(a)){if(b<2)continue;const _=f<l?l:u;if(f+b>_){const C=_-f;p.push({cell:k,rowspan:C})}}return p}(s);if(o.length){i=!0;for(const a of o)Mt("rowspan",a.rowspan,a.cell,e,1)}return i}function eH(s,e){let i=!1;const o=function(p){const f=new Array(p.childCount).fill(0);for(const{rowIndex:k}of new rt(p,{includeAllSlots:!0}))f[k]++;return f}(s),a=[];for(const[p,f]of o.entries())!f&&s.getChild(p).is("element","tableRow")&&a.push(p);if(a.length){i=!0;for(const p of a.reverse())e.remove(s.getChild(p)),o.splice(p,1)}const l=o.filter((p,f)=>s.getChild(f).is("element","tableRow")),u=l[0];if(!l.every(p=>p===u)){const p=l.reduce((f,k)=>k>f?k:f,0);for(const[f,k]of l.entries()){const b=p-k;if(b){for(let _=0;_<b;_++)da(e,e.createPositionAt(s.getChild(f),"end"));i=!0}}}return i}function tH(s){if(s.type!=="attribute")return!1;const e=s.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function nH(s){s.document.registerPostFixer(e=>function(i,o){const a=o.document.differ.getChanges();let l=!1;for(const u of a)u.type=="insert"&&u.name=="table"&&(l=iH(u.position.nodeAfter,i)||l),u.type=="insert"&&u.name=="tableRow"&&(l=aS(u.position.nodeAfter,i)||l),u.type=="insert"&&u.name=="tableCell"&&(l=h0(u.position.nodeAfter,i)||l),u.type!="remove"&&u.type!="insert"||!rH(u)||(l=h0(u.position.parent,i)||l);return l}(e,s))}function iH(s,e){let i=!1;for(const o of s.getChildren())o.is("element","tableRow")&&(i=aS(o,e)||i);return i}function aS(s,e){let i=!1;for(const o of s.getChildren())i=h0(o,e)||i;return i}function h0(s,e){if(s.childCount==0)return e.insertElement("paragraph",s),!0;const i=Array.from(s.getChildren()).filter(o=>o.is("$text"));for(const o of i)e.wrap(e.createRangeOn(o),"paragraph");return!!i.length}function rH(s){return!!s.position.parent.is("element","tableCell")&&(s.type=="insert"&&s.name=="$text"||s.type=="remove")}function oH(s,e){if(!s.is("element","paragraph"))return!1;const i=e.toViewElement(s);return!!i&&WD(s)!==i.is("element","span")}var cS=d(8137),sH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cS.A,sH),cS.A.locals;class aH extends re{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[bn]}init(){const e=this.editor,i=e.model,o=i.schema,a=e.conversion,l=e.plugins.get(bn);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(u=>{u.on("element:figure",(p,f,k)=>{if(!k.consumable.test(f.viewItem,{name:!0,classes:"table"}))return;const b=function(C){for(const x of C.getChildren())if(x.is("element","table"))return x}(f.viewItem);if(!b||!k.consumable.test(b,{name:!0}))return;k.consumable.consume(f.viewItem,{name:!0,classes:"table"});const _=rn(k.convertItem(b,f.modelCursor).modelRange.getItems());_?(k.convertChildren(f.viewItem,k.writer.createPositionAt(_,"end")),k.updateConversionResult(_,f)):k.consumable.revert(f.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(LU()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:UD(l,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:UD(l,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(u=>{u.on("element:tr",(p,f)=>{f.viewItem.isEmpty&&f.modelCursor.index==0&&p.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(u,{writer:p})=>u.isEmpty?p.createEmptyElement("tr"):p.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(FD("td")),a.for("upcast").add(FD("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:HD({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:HD()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:$D({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:$D(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:lS("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:lS("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new VU(e)),e.commands.add("insertTableRowAbove",new qD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new qD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new GD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new GD(e,{order:"right"})),e.commands.add("removeTableRow",new FU(e)),e.commands.add("removeTableColumn",new UU(e)),e.commands.add("splitTableCellVertically",new KD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new KD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new KU(e)),e.commands.add("mergeTableCellRight",new Hg(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Hg(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Hg(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Hg(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new $U(e)),e.commands.add("setTableRowHeader",new HU(e)),e.commands.add("selectTableRow",new YU(e)),e.commands.add("selectTableColumn",new ZU(e)),JU(i),nH(i),this.listenTo(i.document,"change:data",()=>{(function(u,p){const f=u.document.differ;for(const k of f.getChanges()){let b,_=!1;if(k.type=="attribute"){const D=k.range.start.nodeAfter;if(!D||!D.is("element","table")||k.attributeKey!="headingRows"&&k.attributeKey!="headingColumns")continue;b=D,_=k.attributeKey=="headingRows"}else k.name!="tableRow"&&k.name!="tableCell"||(b=k.position.findAncestor("table"),_=k.name=="tableRow");if(!b)continue;const C=b.getAttribute("headingRows")||0,x=b.getAttribute("headingColumns")||0,I=new rt(b);for(const D of I){const N=D.row<C||D.column<x?"th":"td",L=p.mapper.toViewElement(D.cell);L&&L.is("element")&&L.name!=N&&p.reconvertItem(_?D.cell.parent:D.cell)}}})(i,e.editing),function(u,p){const f=u.document.differ,k=new Set;for(const b of f.getChanges()){const _=b.type=="attribute"?b.range.start.parent:b.position.parent;_.is("element","tableCell")&&k.add(_)}for(const b of k.values()){const _=Array.from(b.getChildren()).filter(C=>oH(C,p.mapper));for(const C of _)p.reconvertItem(C)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function lS(s){return e=>{const i=parseInt(e.getAttribute(s));return Number.isNaN(i)||i<=0?null:i}}var dS=d(5032),cH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(dS.A,cH),dS.A.locals;class lH extends ve{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ei,this.focusTracker=new mn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(o,a)=>`${a} × ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(o=>{o.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(o,a)=>{const{row:l,column:u}=a.target.dataset;this.items.get(10*(parseInt(l,10)-1)+(parseInt(u,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(o,a,l)=>{if(!l)return;const{row:u,column:p}=l.dataset;this.set({rows:parseInt(u),columns:parseInt(p)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),A({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((o,a)=>{const l=Math.floor(a/10)<e&&a%10<i;o.set("isOn",l)})}_createGridButton(e,i,o,a){const l=new Je(e);return l.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),l.extendTemplate({attributes:{"data-row":i,"data-column":o}}),l}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const o=Math.floor(i/10),a=i%10,l=`${o+1} × ${a+1}`;e.push(this._createGridButton(this.locale,o+1,a+1,l))}return this.createCollection(e)}}class dH extends re{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,o=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const l=e.commands.get("insertTable"),u=lo(a);let p;return u.bind("isEnabled").to(l),u.buttonView.set({icon:Te.table,label:i("Insert table"),tooltip:!0}),u.on("change:isOpen",()=>{p||(p=new lH(a),u.panelView.children.add(p),p.delegate("execute").to(u),u.on("execute",()=>{e.execute("insertTable",{rows:p.rows,columns:p.columns}),e.editing.view.focus()}))}),u}),e.ui.componentFactory.add("tableColumn",a=>{const l=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',l,a)}),e.ui.componentFactory.add("tableRow",a=>{const l=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',l,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const l=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',l,a)})}_prepareDropdown(e,i,o,a){const l=this.editor,u=lo(a),p=this._fillDropdownWithListOptions(u,o);return u.buttonView.set({label:e,icon:i,tooltip:!0}),u.bind("isEnabled").toMany(p,"isEnabled",(...f)=>f.some(k=>k)),this.listenTo(u,"execute",f=>{l.execute(f.source.commandName),f.source instanceof dg||l.editing.view.focus()}),u}_prepareMergeSplitButtonDropdown(e,i,o,a){const l=this.editor,u=lo(a,gg),p="mergeTableCells",f=l.commands.get(p),k=this._fillDropdownWithListOptions(u,o);return u.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),u.bind("isEnabled").toMany([f,...k],"isEnabled",(...b)=>b.some(_=>_)),this.listenTo(u.buttonView,"execute",()=>{l.execute(p),l.editing.view.focus()}),this.listenTo(u,"execute",b=>{l.execute(b.source.commandName),l.editing.view.focus()}),u}_fillDropdownWithListOptions(e,i){const o=this.editor,a=[],l=new Xi;for(const u of i)uH(u,o,a,l);return hx(e,l),a}}function uH(s,e,i,o){if(s.type==="button"||s.type==="switchbutton"){const a=s.model=new Hx(s.model),{commandName:l,bindIsOn:u}=s.model,p=e.commands.get(l);i.push(p),a.set({commandName:l}),a.bind("isEnabled").to(p),u&&a.bind("isOn").to(p,"value"),a.set({withText:!0})}o.add(s)}var uS=d(8423),hH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(uS.A,hH),uS.A.locals;class ua extends re{static get pluginName(){return"TableSelection"}static get requires(){return[bn,bn]}init(){const e=this.editor,i=e.model,o=e.editing.view;this.listenTo(i,"deleteContent",(a,l)=>this._handleDeleteContent(a,l),{priority:"high"}),this.listenTo(o.document,"insertText",(a,l)=>this._handleInsertTextEvent(a,l),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(bn),i=this.editor.model.document.selection,o=e.getSelectedTableCells(i);return o.length==0?null:o}getSelectionAsFragment(){const e=this.editor.plugins.get(bn),i=this.getSelectedTableCells();return i?this.editor.model.change(o=>{const a=o.createDocumentFragment(),{first:l,last:u}=e.getColumnIndexes(i),{first:p,last:f}=e.getRowIndexes(i),k=i[0].findAncestor("table");let b=f,_=u;if(e.isSelectionRectangular(i)){const x={firstColumn:l,lastColumn:u,firstRow:p,lastRow:f};b=tS(k,x),_=nS(k,x)}const C=QD(k,{startRow:p,startColumn:l,endRow:b,endColumn:_},o);return o.insert(C,a,0),a}):null}setCellSelection(e,i){const o=this._getCellsToSelect(e,i);this.editor.model.change(a=>{a.setSelection(o.cells.map(l=>a.createRangeOn(l)),{backward:o.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=rn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(o=>o.on("selection",(a,l,u)=>{const p=u.writer;(function(b){for(const _ of i)b.removeClass("ck-editor__editable_selected",_);i.clear()})(p);const f=this.getSelectedTableCells();if(!f)return;for(const b of f){const _=u.mapper.toViewElement(b);p.addClass("ck-editor__editable_selected",_),i.add(_)}const k=u.mapper.toViewElement(f[f.length-1]);p.setSelection(k,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(o=>{const a=o.createPositionAt(i[0],0),l=e.model.schema.getNearestSelectionRange(a);o.setSelection(l)})}})}_handleDeleteContent(e,i){const o=this.editor.plugins.get(bn),a=i[0],l=i[1],u=this.editor.model,p=!l||l.direction=="backward",f=o.getSelectedTableCells(a);f.length&&(e.stop(),u.change(k=>{const b=f[p?f.length-1:0];u.change(C=>{for(const x of f)u.deleteContent(C.createSelection(x,"in"))});const _=u.schema.getNearestSelectionRange(k.createPositionAt(b,0));a.is("documentSelection")?k.setSelection(_):a.setTo(_)}))}_handleInsertTextEvent(e,i){const o=this.editor,a=this.getSelectedTableCells();if(!a)return;const l=o.editing.view,u=o.editing.mapper,p=a.map(f=>l.createRangeOn(u.toViewElement(f)));i.selection=l.createSelection(p)}_getCellsToSelect(e,i){const o=this.editor.plugins.get("TableUtils"),a=o.getCellLocation(e),l=o.getCellLocation(i),u=Math.min(a.row,l.row),p=Math.max(a.row,l.row),f=Math.min(a.column,l.column),k=Math.max(a.column,l.column),b=new Array(p-u+1).fill(null).map(()=>[]),_={startRow:u,endRow:p,startColumn:f,endColumn:k};for(const{row:I,cell:D}of new rt(e.findAncestor("table"),_))b[I-u].push(D);const C=l.row<a.row,x=l.column<a.column;return C&&b.reverse(),x&&b.forEach(I=>I.reverse()),{cells:b.flat(),backward:C||x}}}class pH extends re{static get pluginName(){return"TableClipboard"}static get requires(){return[Hd,ji,ua,bn]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(o,a)=>this._onCopyCut(o,a)),this.listenTo(i,"cut",(o,a)=>this._onCopyCut(o,a)),this.listenTo(e.model,"insertContent",(o,[a,l])=>this._onInsertContent(o,a,l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const o=this.editor.editing.view,a=this.editor.plugins.get(ua),l=this.editor.plugins.get(Hd);if(!a.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;i.preventDefault(),e.stop();const u=l._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());o.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(u),method:e.name})}_onInsertContent(e,i,o){if(o&&!o.is("documentSelection"))return;const a=this.editor.model,l=this.editor.plugins.get(bn),u=this.editor.plugins.get(Hd),p=this.getTableIfOnlyTableInContent(i,a);if(!p)return;const f=l.getSelectionAffectedTableCells(a.document.selection);f.length?(e.stop(),i.is("documentFragment")?u._pasteMarkersIntoTransformedElement(i.markers,k=>this._replaceSelectedCells(p,f,k)):this.editor.model.change(k=>{this._replaceSelectedCells(p,f,k)})):d0(p,l)}_replaceSelectedCells(e,i,o){const a=this.editor.plugins.get(bn),l={width:a.getColumns(e),height:a.getRows(e)},u=function(_,C,x,I){const D=_[0].findAncestor("table"),N=I.getColumnIndexes(_),L=I.getRowIndexes(_),U={firstColumn:N.first,lastColumn:N.last,firstRow:L.first,lastRow:L.last},W=_.length===1;return W&&(U.lastRow+=C.height-1,U.lastColumn+=C.width-1,function(J,pe,_e,Oe){const ft=Oe.getColumns(J),Qt=Oe.getRows(J);_e>ft&&Oe.insertColumns(J,{at:ft,columns:_e-ft}),pe>Qt&&Oe.insertRows(J,{at:Qt,rows:pe-Qt})}(D,U.lastRow+1,U.lastColumn+1,I)),W||!I.isSelectionRectangular(_)?function(J,pe,_e){const{firstRow:Oe,lastRow:ft,firstColumn:Qt,lastColumn:$g}=pe,eu={first:Oe,last:ft},Mc={first:Qt,last:$g};g0(J,Qt,eu,_e),g0(J,$g+1,eu,_e),p0(J,Oe,Mc,_e),p0(J,ft+1,Mc,_e,Oe)}(D,U,x):(U.lastRow=tS(D,U),U.lastColumn=nS(D,U)),U}(i,l,o,a),p=u.lastRow-u.firstRow+1,f=u.lastColumn-u.firstColumn+1;e=QD(e,{startRow:0,startColumn:0,endRow:Math.min(p,l.height)-1,endColumn:Math.min(f,l.width)-1},o);const k=i[0].findAncestor("table"),b=this._replaceSelectedCellsWithPasted(e,l,k,u,o);if(this.editor.plugins.get("TableSelection").isEnabled){const _=a.sortRanges(b.map(C=>o.createRangeOn(C)));o.setSelection(_)}else o.setSelection(b[0],0);return k}_replaceSelectedCellsWithPasted(e,i,o,a,l){const{width:u,height:p}=i,f=function(N,L,U){const W=new Array(U).fill(null).map(()=>new Array(L).fill(null));for(const{column:J,row:pe,cell:_e}of new rt(N))W[pe][J]=_e;return W}(e,u,p),k=[...new rt(o,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],b=[];let _;for(const N of k){const{row:L,column:U}=N;U===a.firstColumn&&(_=N.getPositionBefore());const W=L-a.firstRow,J=U-a.firstColumn,pe=f[W%p][J%u],_e=pe?l.cloneElement(pe):null,Oe=this._replaceTableSlotCell(N,_e,_,l);Oe&&(eS(Oe,L,U,a.lastRow,a.lastColumn,l),b.push(Oe),_=l.createPositionAfter(Oe))}const C=parseInt(o.getAttribute("headingRows")||"0"),x=parseInt(o.getAttribute("headingColumns")||"0"),I=a.firstRow<C&&C<=a.lastRow,D=a.firstColumn<x&&x<=a.lastColumn;if(I){const N=p0(o,C,{first:a.firstColumn,last:a.lastColumn},l,a.firstRow);b.push(...N)}if(D){const N=g0(o,x,{first:a.firstRow,last:a.lastRow},l);b.push(...N)}return b}_replaceTableSlotCell(e,i,o,a){const{cell:l,isAnchor:u}=e;return u&&a.remove(l),i?(a.insert(i,o),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const o=i.createRangeIn(e);for(const a of o.getItems())if(a.is("element","table")){const l=i.createRange(o.start,i.createPositionBefore(a));if(i.hasContent(l,{ignoreWhitespaces:!0}))return null;const u=i.createRange(i.createPositionAfter(a),o.end);return i.hasContent(u,{ignoreWhitespaces:!0})?null:a}return null}}function p0(s,e,i,o,a=0){if(!(e<1))return YD(s,e,a).filter(({column:l,cellWidth:u})=>hS(l,u,i)).map(({cell:l})=>ZD(l,e,o))}function g0(s,e,i,o){if(!(e<1))return JD(s,e).filter(({row:a,cellHeight:l})=>hS(a,l,i)).map(({cell:a,column:l})=>XD(a,l,e,o))}function hS(s,e,i){const o=s+e-1,{first:a,last:l}=i;return s>=a&&s<=l||s<a&&o>=a}class gH extends re{static get pluginName(){return"TableKeyboard"}static get requires(){return[ua,bn]}init(){const e=this.editor,i=e.editing.view.document,o=e.t;this.listenTo(i,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"}),this.listenTo(i,"tab",(...a)=>this._handleTabOnSelectedTable(...a),{context:"figure"}),this.listenTo(i,"tab",(...a)=>this._handleTab(...a),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:o("Keystrokes that can be used in a table cell"),keystrokes:[{label:o("Move the selection to the next cell"),keystroke:"Tab"},{label:o("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:o("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:o("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const o=this.editor,a=o.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),o.model.change(l=>{l.setSelection(l.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,i){const o=this.editor,a=this.editor.plugins.get(bn),l=this.editor.plugins.get("TableSelection"),u=o.model.document.selection,p=!i.shiftKey;let f=a.getTableCellsContainingSelection(u)[0];if(f||(f=l.getFocusCell()),!f)return;i.preventDefault(),i.stopPropagation(),e.stop();const k=f.parent,b=k.parent,_=b.getChildIndex(k),C=k.getChildIndex(f),x=C===0;if(!p&&x&&_===0)return void o.model.change(L=>{L.setSelection(L.createRangeOn(b))});const I=C===k.childCount-1,D=_===a.getRows(b)-1;if(p&&D&&I&&(o.execute("insertTableRowBelow"),_===a.getRows(b)-1))return void o.model.change(L=>{L.setSelection(L.createRangeOn(b))});let N;if(p&&I)N=b.getChild(_+1).getChild(0);else if(!p&&x){const L=b.getChild(_-1);N=L.getChild(L.childCount-1)}else N=k.getChild(C+(p?1:-1));o.model.change(L=>{L.setSelection(L.createRangeIn(N))})}_onArrowKey(e,i){const o=this.editor,a=Tb(i.keyCode,o.locale.contentLanguageDirection);this._handleArrowKeys(a,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const o=this.editor.plugins.get(bn),a=this.editor.plugins.get("TableSelection"),l=this.editor.model,u=l.document.selection,p=["right","down"].includes(e),f=o.getSelectedTableCells(u);if(f.length){let b;return b=i?a.getFocusCell():p?f[f.length-1]:f[0],this._navigateFromCellInDirection(b,e,i),!0}const k=u.focus.findAncestor("tableCell");if(!k)return!1;if(!u.isCollapsed)if(i){if(u.isBackward==p&&!u.containsEntireContent(k))return!1}else{const b=u.getSelectedElement();if(!b||!l.schema.isObject(b))return!1}return!!this._isSelectionAtCellEdge(u,k,p)&&(this._navigateFromCellInDirection(k,e,i),!0)}_isSelectionAtCellEdge(e,i,o){const a=this.editor.model,l=this.editor.model.schema,u=o?e.getLastPosition():e.getFirstPosition();if(!l.getLimitElement(u).is("element","tableCell"))return a.createPositionAt(i,o?"end":0).isTouching(u);const p=a.createSelection(u);return a.modifySelection(p,{direction:o?"forward":"backward"}),u.isEqual(p.focus)}_navigateFromCellInDirection(e,i,o=!1){const a=this.editor.model,l=e.findAncestor("table"),u=[...new rt(l,{includeAllSlots:!0})],{row:p,column:f}=u[u.length-1],k=u.find(({cell:D})=>D==e);let{row:b,column:_}=k;switch(i){case"left":_--;break;case"up":b--;break;case"right":_+=k.cellWidth;break;case"down":b+=k.cellHeight}if(b<0||b>p||_<0&&b<=0||_>f&&b>=p)return void a.change(D=>{D.setSelection(D.createRangeOn(l))});_<0?(_=o?0:f,b--):_>f&&(_=o?f:0,b++);const C=u.find(D=>D.row==b&&D.column==_).cell,x=["right","down"].includes(i),I=this.editor.plugins.get("TableSelection");if(o&&I.isEnabled){const D=I.getAnchorCell()||e;I.setCellSelection(D,C)}else{const D=a.createPositionAt(C,x?0:"end");a.change(N=>{N.setSelection(D)})}}}class fH extends qo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class mH extends re{static get pluginName(){return"TableMouse"}static get requires(){return[ua,bn]}init(){this.editor.editing.view.addObserver(fH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(bn);let o=!1;const a=e.plugins.get(ua);this.listenTo(e.editing.view.document,"mousedown",(l,u)=>{const p=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!u.domEvent.shiftKey)return;const f=a.getAnchorCell()||i.getTableCellsContainingSelection(p)[0];if(!f)return;const k=this._getModelTableCellFromDomEvent(u);k&&pS(f,k)&&(o=!0,a.setCellSelection(f,k),u.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(e.editing.view.document,"selectionChange",l=>{o&&l.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,o,a=!1,l=!1;const u=e.plugins.get(ua);this.listenTo(e.editing.view.document,"mousedown",(p,f)=>{this.isEnabled&&u.isEnabled&&(f.domEvent.shiftKey||f.domEvent.ctrlKey||f.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(f)))}),this.listenTo(e.editing.view.document,"mousemove",(p,f)=>{if(!f.domEvent.buttons||!i)return;const k=this._getModelTableCellFromDomEvent(f);k&&pS(i,k)&&(o=k,a||o==i||(a=!0)),a&&(l=!0,u.setCellSelection(i,o),f.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,l=!1,i=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",p=>{l&&p.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,o=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function pS(s,e){return s.parent.parent==e.parent.parent}var gS=d(2329),kH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(gS.A,kH),gS.A.locals;function bH(s){const e=s.getSelectedElement();return e&&fS(e)?e:null}function wH(s){const e=s.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&fS(i))return i;i=i.parent}return null}function fS(s){return!!s.getCustomProperty("table")&&Kt(s)}var mS=d(5506),_H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(mS.A,_H),mS.A.locals;var kS=d(2655),AH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(kS.A,AH),kS.A.locals;var bS=d(4043),vH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bS.A,vH),bS.A.locals;var wS=d(1623),CH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(wS.A,CH),wS.A.locals;var _S=d(8986),yH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(_S.A,yH),_S.A.locals;const ha=ii.defaultPositions;ha.northArrowSouth,ha.northArrowSouthWest,ha.northArrowSouthEast,ha.southArrowNorth,ha.southArrowNorthWest,ha.southArrowNorthEast,ha.viewportStickyNorth;var AS=d(5562),EH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(AS.A,EH),AS.A.locals;var vS=d(4143),xH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(vS.A,xH),vS.A.locals;var CS=d(8795),IH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(CS.A,IH),CS.A.locals;var TH=Object.defineProperty,yS=Object.getOwnPropertySymbols,DH=Object.prototype.hasOwnProperty,SH=Object.prototype.propertyIsEnumerable,ES=(s,e,i)=>e in s?TH(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,xS=(s,e)=>{for(var i in e||(e={}))DH.call(e,i)&&ES(s,i,e[i]);if(yS)for(var i of yS(e))SH.call(e,i)&&ES(s,i,e[i]);return s};const MH={autoRefresh:!0},IS=36e5;class f0 extends tt(){constructor(e,i={}){if(super(),!e)throw new V("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return o=e,new Promise((a,l)=>{const u=new XMLHttpRequest;u.open("GET",o),u.addEventListener("load",()=>{const p=u.status,f=u.response;return p<200||p>299?l(new V("token-cannot-download-new-token",null)):a(f)}),u.addEventListener("error",()=>l(new Error("Network Error"))),u.addEventListener("abort",()=>l(new Error("Abort"))),u.send()});var o},this._options=xS(xS({},MH),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",o=!/^".*"$/.test(e),a=i&&e.split(".").length===3;if(!o||!a)throw new V("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):IS}catch{return IS}}static create(e,i={}){return new f0(e,i).init()}}const m0=/^data:(\S*?);base64,/;class PH extends fe(){constructor(e,i,o){if(super(),!e)throw new V("fileuploader-missing-file",null);if(!i)throw new V("fileuploader-missing-token",null);if(!o)throw new V("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const l=a.match(m0);return!(!l||!l.length)}(e)?function(a,l=512){try{const u=a.match(m0)[1],p=atob(a.replace(m0,"")),f=[];for(let k=0;k<p.length;k+=l){const b=p.slice(k,k+l),_=new Array(b.length);for(let C=0;C<b.length;C++)_[C]=b.charCodeAt(C);f.push(new Uint8Array(_))}return new Blob(f,{type:u})}catch{throw new V("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=o}onProgress(e){return this.on("progress",(i,o)=>e(o)),this}onError(e){return this.once("error",(i,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=o=>()=>this.fire("error",o);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",o=>{o.lengthComputable&&this.fire("progress",{total:o.total,uploaded:o.loaded})}),e.addEventListener("load",()=>{const o=e.status,a=e.response;if(o<200||o>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((o,a)=>{i.addEventListener("load",()=>{const l=i.status,u=i.response;return l<200||l>299?u.message?a(new V("fileuploader-uploading-data-failed",this,{message:u.message})):a(u.error):o(u)}),i.addEventListener("error",()=>a(new Error("Network Error"))),i.addEventListener("abort",()=>a(new Error("Abort"))),i.send(e)})}}class NH{constructor(e,i){if(!e)throw new V("uploadgateway-missing-token",null);if(!i)throw new V("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new PH(e,this._token,this._apiAddress)}}class RH extends Hp{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new f0(e,i)}createUploadGateway(e,i){return new NH(e,i)}}var TS=(s,e,i)=>new Promise((o,a)=>{var l=f=>{try{p(i.next(f))}catch(k){a(k)}},u=f=>{try{p(i.throw(f))}catch(k){a(k)}},p=f=>f.done?o(f.value):Promise.resolve(f.value).then(l,u);p((i=i.apply(s,e)).next())});class k0 extends Cg{}k0.builtinPlugins=[class extends re{static get requires(){return[k6,rI,Ig,mV,V9,P9,lI]}static get pluginName(){return"Essentials"}},class extends re{static get requires(){return[sr]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const s=this.editor.config.get("ckfinder.uploadUrl");s&&(this.editor.plugins.get(sr).createUploadAdapter=e=>new SV(e,s,this.editor.t))}},class extends re{static get requires(){return[ho]}static get pluginName(){return"Autoformat"}afterInit(){const s=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),s.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const s=this.editor.commands;s.get("bulletedList")&&Jo(this.editor,this,/^[*-]\s$/,"bulletedList"),s.get("numberedList")&&Jo(this.editor,this,/^1[.|)]\s$/,"numberedList"),s.get("todoList")&&Jo(this.editor,this,/^\[\s?\]\s$/,"todoList"),s.get("checkTodoList")&&Jo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const s=this.editor.commands;if(s.get("bold")){const e=Pg(this.editor,"bold");xc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),xc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(s.get("italic")){const e=Pg(this.editor,"italic");xc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),xc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(s.get("code")){const e=Pg(this.editor,"code");xc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(s.get("strikethrough")){const e=Pg(this.editor,"strikethrough");xc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const s=this.editor.commands.get("heading");s&&s.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],o=new RegExp(`^(#{${i}})\\s$`);Jo(this.editor,this,o,()=>{if(!s.isEnabled||s.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Jo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const s=this.editor,e=s.model.document.selection;s.commands.get("codeBlock")&&Jo(s,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Jo(this.editor,this,/^---$/,"horizontalLine")}},class extends re{static get requires(){return[MV,PV]}static get pluginName(){return"Bold"}},class extends re{static get requires(){return[RV,BV]}static get pluginName(){return"Italic"}},class extends re{static get requires(){return[LV,zV]}static get pluginName(){return"BlockQuote"}},class extends re{static get pluginName(){return"CKBox"}static get requires(){return[TI,VV]}},class extends re{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",uF,lF]}},class extends Hp{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[RH]}init(){return TS(this,null,function*(){const s=this.context.config.get("cloudServices")||{};for(const[i,o]of Object.entries(s))this[i]=o;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(s){return TS(this,null,function*(){if(this._tokens.has(s))return this.getTokenFor(s);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(s).init();return this._tokens.set(s,i),i})}getTokenFor(s){const e=this._tokens.get(s);if(!e)throw new V("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const s of this._tokens.values())s.destroy()}},class extends re{static get pluginName(){return"EasyImage"}static get requires(){return[hF,"ImageUpload"]}init(){const s=this.editor;s.plugins.has("ImageBlockEditing")||s.plugins.has("ImageInlineEditing")||ie("easy-image-image-feature-missing",s)}},class extends re{static get requires(){return[kF,wF]}static get pluginName(){return"Heading"}},class extends re{static get requires(){return[VF,UF]}static get pluginName(){return"Image"}},class extends re{static get requires(){return[$F,WF]}static get pluginName(){return"ImageCaption"}},class extends re{static get requires(){return[NT,g8]}static get pluginName(){return"ImageStyle"}},class extends re{static get requires(){return[Dg,oi]}static get pluginName(){return"ImageToolbar"}afterInit(){const s=this.editor,e=s.t,i=s.plugins.get(Dg),o=s.plugins.get("ImageUtils");var a;i.register("image",{ariaLabel:e("Image toolbar"),items:(a=s.config.get("image.toolbar")||[],a.map(l=>ut(l)?l.name:l)),getRelatedElement:l=>o.getClosestSelectedImageWidget(l)})}},class extends re{static get pluginName(){return"ImageUpload"}static get requires(){return[o8,KF,JF]}},class extends re{static get pluginName(){return"Indent"}static get requires(){return[f8,m8]}},class extends re{static get requires(){return[eD,W8,q8]}static get pluginName(){return"Link"}},dU,class extends re{static get requires(){return[Ug,vU,wU,Gd]}static get pluginName(){return"MediaEmbed"}},Hw,class extends re{static get pluginName(){return"PasteFromOffice"}static get requires(){return[ji]}init(){const s=this.editor,e=s.plugins.get("ClipboardPipeline"),i=s.editing.view.document,o=[];o.push(new MU(i)),o.push(new NU(i)),o.push(new BU(i)),e.on("inputTransformation",(a,l)=>{if(l._isTransformedWithPasteFromOffice||s.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=l.dataTransfer.getData("text/html"),p=o.find(f=>f.isActive(u));p&&(l._parsedData||(l._parsedData=OU(u,i.stylesProcessor)),p.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends re{static get requires(){return[Ww,oi]}static get pluginName(){return"PictureEditing"}afterInit(){const s=this.editor;s.plugins.has("ImageBlockEditing")&&s.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),s.plugins.has("ImageInlineEditing")&&s.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const s=this.editor,e=s.conversion,i=s.plugins.get("ImageUtils");e.for("upcast").add(function(o){const a=["srcset","media","type","sizes"],l=(u,p,f)=>{const k=p.viewItem;if(!f.consumable.test(k,{name:!0}))return;const b=new Map;for(const x of k.getChildren())if(x.is("element","source")){const I={};for(const D of a)x.hasAttribute(D)&&f.consumable.test(x,{attributes:D})&&(I[D]=x.getAttribute(D));Object.keys(I).length&&b.set(x,I)}const _=o.findViewImgElement(k);if(!_)return;let C=p.modelCursor.parent;if(!C.is("element","imageBlock")){const x=f.convertItem(_,p.modelCursor);p.modelRange=x.modelRange,p.modelCursor=x.modelCursor,C=rn(x.modelRange.getItems())}f.consumable.consume(k,{name:!0});for(const[x,I]of b)f.consumable.consume(x,{attributes:Object.keys(I)});b.size&&f.writer.setAttribute("sources",Array.from(b.values()),C),f.convertChildren(k,C)};return u=>{u.on("element:picture",l)}}(i)),e.for("downcast").add(function(o){const a=(l,u,p)=>{if(!p.consumable.consume(u.item,l.name))return;const f=p.writer,k=p.mapper.toViewElement(u.item),b=o.findViewImgElement(k),_=u.attributeNewValue;if(_&&_.length){const C=f.createContainerElement("picture",null,_.map(D=>f.createEmptyElement("source",D))),x=[];let I=b.parent;for(;I&&I.is("attributeElement");){const D=I.parent;f.unwrap(f.createRangeOn(b),I),x.unshift(I),I=D}f.insert(f.createPositionBefore(b),C),f.move(f.createRangeOn(b),f.createPositionAt(C,"end"));for(const D of x)f.wrap(f.createRangeOn(C),D)}else if(b.parent.is("element","picture")){const C=b.parent;f.move(f.createRangeOn(b),f.createPositionBefore(C)),f.remove(C)}};return l=>{l.on("attribute:sources:imageBlock",a),l.on("attribute:sources:imageInline",a)}}(i))}_setupImageUploadEditingIntegration(){const s=this.editor;if(!s.plugins.has("ImageUploadEditing"))return;const e=s.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:o,data:a})=>{const l=a.sources;l&&s.model.change(u=>{u.setAttributes({sources:l},o)})})}},class extends re{static get requires(){return[aH,dH,ua,mH,gH,pH,Gd]}static get pluginName(){return"Table"}},class extends re{static get requires(){return[Dg]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,e=s.t,i=s.plugins.get(Dg),o=s.config.get("table.contentToolbar"),a=s.config.get("table.tableToolbar");o&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:wH}),a&&i.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:bH})}},class extends re{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(s){super(s),s.config.define("typing",{transformations:{include:N9}})}init(){const s=this.editor.model.document.selection;s.on("change:range",()=>{this.isEnabled=!s.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const s=this.editor,e=s.model,i=s.plugins.get("Delete"),o=function(l){const u=l.extra||[],p=l.remove||[],f=k=>!p.includes(k);return function(k){const b=new Set;for(const _ of k)if(typeof _=="string"&&S2[_])for(const C of S2[_])b.add(C);else b.add(_);return Array.from(b)}(l.include.concat(u).filter(f)).filter(f).map(k=>typeof k=="string"&&D2[k]?D2[k]:k).filter(k=>typeof k=="object").map(k=>({from:R9(k.from),to:B9(k.to)}))}(s.config.get("typing.transformations")),a=new x2(s.model,l=>{for(const u of o)if(u.from.test(l))return{normalizedTransformation:u}});a.on("matched:data",(l,u)=>{if(!u.batch.isTyping)return;const{from:p,to:f}=u.normalizedTransformation,k=p.exec(u.text),b=f(k.slice(1)),_=u.range;let C=k.index;e.enqueueChange(x=>{for(let I=1;I<k.length;I++){const D=k[I],N=b[I-1];if(N==null){C+=D.length;continue}const L=_.start.getShiftedBy(C),U=e.createRange(L,L.getShiftedBy(D.length)),W=O9(L);e.insertContent(x.createText(N,W),U),C+=N.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],k0.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),h=h.default})())})(jm,jm.exports);var Jne=jm.exports;const Xne=UA(Jne);var zm={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */zm.exports;(function(n,t){(function(r,c){n.exports=c(te)})(self,r=>(()=>{var c={703:(w,m,A)=>{var y=A(414);function E(){}function v(){}v.resetWarningCache=E,w.exports=function(){function T(j,B,R,z,H,K){if(K!==y){var Y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Y.name="Invariant Violation",Y}}function P(){return T}T.isRequired=T;var O={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:P,element:T,elementType:T,instanceOf:P,node:T,objectOf:P,oneOf:P,oneOfType:P,shape:P,exact:P,checkPropTypes:v,resetWarningCache:E};return O.PropTypes=O,O}},697:(w,m,A)=>{w.exports=A(703)()},414:w=>{w.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:w=>{w.exports=r}},d={};function h(w){var m=d[w];if(m!==void 0)return m.exports;var A=d[w]={exports:{}};return c[w](A,A.exports,h),A.exports}h.n=w=>{var m=w&&w.__esModule?()=>w.default:()=>w;return h.d(m,{a:m}),m},h.d=(w,m)=>{for(var A in m)h.o(m,A)&&!h.o(w,A)&&Object.defineProperty(w,A,{enumerable:!0,get:m[A]})},h.o=(w,m)=>Object.prototype.hasOwnProperty.call(w,m),h.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var g={};return(()=>{h.r(g),h.d(g,{CKEditor:()=>$o,CKEditorContext:()=>bd,useMultiRootEditor:()=>yb});var w=h(787),m=h.n(w),A=h(697),y=h.n(A);const E=new Array(256).fill("").map((S,M)=>("0"+M.toString(16)).slice(-2));class v{constructor(M){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof M.crashNumberLimit=="number"?M.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof M.minimumNonErrorTimePeriod=="number"?M.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=F=>{const $="error"in F?F.error:F.reason;$ instanceof Error&&this._handleError($,F)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(M,F){this._listeners[M]||(this._listeners[M]=[]),this._listeners[M].push(F)}off(M,F){this._listeners[M]=this._listeners[M].filter($=>$!==F)}_fire(M,...F){const $=this._listeners[M]||[];for(const ne of $)ne.apply(this,[null,...F])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(M,F){if(this._shouldReactToError(M)){this.crashes.push({message:M.message,stack:M.stack,filename:F instanceof ErrorEvent?F.filename:void 0,lineno:F instanceof ErrorEvent?F.lineno:void 0,colno:F instanceof ErrorEvent?F.colno:void 0,date:this._now()});const $=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:M,causesRestart:$}),$?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(M){return M.is&&M.is("CKEditorError")&&M.context!==void 0&&M.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(M)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function T(S,M=new Set){const F=[S],$=new Set;let ne=0;for(;F.length>ne;){const me=F[ne++];if(!$.has(me)&&P(me)&&!M.has(me))if($.add(me),Symbol.iterator in me)try{for(const ke of me)F.push(ke)}catch{}else for(const ke in me)ke!=="defaultValue"&&F.push(me[ke])}return $}function P(S){const M=Object.prototype.toString.call(S),F=typeof S;return!(F==="number"||F==="boolean"||F==="string"||F==="symbol"||F==="function"||M==="[object Date]"||M==="[object RegExp]"||M==="[object Module]"||S==null||S._watchdogExcluded||S instanceof EventTarget||S instanceof Event)}function O(S,M,F=new Set){if(S===M&&typeof($=S)=="object"&&$!==null)return!0;var $;const ne=T(S,F),me=T(M,F);for(const ke of ne)if(me.has(ke))return!0;return!1}const j=function(S){var M=typeof S;return S!=null&&(M=="object"||M=="function")},B=typeof us=="object"&&us&&us.Object===Object&&us;var R=typeof self=="object"&&self&&self.Object===Object&&self;const z=B||R||Function("return this")(),H=function(){return z.Date.now()};var K=/\s/;const Y=function(S){for(var M=S.length;M--&&K.test(S.charAt(M)););return M};var Q=/^\s+/;const X=function(S){return S&&S.slice(0,Y(S)+1).replace(Q,"")},V=z.Symbol;var ie=Object.prototype,Re=ie.hasOwnProperty,et=ie.toString,Fe=V?V.toStringTag:void 0;const ui=function(S){var M=Re.call(S,Fe),F=S[Fe];try{S[Fe]=void 0;var $=!0}catch{}var ne=et.call(S);return $&&(M?S[Fe]=F:delete S[Fe]),ne};var hi=Object.prototype.toString;const Tn=function(S){return hi.call(S)};var pi=V?V.toStringTag:void 0;const le=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":pi&&pi in Object(S)?ui(S):Tn(S)},Ae=function(S){return S!=null&&typeof S=="object"},fe=function(S){return typeof S=="symbol"||Ae(S)&&le(S)=="[object Symbol]"};var gt=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Qr=/^0o[0-7]+$/i,gi=parseInt;const Yr=function(S){if(typeof S=="number")return S;if(fe(S))return NaN;if(j(S)){var M=typeof S.valueOf=="function"?S.valueOf():S;S=j(M)?M+"":M}if(typeof S!="string")return S===0?S:+S;S=X(S);var F=At.test(S);return F||Qr.test(S)?gi(S.slice(2),F?2:8):gt.test(S)?NaN:+S};var Mi=Math.max,br=Math.min;const ut=function(S,M,F){var $,ne,me,ke,ge,Le,Ne=0,Yn=!1,gn=!1,Vt=!0;if(typeof S!="function")throw new TypeError("Expected a function");function Pi(nn){var Jn=$,Ji=ne;return $=ne=void 0,Ne=nn,ke=S.apply(Ji,Jn)}function $e(nn){var Jn=nn-Le;return Le===void 0||Jn>=M||Jn<0||gn&&nn-Ne>=me}function Zn(){var nn=H();if($e(nn))return tn(nn);ge=setTimeout(Zn,function(Jn){var Ji=M-(Jn-Le);return gn?br(Ji,me-(Jn-Ne)):Ji}(nn))}function tn(nn){return ge=void 0,Vt&&$?Pi(nn):($=ne=void 0,ke)}function Lt(){var nn=H(),Jn=$e(nn);if($=arguments,ne=this,Le=nn,Jn){if(ge===void 0)return function(Ji){return Ne=Ji,ge=setTimeout(Zn,M),Yn?Pi(Ji):ke}(Le);if(gn)return clearTimeout(ge),ge=setTimeout(Zn,M),Pi(Le)}return ge===void 0&&(ge=setTimeout(Zn,M)),ke}return M=Yr(M)||0,j(F)&&(Yn=!!F.leading,me=(gn="maxWait"in F)?Mi(Yr(F.maxWait)||0,M):me,Vt="trailing"in F?!!F.trailing:Vt),Lt.cancel=function(){ge!==void 0&&clearTimeout(ge),Ne=0,$=Le=ne=ge=void 0},Lt.flush=function(){return ge===void 0?ke:tn(H())},Lt},Za=function(S,M,F){var $=!0,ne=!0;if(typeof S!="function")throw new TypeError("Expected a function");return j(F)&&($="leading"in F?!!F.leading:$,ne="trailing"in F?!!F.trailing:ne),ut(S,M,{leading:$,maxWait:M,trailing:ne})},Fs=function(S,M){return function(F){return S(M(F))}},No=Fs(Object.getPrototypeOf,Object);var Ro=Function.prototype,Qh=Object.prototype,Vl=Ro.toString,tt=Qh.hasOwnProperty,Fl=Vl.call(Object);const Fk=function(S){if(!Ae(S)||le(S)!="[object Object]")return!1;var M=No(S);if(M===null)return!0;var F=tt.call(M,"constructor")&&M.constructor;return typeof F=="function"&&F instanceof F&&Vl.call(F)==Fl},Yh=function(S){return Ae(S)&&S.nodeType===1&&!Fk(S)},Zh=function(){this.__data__=[],this.size=0},Ul=function(S,M){return S===M||S!=S&&M!=M},Ja=function(S,M){for(var F=S.length;F--;)if(Ul(S[F][0],M))return F;return-1};var Hl=Array.prototype.splice;const pn=function(S){var M=this.__data__,F=Ja(M,S);return!(F<0)&&(F==M.length-1?M.pop():Hl.call(M,F,1),--this.size,!0)},zn=function(S){var M=this.__data__,F=Ja(M,S);return F<0?void 0:M[F][1]},Jh=function(S){return Ja(this.__data__,S)>-1},Uk=function(S,M){var F=this.__data__,$=Ja(F,S);return $<0?(++this.size,F.push([S,M])):F[$][1]=M,this};function en(S){var M=-1,F=S==null?0:S.length;for(this.clear();++M<F;){var $=S[M];this.set($[0],$[1])}}en.prototype.clear=Zh,en.prototype.delete=pn,en.prototype.get=zn,en.prototype.has=Jh,en.prototype.set=Uk;const Vn=en,Xh=function(){this.__data__=new Vn,this.size=0},Hk=function(S){var M=this.__data__,F=M.delete(S);return this.size=M.size,F},$k=function(S){return this.__data__.get(S)},Us=function(S){return this.__data__.has(S)},ep=function(S){if(!j(S))return!1;var M=le(S);return M=="[object Function]"||M=="[object GeneratorFunction]"||M=="[object AsyncFunction]"||M=="[object Proxy]"},$l=z["__core-js_shared__"];var tp=function(){var S=/[^.]+$/.exec($l&&$l.keys&&$l.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}();const np=function(S){return!!tp&&tp in S};var wr=Function.prototype.toString;const Ot=function(S){if(S!=null){try{return wr.call(S)}catch{}try{return S+""}catch{}}return""};var Gn=/^\[object .+?Constructor\]$/,ip=Function.prototype,Kn=Object.prototype,rp=ip.toString,Wl=Kn.hasOwnProperty,Wk=RegExp("^"+rp.call(Wl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const qk=function(S){return!(!j(S)||np(S))&&(ep(S)?Wk:Gn).test(Ot(S))},op=function(S,M){return S==null?void 0:S[M]},Zr=function(S,M){var F=op(S,M);return qk(F)?F:void 0},Hs=Zr(z,"Map"),Gt=Zr(Object,"create"),Gk=function(){this.__data__=Gt?Gt(null):{},this.size=0},$s=function(S){var M=this.has(S)&&delete this.__data__[S];return this.size-=M?1:0,M};var Xa=Object.prototype.hasOwnProperty;const Kk=function(S){var M=this.__data__;if(Gt){var F=M[S];return F==="__lodash_hash_undefined__"?void 0:F}return Xa.call(M,S)?M[S]:void 0};var Qk=Object.prototype.hasOwnProperty;const Yk=function(S){var M=this.__data__;return Gt?M[S]!==void 0:Qk.call(M,S)},Zk=function(S,M){var F=this.__data__;return this.size+=this.has(S)?0:1,F[S]=Gt&&M===void 0?"__lodash_hash_undefined__":M,this};function Bo(S){var M=-1,F=S==null?0:S.length;for(this.clear();++M<F;){var $=S[M];this.set($[0],$[1])}}Bo.prototype.clear=Gk,Bo.prototype.delete=$s,Bo.prototype.get=Kk,Bo.prototype.has=Yk,Bo.prototype.set=Zk;const Jr=Bo,ec=function(){this.size=0,this.__data__={hash:new Jr,map:new(Hs||Vn),string:new Jr}},Jk=function(S){var M=typeof S;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?S!=="__proto__":S===null},tc=function(S,M){var F=S.__data__;return Jk(M)?F[typeof M=="string"?"string":"hash"]:F.map},Xk=function(S){var M=tc(this,S).delete(S);return this.size-=M?1:0,M},eb=function(S){return tc(this,S).get(S)},Xr=function(S){return tc(this,S).has(S)},ql=function(S,M){var F=tc(this,S),$=F.size;return F.set(S,M),this.size+=F.size==$?0:1,this};function eo(S){var M=-1,F=S==null?0:S.length;for(this.clear();++M<F;){var $=S[M];this.set($[0],$[1])}}eo.prototype.clear=ec,eo.prototype.delete=Xk,eo.prototype.get=eb,eo.prototype.has=Xr,eo.prototype.set=ql;const tb=eo,nb=function(S,M){var F=this.__data__;if(F instanceof Vn){var $=F.__data__;if(!Hs||$.length<199)return $.push([S,M]),this.size=++F.size,this;F=this.__data__=new tb($)}return F.set(S,M),this.size=F.size,this};function Qn(S){var M=this.__data__=new Vn(S);this.size=M.size}Qn.prototype.clear=Xh,Qn.prototype.delete=Hk,Qn.prototype.get=$k,Qn.prototype.has=Us,Qn.prototype.set=nb;const ib=Qn,rb=function(S,M){for(var F=-1,$=S==null?0:S.length;++F<$&&M(S[F],F,S)!==!1;);return S},sp=function(){try{var S=Zr(Object,"defineProperty");return S({},"",{}),S}catch{}}(),ap=function(S,M,F){M=="__proto__"&&sp?sp(S,M,{configurable:!0,enumerable:!0,value:F,writable:!0}):S[M]=F};var ob=Object.prototype.hasOwnProperty;const cp=function(S,M,F){var $=S[M];ob.call(S,M)&&Ul($,F)&&(F!==void 0||M in S)||ap(S,M,F)},nc=function(S,M,F,$){var ne=!F;F||(F={});for(var me=-1,ke=M.length;++me<ke;){var ge=M[me],Le=$?$(F[ge],S[ge],ge,F,S):void 0;Le===void 0&&(Le=S[ge]),ne?ap(F,ge,Le):cp(F,ge,Le)}return F},sb=function(S,M){for(var F=-1,$=Array(S);++F<S;)$[F]=M(F);return $},_r=function(S){return Ae(S)&&le(S)=="[object Arguments]"};var Oo=Object.prototype,Ws=Oo.hasOwnProperty,ab=Oo.propertyIsEnumerable;const cb=_r(function(){return arguments}())?_r:function(S){return Ae(S)&&Ws.call(S,"callee")&&!ab.call(S,"callee")},Gl=Array.isArray,lb=function(){return!1};var lp=t&&!t.nodeType&&t,dp=lp&&!0&&n&&!n.nodeType&&n,up=dp&&dp.exports===lp?z.Buffer:void 0;const to=(up?up.isBuffer:void 0)||lb;var hp=/^(?:0|[1-9]\d*)$/;const db=function(S,M){var F=typeof S;return!!(M=M??9007199254740991)&&(F=="number"||F!="symbol"&&hp.test(S))&&S>-1&&S%1==0&&S<M},pp=function(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=9007199254740991};var nt={};nt["[object Float32Array]"]=nt["[object Float64Array]"]=nt["[object Int8Array]"]=nt["[object Int16Array]"]=nt["[object Int32Array]"]=nt["[object Uint8Array]"]=nt["[object Uint8ClampedArray]"]=nt["[object Uint16Array]"]=nt["[object Uint32Array]"]=!0,nt["[object Arguments]"]=nt["[object Array]"]=nt["[object ArrayBuffer]"]=nt["[object Boolean]"]=nt["[object DataView]"]=nt["[object Date]"]=nt["[object Error]"]=nt["[object Function]"]=nt["[object Map]"]=nt["[object Number]"]=nt["[object Object]"]=nt["[object RegExp]"]=nt["[object Set]"]=nt["[object String]"]=nt["[object WeakMap]"]=!1;const ub=function(S){return Ae(S)&&pp(S.length)&&!!nt[le(S)]},Kl=function(S){return function(M){return S(M)}};var gp=t&&!t.nodeType&&t,qs=gp&&!0&&n&&!n.nodeType&&n,Ar=qs&&qs.exports===gp&&B.process;const Yi=function(){try{var S=qs&&qs.require&&qs.require("util").types;return S||Ar&&Ar.binding&&Ar.binding("util")}catch{}}();var fp=Yi&&Yi.isTypedArray;const Lo=fp?Kl(fp):ub;var jo=Object.prototype.hasOwnProperty;const mp=function(S,M){var F=Gl(S),$=!F&&cb(S),ne=!F&&!$&&to(S),me=!F&&!$&&!ne&&Lo(S),ke=F||$||ne||me,ge=ke?sb(S.length,String):[],Le=ge.length;for(var Ne in S)!M&&!jo.call(S,Ne)||ke&&(Ne=="length"||ne&&(Ne=="offset"||Ne=="parent")||me&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||db(Ne,Le))||ge.push(Ne);return ge};var ic=Object.prototype;const zo=function(S){var M=S&&S.constructor;return S===(typeof M=="function"&&M.prototype||ic)},hb=Fs(Object.keys,Object);var Ql=Object.prototype.hasOwnProperty;const Vo=function(S){if(!zo(S))return hb(S);var M=[];for(var F in Object(S))Ql.call(S,F)&&F!="constructor"&&M.push(F);return M},kp=function(S){return S!=null&&pp(S.length)&&!ep(S)},rc=function(S){return kp(S)?mp(S):Vo(S)},bp=function(S,M){return S&&nc(M,rc(M),S)},pb=function(S){var M=[];if(S!=null)for(var F in Object(S))M.push(F);return M};var gb=Object.prototype.hasOwnProperty;const oc=function(S){if(!j(S))return pb(S);var M=zo(S),F=[];for(var $ in S)($!="constructor"||!M&&gb.call(S,$))&&F.push($);return F},Yl=function(S){return kp(S)?mp(S,!0):oc(S)},wp=function(S,M){return S&&nc(M,Yl(M),S)};var Zl=t&&!t.nodeType&&t,Jl=Zl&&!0&&n&&!n.nodeType&&n,Fo=Jl&&Jl.exports===Zl?z.Buffer:void 0,_p=Fo?Fo.allocUnsafe:void 0;const sc=function(S,M){if(M)return S.slice();var F=S.length,$=_p?_p(F):new S.constructor(F);return S.copy($),$},Xl=function(S,M){var F=-1,$=S.length;for(M||(M=Array($));++F<$;)M[F]=S[F];return M},ht=function(S,M){for(var F=-1,$=S==null?0:S.length,ne=0,me=[];++F<$;){var ke=S[F];M(ke,F,S)&&(me[ne++]=ke)}return me},Ap=function(){return[]};var ed=Object.prototype.propertyIsEnumerable,td=Object.getOwnPropertySymbols;const no=td?function(S){return S==null?[]:(S=Object(S),ht(td(S),function(M){return ed.call(S,M)}))}:Ap,nd=function(S,M){return nc(S,no(S),M)},io=function(S,M){for(var F=-1,$=M.length,ne=S.length;++F<$;)S[ne+F]=M[F];return S},id=Object.getOwnPropertySymbols?function(S){for(var M=[];S;)io(M,no(S)),S=No(S);return M}:Ap,rd=function(S,M){return nc(S,id(S),M)},vp=function(S,M,F){var $=M(S);return Gl(S)?$:io($,F(S))},Cp=function(S){return vp(S,rc,no)},fb=function(S){return vp(S,Yl,id)},Gs=Zr(z,"DataView"),od=Zr(z,"Promise"),sd=Zr(z,"Set"),ad=Zr(z,"WeakMap");var Ks="[object Map]",Uo="[object Promise]",yp="[object Set]",Ep="[object WeakMap]",xp="[object DataView]",mb=Ot(Gs),Ho=Ot(Hs),kb=Ot(od),Ip=Ot(sd),Tp=Ot(ad),vr=le;(Gs&&vr(new Gs(new ArrayBuffer(1)))!=xp||Hs&&vr(new Hs)!=Ks||od&&vr(od.resolve())!=Uo||sd&&vr(new sd)!=yp||ad&&vr(new ad)!=Ep)&&(vr=function(S){var M=le(S),F=M=="[object Object]"?S.constructor:void 0,$=F?Ot(F):"";if($)switch($){case mb:return xp;case Ho:return Ks;case kb:return Uo;case Ip:return yp;case Tp:return Ep}return M});const ac=vr;var Dp=Object.prototype.hasOwnProperty;const Sp=function(S){var M=S.length,F=new S.constructor(M);return M&&typeof S[0]=="string"&&Dp.call(S,"index")&&(F.index=S.index,F.input=S.input),F},Mp=z.Uint8Array,cc=function(S){var M=new S.constructor(S.byteLength);return new Mp(M).set(new Mp(S)),M},bb=function(S,M){var F=M?cc(S.buffer):S.buffer;return new S.constructor(F,S.byteOffset,S.byteLength)};var Pp=/\w*$/;const cd=function(S){var M=new S.constructor(S.source,Pp.exec(S));return M.lastIndex=S.lastIndex,M};var Np=V?V.prototype:void 0,ld=Np?Np.valueOf:void 0;const Rp=function(S){return ld?Object(ld.call(S)):{}},wb=function(S,M){var F=M?cc(S.buffer):S.buffer;return new S.constructor(F,S.byteOffset,S.length)},Bp=function(S,M,F){var $=S.constructor;switch(M){case"[object ArrayBuffer]":return cc(S);case"[object Boolean]":case"[object Date]":return new $(+S);case"[object DataView]":return bb(S,F);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wb(S,F);case"[object Map]":case"[object Set]":return new $;case"[object Number]":case"[object String]":return new $(S);case"[object RegExp]":return cd(S);case"[object Symbol]":return Rp(S)}};var lc=Object.create;const _b=function(){function S(){}return function(M){if(!j(M))return{};if(lc)return lc(M);S.prototype=M;var F=new S;return S.prototype=void 0,F}}(),dd=function(S){return typeof S.constructor!="function"||zo(S)?{}:_b(No(S))},ud=function(S){return Ae(S)&&ac(S)=="[object Map]"};var dc=Yi&&Yi.isMap;const hd=dc?Kl(dc):ud,Op=function(S){return Ae(S)&&ac(S)=="[object Set]"};var pd=Yi&&Yi.isSet;const Lp=pd?Kl(pd):Op;var gd="[object Arguments]",fd="[object Function]",jp="[object Object]",at={};at[gd]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object DataView]"]=at["[object Boolean]"]=at["[object Date]"]=at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Map]"]=at["[object Number]"]=at[jp]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object Symbol]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Error]"]=at[fd]=at["[object WeakMap]"]=!1;const Ab=function S(M,F,$,ne,me,ke){var ge,Le=1&F,Ne=2&F,Yn=4&F;if($&&(ge=me?$(M,ne,me,ke):$(M)),ge!==void 0)return ge;if(!j(M))return M;var gn=Gl(M);if(gn){if(ge=Sp(M),!Le)return Xl(M,ge)}else{var Vt=ac(M),Pi=Vt==fd||Vt=="[object GeneratorFunction]";if(to(M))return sc(M,Le);if(Vt==jp||Vt==gd||Pi&&!me){if(ge=Ne||Pi?{}:dd(M),!Le)return Ne?rd(M,wp(ge,M)):nd(M,bp(ge,M))}else{if(!at[Vt])return me?M:{};ge=Bp(M,Vt,Le)}}ke||(ke=new ib);var $e=ke.get(M);if($e)return $e;ke.set(M,ge),Lp(M)?M.forEach(function(tn){ge.add(S(tn,F,$,tn,M,ke))}):hd(M)&&M.forEach(function(tn,Lt){ge.set(Lt,S(tn,F,$,Lt,M,ke))});var Zn=gn?void 0:(Yn?Ne?fb:Cp:Ne?Yl:rc)(M);return rb(Zn||M,function(tn,Lt){Zn&&(tn=M[Lt=tn]),cp(ge,Lt,S(tn,F,$,Lt,M,ke))}),ge},vb=function(S,M){return Ab(S,5,M=typeof M=="function"?M:void 0)};class md extends v{constructor(M,F={}){super(F),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Za(this._save.bind(this),typeof F.saveInterval=="number"?F.saveInterval:5e3),M&&(this._creator=($,ne)=>M.create($,ne)),this._destructor=$=>$.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(M){this._creator=M}setDestructor(M){this._destructor=M}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(M=>{console.error("An error happened during the editor destroying.",M)}).then(()=>{const M={},F=[],$=this._config.rootsAttributes||{},ne={};for(const[ke,ge]of Object.entries(this._data.roots))ge.isLoaded?(M[ke]="",ne[ke]=$[ke]||{}):F.push(ke);const me={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:F,rootsAttributes:ne,_watchdogInitialData:this._data};return delete me.initialData,me.extraPlugins.push(ro),this._initUsingData?this.create(M,me,me.context):Yh(this._elementOrData)?this.create(this._elementOrData,me,me.context):this.create(this._editables,me,me.context)}).then(()=>{this._fire("restart")})}create(M=this._elementOrData,F=this._config,$){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=M,this._initUsingData=typeof M=="string"||Object.keys(M).length>0&&typeof Object.values(M)[0]=="string",this._config=this._cloneEditorConfiguration(F)||{},this._config.context=$,this._creator(M,this._config))).then(ne=>{this._editor=ne,ne.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ne.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const M=this._editor;return this._editor=null,M.model.document.off("change:data",this._throttledSave),this._destructor(M)})}_save(){const M=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=M}catch(F){console.error(F,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(M){this._excludedProps=M}_getData(){const M=this._editor,F=M.model.document.roots.filter(ge=>ge.isAttached()&&ge.rootName!="$graveyard"),{plugins:$}=M,ne=$.has("CommentsRepository")&&$.get("CommentsRepository"),me=$.has("TrackChanges")&&$.get("TrackChanges"),ke={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};F.forEach(ge=>{ke.roots[ge.rootName]={content:JSON.stringify(Array.from(ge.getChildren())),attributes:JSON.stringify(Array.from(ge.getAttributes())),isLoaded:ge._isLoaded}});for(const ge of M.model.markers)ge._affectsData&&(ke.markers[ge.name]={rangeJSON:ge.getRange().toJSON(),usingOperation:ge._managedUsingOperations,affectsData:ge._affectsData});return ne&&(ke.commentThreads=JSON.stringify(ne.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),me&&(ke.suggestions=JSON.stringify(me.getSuggestions({toJSON:!0,skipNotAttached:!0}))),ke}_getEditables(){const M={};for(const F of this.editor.model.document.getRootNames()){const $=this.editor.ui.getEditableElement(F);$&&(M[F]=$)}return M}_isErrorComingFromThisItem(M){return O(this._editor,M.context,this._excludedProps)}_cloneEditorConfiguration(M){return vb(M,(F,$)=>Yh(F)||$==="context"?F:void 0)}}class ro{constructor(M){this.editor=M,this._data=M.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",M=>{M.stop(),this.editor.model.enqueueChange({isUndoable:!1},F=>{this._restoreCollaborationData(),this._restoreEditorData(F)}),this.editor.data.fire("ready")},{priority:999})}_createNode(M,F){if("name"in F){const $=M.createElement(F.name,F.attributes);if(F.children)for(const ne of F.children)$._appendChild(this._createNode(M,ne));return $}return M.createText(F.data,F.attributes)}_restoreEditorData(M){const F=this.editor;Object.entries(this._data.roots).forEach(([$,{content:ne,attributes:me}])=>{const ke=JSON.parse(ne),ge=JSON.parse(me),Le=F.model.document.getRoot($);for(const[Ne,Yn]of ge)M.setAttribute(Ne,Yn,Le);for(const Ne of ke){const Yn=this._createNode(M,Ne);M.insert(Yn,Le,"end")}}),Object.entries(this._data.markers).forEach(([$,ne])=>{const{document:me}=F.model,{rangeJSON:{start:ke,end:ge},...Le}=ne,Ne=me.getRoot(ke.root),Yn=M.createPositionFromPath(Ne,ke.path,ke.stickiness),gn=M.createPositionFromPath(Ne,ge.path,ge.stickiness),Vt=M.createRange(Yn,gn);M.addMarker($,{range:Vt,...Le})})}_restoreCollaborationData(){const M=JSON.parse(this._data.commentThreads),F=JSON.parse(this._data.suggestions);M.forEach($=>{const ne=this.editor.config.get("collaboration.channelId"),me=this.editor.plugins.get("CommentsRepository");me.hasCommentThread($.threadId)&&me.getCommentThread($.threadId).remove(),me.addCommentThread({channelId:ne,...$})}),F.forEach($=>{const ne=this.editor.plugins.get("TrackChangesEditing");ne.hasSuggestion($.id)?ne.getSuggestion($.id).attributes=$.attributes:ne.addSuggestionData($)})}}const Zi=Symbol("MainQueueId");class kd extends v{constructor(M,F={}){super(F),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Cb,this._watchdogConfig=F,this._creator=$=>M.create($),this._destructor=$=>$.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(M){this._creator=M}setDestructor(M){this._destructor=M}get context(){return this._context}create(M={}){return this._actionQueues.enqueue(Zi,()=>(this._contextConfig=M,this._create()))}getItem(M){return this._getWatchdog(M)._item}getItemState(M){return this._getWatchdog(M).state}add(M){const F=Qs(M);return Promise.all(F.map($=>this._actionQueues.enqueue($.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ne;if(this._watchdogs.has($.id))throw new Error(`Item with the given id is already added: '${$.id}'.`);if($.type==="editor")return ne=new md(null,this._watchdogConfig),ne.setCreator($.creator),ne._setExcludedProperties(this._contextProps),$.destructor&&ne.setDestructor($.destructor),this._watchdogs.set($.id,ne),ne.on("error",(me,{error:ke,causesRestart:ge})=>{this._fire("itemError",{itemId:$.id,error:ke}),ge&&this._actionQueues.enqueue($.id,()=>new Promise(Le=>{const Ne=()=>{ne.off("restart",Ne),this._fire("itemRestart",{itemId:$.id}),Le()};ne.on("restart",Ne)}))}),ne.create($.sourceElementOrData,$.config,this._context);throw new Error(`Not supported item type: '${$.type}'.`)})))}remove(M){const F=Qs(M);return Promise.all(F.map($=>this._actionQueues.enqueue($,()=>{const ne=this._getWatchdog($);return this._watchdogs.delete($),ne.destroy()})))}destroy(){return this._actionQueues.enqueue(Zi,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Zi,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(M=>{console.error("An error happened during destroying the context or items.",M)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(M=>(this._context=M,this._contextProps=T(this._context),Promise.all(Array.from(this._watchdogs.values()).map(F=>(F._setExcludedProperties(this._contextProps),F.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const M=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(F=>F.destroy())).then(()=>this._destructor(M))})}_getWatchdog(M){const F=this._watchdogs.get(M);if(!F)throw new Error(`Item with the given id was not registered: ${M}.`);return F}_isErrorComingFromThisItem(M){for(const F of this._watchdogs.values())if(F._isErrorComingFromThisItem(M))return!1;return O(this._context,M.context)}}class Cb{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(M){this._onEmptyCallbacks.push(M)}enqueue(M,F){const $=M===Zi;this._activeActions++,this._queues.get(M)||this._queues.set(M,Promise.resolve());const ne=($?Promise.all(this._queues.values()):Promise.all([this._queues.get(Zi),this._queues.get(M)])).then(F),me=ne.catch(()=>{});return this._queues.set(M,me),ne.finally(()=>{this._activeActions--,this._queues.get(M)===me&&this._activeActions===0&&this._onEmptyCallbacks.forEach(ke=>ke())})}}function Qs(S){return Array.isArray(S)?S:[S]}const Ys=m().createContext("contextWatchdog");class bd extends m().Component{constructor(M,F){super(M,F),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(M){return this._shouldComponentUpdate(M)}async _shouldComponentUpdate(M){return M.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(M.config)),M.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(M.config),!0):this.props.children!==M.children}render(){return m().createElement(Ys.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(M){this.contextWatchdog=new kd(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(F,$)=>{this.props.onError($.error,{phase:"runtime",willContextRestart:$.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(M).catch(F=>{this.props.onError(F,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}bd.defaultProps={isLayoutReady:!0,onError:(S,M)=>console.error(S,M)},bd.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const wd="Lock from React integration (@ckeditor/ckeditor5-react)";class $o extends m().Component{constructor(M){super(M),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:F}=window;if(F){const[$]=F.split(".").map(Number);$<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(M){return!!this.editor&&(M.id!==this.props.id||M.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(M)&&this.editor.data.set(M.data),"disabled"in M&&(M.disabled?this.editor.enableReadOnlyMode(wd):this.editor.disableReadOnlyMode(wd)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof kd?this.watchdog=new _d(this.context):this.watchdog=new $o._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((M,F)=>this._createEditor(M,F)),this.watchdog.on("error",(M,{error:F,causesRestart:$})=>{(this.props.onError||console.error)(F,{phase:"runtime",willEditorRestart:$})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(M=>{(this.props.onError||console.error)(M,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(M,F){return this.props.editor.create(M,F).then($=>{"disabled"in this.props&&this.props.disabled&&$.enableReadOnlyMode(wd);const ne=$.model.document,me=$.editing.view.document;return ne.on("change:data",ke=>{this.props.onChange&&this.props.onChange(ke,$)}),me.on("focus",ke=>{this.props.onFocus&&this.props.onFocus(ke,$)}),me.on("blur",ke=>{this.props.onBlur&&this.props.onBlur(ke,$)}),setTimeout(()=>{this.props.onReady&&this.props.onReady($)}),$})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(M=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,M()):this.instance?(await this.instance.destroy(),this.instance=null,M()):void M())})}_shouldUpdateEditor(M){return this.props.data!==M.data&&this.editor.data.get()!==M.data}_getConfig(){const M=this.props.config||{};return this.props.data&&M.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...M,initialData:M.initialData||this.props.data||""}}}$o.contextType=Ys,$o.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},$o._EditorWatchdog=md;class _d{constructor(M){this._contextWatchdog=M,this._id=function(){const F=4294967296*Math.random()>>>0,$=4294967296*Math.random()>>>0,ne=4294967296*Math.random()>>>0,me=4294967296*Math.random()>>>0;return"e"+E[F>>0&255]+E[F>>8&255]+E[F>>16&255]+E[F>>24&255]+E[$>>0&255]+E[$>>8&255]+E[$>>16&255]+E[$>>24&255]+E[ne>>0&255]+E[ne>>8&255]+E[ne>>16&255]+E[ne>>24&255]+E[me>>0&255]+E[me>>8&255]+E[me>>16&255]+E[me>>24&255]}()}setCreator(M){this._creator=M}create(M,F){return this._contextWatchdog.add({sourceElementOrData:M,config:F,creator:this._creator,id:this._id,type:"editor"})}on(M,F){this._contextWatchdog.on("itemError",($,{itemId:ne,error:me})=>{ne===this._id&&F(null,{error:me,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const uc="Lock from React integration (@ckeditor/ckeditor5-react)",yb=S=>{let M=null;const F=(0,w.useRef)(null),$=(0,w.useContext)(Ys),[ne,me]=(0,w.useState)(null),[ke,ge]=(0,w.useState)(S.data),[Le,Ne]=(0,w.useState)(S.rootsAttributes||{}),[Yn,gn]=(0,w.useState)([]),Vt=(0,w.useRef)(!0),Pi=(0,w.useRef)(null),$e=m().createElement("div",{ref:Pi});(0,w.useEffect)(()=>((async()=>(await F.current,S.isLayoutReady!==!1&&Jn()))(),()=>{nn().then(()=>{F.current=null})}),[S.isLayoutReady]),(0,w.useEffect)(()=>{ne&&(S.disabled?ne.enableReadOnlyMode(uc):ne.disableReadOnlyMode(uc))},[S.disabled]),(0,w.useEffect)(()=>{const Se=Pi.current;if(ne&&!F.current){const ae=ne.getFullData();ge({...ae}),Ne({...ne.getRootsAttributes()}),gn([...Object.keys(ae).map(Ue=>tn(ne,Ue))]),Se&&Se.appendChild(ne.ui.view.toolbar.element)}return()=>{Se&&Se.firstChild&&Se.removeChild(Se.firstChild)}},[ne&&ne.id]);const Zn=()=>{const Se=S.config||{};return S.data&&Se.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Se,rootsAttributes:Le}},tn=(Se,ae)=>m().createElement("div",{id:ae,key:ae,ref:Ue=>{if(Ue){const Ze=Se.ui.view.createEditable(ae,Ue);Se.ui.addEditable(Ze),Se.editing.view.forceRender()}}}),Lt=(Se,ae)=>S.editor.create(Se,ae).then(Ue=>{S.disabled&&S.disabled&&Ue.enableReadOnlyMode(uc);const Ze=Ue.model.document,fi=Ue.editing.view.document;return Ze.on("change:data",Ni=>((mi,Ee)=>{const Ft=mi.model.document,ki={},fn={};Ft.differ.getChanges().forEach(vt=>{let je;if(je=vt.type=="insert"||vt.type=="remove"?vt.position.root:vt.range.root,!je.isAttached())return;const{rootName:Ri}=je;ki[Ri]=mi.getData({rootName:Ri})}),Ft.differ.getChangedRoots().forEach(vt=>{if(vt.state)return void(ki[vt.name]!==void 0&&delete ki[vt.name]);const je=vt.name;fn[je]=mi.getRootAttributes(je)}),Object.keys(ki).length&&ge(vt=>({...vt,...ki})),Object.keys(fn).length&&Ne(vt=>({...vt,...fn})),S.onChange&&S.onChange(Ee,mi)})(Ue,Ni)),Ue.on("addRoot",(Ni,mi)=>((Ee,Ft,ki)=>{const fn=ki.rootName,vt=tn(Ee,fn);ge(je=>({...je,[fn]:Ee.getData({rootName:fn})})),Ne(je=>({...je,[fn]:Ee.getRootAttributes(fn)})),gn(je=>[...je,vt])})(Ue,0,mi)),Ue.on("detachRoot",(Ni,mi)=>((Ee,Ft,ki)=>{const fn=ki.rootName;gn(vt=>vt.filter(je=>je.props.id!==fn)),ge(vt=>{const{[fn]:je,...Ri}=vt;return{...Ri}}),Ne(vt=>{const{[fn]:je,...Ri}=vt;return{...Ri}}),Ee.detachEditable(ki)})(Ue,0,mi)),fi.on("focus",Ni=>{S.onFocus&&S.onFocus(Ni,Ue)}),fi.on("blur",Ni=>{S.onBlur&&S.onBlur(Ni,Ue)}),me(Ue),S.onReady&&S.onReady(Ue),Ue}),nn=async()=>{me(null),ge({}),Ne({}),gn([]),F.current=new Promise(Se=>{setTimeout(async()=>M?(await M.destroy(),M=null,Se()):ne?(await ne.destroy(),Se()):void Se())})},Jn=async()=>{S.disableWatchdog?await Lt(S.data,Zn()):M||(M=$ instanceof kd?new _d($):new md(S.editor,S.watchdogConfig),M.setCreator((Se,ae)=>Lt(Se,ae)),M.on("error",(Se,{error:ae,causesRestart:Ue})=>{(S.onError||console.error)(ae,{phase:"runtime",willEditorRestart:Ue})}),await M.create(ke,Zn()).catch(Se=>{(S.onError||console.error)(Se,{phase:"initialization",willEditorRestart:!1})}))};(0,w.useEffect)(()=>{if(ne&&Vt.current){Vt.current=!1;const Se=Object.keys(ke),ae=Object.keys(Le);if(!Se.every(Ft=>ae.includes(Ft)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Ue=ne.getFullData(),Ze=ne.getRootsAttributes(),{addedKeys:fi,removedKeys:Ni}=Ji(Ue,ke||{}),mi=Se.some(Ft=>Ue[Ft]!==void 0&&JSON.stringify(Ue[Ft])!==JSON.stringify(ke[Ft])),Ee=ae.filter(Ft=>JSON.stringify(Ze[Ft])!==JSON.stringify(Le[Ft]));ne.model.change(Ft=>{Cr(fi),hc(Ni),mi&&zp(),Ee.length&&Xn(Ft,Ee)})}},[ke,Le]);const Ji=(Se,ae)=>{const Ue=Object.keys(Se),Ze=Object.keys(ae);return{addedKeys:Ze.filter(fi=>!Ue.includes(fi)),removedKeys:Ue.filter(fi=>!Ze.includes(fi))}},Cr=Se=>{Se.forEach(ae=>{ne.addRoot(ae,{data:ke[ae]||"",attributes:(Le==null?void 0:Le[ae])||{},isUndoable:!0})})},hc=Se=>{Se.forEach(ae=>{ne.detachRoot(ae,!0)})},zp=()=>{ne.data.set(ke,{suppressErrorInCollaboration:!0})},Xn=(Se,ae)=>{ae.forEach(Ue=>{Object.keys(Le[Ue]).forEach(Ze=>{ne.registerRootAttribute(Ze)}),Se.clearAttributes(ne.model.document.getRoot(Ue)),Se.setAttributes(Le[Ue],ne.model.document.getRoot(Ue))})},Eb=(0,w.useCallback)(Se=>{Vt.current=!0,ge(Se)},[ge]),Vp=(0,w.useCallback)(Se=>{Vt.current=!0,Ne(Se)},[Ne]);return{editor:ne,editableElements:Yn,toolbarElement:$e,data:ke,setData:Eb,attributes:Le,setAttributes:Vp}}})(),g})())})(zm,zm.exports);var eie=zm.exports;const tie=()=>{const[n,t]=te.useState({title:"",content:"",picture:"",summary:""}),[r,c]=te.useState({title:!1,summary:!1}),[d,h]=te.useState(null),g=(y,E)=>{const v=E.getData();t({...n,content:v})},w=y=>{const E=y.target.value,v=y.target.name;t({...n,[v]:E}),c({...r,[v]:E.trim()!==""})},m=async y=>{const E=Bk(zl,"posts");await I3(E,y)},A=async y=>{try{y.preventDefault();let E="";if(d){const v=await One(d);E=await Lne(v.ref.fullPath)}else E=n.picture;n.picture=E,Object.values(r).every(v=>v===!0)?(m(n),alert("Post Creado"),n.title="",n.content="",n.picture="",n.summary="",h(""),c({title:!1,summary:!1})):alert("Completa el formulario")}catch(E){throw console.log(E.message),new E}};return q.jsx("div",{className:"containerForm",children:q.jsxs("form",{onSubmit:A,className:"formulario",children:[q.jsxs("div",{children:[q.jsx("label",{children:"Titulo del Post"}),q.jsx("input",{type:"text",name:"title",placeholder:"Titulo",id:"titulo",value:n.title,onChange:w})]}),q.jsxs("div",{children:[q.jsx("label",{children:"Resumen del Post"}),q.jsx("input",{type:"text",name:"summary",placeholder:"Resumen",id:"summary",value:n.summary,onChange:w})]}),q.jsxs("div",{children:[q.jsx("label",{children:"Foto del Post URL (recomendado HD)"}),q.jsx("input",{type:"text",name:"picture",placeholder:"URL de la Foto",id:"picture",value:n.picture,onChange:w})]}),q.jsx("h3",{style:{margin:"0px",padding:"0px",textAlign:"center"},children:"o"}),q.jsxs("div",{children:[q.jsx("label",{children:"Foto del Post desde PC (recomendado HD)"}),q.jsx("input",{type:"file",name:"picture",id:"picture",accept:"image/png, image/jpeg",onChange:y=>h(y.target.files[0])})]}),q.jsxs("div",{children:[q.jsx("label",{children:"Contenido del Post"}),q.jsx(eie.CKEditor,{editor:Xne,data:n.content,onChange:g,config:{removePlugins:["MediaEmbed","EasyImage","ImageUpload"]}})]}),q.jsx("button",{type:"submit",children:"Crear Post"})]})})},nie=({id:n,title:t,summary:r,picture:c,content:d})=>q.jsxs("div",{className:"containerPost",children:[q.jsxs("header",{children:[q.jsx("h1",{className:"postTitle",children:t}),q.jsx("h4",{className:"postSummary",children:r})]}),q.jsx("picture",{className:"postPicture",children:q.jsx("img",{src:c,alt:`${t}-img`})}),q.jsx("hr",{}),q.jsx("div",{className:"postContent",children:q.jsx("div",{dangerouslySetInnerHTML:{__html:d},className:"postText"})})]},n),iie=()=>{const[n,t]=te.useState([]),[r,c]=te.useState(!0),{postId:d}=Oq();return te.useEffect(()=>{c(!0);const h=LC(zl,"posts",d);y3(h).then(g=>{const w={id:g.id,...g.data()};t(w)}).catch(g=>console.error(g)).finally(()=>c(!1))},[d]),r?q.jsx(MO,{}):q.jsx(nie,{...n})},rie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAq5SURBVHic7Z17sFVVHce/S1IDLVIIUwolErMQ6SnqiIhaYgg6ymDvcqT3a6y0kims0Rp752gWPZypqWxg0gwlwdBr46gl5SMEE5EEUzDgKhhc772f/lj3THfg3HP23mf99tr7nP2ZYZi5c2ev3/e39rln77V+6/uTOgzgROCHwGpgx8C/1cA1wAmx46swAjgUuInm3Ai8Ina8FQEBjgYeTzD5NR4Hjo4dd0UAgAnAphSTX+Np4KjY8Ve0ADAWeCzD5Nf4F3B4bB0VGQBejn+4a5VHqJ4JygUwErgvwOTXuB84OLauigQAI4CugJNf427gwNj6KhoA7AfcYjD5NW4DXhxbZ0UdgGHAYsPJr/F7YN/YeisGAewD/CqHya+xGBgWW3eFJMAB1+Y4+TV+DrjY+jse4MoIk1/j+7H1dzTAwoiTX+MrsfPQkQCfij3zg/h87Hx0FMAHgP7Ysz6IfuDDsfPSEQDnAr2RJ7wefcA7Y+enrQHOAnoiT3QjeoFzY+cpDaV5jQFmSFoqqegrcT2S5jjnlsUOJAmluAGA4yStkFSWtfjnJZ3hnLszdiDNKPwNAEyWtFJS2XbjuiXNcM6tih1IIwp9A+ArcrokjTEa4taB/99mdP3NkqY559YaXb99AV5Fujq+tNwFHIjfPr7DcJyNwPjY+SwVwBhgjeGk/B04aNB4LwX+Yjjeo8BhMXNaGoDRwEOGk7EWOCTCuGvqjVsxCOw/iRuAcQ3GPwTbvzx/Y9BfnopBAMOB2w2TvxF4dYI4xmH/7HFAHjktDfhSrqWGSd8CvC5FPEcCTxnGsxzY3zKnpQFfynW9YbK3A2/KENdk4D+Gcf0OeJFFTksDvprnJ4ZJ3gmc1EJ8U4HnDOP7BbBPyJyWCuA7hsndDcwMEOMM4L+GcV4dIpelA/i6YVJ7gbkBY52N7S7kd0PFWgqALxkmsx+4wCDm87CtQ/hi6JgLCfBxwyT2Ax8xjN26Eukiq9gLAfBefOWMFZfkoMGyFrEfuNBaQxSAs4EXDJN3WY5aLjPU0QvMy0tLLgCnA7sMk3ZVBE3fNNTTA7wjb00mACfgjZisuI4I79L4NYwfGep6Hjg5b11BAaYA2wyTtISIq2nYn0nsBt4SS19LAJOAZwyT80cKsJ4O7Esy97GsbAOmxNaZCrwx05OGSfkzBdpRw29mLTPUWx7DKuCVtGbM1Ix7gJfE1rkn+NKyOw11F9+winDGTEPxADAqts6hILw30Z4U17AqB/H/BA6NrbMZ5PMhKFaJPPZ//p4AjoitMynYfw3eTVG+BsnnAei1sXWmhewOpUn5E7ENq8jnFegNUUW2AO38Koz9IsgO4MQo4gJCPoth+RpWkc8y6PRcRRlCPsvh+R3zw34jZFZuYnIC+w2xH+QlxHor9PxchEQA+y3xhdYCrIsh5psKKADYF8VcbBW4dTnUZ00CLyDAxwzzGN6wCvuCyAVBAy4B2BbG9gHvChWodUn094IEWkKAKwzz2guc12qA1ocifkaH++0C3zbM727gjKyBTcL2WNQv6eRjUQPgF9SuM8zzc8Ckocav++nDLy/eL8mqCOEGSXOdc71G1x8S/Pn82ZKmSxo78ONN8kZUNznntkWIaZik6yVZeQyulTTZOdeTNKCPGt6RK4iwiYHft7gUeLZBbN34h7PcG0LgN9X+YJj35AdmgFVGQUQp5cLXKqxIEedyYGSEOC0Nq+5LGsTB2CxUrCJeUrPUKkTZc8fOJqePJNVUwLEGg9c1ZrKG1msVouy5Ay/D+wmFZvKeY9V7Ct8vsJ718o6ZTwe+bkPw3+NLJL29hcucIulGct5zd85tl3SmpEcDX3p4098ADgt4x20igTFTaAhfq5D/nrtMzDKbF5Ti9/rXBxgslTFTKLCrVch3z/3/eo7Cl8W1ymNpBm3VvWM78EbDvDSK3bJWIZ899701HQtsbTH2y9MMeBDZa9l2AtMM89EobstahRoLI2k7jsZrGI3YStrzFPjWLGlfB3cBVs7bzeLNs4mUzZ57c41Z9mb6gHOyDvghku8EbgdOC6w5aZx5N5GK1iQKOIXkXwc9tFpkAxxP84WJm4GJgTSmjc+6VmEowu25p9f8GnwP40bcCxzf7FqJnmrxT7/TJM2U9HpJIyVtkfSQpCXOuQda0JMZYLakxZJiNXPuk3S+c25xjMGBYyTNkTRF0mhJz0paI99bqcs5R4y4cgH7WoWkZN9zLwClLMYApkparuI0kSpNk6g9Kd0NQHGbSHVLOtU5l2zXrSCU6gYAjpRvIlXMM/L+uWi6c2517ECSUpobAN/po0tSsV0yfHXRSc659bEDSUIpavLwW8m3qviTL/kys+WUpElU4W8AYLSk22RXn2jBBEkrKUGTqELfAPgKomXyaw8WrBv4Z8FESUuJUAXVFpBTQ0dyalAZO5+lAl/KdbPhpGxmUK0CvknUvw3HW05sO5eygG8i9VvDyajbRAr7JlE30OlNoppB5CZS+D33qklUDPCTf41h8hOt2WO/x/BTOvw8ZF2AbxgmPdVJWaomUfkCLDBMdqZ9e3xFlGWdwaUWuSwd2DeRyly5Q+WKYgvwPgrul0Pli2QDcA4lccwCFhrG2dbOaHWhhJ55wJWG8bZPk6hmUFLXTPxr6rWGcbeVO2pdgLeS/XBDEkybSFH5I2cHOIY2cM7GL1UvNtRRaof0uuDr2C2bSOV6jh+/WXWLoZ5S9kioC757xnrDZMVy8hgBdBnqKlWXlLrg++c8bJikqP1zqPokDc1AcqzMpmrJiV4dTCc2iWoGcAD2PfSOiK2zBjCWDuyVWBdgOLDSMBmFfEDCvklUobql1oUObyKFt3N5ylB/Ifol1wX/fvxrQ/Gl6KSNbxLVqp1LI6J2TK8Lfpn0x4aiS7VMivdUsF7uLk5pGfAtQ7Gl3CgBTsN2w+uq2BolScDXDEX2AvNia8wK9k2ivhpb4KcNxfUDF0YVGADgPdgWvVwSS9gHqcqlEoF9k6jkVvCBBFnf1W1XMAl8xjBf/cAFeQmZg+33WtuWTAOXG+atF5hrLeBUbA9NXG0qoABg3yRqplXgU6mOTbUMfs1kkWEew1v1EsasuBEddXASv2r6G8N8dgNvDhXsRGzXtzvy6DR+38SySVTrdv3AOGCDYZAdbZ6A/c5p9oYdwGhgnWFwf6WyT6k1ibrXMM/r8D5LqYJytNZsqRn/SB1UGwOMAh40zPcy0pyVAM4yDGYD3vOvYhDAGGzrJ2elCSZNk8U0bATGG+ax1ACH48vdLFhRb8y9/iwAIyRtlRS68mSLpJOdcw8Hvm5bge+70CUptMfgbkmjnHM7B/+w3sLLeIWf/G5JM6vJb45z7hFJp8t/CEOyv+o4rda7AUK/lu2UdGbZXLRj4px7UL5x5I7Al97rraveDbA54IA98m3i7wp4zY7AOXePfJv7XQEv+2TT38AvU4bwy3sBmBMw+I4EmEUYw6pnSNr9FG9l1gp9wLuNc9MxAPNo3bBqUZoBJ+C3FrOQf4VKBwC8n+wVWLtJ29UN+HLGwT5nlIOOh+xVRQuyDJbWtrWfSB01OwngItKV4y2iFcsc4JM0t3V5Ajg7oM6KBuCdTJutGHYDnwg14CjgC8DteKv1Xvyy7jJgPkU/tNiG4LeS5wNLB+aiB1+3cQdwMQmPlP8PCeXQFgRFqWQAAAAASUVORK5CYII=",oie=()=>{const[n,t]=te.useState(!1);te.useEffect(()=>{const c=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};if(n)return q.jsx("button",{className:"scroll-button",onClick:r,children:q.jsx("img",{src:rie,alt:"Boton subir"})})},sie=()=>{const[n,t]=te.useState(!1),[r,c]=te.useState(""),[d,h]=te.useState(""),g=Vv(),w=async m=>{try{if(m.preventDefault(),n===!0){await ZX(Lm,r,d);const A=Bk(zl,"users");await I3(A,{email:r,rol:"user"})}else await JX(Lm,r,d);g("/")}catch(A){console.log(A.message),A.code==="auth/email-already-in-use"?alert("El email ya se esta usando"):A.code==="auth/invalid-email"?alert("Email invalido"):A.code==="auth/weak-password"?alert("La contraseña es muy debil"):A.code&&alert("Algo salio mal")}};return q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"containerLogin",children:q.jsxs("form",{className:"styleForm",onSubmit:w,children:[q.jsx("h1",{children:n?"Registrate":"Inicia sesion"}),q.jsxs("div",{children:[q.jsxs("div",{children:[q.jsx("label",{children:"Email"}),q.jsx("input",{type:"email",name:"email",id:"email",placeholder:"",autoComplete:"off",required:!0,value:r,onChange:m=>c(m.target.value)})]}),q.jsxs("div",{children:[q.jsx("label",{children:"Contraseña"}),q.jsx("input",{type:"password",name:"password",id:"password",placeholder:"",autoComplete:"off",required:!0,value:d,onChange:m=>h(m.target.value)})]})]}),q.jsx("button",{className:"buttonChange",type:"submit",children:n?"Registrate":"Inicia sesion"})]})}),q.jsx("br",{}),q.jsx("button",{className:"buttonChange",onClick:()=>t(!n),children:n?"Ya tengo una cuenta":"Quiero registrarme"})]})},aie=({redirectPath:n="/"})=>{const{user:t}=EO();return t&&t.email==="micamarco@gmail.com"&&t.uid==="NBPITtX9YiThi48aBiEVlMOFwFG2"?q.jsx(Zq,{}):q.jsx(Yq,{to:n,replace:!0})},cie=()=>q.jsxs(aG,{children:[q.jsx(zne,{}),q.jsxs(Xq,{children:[q.jsx(ma,{exact:!0,path:"/",element:q.jsx(Zne,{})}),q.jsx(ma,{exact:!0,path:"/post/:postId",element:q.jsx(iie,{})}),q.jsx(ma,{element:q.jsx(aie,{}),children:q.jsx(ma,{exact:!0,path:"/publicar-post",element:q.jsx(tie,{})})}),q.jsx(ma,{exact:!0,path:"/login",element:q.jsx(sie,{})}),q.jsx(ma,{path:"*",element:q.jsx("h1",{children:"Error 404"})})]}),q.jsx(oie,{}),q.jsx($ne,{})]}),lie=()=>{const[n,t]=te.useState(""),[r,c]=te.useState("");return te.useEffect(()=>{typeof window<"u"&&fetch("https://criptoya.com/api/dolar").then(h=>h.json()).then(h=>{t(`Dolar Blue venta: $${h.blue.ask}`),c(`Dolar Blue compra: $${h.blue.bid}`)}).catch(h=>console.error(h))},[]),q.jsxs("div",{className:"dPrices",children:[q.jsx("p",{className:"dStylePrices",children:n}),q.jsx("p",{className:"dStylePrices",children:r})]})},die="modulepreload",uie=function(n){return"https://facundomarcobacigalupo.github.io/Blog/"+n},_P={},pa=function(t,r,c){let d=Promise.resolve();if(r&&r.length>0){const h=document.getElementsByTagName("link");d=Promise.all(r.map(g=>{if(g=uie(g),g in _P)return;_P[g]=!0;const w=g.endsWith(".css"),m=w?'[rel="stylesheet"]':"";if(!!c)for(let E=h.length-1;E>=0;E--){const v=h[E];if(v.href===g&&(!w||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${m}`))return;const y=document.createElement("link");if(y.rel=w?"stylesheet":die,w||(y.as="script",y.crossOrigin=""),y.href=g,document.head.appendChild(y),w)return new Promise((E,v)=>{y.addEventListener("load",E),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${g}`)))})}))}return d.then(()=>t()).catch(h=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h})},hie=()=>{const[n,t]=te.useState({}),[r,c]=te.useState("");async function d(A){switch(A.weather[0].main){case"Thunderstorm":c(await pa(()=>import("./thunder-Dw-6fzd1.js"),__vite__mapDeps([])));break;case"Drizzle":c(await pa(()=>import("./rainy-2-CNqXcRon.js"),__vite__mapDeps([])));break;case"Rain":c(await pa(()=>import("./rainy-7-BxPUcVZe.js"),__vite__mapDeps([])));break;case"Snow":c(await pa(()=>import("./snowy-6-Bl60x7OE.js"),__vite__mapDeps([])));break;case"Clear":c(await pa(()=>import("./day-CE9-ByzA.js"),__vite__mapDeps([])));break;case"Atmosphere":c(await pa(()=>import("./weather-C6M-T3A1.js"),__vite__mapDeps([])));break;case"Clouds":c(await pa(()=>import("./cloudy-day-1-Db9KW6Cg.js"),__vite__mapDeps([])));break}}te.useEffect(()=>{const A="6bffa96718465883b031a6c75c10e366";if(typeof window<"u"){const y=`https://api.openweathermap.org/data/2.5/weather?q=cañuelas&appid=${A}&units=metric`;fetch(y).then(E=>E.json()).then(E=>{let T={temperature:`${Math.round(E.main.temp)}°`,humidity:`Humeda: ${E.main.humidity} %`,wind:`Viento: ${E.wind.speed} km/h`};t(T),d(E).catch(P=>console.error(P))})}},[]);let h=new Date,g=h.getDate(),m=(()=>{if(h.getMonth()===0)return"Enero";if(h.getMonth()===1)return"Febrero";if(h.getMonth()===2)return"Marzo";if(h.getMonth()===3)return"Abril";if(h.getMonth()===4)return"Mayo";if(h.getMonth()===5)return"Junio";if(h.getMonth()===6)return"Julio";if(h.getMonth()===7)return"Agosto";if(h.getMonth()===8)return"Septiembre";if(h.getMonth()===9)return"Octubre";if(h.getMonth()===10)return"Noviembre";if(h.getMonth()===11)return"Diciembre"})();return q.jsx(te.Fragment,{children:n&&q.jsxs("div",{className:"containerWeather",children:[q.jsx("p",{children:`${g} de ${m}. Cañuelas, Argentina.`}),q.jsx("img",{src:r.default,alt:"img of climate"}),q.jsx("p",{children:n.temperature})]})})};function pie(){return q.jsxs(jne,{children:[q.jsxs("div",{className:"containerComponent",children:[q.jsx(lie,{}),q.jsx(hie,{})]}),q.jsx(cie,{})]})}p_.createRoot(document.getElementById("root")).render(q.jsx(GA.StrictMode,{children:q.jsx(pie,{})}));
