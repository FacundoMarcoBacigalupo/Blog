function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var PZ=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var uhe=PZ((Rn,qn)=>{function RZ(r,t){for(var o=0;o<t.length;o++){const c=t[o];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in r)){const d=Object.getOwnPropertyDescriptor(c,u);d&&Object.defineProperty(r,u,d.get?d:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var n4={exports:{}},Dm={},r4={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=Symbol.for("react.element"),BZ=Symbol.for("react.portal"),OZ=Symbol.for("react.fragment"),NZ=Symbol.for("react.strict_mode"),MZ=Symbol.for("react.profiler"),VZ=Symbol.for("react.provider"),LZ=Symbol.for("react.context"),FZ=Symbol.for("react.forward_ref"),zZ=Symbol.for("react.suspense"),jZ=Symbol.for("react.memo"),UZ=Symbol.for("react.lazy"),dI=Symbol.iterator;function $Z(r){return r===null||typeof r!="object"?null:(r=dI&&r[dI]||r["@@iterator"],typeof r=="function"?r:null)}var o4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i4=Object.assign,s4={};function Sl(r,t,o){this.props=r,this.context=t,this.refs=s4,this.updater=o||o4}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};Sl.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function a4(){}a4.prototype=Sl.prototype;function PC(r,t,o){this.props=r,this.context=t,this.refs=s4,this.updater=o||o4}var RC=PC.prototype=new a4;RC.constructor=PC;i4(RC,Sl.prototype);RC.isPureReactComponent=!0;var hI=Array.isArray,c4=Object.prototype.hasOwnProperty,BC={current:null},l4={key:!0,ref:!0,__self:!0,__source:!0};function u4(r,t,o){var c,u={},d=null,f=null;if(t!=null)for(c in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(d=""+t.key),t)c4.call(t,c)&&!l4.hasOwnProperty(c)&&(u[c]=t[c]);var m=arguments.length-2;if(m===1)u.children=o;else if(1<m){for(var k=Array(m),w=0;w<m;w++)k[w]=arguments[w+2];u.children=k}if(r&&r.defaultProps)for(c in m=r.defaultProps,m)u[c]===void 0&&(u[c]=m[c]);return{$$typeof:kh,type:r,key:d,ref:f,props:u,_owner:BC.current}}function HZ(r,t){return{$$typeof:kh,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function OC(r){return typeof r=="object"&&r!==null&&r.$$typeof===kh}function qZ(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(o){return t[o]})}var fI=/\/+/g;function a0(r,t){return typeof r=="object"&&r!==null&&r.key!=null?qZ(""+r.key):t.toString(36)}function hg(r,t,o,c,u){var d=typeof r;(d==="undefined"||d==="boolean")&&(r=null);var f=!1;if(r===null)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case kh:case BZ:f=!0}}if(f)return f=r,u=u(f),r=c===""?"."+a0(f,0):c,hI(u)?(o="",r!=null&&(o=r.replace(fI,"$&/")+"/"),hg(u,t,o,"",function(w){return w})):u!=null&&(OC(u)&&(u=HZ(u,o+(!u.key||f&&f.key===u.key?"":(""+u.key).replace(fI,"$&/")+"/")+r)),t.push(u)),1;if(f=0,c=c===""?".":c+":",hI(r))for(var m=0;m<r.length;m++){d=r[m];var k=c+a0(d,m);f+=hg(d,t,o,k,u)}else if(k=$Z(r),typeof k=="function")for(r=k.call(r),m=0;!(d=r.next()).done;)d=d.value,k=c+a0(d,m++),f+=hg(d,t,o,k,u);else if(d==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Vp(r,t,o){if(r==null)return r;var c=[],u=0;return hg(r,c,"","",function(d){return t.call(o,d,u++)}),c}function WZ(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(o){(r._status===0||r._status===-1)&&(r._status=1,r._result=o)},function(o){(r._status===0||r._status===-1)&&(r._status=2,r._result=o)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Qn={current:null},fg={transition:null},GZ={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:fg,ReactCurrentOwner:BC};Le.Children={map:Vp,forEach:function(r,t,o){Vp(r,function(){t.apply(this,arguments)},o)},count:function(r){var t=0;return Vp(r,function(){t++}),t},toArray:function(r){return Vp(r,function(t){return t})||[]},only:function(r){if(!OC(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Le.Component=Sl;Le.Fragment=OZ;Le.Profiler=MZ;Le.PureComponent=PC;Le.StrictMode=NZ;Le.Suspense=zZ;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GZ;Le.cloneElement=function(r,t,o){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var c=i4({},r.props),u=r.key,d=r.ref,f=r._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,f=BC.current),t.key!==void 0&&(u=""+t.key),r.type&&r.type.defaultProps)var m=r.type.defaultProps;for(k in t)c4.call(t,k)&&!l4.hasOwnProperty(k)&&(c[k]=t[k]===void 0&&m!==void 0?m[k]:t[k])}var k=arguments.length-2;if(k===1)c.children=o;else if(1<k){m=Array(k);for(var w=0;w<k;w++)m[w]=arguments[w+2];c.children=m}return{$$typeof:kh,type:r.type,key:u,ref:d,props:c,_owner:f}};Le.createContext=function(r){return r={$$typeof:LZ,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:VZ,_context:r},r.Consumer=r};Le.createElement=u4;Le.createFactory=function(r){var t=u4.bind(null,r);return t.type=r,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(r){return{$$typeof:FZ,render:r}};Le.isValidElement=OC;Le.lazy=function(r){return{$$typeof:UZ,_payload:{_status:-1,_result:r},_init:WZ}};Le.memo=function(r,t){return{$$typeof:jZ,type:r,compare:t===void 0?null:t}};Le.startTransition=function(r){var t=fg.transition;fg.transition={};try{r()}finally{fg.transition=t}};Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Le.useCallback=function(r,t){return Qn.current.useCallback(r,t)};Le.useContext=function(r){return Qn.current.useContext(r)};Le.useDebugValue=function(){};Le.useDeferredValue=function(r){return Qn.current.useDeferredValue(r)};Le.useEffect=function(r,t){return Qn.current.useEffect(r,t)};Le.useId=function(){return Qn.current.useId()};Le.useImperativeHandle=function(r,t,o){return Qn.current.useImperativeHandle(r,t,o)};Le.useInsertionEffect=function(r,t){return Qn.current.useInsertionEffect(r,t)};Le.useLayoutEffect=function(r,t){return Qn.current.useLayoutEffect(r,t)};Le.useMemo=function(r,t){return Qn.current.useMemo(r,t)};Le.useReducer=function(r,t,o){return Qn.current.useReducer(r,t,o)};Le.useRef=function(r){return Qn.current.useRef(r)};Le.useState=function(r){return Qn.current.useState(r)};Le.useSyncExternalStore=function(r,t,o){return Qn.current.useSyncExternalStore(r,t,o)};Le.useTransition=function(){return Qn.current.useTransition()};Le.version="18.2.0";r4.exports=Le;var J=r4.exports;const NC=t4(J),KZ=RZ({__proto__:null,default:NC},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QZ=J,JZ=Symbol.for("react.element"),YZ=Symbol.for("react.fragment"),ZZ=Object.prototype.hasOwnProperty,XZ=QZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eX={key:!0,ref:!0,__self:!0,__source:!0};function d4(r,t,o){var c,u={},d=null,f=null;o!==void 0&&(d=""+o),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(f=t.ref);for(c in t)ZZ.call(t,c)&&!eX.hasOwnProperty(c)&&(u[c]=t[c]);if(r&&r.defaultProps)for(c in t=r.defaultProps,t)u[c]===void 0&&(u[c]=t[c]);return{$$typeof:JZ,type:r,key:d,ref:f,props:u,_owner:XZ.current}}Dm.Fragment=YZ;Dm.jsx=d4;Dm.jsxs=d4;n4.exports=Dm;var j=n4.exports,nA={},h4={exports:{}},xr={},f4={exports:{}},p4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(oe,_e){var N=oe.length;oe.push(_e);e:for(;0<N;){var Te=N-1>>>1,yt=oe[Te];if(0<u(yt,_e))oe[Te]=_e,oe[N]=yt,N=Te;else break e}}function o(oe){return oe.length===0?null:oe[0]}function c(oe){if(oe.length===0)return null;var _e=oe[0],N=oe.pop();if(N!==_e){oe[0]=N;e:for(var Te=0,yt=oe.length,Mi=yt>>>1;Te<Mi;){var Yr=2*(Te+1)-1,Vi=oe[Yr],Zr=Yr+1,ur=oe[Zr];if(0>u(Vi,N))Zr<yt&&0>u(ur,Vi)?(oe[Te]=ur,oe[Zr]=N,Te=Zr):(oe[Te]=Vi,oe[Yr]=N,Te=Yr);else if(Zr<yt&&0>u(ur,N))oe[Te]=ur,oe[Zr]=N,Te=Zr;else break e}}return _e}function u(oe,_e){var N=oe.sortIndex-_e.sortIndex;return N!==0?N:oe.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var k=[],w=[],A=1,_=null,C=3,E=!1,S=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(oe){for(var _e=o(w);_e!==null;){if(_e.callback===null)c(w);else if(_e.startTime<=oe)c(w),_e.sortIndex=_e.expirationTime,t(k,_e);else break;_e=o(w)}}function L(oe){if(R=!1,O(oe),!S)if(o(k)!==null)S=!0,Ya($);else{var _e=o(w);_e!==null&&zn(L,_e.startTime-oe)}}function $(oe,_e){S=!1,R&&(R=!1,D(X),X=-1),E=!0;var N=C;try{for(O(_e),_=o(k);_!==null&&(!(_.expirationTime>_e)||oe&&!et());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,C=_.priorityLevel;var yt=Te(_.expirationTime<=_e);_e=r.unstable_now(),typeof yt=="function"?_.callback=yt:_===o(k)&&c(k),O(_e)}else c(k);_=o(k)}if(_!==null)var Mi=!0;else{var Yr=o(w);Yr!==null&&zn(L,Yr.startTime-_e),Mi=!1}return Mi}finally{_=null,C=N,E=!1}}var q=!1,Y=null,X=-1,ge=5,he=-1;function et(){return!(r.unstable_now()-he<ge)}function xn(){if(Y!==null){var oe=r.unstable_now();he=oe;var _e=!0;try{_e=Y(!0,oe)}finally{_e?Qe():(q=!1,Y=null)}}else q=!1}var Qe;if(typeof P=="function")Qe=function(){P(xn)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Gt=ut.port2;ut.port1.onmessage=xn,Qe=function(){Gt.postMessage(null)}}else Qe=function(){B(xn,0)};function Ya(oe){Y=oe,q||(q=!0,Qe())}function zn(oe,_e){X=B(function(){oe(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){S||E||(S=!0,Ya($))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return o(k)},r.unstable_next=function(oe){switch(C){case 1:case 2:case 3:var _e=3;break;default:_e=C}var N=C;C=_e;try{return oe()}finally{C=N}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,_e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var N=C;C=oe;try{return _e()}finally{C=N}},r.unstable_scheduleCallback=function(oe,_e,N){var Te=r.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?Te+N:Te):N=Te,oe){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=N+yt,oe={id:A++,callback:_e,priorityLevel:oe,startTime:N,expirationTime:yt,sortIndex:-1},N>Te?(oe.sortIndex=N,t(w,oe),o(k)===null&&oe===o(w)&&(R?(D(X),X=-1):R=!0,zn(L,N-Te))):(oe.sortIndex=yt,t(k,oe),S||E||(S=!0,Ya($))),oe},r.unstable_shouldYield=et,r.unstable_wrapCallback=function(oe){var _e=C;return function(){var N=C;C=_e;try{return oe.apply(this,arguments)}finally{C=N}}}})(p4);f4.exports=p4;var tX=f4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4=J,yr=tX;function te(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m4=new Set,Od={};function Ha(r,t){dl(r,t),dl(r+"Capture",t)}function dl(r,t){for(Od[r]=t,r=0;r<t.length;r++)m4.add(t[r])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rA=Object.prototype.hasOwnProperty,nX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pI={},gI={};function rX(r){return rA.call(gI,r)?!0:rA.call(pI,r)?!1:nX.test(r)?gI[r]=!0:(pI[r]=!0,!1)}function oX(r,t,o,c){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function iX(r,t,o,c){if(t===null||typeof t>"u"||oX(r,t,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(r,t,o,c,u,d,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=r,this.type=t,this.sanitizeURL=d,this.removeEmptyString=f}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){En[r]=new Jn(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];En[t]=new Jn(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){En[r]=new Jn(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){En[r]=new Jn(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){En[r]=new Jn(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){En[r]=new Jn(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){En[r]=new Jn(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){En[r]=new Jn(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){En[r]=new Jn(r,5,!1,r.toLowerCase(),null,!1,!1)});var MC=/[\-:]([a-z])/g;function VC(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(MC,VC);En[t]=new Jn(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(MC,VC);En[t]=new Jn(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(MC,VC);En[t]=new Jn(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){En[r]=new Jn(r,1,!1,r.toLowerCase(),null,!1,!1)});En.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){En[r]=new Jn(r,1,!1,r.toLowerCase(),null,!0,!0)});function LC(r,t,o,c){var u=En.hasOwnProperty(t)?En[t]:null;(u!==null?u.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iX(t,o,u,c)&&(o=null),c||u===null?rX(t)&&(o===null?r.removeAttribute(t):r.setAttribute(t,""+o)):u.mustUseProperty?r[u.propertyName]=o===null?u.type===3?!1:"":o:(t=u.attributeName,c=u.attributeNamespace,o===null?r.removeAttribute(t):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,c?r.setAttributeNS(c,t,o):r.setAttribute(t,o))))}var Oi=g4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lp=Symbol.for("react.element"),Fc=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),FC=Symbol.for("react.strict_mode"),oA=Symbol.for("react.profiler"),k4=Symbol.for("react.provider"),b4=Symbol.for("react.context"),zC=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),sA=Symbol.for("react.suspense_list"),jC=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),w4=Symbol.for("react.offscreen"),mI=Symbol.iterator;function Ku(r){return r===null||typeof r!="object"?null:(r=mI&&r[mI]||r["@@iterator"],typeof r=="function"?r:null)}var Dt=Object.assign,c0;function sd(r){if(c0===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);c0=t&&t[1]||""}return`
`+c0+r}var l0=!1;function u0(r,t){if(!r||l0)return"";l0=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var c=w}Reflect.construct(r,[],t)}else{try{t.call()}catch(w){c=w}r.call(t.prototype)}else{try{throw Error()}catch(w){c=w}r()}}catch(w){if(w&&c&&typeof w.stack=="string"){for(var u=w.stack.split(`
`),d=c.stack.split(`
`),f=u.length-1,m=d.length-1;1<=f&&0<=m&&u[f]!==d[m];)m--;for(;1<=f&&0<=m;f--,m--)if(u[f]!==d[m]){if(f!==1||m!==1)do if(f--,m--,0>m||u[f]!==d[m]){var k=`
`+u[f].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=f&&0<=m);break}}}finally{l0=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?sd(r):""}function sX(r){switch(r.tag){case 5:return sd(r.type);case 16:return sd("Lazy");case 13:return sd("Suspense");case 19:return sd("SuspenseList");case 0:case 2:case 15:return r=u0(r.type,!1),r;case 11:return r=u0(r.type.render,!1),r;case 1:return r=u0(r.type,!0),r;default:return""}}function aA(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case zc:return"Fragment";case Fc:return"Portal";case oA:return"Profiler";case FC:return"StrictMode";case iA:return"Suspense";case sA:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b4:return(r.displayName||"Context")+".Consumer";case k4:return(r._context.displayName||"Context")+".Provider";case zC:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case jC:return t=r.displayName||null,t!==null?t:aA(r.type)||"Memo";case ns:t=r._payload,r=r._init;try{return aA(r(t))}catch{}}return null}function aX(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aA(t);case 8:return t===FC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _4(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cX(r){var t=_4(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),c=""+r[t];if(!r.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,d=o.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return u.call(this)},set:function(f){c=""+f,d.call(this,f)}}),Object.defineProperty(r,t,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(f){c=""+f},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function Fp(r){r._valueTracker||(r._valueTracker=cX(r))}function v4(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var o=t.getValue(),c="";return r&&(c=_4(r)?r.checked?"true":"false":r.value),r=c,r!==o?(t.setValue(r),!0):!1}function Rg(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function cA(r,t){var o=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function kI(r,t){var o=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;o=Ts(t.value!=null?t.value:o),r._wrapperState={initialChecked:c,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A4(r,t){t=t.checked,t!=null&&LC(r,"checked",t,!1)}function lA(r,t){A4(r,t);var o=Ts(t.value),c=t.type;if(o!=null)c==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?uA(r,t.type,o):t.hasOwnProperty("defaultValue")&&uA(r,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function bI(r,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,o||t===r.value||(r.value=t),r.defaultValue=t}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function uA(r,t,o){(t!=="number"||Rg(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var ad=Array.isArray;function el(r,t,o,c){if(r=r.options,t){t={};for(var u=0;u<o.length;u++)t["$"+o[u]]=!0;for(o=0;o<r.length;o++)u=t.hasOwnProperty("$"+r[o].value),r[o].selected!==u&&(r[o].selected=u),u&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Ts(o),t=null,u=0;u<r.length;u++){if(r[u].value===o){r[u].selected=!0,c&&(r[u].defaultSelected=!0);return}t!==null||r[u].disabled||(t=r[u])}t!==null&&(t.selected=!0)}}function dA(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wI(r,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(te(92));if(ad(o)){if(1<o.length)throw Error(te(93));o=o[0]}t=o}t==null&&(t=""),o=t}r._wrapperState={initialValue:Ts(o)}}function C4(r,t){var o=Ts(t.value),c=Ts(t.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),t.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),c!=null&&(r.defaultValue=""+c)}function _I(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function y4(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hA(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?y4(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var zp,E4=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,c,u){MSApp.execUnsafeLocalFunction(function(){return r(t,o,c,u)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(zp=zp||document.createElement("div"),zp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zp.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function Nd(r,t){if(t){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=t;return}}r.textContent=t}var kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lX=["Webkit","ms","Moz","O"];Object.keys(kd).forEach(function(r){lX.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),kd[t]=kd[r]})});function x4(r,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||kd.hasOwnProperty(r)&&kd[r]?(""+t).trim():t+"px"}function T4(r,t){r=r.style;for(var o in t)if(t.hasOwnProperty(o)){var c=o.indexOf("--")===0,u=x4(o,t[o],c);o==="float"&&(o="cssFloat"),c?r.setProperty(o,u):r[o]=u}}var uX=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fA(r,t){if(t){if(uX[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function pA(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gA=null;function UC(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mA=null,tl=null,nl=null;function vI(r){if(r=_h(r)){if(typeof mA!="function")throw Error(te(280));var t=r.stateNode;t&&(t=Om(t),mA(r.stateNode,r.type,t))}}function S4(r){tl?nl?nl.push(r):nl=[r]:tl=r}function D4(){if(tl){var r=tl,t=nl;if(nl=tl=null,vI(r),t)for(r=0;r<t.length;r++)vI(t[r])}}function I4(r,t){return r(t)}function P4(){}var d0=!1;function R4(r,t,o){if(d0)return r(t,o);d0=!0;try{return I4(r,t,o)}finally{d0=!1,(tl!==null||nl!==null)&&(P4(),D4())}}function Md(r,t){var o=r.stateNode;if(o===null)return null;var c=Om(o);if(c===null)return null;o=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(te(231,t,typeof o));return o}var kA=!1;if(Ti)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){kA=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{kA=!1}function dX(r,t,o,c,u,d,f,m,k){var w=Array.prototype.slice.call(arguments,3);try{t.apply(o,w)}catch(A){this.onError(A)}}var bd=!1,Bg=null,Og=!1,bA=null,hX={onError:function(r){bd=!0,Bg=r}};function fX(r,t,o,c,u,d,f,m,k){bd=!1,Bg=null,dX.apply(hX,arguments)}function pX(r,t,o,c,u,d,f,m,k){if(fX.apply(this,arguments),bd){if(bd){var w=Bg;bd=!1,Bg=null}else throw Error(te(198));Og||(Og=!0,bA=w)}}function qa(r){var t=r,o=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(o=t.return),r=t.return;while(r)}return t.tag===3?o:null}function B4(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function AI(r){if(qa(r)!==r)throw Error(te(188))}function gX(r){var t=r.alternate;if(!t){if(t=qa(r),t===null)throw Error(te(188));return t!==r?null:r}for(var o=r,c=t;;){var u=o.return;if(u===null)break;var d=u.alternate;if(d===null){if(c=u.return,c!==null){o=c;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===o)return AI(u),r;if(d===c)return AI(u),t;d=d.sibling}throw Error(te(188))}if(o.return!==c.return)o=u,c=d;else{for(var f=!1,m=u.child;m;){if(m===o){f=!0,o=u,c=d;break}if(m===c){f=!0,c=u,o=d;break}m=m.sibling}if(!f){for(m=d.child;m;){if(m===o){f=!0,o=d,c=u;break}if(m===c){f=!0,c=d,o=u;break}m=m.sibling}if(!f)throw Error(te(189))}}if(o.alternate!==c)throw Error(te(190))}if(o.tag!==3)throw Error(te(188));return o.stateNode.current===o?r:t}function O4(r){return r=gX(r),r!==null?N4(r):null}function N4(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=N4(r);if(t!==null)return t;r=r.sibling}return null}var M4=yr.unstable_scheduleCallback,CI=yr.unstable_cancelCallback,mX=yr.unstable_shouldYield,kX=yr.unstable_requestPaint,Lt=yr.unstable_now,bX=yr.unstable_getCurrentPriorityLevel,$C=yr.unstable_ImmediatePriority,V4=yr.unstable_UserBlockingPriority,Ng=yr.unstable_NormalPriority,wX=yr.unstable_LowPriority,L4=yr.unstable_IdlePriority,Im=null,Wo=null;function _X(r){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(Im,r,void 0,(r.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:CX,vX=Math.log,AX=Math.LN2;function CX(r){return r>>>=0,r===0?32:31-(vX(r)/AX|0)|0}var jp=64,Up=4194304;function cd(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Mg(r,t){var o=r.pendingLanes;if(o===0)return 0;var c=0,u=r.suspendedLanes,d=r.pingedLanes,f=o&268435455;if(f!==0){var m=f&~u;m!==0?c=cd(m):(d&=f,d!==0&&(c=cd(d)))}else f=o&~u,f!==0?c=cd(f):d!==0&&(c=cd(d));if(c===0)return 0;if(t!==0&&t!==c&&!(t&u)&&(u=c&-c,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if(c&4&&(c|=o&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=c;0<t;)o=31-ko(t),u=1<<o,c|=r[o],t&=~u;return c}function yX(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EX(r,t){for(var o=r.suspendedLanes,c=r.pingedLanes,u=r.expirationTimes,d=r.pendingLanes;0<d;){var f=31-ko(d),m=1<<f,k=u[f];k===-1?(!(m&o)||m&c)&&(u[f]=yX(m,t)):k<=t&&(r.expiredLanes|=m),d&=~m}}function wA(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function F4(){var r=jp;return jp<<=1,!(jp&4194240)&&(jp=64),r}function h0(r){for(var t=[],o=0;31>o;o++)t.push(r);return t}function bh(r,t,o){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-ko(t),r[t]=o}function xX(r,t){var o=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<o;){var u=31-ko(o),d=1<<u;t[u]=0,c[u]=-1,r[u]=-1,o&=~d}}function HC(r,t){var o=r.entangledLanes|=t;for(r=r.entanglements;o;){var c=31-ko(o),u=1<<c;u&t|r[c]&t&&(r[c]|=t),o&=~u}}var Ze=0;function z4(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var j4,qC,U4,$4,H4,_A=!1,$p=[],gs=null,ms=null,ks=null,Vd=new Map,Ld=new Map,os=[],TX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yI(r,t){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Vd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(t.pointerId)}}function Ju(r,t,o,c,u,d){return r===null||r.nativeEvent!==d?(r={blockedOn:t,domEventName:o,eventSystemFlags:c,nativeEvent:d,targetContainers:[u]},t!==null&&(t=_h(t),t!==null&&qC(t)),r):(r.eventSystemFlags|=c,t=r.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),r)}function SX(r,t,o,c,u){switch(t){case"focusin":return gs=Ju(gs,r,t,o,c,u),!0;case"dragenter":return ms=Ju(ms,r,t,o,c,u),!0;case"mouseover":return ks=Ju(ks,r,t,o,c,u),!0;case"pointerover":var d=u.pointerId;return Vd.set(d,Ju(Vd.get(d)||null,r,t,o,c,u)),!0;case"gotpointercapture":return d=u.pointerId,Ld.set(d,Ju(Ld.get(d)||null,r,t,o,c,u)),!0}return!1}function q4(r){var t=wa(r.target);if(t!==null){var o=qa(t);if(o!==null){if(t=o.tag,t===13){if(t=B4(o),t!==null){r.blockedOn=t,H4(r.priority,function(){U4(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pg(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var o=vA(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);gA=c,o.target.dispatchEvent(c),gA=null}else return t=_h(o),t!==null&&qC(t),r.blockedOn=o,!1;t.shift()}return!0}function EI(r,t,o){pg(r)&&o.delete(t)}function DX(){_A=!1,gs!==null&&pg(gs)&&(gs=null),ms!==null&&pg(ms)&&(ms=null),ks!==null&&pg(ks)&&(ks=null),Vd.forEach(EI),Ld.forEach(EI)}function Yu(r,t){r.blockedOn===t&&(r.blockedOn=null,_A||(_A=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,DX)))}function Fd(r){function t(u){return Yu(u,r)}if(0<$p.length){Yu($p[0],r);for(var o=1;o<$p.length;o++){var c=$p[o];c.blockedOn===r&&(c.blockedOn=null)}}for(gs!==null&&Yu(gs,r),ms!==null&&Yu(ms,r),ks!==null&&Yu(ks,r),Vd.forEach(t),Ld.forEach(t),o=0;o<os.length;o++)c=os[o],c.blockedOn===r&&(c.blockedOn=null);for(;0<os.length&&(o=os[0],o.blockedOn===null);)q4(o),o.blockedOn===null&&os.shift()}var rl=Oi.ReactCurrentBatchConfig,Vg=!0;function IX(r,t,o,c){var u=Ze,d=rl.transition;rl.transition=null;try{Ze=1,WC(r,t,o,c)}finally{Ze=u,rl.transition=d}}function PX(r,t,o,c){var u=Ze,d=rl.transition;rl.transition=null;try{Ze=4,WC(r,t,o,c)}finally{Ze=u,rl.transition=d}}function WC(r,t,o,c){if(Vg){var u=vA(r,t,o,c);if(u===null)A0(r,t,c,Lg,o),yI(r,c);else if(SX(u,r,t,o,c))c.stopPropagation();else if(yI(r,c),t&4&&-1<TX.indexOf(r)){for(;u!==null;){var d=_h(u);if(d!==null&&j4(d),d=vA(r,t,o,c),d===null&&A0(r,t,c,Lg,o),d===u)break;u=d}u!==null&&c.stopPropagation()}else A0(r,t,c,null,o)}}var Lg=null;function vA(r,t,o,c){if(Lg=null,r=UC(c),r=wa(r),r!==null)if(t=qa(r),t===null)r=null;else if(o=t.tag,o===13){if(r=B4(t),r!==null)return r;r=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return Lg=r,null}function W4(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bX()){case $C:return 1;case V4:return 4;case Ng:case wX:return 16;case L4:return 536870912;default:return 16}default:return 16}}var ds=null,GC=null,gg=null;function G4(){if(gg)return gg;var r,t=GC,o=t.length,c,u="value"in ds?ds.value:ds.textContent,d=u.length;for(r=0;r<o&&t[r]===u[r];r++);var f=o-r;for(c=1;c<=f&&t[o-c]===u[d-c];c++);return gg=u.slice(r,1<c?1-c:void 0)}function mg(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Hp(){return!0}function xI(){return!1}function Tr(r){function t(o,c,u,d,f){this._reactName=o,this._targetInst=u,this.type=c,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var m in r)r.hasOwnProperty(m)&&(o=r[m],this[m]=o?o(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hp:xI,this.isPropagationStopped=xI,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hp)},persist:function(){},isPersistent:Hp}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KC=Tr(Dl),wh=Dt({},Dl,{view:0,detail:0}),RX=Tr(wh),f0,p0,Zu,Pm=Dt({},wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QC,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zu&&(Zu&&r.type==="mousemove"?(f0=r.screenX-Zu.screenX,p0=r.screenY-Zu.screenY):p0=f0=0,Zu=r),f0)},movementY:function(r){return"movementY"in r?r.movementY:p0}}),TI=Tr(Pm),BX=Dt({},Pm,{dataTransfer:0}),OX=Tr(BX),NX=Dt({},wh,{relatedTarget:0}),g0=Tr(NX),MX=Dt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),VX=Tr(MX),LX=Dt({},Dl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),FX=Tr(LX),zX=Dt({},Dl,{data:0}),SI=Tr(zX),jX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HX(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=$X[r])?!!t[r]:!1}function QC(){return HX}var qX=Dt({},wh,{key:function(r){if(r.key){var t=jX[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=mg(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?UX[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QC,charCode:function(r){return r.type==="keypress"?mg(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mg(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),WX=Tr(qX),GX=Dt({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DI=Tr(GX),KX=Dt({},wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QC}),QX=Tr(KX),JX=Dt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YX=Tr(JX),ZX=Dt({},Pm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),XX=Tr(ZX),eee=[9,13,27,32],JC=Ti&&"CompositionEvent"in window,wd=null;Ti&&"documentMode"in document&&(wd=document.documentMode);var tee=Ti&&"TextEvent"in window&&!wd,K4=Ti&&(!JC||wd&&8<wd&&11>=wd),II=" ",PI=!1;function Q4(r,t){switch(r){case"keyup":return eee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J4(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jc=!1;function nee(r,t){switch(r){case"compositionend":return J4(t);case"keypress":return t.which!==32?null:(PI=!0,II);case"textInput":return r=t.data,r===II&&PI?null:r;default:return null}}function ree(r,t){if(jc)return r==="compositionend"||!JC&&Q4(r,t)?(r=G4(),gg=GC=ds=null,jc=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K4&&t.locale!=="ko"?null:t.data;default:return null}}var oee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!oee[r.type]:t==="textarea"}function Y4(r,t,o,c){S4(c),t=Fg(t,"onChange"),0<t.length&&(o=new KC("onChange","change",null,o,c),r.push({event:o,listeners:t}))}var _d=null,zd=null;function iee(r){cB(r,0)}function Rm(r){var t=Hc(r);if(v4(t))return r}function see(r,t){if(r==="change")return t}var Z4=!1;if(Ti){var m0;if(Ti){var k0="oninput"in document;if(!k0){var BI=document.createElement("div");BI.setAttribute("oninput","return;"),k0=typeof BI.oninput=="function"}m0=k0}else m0=!1;Z4=m0&&(!document.documentMode||9<document.documentMode)}function OI(){_d&&(_d.detachEvent("onpropertychange",X4),zd=_d=null)}function X4(r){if(r.propertyName==="value"&&Rm(zd)){var t=[];Y4(t,zd,r,UC(r)),R4(iee,t)}}function aee(r,t,o){r==="focusin"?(OI(),_d=t,zd=o,_d.attachEvent("onpropertychange",X4)):r==="focusout"&&OI()}function cee(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rm(zd)}function lee(r,t){if(r==="click")return Rm(t)}function uee(r,t){if(r==="input"||r==="change")return Rm(t)}function dee(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var wo=typeof Object.is=="function"?Object.is:dee;function jd(r,t){if(wo(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var o=Object.keys(r),c=Object.keys(t);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var u=o[c];if(!rA.call(t,u)||!wo(r[u],t[u]))return!1}return!0}function NI(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function MI(r,t){var o=NI(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=t&&c>=t)return{node:o,offset:t-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=NI(o)}}function eB(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?eB(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function tB(){for(var r=window,t=Rg();t instanceof r.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)r=t.contentWindow;else break;t=Rg(r.document)}return t}function YC(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function hee(r){var t=tB(),o=r.focusedElem,c=r.selectionRange;if(t!==o&&o&&o.ownerDocument&&eB(o.ownerDocument.documentElement,o)){if(c!==null&&YC(o)){if(t=c.start,r=c.end,r===void 0&&(r=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(r,o.value.length);else if(r=(t=o.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var u=o.textContent.length,d=Math.min(c.start,u);c=c.end===void 0?d:Math.min(c.end,u),!r.extend&&d>c&&(u=c,c=d,d=u),u=MI(o,d);var f=MI(o,c);u&&f&&(r.rangeCount!==1||r.anchorNode!==u.node||r.anchorOffset!==u.offset||r.focusNode!==f.node||r.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),r.removeAllRanges(),d>c?(r.addRange(t),r.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),r.addRange(t)))}}for(t=[],r=o;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)r=t[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fee=Ti&&"documentMode"in document&&11>=document.documentMode,Uc=null,AA=null,vd=null,CA=!1;function VI(r,t,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;CA||Uc==null||Uc!==Rg(c)||(c=Uc,"selectionStart"in c&&YC(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vd&&jd(vd,c)||(vd=c,c=Fg(AA,"onSelect"),0<c.length&&(t=new KC("onSelect","select",null,t,o),r.push({event:t,listeners:c}),t.target=Uc)))}function qp(r,t){var o={};return o[r.toLowerCase()]=t.toLowerCase(),o["Webkit"+r]="webkit"+t,o["Moz"+r]="moz"+t,o}var $c={animationend:qp("Animation","AnimationEnd"),animationiteration:qp("Animation","AnimationIteration"),animationstart:qp("Animation","AnimationStart"),transitionend:qp("Transition","TransitionEnd")},b0={},nB={};Ti&&(nB=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function Bm(r){if(b0[r])return b0[r];if(!$c[r])return r;var t=$c[r],o;for(o in t)if(t.hasOwnProperty(o)&&o in nB)return b0[r]=t[o];return r}var rB=Bm("animationend"),oB=Bm("animationiteration"),iB=Bm("animationstart"),sB=Bm("transitionend"),aB=new Map,LI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(r,t){aB.set(r,t),Ha(t,[r])}for(var w0=0;w0<LI.length;w0++){var _0=LI[w0],pee=_0.toLowerCase(),gee=_0[0].toUpperCase()+_0.slice(1);Bs(pee,"on"+gee)}Bs(rB,"onAnimationEnd");Bs(oB,"onAnimationIteration");Bs(iB,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(sB,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mee=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function FI(r,t,o){var c=r.type||"unknown-event";r.currentTarget=o,pX(c,t,void 0,r),r.currentTarget=null}function cB(r,t){t=(t&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],u=c.event;c=c.listeners;e:{var d=void 0;if(t)for(var f=c.length-1;0<=f;f--){var m=c[f],k=m.instance,w=m.currentTarget;if(m=m.listener,k!==d&&u.isPropagationStopped())break e;FI(u,m,w),d=k}else for(f=0;f<c.length;f++){if(m=c[f],k=m.instance,w=m.currentTarget,m=m.listener,k!==d&&u.isPropagationStopped())break e;FI(u,m,w),d=k}}}if(Og)throw r=bA,Og=!1,bA=null,r}function kt(r,t){var o=t[SA];o===void 0&&(o=t[SA]=new Set);var c=r+"__bubble";o.has(c)||(lB(t,r,2,!1),o.add(c))}function v0(r,t,o){var c=0;t&&(c|=4),lB(o,r,c,t)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function Ud(r){if(!r[Wp]){r[Wp]=!0,m4.forEach(function(o){o!=="selectionchange"&&(mee.has(o)||v0(o,!1,r),v0(o,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[Wp]||(t[Wp]=!0,v0("selectionchange",!1,t))}}function lB(r,t,o,c){switch(W4(t)){case 1:var u=IX;break;case 4:u=PX;break;default:u=WC}o=u.bind(null,t,o,r),u=void 0,!kA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),c?u!==void 0?r.addEventListener(t,o,{capture:!0,passive:u}):r.addEventListener(t,o,!0):u!==void 0?r.addEventListener(t,o,{passive:u}):r.addEventListener(t,o,!1)}function A0(r,t,o,c,u){var d=c;if(!(t&1)&&!(t&2)&&c!==null)e:for(;;){if(c===null)return;var f=c.tag;if(f===3||f===4){var m=c.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(f===4)for(f=c.return;f!==null;){var k=f.tag;if((k===3||k===4)&&(k=f.stateNode.containerInfo,k===u||k.nodeType===8&&k.parentNode===u))return;f=f.return}for(;m!==null;){if(f=wa(m),f===null)return;if(k=f.tag,k===5||k===6){c=d=f;continue e}m=m.parentNode}}c=c.return}R4(function(){var w=d,A=UC(o),_=[];e:{var C=aB.get(r);if(C!==void 0){var E=KC,S=r;switch(r){case"keypress":if(mg(o)===0)break e;case"keydown":case"keyup":E=WX;break;case"focusin":S="focus",E=g0;break;case"focusout":S="blur",E=g0;break;case"beforeblur":case"afterblur":E=g0;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=TI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=OX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=QX;break;case rB:case oB:case iB:E=VX;break;case sB:E=YX;break;case"scroll":E=RX;break;case"wheel":E=XX;break;case"copy":case"cut":case"paste":E=FX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=DI}var R=(t&4)!==0,B=!R&&r==="scroll",D=R?C!==null?C+"Capture":null:C;R=[];for(var P=w,O;P!==null;){O=P;var L=O.stateNode;if(O.tag===5&&L!==null&&(O=L,D!==null&&(L=Md(P,D),L!=null&&R.push($d(P,L,O)))),B)break;P=P.return}0<R.length&&(C=new E(C,S,null,o,A),_.push({event:C,listeners:R}))}}if(!(t&7)){e:{if(C=r==="mouseover"||r==="pointerover",E=r==="mouseout"||r==="pointerout",C&&o!==gA&&(S=o.relatedTarget||o.fromElement)&&(wa(S)||S[Si]))break e;if((E||C)&&(C=A.window===A?A:(C=A.ownerDocument)?C.defaultView||C.parentWindow:window,E?(S=o.relatedTarget||o.toElement,E=w,S=S?wa(S):null,S!==null&&(B=qa(S),S!==B||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=w),E!==S)){if(R=TI,L="onMouseLeave",D="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(R=DI,L="onPointerLeave",D="onPointerEnter",P="pointer"),B=E==null?C:Hc(E),O=S==null?C:Hc(S),C=new R(L,P+"leave",E,o,A),C.target=B,C.relatedTarget=O,L=null,wa(A)===w&&(R=new R(D,P+"enter",S,o,A),R.target=O,R.relatedTarget=B,L=R),B=L,E&&S)t:{for(R=E,D=S,P=0,O=R;O;O=Oc(O))P++;for(O=0,L=D;L;L=Oc(L))O++;for(;0<P-O;)R=Oc(R),P--;for(;0<O-P;)D=Oc(D),O--;for(;P--;){if(R===D||D!==null&&R===D.alternate)break t;R=Oc(R),D=Oc(D)}R=null}else R=null;E!==null&&zI(_,C,E,R,!1),S!==null&&B!==null&&zI(_,B,S,R,!0)}}e:{if(C=w?Hc(w):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var $=see;else if(RI(C))if(Z4)$=uee;else{$=cee;var q=aee}else(E=C.nodeName)&&E.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&($=lee);if($&&($=$(r,w))){Y4(_,$,o,A);break e}q&&q(r,C,w),r==="focusout"&&(q=C._wrapperState)&&q.controlled&&C.type==="number"&&uA(C,"number",C.value)}switch(q=w?Hc(w):window,r){case"focusin":(RI(q)||q.contentEditable==="true")&&(Uc=q,AA=w,vd=null);break;case"focusout":vd=AA=Uc=null;break;case"mousedown":CA=!0;break;case"contextmenu":case"mouseup":case"dragend":CA=!1,VI(_,o,A);break;case"selectionchange":if(fee)break;case"keydown":case"keyup":VI(_,o,A)}var Y;if(JC)e:{switch(r){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else jc?Q4(r,o)&&(X="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(X="onCompositionStart");X&&(K4&&o.locale!=="ko"&&(jc||X!=="onCompositionStart"?X==="onCompositionEnd"&&jc&&(Y=G4()):(ds=A,GC="value"in ds?ds.value:ds.textContent,jc=!0)),q=Fg(w,X),0<q.length&&(X=new SI(X,r,null,o,A),_.push({event:X,listeners:q}),Y?X.data=Y:(Y=J4(o),Y!==null&&(X.data=Y)))),(Y=tee?nee(r,o):ree(r,o))&&(w=Fg(w,"onBeforeInput"),0<w.length&&(A=new SI("onBeforeInput","beforeinput",null,o,A),_.push({event:A,listeners:w}),A.data=Y))}cB(_,t)})}function $d(r,t,o){return{instance:r,listener:t,currentTarget:o}}function Fg(r,t){for(var o=t+"Capture",c=[];r!==null;){var u=r,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Md(r,o),d!=null&&c.unshift($d(r,d,u)),d=Md(r,t),d!=null&&c.push($d(r,d,u))),r=r.return}return c}function Oc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zI(r,t,o,c,u){for(var d=t._reactName,f=[];o!==null&&o!==c;){var m=o,k=m.alternate,w=m.stateNode;if(k!==null&&k===c)break;m.tag===5&&w!==null&&(m=w,u?(k=Md(o,d),k!=null&&f.unshift($d(o,k,m))):u||(k=Md(o,d),k!=null&&f.push($d(o,k,m)))),o=o.return}f.length!==0&&r.push({event:t,listeners:f})}var kee=/\r\n?/g,bee=/\u0000|\uFFFD/g;function jI(r){return(typeof r=="string"?r:""+r).replace(kee,`
`).replace(bee,"")}function Gp(r,t,o){if(t=jI(t),jI(r)!==t&&o)throw Error(te(425))}function zg(){}var yA=null,EA=null;function xA(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var TA=typeof setTimeout=="function"?setTimeout:void 0,wee=typeof clearTimeout=="function"?clearTimeout:void 0,UI=typeof Promise=="function"?Promise:void 0,_ee=typeof queueMicrotask=="function"?queueMicrotask:typeof UI<"u"?function(r){return UI.resolve(null).then(r).catch(vee)}:TA;function vee(r){setTimeout(function(){throw r})}function C0(r,t){var o=t,c=0;do{var u=o.nextSibling;if(r.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(c===0){r.removeChild(u),Fd(t);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=u}while(o);Fd(t)}function bs(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function $I(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return r;t--}else o==="/$"&&t++}r=r.previousSibling}return null}var Il=Math.random().toString(36).slice(2),jo="__reactFiber$"+Il,Hd="__reactProps$"+Il,Si="__reactContainer$"+Il,SA="__reactEvents$"+Il,Aee="__reactListeners$"+Il,Cee="__reactHandles$"+Il;function wa(r){var t=r[jo];if(t)return t;for(var o=r.parentNode;o;){if(t=o[Si]||o[jo]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(r=$I(r);r!==null;){if(o=r[jo])return o;r=$I(r)}return t}r=o,o=r.parentNode}return null}function _h(r){return r=r[jo]||r[Si],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Hc(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(te(33))}function Om(r){return r[Hd]||null}var DA=[],qc=-1;function Os(r){return{current:r}}function wt(r){0>qc||(r.current=DA[qc],DA[qc]=null,qc--)}function ht(r,t){qc++,DA[qc]=r.current,r.current=t}var Ss={},Ln=Os(Ss),ar=Os(!1),Pa=Ss;function hl(r,t){var o=r.type.contextTypes;if(!o)return Ss;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in o)u[d]=t[d];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=u),u}function cr(r){return r=r.childContextTypes,r!=null}function jg(){wt(ar),wt(Ln)}function HI(r,t,o){if(Ln.current!==Ss)throw Error(te(168));ht(Ln,t),ht(ar,o)}function uB(r,t,o){var c=r.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var u in c)if(!(u in t))throw Error(te(108,aX(r)||"Unknown",u));return Dt({},o,c)}function Ug(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ss,Pa=Ln.current,ht(Ln,r),ht(ar,ar.current),!0}function qI(r,t,o){var c=r.stateNode;if(!c)throw Error(te(169));o?(r=uB(r,t,Pa),c.__reactInternalMemoizedMergedChildContext=r,wt(ar),wt(Ln),ht(Ln,r)):wt(ar),ht(ar,o)}var wi=null,Nm=!1,y0=!1;function dB(r){wi===null?wi=[r]:wi.push(r)}function yee(r){Nm=!0,dB(r)}function Ns(){if(!y0&&wi!==null){y0=!0;var r=0,t=Ze;try{var o=wi;for(Ze=1;r<o.length;r++){var c=o[r];do c=c(!0);while(c!==null)}wi=null,Nm=!1}catch(u){throw wi!==null&&(wi=wi.slice(r+1)),M4($C,Ns),u}finally{Ze=t,y0=!1}}return null}var Wc=[],Gc=0,$g=null,Hg=0,Ur=[],$r=0,Ra=null,_i=1,vi="";function pa(r,t){Wc[Gc++]=Hg,Wc[Gc++]=$g,$g=r,Hg=t}function hB(r,t,o){Ur[$r++]=_i,Ur[$r++]=vi,Ur[$r++]=Ra,Ra=r;var c=_i;r=vi;var u=32-ko(c)-1;c&=~(1<<u),o+=1;var d=32-ko(t)+u;if(30<d){var f=u-u%5;d=(c&(1<<f)-1).toString(32),c>>=f,u-=f,_i=1<<32-ko(t)+u|o<<u|c,vi=d+r}else _i=1<<d|o<<u|c,vi=r}function ZC(r){r.return!==null&&(pa(r,1),hB(r,1,0))}function XC(r){for(;r===$g;)$g=Wc[--Gc],Wc[Gc]=null,Hg=Wc[--Gc],Wc[Gc]=null;for(;r===Ra;)Ra=Ur[--$r],Ur[$r]=null,vi=Ur[--$r],Ur[$r]=null,_i=Ur[--$r],Ur[$r]=null}var Cr=null,vr=null,At=!1,go=null;function fB(r,t){var o=Wr(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=r,t=r.deletions,t===null?(r.deletions=[o],r.flags|=16):t.push(o)}function WI(r,t){switch(r.tag){case 5:var o=r.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,Cr=r,vr=bs(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,Cr=r,vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=Ra!==null?{id:_i,overflow:vi}:null,r.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Wr(18,null,null,0),o.stateNode=t,o.return=r,r.child=o,Cr=r,vr=null,!0):!1;default:return!1}}function IA(r){return(r.mode&1)!==0&&(r.flags&128)===0}function PA(r){if(At){var t=vr;if(t){var o=t;if(!WI(r,t)){if(IA(r))throw Error(te(418));t=bs(o.nextSibling);var c=Cr;t&&WI(r,t)?fB(c,o):(r.flags=r.flags&-4097|2,At=!1,Cr=r)}}else{if(IA(r))throw Error(te(418));r.flags=r.flags&-4097|2,At=!1,Cr=r}}}function GI(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Cr=r}function Kp(r){if(r!==Cr)return!1;if(!At)return GI(r),At=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!xA(r.type,r.memoizedProps)),t&&(t=vr)){if(IA(r))throw pB(),Error(te(418));for(;t;)fB(r,t),t=bs(t.nextSibling)}if(GI(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(te(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(t===0){vr=bs(r.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}r=r.nextSibling}vr=null}}else vr=Cr?bs(r.stateNode.nextSibling):null;return!0}function pB(){for(var r=vr;r;)r=bs(r.nextSibling)}function fl(){vr=Cr=null,At=!1}function ey(r){go===null?go=[r]:go.push(r)}var Eee=Oi.ReactCurrentBatchConfig;function fo(r,t){if(r&&r.defaultProps){t=Dt({},t),r=r.defaultProps;for(var o in r)t[o]===void 0&&(t[o]=r[o]);return t}return t}var qg=Os(null),Wg=null,Kc=null,ty=null;function ny(){ty=Kc=Wg=null}function ry(r){var t=qg.current;wt(qg),r._currentValue=t}function RA(r,t,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),r===o)break;r=r.return}}function ol(r,t){Wg=r,ty=Kc=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(sr=!0),r.firstContext=null)}function Qr(r){var t=r._currentValue;if(ty!==r)if(r={context:r,memoizedValue:t,next:null},Kc===null){if(Wg===null)throw Error(te(308));Kc=r,Wg.dependencies={lanes:0,firstContext:r}}else Kc=Kc.next=r;return t}var _a=null;function oy(r){_a===null?_a=[r]:_a.push(r)}function gB(r,t,o,c){var u=t.interleaved;return u===null?(o.next=o,oy(t)):(o.next=u.next,u.next=o),t.interleaved=o,Di(r,c)}function Di(r,t){r.lanes|=t;var o=r.alternate;for(o!==null&&(o.lanes|=t),o=r,r=r.return;r!==null;)r.childLanes|=t,o=r.alternate,o!==null&&(o.childLanes|=t),o=r,r=r.return;return o.tag===3?o.stateNode:null}var rs=!1;function iy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mB(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ei(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(r,t,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,We&2){var u=c.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),c.pending=t,Di(r,o)}return u=c.interleaved,u===null?(t.next=t,oy(c)):(t.next=u.next,u.next=t),c.interleaved=t,Di(r,o)}function kg(r,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var c=t.lanes;c&=r.pendingLanes,o|=c,t.lanes=o,HC(r,o)}}function KI(r,t){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var u=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?u=d=f:d=d.next=f,o=o.next}while(o!==null);d===null?u=d=t:d=d.next=t}else u=d=t;o={baseState:c.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:c.shared,effects:c.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=t:r.next=t,o.lastBaseUpdate=t}function Gg(r,t,o,c){var u=r.updateQueue;rs=!1;var d=u.firstBaseUpdate,f=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var k=m,w=k.next;k.next=null,f===null?d=w:f.next=w,f=k;var A=r.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==f&&(m===null?A.firstBaseUpdate=w:m.next=w,A.lastBaseUpdate=k))}if(d!==null){var _=u.baseState;f=0,A=w=k=null,m=d;do{var C=m.lane,E=m.eventTime;if((c&C)===C){A!==null&&(A=A.next={eventTime:E,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=r,R=m;switch(C=t,E=o,R.tag){case 1:if(S=R.payload,typeof S=="function"){_=S.call(E,_,C);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,C=typeof S=="function"?S.call(E,_,C):S,C==null)break e;_=Dt({},_,C);break e;case 2:rs=!0}}m.callback!==null&&m.lane!==0&&(r.flags|=64,C=u.effects,C===null?u.effects=[m]:C.push(m))}else E={eventTime:E,lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(w=A=E,k=_):A=A.next=E,f|=C;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;C=m,m=C.next,C.next=null,u.lastBaseUpdate=C,u.shared.pending=null}}while(!0);if(A===null&&(k=_),u.baseState=k,u.firstBaseUpdate=w,u.lastBaseUpdate=A,t=u.shared.interleaved,t!==null){u=t;do f|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Oa|=f,r.lanes=f,r.memoizedState=_}}function QI(r,t,o){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var c=r[t],u=c.callback;if(u!==null){if(c.callback=null,c=o,typeof u!="function")throw Error(te(191,u));u.call(c)}}}var kB=new g4.Component().refs;function BA(r,t,o,c){t=r.memoizedState,o=o(c,t),o=o==null?t:Dt({},t,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Mm={isMounted:function(r){return(r=r._reactInternals)?qa(r)===r:!1},enqueueSetState:function(r,t,o){r=r._reactInternals;var c=Kn(),u=vs(r),d=Ei(c,u);d.payload=t,o!=null&&(d.callback=o),t=ws(r,d,u),t!==null&&(bo(t,r,u,c),kg(t,r,u))},enqueueReplaceState:function(r,t,o){r=r._reactInternals;var c=Kn(),u=vs(r),d=Ei(c,u);d.tag=1,d.payload=t,o!=null&&(d.callback=o),t=ws(r,d,u),t!==null&&(bo(t,r,u,c),kg(t,r,u))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var o=Kn(),c=vs(r),u=Ei(o,c);u.tag=2,t!=null&&(u.callback=t),t=ws(r,u,c),t!==null&&(bo(t,r,c,o),kg(t,r,c))}};function JI(r,t,o,c,u,d,f){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,d,f):t.prototype&&t.prototype.isPureReactComponent?!jd(o,c)||!jd(u,d):!0}function bB(r,t,o){var c=!1,u=Ss,d=t.contextType;return typeof d=="object"&&d!==null?d=Qr(d):(u=cr(t)?Pa:Ln.current,c=t.contextTypes,d=(c=c!=null)?hl(r,u):Ss),t=new t(o,d),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mm,r.stateNode=t,t._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=u,r.__reactInternalMemoizedMaskedChildContext=d),t}function YI(r,t,o,c){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,c),t.state!==r&&Mm.enqueueReplaceState(t,t.state,null)}function OA(r,t,o,c){var u=r.stateNode;u.props=o,u.state=r.memoizedState,u.refs=kB,iy(r);var d=t.contextType;typeof d=="object"&&d!==null?u.context=Qr(d):(d=cr(t)?Pa:Ln.current,u.context=hl(r,d)),u.state=r.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(BA(r,t,d,o),u.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Mm.enqueueReplaceState(u,u.state,null),Gg(r,o,u,c),u.state=r.memoizedState),typeof u.componentDidMount=="function"&&(r.flags|=4194308)}function Xu(r,t,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(te(309));var c=o.stateNode}if(!c)throw Error(te(147,r));var u=c,d=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(f){var m=u.refs;m===kB&&(m=u.refs={}),f===null?delete m[d]:m[d]=f},t._stringRef=d,t)}if(typeof r!="string")throw Error(te(284));if(!o._owner)throw Error(te(290,r))}return r}function Qp(r,t){throw r=Object.prototype.toString.call(t),Error(te(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function ZI(r){var t=r._init;return t(r._payload)}function wB(r){function t(D,P){if(r){var O=D.deletions;O===null?(D.deletions=[P],D.flags|=16):O.push(P)}}function o(D,P){if(!r)return null;for(;P!==null;)t(D,P),P=P.sibling;return null}function c(D,P){for(D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function u(D,P){return D=As(D,P),D.index=0,D.sibling=null,D}function d(D,P,O){return D.index=O,r?(O=D.alternate,O!==null?(O=O.index,O<P?(D.flags|=2,P):O):(D.flags|=2,P)):(D.flags|=1048576,P)}function f(D){return r&&D.alternate===null&&(D.flags|=2),D}function m(D,P,O,L){return P===null||P.tag!==6?(P=P0(O,D.mode,L),P.return=D,P):(P=u(P,O),P.return=D,P)}function k(D,P,O,L){var $=O.type;return $===zc?A(D,P,O.props.children,L,O.key):P!==null&&(P.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ns&&ZI($)===P.type)?(L=u(P,O.props),L.ref=Xu(D,P,O),L.return=D,L):(L=Cg(O.type,O.key,O.props,null,D.mode,L),L.ref=Xu(D,P,O),L.return=D,L)}function w(D,P,O,L){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=R0(O,D.mode,L),P.return=D,P):(P=u(P,O.children||[]),P.return=D,P)}function A(D,P,O,L,$){return P===null||P.tag!==7?(P=Ta(O,D.mode,L,$),P.return=D,P):(P=u(P,O),P.return=D,P)}function _(D,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return P=P0(""+P,D.mode,O),P.return=D,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Lp:return O=Cg(P.type,P.key,P.props,null,D.mode,O),O.ref=Xu(D,null,P),O.return=D,O;case Fc:return P=R0(P,D.mode,O),P.return=D,P;case ns:var L=P._init;return _(D,L(P._payload),O)}if(ad(P)||Ku(P))return P=Ta(P,D.mode,O,null),P.return=D,P;Qp(D,P)}return null}function C(D,P,O,L){var $=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return $!==null?null:m(D,P,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Lp:return O.key===$?k(D,P,O,L):null;case Fc:return O.key===$?w(D,P,O,L):null;case ns:return $=O._init,C(D,P,$(O._payload),L)}if(ad(O)||Ku(O))return $!==null?null:A(D,P,O,L,null);Qp(D,O)}return null}function E(D,P,O,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return D=D.get(O)||null,m(P,D,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Lp:return D=D.get(L.key===null?O:L.key)||null,k(P,D,L,$);case Fc:return D=D.get(L.key===null?O:L.key)||null,w(P,D,L,$);case ns:var q=L._init;return E(D,P,O,q(L._payload),$)}if(ad(L)||Ku(L))return D=D.get(O)||null,A(P,D,L,$,null);Qp(P,L)}return null}function S(D,P,O,L){for(var $=null,q=null,Y=P,X=P=0,ge=null;Y!==null&&X<O.length;X++){Y.index>X?(ge=Y,Y=null):ge=Y.sibling;var he=C(D,Y,O[X],L);if(he===null){Y===null&&(Y=ge);break}r&&Y&&he.alternate===null&&t(D,Y),P=d(he,P,X),q===null?$=he:q.sibling=he,q=he,Y=ge}if(X===O.length)return o(D,Y),At&&pa(D,X),$;if(Y===null){for(;X<O.length;X++)Y=_(D,O[X],L),Y!==null&&(P=d(Y,P,X),q===null?$=Y:q.sibling=Y,q=Y);return At&&pa(D,X),$}for(Y=c(D,Y);X<O.length;X++)ge=E(Y,D,X,O[X],L),ge!==null&&(r&&ge.alternate!==null&&Y.delete(ge.key===null?X:ge.key),P=d(ge,P,X),q===null?$=ge:q.sibling=ge,q=ge);return r&&Y.forEach(function(et){return t(D,et)}),At&&pa(D,X),$}function R(D,P,O,L){var $=Ku(O);if(typeof $!="function")throw Error(te(150));if(O=$.call(O),O==null)throw Error(te(151));for(var q=$=null,Y=P,X=P=0,ge=null,he=O.next();Y!==null&&!he.done;X++,he=O.next()){Y.index>X?(ge=Y,Y=null):ge=Y.sibling;var et=C(D,Y,he.value,L);if(et===null){Y===null&&(Y=ge);break}r&&Y&&et.alternate===null&&t(D,Y),P=d(et,P,X),q===null?$=et:q.sibling=et,q=et,Y=ge}if(he.done)return o(D,Y),At&&pa(D,X),$;if(Y===null){for(;!he.done;X++,he=O.next())he=_(D,he.value,L),he!==null&&(P=d(he,P,X),q===null?$=he:q.sibling=he,q=he);return At&&pa(D,X),$}for(Y=c(D,Y);!he.done;X++,he=O.next())he=E(Y,D,X,he.value,L),he!==null&&(r&&he.alternate!==null&&Y.delete(he.key===null?X:he.key),P=d(he,P,X),q===null?$=he:q.sibling=he,q=he);return r&&Y.forEach(function(xn){return t(D,xn)}),At&&pa(D,X),$}function B(D,P,O,L){if(typeof O=="object"&&O!==null&&O.type===zc&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Lp:e:{for(var $=O.key,q=P;q!==null;){if(q.key===$){if($=O.type,$===zc){if(q.tag===7){o(D,q.sibling),P=u(q,O.props.children),P.return=D,D=P;break e}}else if(q.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ns&&ZI($)===q.type){o(D,q.sibling),P=u(q,O.props),P.ref=Xu(D,q,O),P.return=D,D=P;break e}o(D,q);break}else t(D,q);q=q.sibling}O.type===zc?(P=Ta(O.props.children,D.mode,L,O.key),P.return=D,D=P):(L=Cg(O.type,O.key,O.props,null,D.mode,L),L.ref=Xu(D,P,O),L.return=D,D=L)}return f(D);case Fc:e:{for(q=O.key;P!==null;){if(P.key===q)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){o(D,P.sibling),P=u(P,O.children||[]),P.return=D,D=P;break e}else{o(D,P);break}else t(D,P);P=P.sibling}P=R0(O,D.mode,L),P.return=D,D=P}return f(D);case ns:return q=O._init,B(D,P,q(O._payload),L)}if(ad(O))return S(D,P,O,L);if(Ku(O))return R(D,P,O,L);Qp(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,P!==null&&P.tag===6?(o(D,P.sibling),P=u(P,O),P.return=D,D=P):(o(D,P),P=P0(O,D.mode,L),P.return=D,D=P),f(D)):o(D,P)}return B}var pl=wB(!0),_B=wB(!1),vh={},Go=Os(vh),qd=Os(vh),Wd=Os(vh);function va(r){if(r===vh)throw Error(te(174));return r}function sy(r,t){switch(ht(Wd,t),ht(qd,r),ht(Go,vh),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hA(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=hA(t,r)}wt(Go),ht(Go,t)}function gl(){wt(Go),wt(qd),wt(Wd)}function vB(r){va(Wd.current);var t=va(Go.current),o=hA(t,r.type);t!==o&&(ht(qd,r),ht(Go,o))}function ay(r){qd.current===r&&(wt(Go),wt(qd))}var xt=Os(0);function Kg(r){for(var t=r;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var E0=[];function cy(){for(var r=0;r<E0.length;r++)E0[r]._workInProgressVersionPrimary=null;E0.length=0}var bg=Oi.ReactCurrentDispatcher,x0=Oi.ReactCurrentBatchConfig,Ba=0,Tt=null,Qt=null,sn=null,Qg=!1,Ad=!1,Gd=0,xee=0;function Dn(){throw Error(te(321))}function ly(r,t){if(t===null)return!1;for(var o=0;o<t.length&&o<r.length;o++)if(!wo(r[o],t[o]))return!1;return!0}function uy(r,t,o,c,u,d){if(Ba=d,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bg.current=r===null||r.memoizedState===null?Iee:Pee,r=o(c,u),Ad){d=0;do{if(Ad=!1,Gd=0,25<=d)throw Error(te(301));d+=1,sn=Qt=null,t.updateQueue=null,bg.current=Ree,r=o(c,u)}while(Ad)}if(bg.current=Jg,t=Qt!==null&&Qt.next!==null,Ba=0,sn=Qt=Tt=null,Qg=!1,t)throw Error(te(300));return r}function dy(){var r=Gd!==0;return Gd=0,r}function zo(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Tt.memoizedState=sn=r:sn=sn.next=r,sn}function Jr(){if(Qt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Qt.next;var t=sn===null?Tt.memoizedState:sn.next;if(t!==null)sn=t,Qt=r;else{if(r===null)throw Error(te(310));Qt=r,r={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},sn===null?Tt.memoizedState=sn=r:sn=sn.next=r}return sn}function Kd(r,t){return typeof t=="function"?t(r):t}function T0(r){var t=Jr(),o=t.queue;if(o===null)throw Error(te(311));o.lastRenderedReducer=r;var c=Qt,u=c.baseQueue,d=o.pending;if(d!==null){if(u!==null){var f=u.next;u.next=d.next,d.next=f}c.baseQueue=u=d,o.pending=null}if(u!==null){d=u.next,c=c.baseState;var m=f=null,k=null,w=d;do{var A=w.lane;if((Ba&A)===A)k!==null&&(k=k.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),c=w.hasEagerState?w.eagerState:r(c,w.action);else{var _={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};k===null?(m=k=_,f=c):k=k.next=_,Tt.lanes|=A,Oa|=A}w=w.next}while(w!==null&&w!==d);k===null?f=c:k.next=m,wo(c,t.memoizedState)||(sr=!0),t.memoizedState=c,t.baseState=f,t.baseQueue=k,o.lastRenderedState=c}if(r=o.interleaved,r!==null){u=r;do d=u.lane,Tt.lanes|=d,Oa|=d,u=u.next;while(u!==r)}else u===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function S0(r){var t=Jr(),o=t.queue;if(o===null)throw Error(te(311));o.lastRenderedReducer=r;var c=o.dispatch,u=o.pending,d=t.memoizedState;if(u!==null){o.pending=null;var f=u=u.next;do d=r(d,f.action),f=f.next;while(f!==u);wo(d,t.memoizedState)||(sr=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),o.lastRenderedState=d}return[d,c]}function AB(){}function CB(r,t){var o=Tt,c=Jr(),u=t(),d=!wo(c.memoizedState,u);if(d&&(c.memoizedState=u,sr=!0),c=c.queue,hy(xB.bind(null,o,c,r),[r]),c.getSnapshot!==t||d||sn!==null&&sn.memoizedState.tag&1){if(o.flags|=2048,Qd(9,EB.bind(null,o,c,u,t),void 0,null),an===null)throw Error(te(349));Ba&30||yB(o,t,u)}return u}function yB(r,t,o){r.flags|=16384,r={getSnapshot:t,value:o},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[r]):(o=t.stores,o===null?t.stores=[r]:o.push(r))}function EB(r,t,o,c){t.value=o,t.getSnapshot=c,TB(t)&&SB(r)}function xB(r,t,o){return o(function(){TB(t)&&SB(r)})}function TB(r){var t=r.getSnapshot;r=r.value;try{var o=t();return!wo(r,o)}catch{return!0}}function SB(r){var t=Di(r,1);t!==null&&bo(t,r,1,-1)}function XI(r){var t=zo();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:r},t.queue=r,r=r.dispatch=Dee.bind(null,Tt,r),[t.memoizedState,r]}function Qd(r,t,o,c){return r={tag:r,create:t,destroy:o,deps:c,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=r.next=r):(o=t.lastEffect,o===null?t.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,t.lastEffect=r)),r}function DB(){return Jr().memoizedState}function wg(r,t,o,c){var u=zo();Tt.flags|=r,u.memoizedState=Qd(1|t,o,void 0,c===void 0?null:c)}function Vm(r,t,o,c){var u=Jr();c=c===void 0?null:c;var d=void 0;if(Qt!==null){var f=Qt.memoizedState;if(d=f.destroy,c!==null&&ly(c,f.deps)){u.memoizedState=Qd(t,o,d,c);return}}Tt.flags|=r,u.memoizedState=Qd(1|t,o,d,c)}function eP(r,t){return wg(8390656,8,r,t)}function hy(r,t){return Vm(2048,8,r,t)}function IB(r,t){return Vm(4,2,r,t)}function PB(r,t){return Vm(4,4,r,t)}function RB(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function BB(r,t,o){return o=o!=null?o.concat([r]):null,Vm(4,4,RB.bind(null,t,r),o)}function fy(){}function OB(r,t){var o=Jr();t=t===void 0?null:t;var c=o.memoizedState;return c!==null&&t!==null&&ly(t,c[1])?c[0]:(o.memoizedState=[r,t],r)}function NB(r,t){var o=Jr();t=t===void 0?null:t;var c=o.memoizedState;return c!==null&&t!==null&&ly(t,c[1])?c[0]:(r=r(),o.memoizedState=[r,t],r)}function MB(r,t,o){return Ba&21?(wo(o,t)||(o=F4(),Tt.lanes|=o,Oa|=o,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,sr=!0),r.memoizedState=o)}function Tee(r,t){var o=Ze;Ze=o!==0&&4>o?o:4,r(!0);var c=x0.transition;x0.transition={};try{r(!1),t()}finally{Ze=o,x0.transition=c}}function VB(){return Jr().memoizedState}function See(r,t,o){var c=vs(r);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},LB(r))FB(t,o);else if(o=gB(r,t,o,c),o!==null){var u=Kn();bo(o,r,c,u),zB(o,t,c)}}function Dee(r,t,o){var c=vs(r),u={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(LB(r))FB(t,u);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var f=t.lastRenderedState,m=d(f,o);if(u.hasEagerState=!0,u.eagerState=m,wo(m,f)){var k=t.interleaved;k===null?(u.next=u,oy(t)):(u.next=k.next,k.next=u),t.interleaved=u;return}}catch{}finally{}o=gB(r,t,u,c),o!==null&&(u=Kn(),bo(o,r,c,u),zB(o,t,c))}}function LB(r){var t=r.alternate;return r===Tt||t!==null&&t===Tt}function FB(r,t){Ad=Qg=!0;var o=r.pending;o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t}function zB(r,t,o){if(o&4194240){var c=t.lanes;c&=r.pendingLanes,o|=c,t.lanes=o,HC(r,o)}}var Jg={readContext:Qr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},Iee={readContext:Qr,useCallback:function(r,t){return zo().memoizedState=[r,t===void 0?null:t],r},useContext:Qr,useEffect:eP,useImperativeHandle:function(r,t,o){return o=o!=null?o.concat([r]):null,wg(4194308,4,RB.bind(null,t,r),o)},useLayoutEffect:function(r,t){return wg(4194308,4,r,t)},useInsertionEffect:function(r,t){return wg(4,2,r,t)},useMemo:function(r,t){var o=zo();return t=t===void 0?null:t,r=r(),o.memoizedState=[r,t],r},useReducer:function(r,t,o){var c=zo();return t=o!==void 0?o(t):t,c.memoizedState=c.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},c.queue=r,r=r.dispatch=See.bind(null,Tt,r),[c.memoizedState,r]},useRef:function(r){var t=zo();return r={current:r},t.memoizedState=r},useState:XI,useDebugValue:fy,useDeferredValue:function(r){return zo().memoizedState=r},useTransition:function(){var r=XI(!1),t=r[0];return r=Tee.bind(null,r[1]),zo().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,o){var c=Tt,u=zo();if(At){if(o===void 0)throw Error(te(407));o=o()}else{if(o=t(),an===null)throw Error(te(349));Ba&30||yB(c,t,o)}u.memoizedState=o;var d={value:o,getSnapshot:t};return u.queue=d,eP(xB.bind(null,c,d,r),[r]),c.flags|=2048,Qd(9,EB.bind(null,c,d,o,t),void 0,null),o},useId:function(){var r=zo(),t=an.identifierPrefix;if(At){var o=vi,c=_i;o=(c&~(1<<32-ko(c)-1)).toString(32)+o,t=":"+t+"R"+o,o=Gd++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=xee++,t=":"+t+"r"+o.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},Pee={readContext:Qr,useCallback:OB,useContext:Qr,useEffect:hy,useImperativeHandle:BB,useInsertionEffect:IB,useLayoutEffect:PB,useMemo:NB,useReducer:T0,useRef:DB,useState:function(){return T0(Kd)},useDebugValue:fy,useDeferredValue:function(r){var t=Jr();return MB(t,Qt.memoizedState,r)},useTransition:function(){var r=T0(Kd)[0],t=Jr().memoizedState;return[r,t]},useMutableSource:AB,useSyncExternalStore:CB,useId:VB,unstable_isNewReconciler:!1},Ree={readContext:Qr,useCallback:OB,useContext:Qr,useEffect:hy,useImperativeHandle:BB,useInsertionEffect:IB,useLayoutEffect:PB,useMemo:NB,useReducer:S0,useRef:DB,useState:function(){return S0(Kd)},useDebugValue:fy,useDeferredValue:function(r){var t=Jr();return Qt===null?t.memoizedState=r:MB(t,Qt.memoizedState,r)},useTransition:function(){var r=S0(Kd)[0],t=Jr().memoizedState;return[r,t]},useMutableSource:AB,useSyncExternalStore:CB,useId:VB,unstable_isNewReconciler:!1};function ml(r,t){try{var o="",c=t;do o+=sX(c),c=c.return;while(c);var u=o}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:r,source:t,stack:u,digest:null}}function D0(r,t,o){return{value:r,source:null,stack:o??null,digest:t??null}}function NA(r,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var Bee=typeof WeakMap=="function"?WeakMap:Map;function jB(r,t,o){o=Ei(-1,o),o.tag=3,o.payload={element:null};var c=t.value;return o.callback=function(){Zg||(Zg=!0,qA=c),NA(r,t)},o}function UB(r,t,o){o=Ei(-1,o),o.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var u=t.value;o.payload=function(){return c(u)},o.callback=function(){NA(r,t)}}var d=r.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){NA(r,t),typeof c!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),o}function tP(r,t,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Bee;var u=new Set;c.set(t,u)}else u=c.get(t),u===void 0&&(u=new Set,c.set(t,u));u.has(o)||(u.add(o),r=Gee.bind(null,r,t,o),t.then(r,r))}function nP(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function rP(r,t,o,c,u){return r.mode&1?(r.flags|=65536,r.lanes=u,r):(r===t?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=Ei(-1,1),t.tag=2,ws(o,t,1))),o.lanes|=1),r)}var Oee=Oi.ReactCurrentOwner,sr=!1;function Wn(r,t,o,c){t.child=r===null?_B(t,null,o,c):pl(t,r.child,o,c)}function oP(r,t,o,c,u){o=o.render;var d=t.ref;return ol(t,u),c=uy(r,t,o,c,d,u),o=dy(),r!==null&&!sr?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~u,Ii(r,t,u)):(At&&o&&ZC(t),t.flags|=1,Wn(r,t,c,u),t.child)}function iP(r,t,o,c,u){if(r===null){var d=o.type;return typeof d=="function"&&!vy(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=d,$B(r,t,d,c,u)):(r=Cg(o.type,null,c,t,t.mode,u),r.ref=t.ref,r.return=t,t.child=r)}if(d=r.child,!(r.lanes&u)){var f=d.memoizedProps;if(o=o.compare,o=o!==null?o:jd,o(f,c)&&r.ref===t.ref)return Ii(r,t,u)}return t.flags|=1,r=As(d,c),r.ref=t.ref,r.return=t,t.child=r}function $B(r,t,o,c,u){if(r!==null){var d=r.memoizedProps;if(jd(d,c)&&r.ref===t.ref)if(sr=!1,t.pendingProps=c=d,(r.lanes&u)!==0)r.flags&131072&&(sr=!0);else return t.lanes=r.lanes,Ii(r,t,u)}return MA(r,t,o,c,u)}function HB(r,t,o){var c=t.pendingProps,u=c.children,d=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Jc,_r),_r|=o;else{if(!(o&1073741824))return r=d!==null?d.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,ht(Jc,_r),_r|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=d!==null?d.baseLanes:o,ht(Jc,_r),_r|=c}else d!==null?(c=d.baseLanes|o,t.memoizedState=null):c=o,ht(Jc,_r),_r|=c;return Wn(r,t,u,o),t.child}function qB(r,t){var o=t.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function MA(r,t,o,c,u){var d=cr(o)?Pa:Ln.current;return d=hl(t,d),ol(t,u),o=uy(r,t,o,c,d,u),c=dy(),r!==null&&!sr?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~u,Ii(r,t,u)):(At&&c&&ZC(t),t.flags|=1,Wn(r,t,o,u),t.child)}function sP(r,t,o,c,u){if(cr(o)){var d=!0;Ug(t)}else d=!1;if(ol(t,u),t.stateNode===null)_g(r,t),bB(t,o,c),OA(t,o,c,u),c=!0;else if(r===null){var f=t.stateNode,m=t.memoizedProps;f.props=m;var k=f.context,w=o.contextType;typeof w=="object"&&w!==null?w=Qr(w):(w=cr(o)?Pa:Ln.current,w=hl(t,w));var A=o.getDerivedStateFromProps,_=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function";_||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==c||k!==w)&&YI(t,f,c,w),rs=!1;var C=t.memoizedState;f.state=C,Gg(t,c,f,u),k=t.memoizedState,m!==c||C!==k||ar.current||rs?(typeof A=="function"&&(BA(t,o,A,c),k=t.memoizedState),(m=rs||JI(t,o,m,c,C,k,w))?(_||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=k),f.props=c,f.state=k,f.context=w,c=m):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{f=t.stateNode,mB(r,t),m=t.memoizedProps,w=t.type===t.elementType?m:fo(t.type,m),f.props=w,_=t.pendingProps,C=f.context,k=o.contextType,typeof k=="object"&&k!==null?k=Qr(k):(k=cr(o)?Pa:Ln.current,k=hl(t,k));var E=o.getDerivedStateFromProps;(A=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==_||C!==k)&&YI(t,f,c,k),rs=!1,C=t.memoizedState,f.state=C,Gg(t,c,f,u);var S=t.memoizedState;m!==_||C!==S||ar.current||rs?(typeof E=="function"&&(BA(t,o,E,c),S=t.memoizedState),(w=rs||JI(t,o,w,c,C,S,k)||!1)?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(c,S,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(c,S,k)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===r.memoizedProps&&C===r.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===r.memoizedProps&&C===r.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=S),f.props=c,f.state=S,f.context=k,c=w):(typeof f.componentDidUpdate!="function"||m===r.memoizedProps&&C===r.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===r.memoizedProps&&C===r.memoizedState||(t.flags|=1024),c=!1)}return VA(r,t,o,c,d,u)}function VA(r,t,o,c,u,d){qB(r,t);var f=(t.flags&128)!==0;if(!c&&!f)return u&&qI(t,o,!1),Ii(r,t,d);c=t.stateNode,Oee.current=t;var m=f&&typeof o.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,r!==null&&f?(t.child=pl(t,r.child,null,d),t.child=pl(t,null,m,d)):Wn(r,t,m,d),t.memoizedState=c.state,u&&qI(t,o,!0),t.child}function WB(r){var t=r.stateNode;t.pendingContext?HI(r,t.pendingContext,t.pendingContext!==t.context):t.context&&HI(r,t.context,!1),sy(r,t.containerInfo)}function aP(r,t,o,c,u){return fl(),ey(u),t.flags|=256,Wn(r,t,o,c),t.child}var LA={dehydrated:null,treeContext:null,retryLane:0};function FA(r){return{baseLanes:r,cachePool:null,transitions:null}}function GB(r,t,o){var c=t.pendingProps,u=xt.current,d=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=r!==null&&r.memoizedState===null?!1:(u&2)!==0),m?(d=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(u|=1),ht(xt,u&1),r===null)return PA(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=c.children,r=c.fallback,d?(c=t.mode,d=t.child,f={mode:"hidden",children:f},!(c&1)&&d!==null?(d.childLanes=0,d.pendingProps=f):d=zm(f,c,0,null),r=Ta(r,c,o,null),d.return=t,r.return=t,d.sibling=r,t.child=d,t.child.memoizedState=FA(o),t.memoizedState=LA,r):py(t,f));if(u=r.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return Nee(r,t,f,c,m,u,o);if(d){d=c.fallback,f=t.mode,u=r.child,m=u.sibling;var k={mode:"hidden",children:c.children};return!(f&1)&&t.child!==u?(c=t.child,c.childLanes=0,c.pendingProps=k,t.deletions=null):(c=As(u,k),c.subtreeFlags=u.subtreeFlags&14680064),m!==null?d=As(m,d):(d=Ta(d,f,o,null),d.flags|=2),d.return=t,c.return=t,c.sibling=d,t.child=c,c=d,d=t.child,f=r.child.memoizedState,f=f===null?FA(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=r.childLanes&~o,t.memoizedState=LA,c}return d=r.child,r=d.sibling,c=As(d,{mode:"visible",children:c.children}),!(t.mode&1)&&(c.lanes=o),c.return=t,c.sibling=null,r!==null&&(o=t.deletions,o===null?(t.deletions=[r],t.flags|=16):o.push(r)),t.child=c,t.memoizedState=null,c}function py(r,t){return t=zm({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function Jp(r,t,o,c){return c!==null&&ey(c),pl(t,r.child,null,o),r=py(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function Nee(r,t,o,c,u,d,f){if(o)return t.flags&256?(t.flags&=-257,c=D0(Error(te(422))),Jp(r,t,f,c)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(d=c.fallback,u=t.mode,c=zm({mode:"visible",children:c.children},u,0,null),d=Ta(d,u,f,null),d.flags|=2,c.return=t,d.return=t,c.sibling=d,t.child=c,t.mode&1&&pl(t,r.child,null,f),t.child.memoizedState=FA(f),t.memoizedState=LA,d);if(!(t.mode&1))return Jp(r,t,f,null);if(u.data==="$!"){if(c=u.nextSibling&&u.nextSibling.dataset,c)var m=c.dgst;return c=m,d=Error(te(419)),c=D0(d,c,void 0),Jp(r,t,f,c)}if(m=(f&r.childLanes)!==0,sr||m){if(c=an,c!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(c.suspendedLanes|f)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Di(r,u),bo(c,r,u,-1))}return _y(),c=D0(Error(te(421))),Jp(r,t,f,c)}return u.data==="$?"?(t.flags|=128,t.child=r.child,t=Kee.bind(null,r),u._reactRetry=t,null):(r=d.treeContext,vr=bs(u.nextSibling),Cr=t,At=!0,go=null,r!==null&&(Ur[$r++]=_i,Ur[$r++]=vi,Ur[$r++]=Ra,_i=r.id,vi=r.overflow,Ra=t),t=py(t,c.children),t.flags|=4096,t)}function cP(r,t,o){r.lanes|=t;var c=r.alternate;c!==null&&(c.lanes|=t),RA(r.return,t,o)}function I0(r,t,o,c,u){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=c,d.tail=o,d.tailMode=u)}function KB(r,t,o){var c=t.pendingProps,u=c.revealOrder,d=c.tail;if(Wn(r,t,c.children,o),c=xt.current,c&2)c=c&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cP(r,o,t);else if(r.tag===19)cP(r,o,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(ht(xt,c),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(o=t.child,u=null;o!==null;)r=o.alternate,r!==null&&Kg(r)===null&&(u=o),o=o.sibling;o=u,o===null?(u=t.child,t.child=null):(u=o.sibling,o.sibling=null),I0(t,!1,u,o,d);break;case"backwards":for(o=null,u=t.child,t.child=null;u!==null;){if(r=u.alternate,r!==null&&Kg(r)===null){t.child=u;break}r=u.sibling,u.sibling=o,o=u,u=r}I0(t,!0,o,null,d);break;case"together":I0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _g(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Ii(r,t,o){if(r!==null&&(t.dependencies=r.dependencies),Oa|=t.lanes,!(o&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(te(153));if(t.child!==null){for(r=t.child,o=As(r,r.pendingProps),t.child=o,o.return=t;r.sibling!==null;)r=r.sibling,o=o.sibling=As(r,r.pendingProps),o.return=t;o.sibling=null}return t.child}function Mee(r,t,o){switch(t.tag){case 3:WB(t),fl();break;case 5:vB(t);break;case 1:cr(t.type)&&Ug(t);break;case 4:sy(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,u=t.memoizedProps.value;ht(qg,c._currentValue),c._currentValue=u;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(ht(xt,xt.current&1),t.flags|=128,null):o&t.child.childLanes?GB(r,t,o):(ht(xt,xt.current&1),r=Ii(r,t,o),r!==null?r.sibling:null);ht(xt,xt.current&1);break;case 19:if(c=(o&t.childLanes)!==0,r.flags&128){if(c)return KB(r,t,o);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ht(xt,xt.current),c)break;return null;case 22:case 23:return t.lanes=0,HB(r,t,o)}return Ii(r,t,o)}var QB,zA,JB,YB;QB=function(r,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};zA=function(){};JB=function(r,t,o,c){var u=r.memoizedProps;if(u!==c){r=t.stateNode,va(Go.current);var d=null;switch(o){case"input":u=cA(r,u),c=cA(r,c),d=[];break;case"select":u=Dt({},u,{value:void 0}),c=Dt({},c,{value:void 0}),d=[];break;case"textarea":u=dA(r,u),c=dA(r,c),d=[];break;default:typeof u.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=zg)}fA(o,c);var f;o=null;for(w in u)if(!c.hasOwnProperty(w)&&u.hasOwnProperty(w)&&u[w]!=null)if(w==="style"){var m=u[w];for(f in m)m.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Od.hasOwnProperty(w)?d||(d=[]):(d=d||[]).push(w,null));for(w in c){var k=c[w];if(m=u!=null?u[w]:void 0,c.hasOwnProperty(w)&&k!==m&&(k!=null||m!=null))if(w==="style")if(m){for(f in m)!m.hasOwnProperty(f)||k&&k.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in k)k.hasOwnProperty(f)&&m[f]!==k[f]&&(o||(o={}),o[f]=k[f])}else o||(d||(d=[]),d.push(w,o)),o=k;else w==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,m=m?m.__html:void 0,k!=null&&m!==k&&(d=d||[]).push(w,k)):w==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(w,""+k):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Od.hasOwnProperty(w)?(k!=null&&w==="onScroll"&&kt("scroll",r),d||m===k||(d=[])):(d=d||[]).push(w,k))}o&&(d=d||[]).push("style",o);var w=d;(t.updateQueue=w)&&(t.flags|=4)}};YB=function(r,t,o,c){o!==c&&(t.flags|=4)};function ed(r,t){if(!At)switch(r.tailMode){case"hidden":t=r.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function In(r){var t=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(t)for(var u=r.child;u!==null;)o|=u.lanes|u.childLanes,c|=u.subtreeFlags&14680064,c|=u.flags&14680064,u.return=r,u=u.sibling;else for(u=r.child;u!==null;)o|=u.lanes|u.childLanes,c|=u.subtreeFlags,c|=u.flags,u.return=r,u=u.sibling;return r.subtreeFlags|=c,r.childLanes=o,t}function Vee(r,t,o){var c=t.pendingProps;switch(XC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return cr(t.type)&&jg(),In(t),null;case 3:return c=t.stateNode,gl(),wt(ar),wt(Ln),cy(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Kp(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,go!==null&&(KA(go),go=null))),zA(r,t),In(t),null;case 5:ay(t);var u=va(Wd.current);if(o=t.type,r!==null&&t.stateNode!=null)JB(r,t,o,c,u),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(te(166));return In(t),null}if(r=va(Go.current),Kp(t)){c=t.stateNode,o=t.type;var d=t.memoizedProps;switch(c[jo]=t,c[Hd]=d,r=(t.mode&1)!==0,o){case"dialog":kt("cancel",c),kt("close",c);break;case"iframe":case"object":case"embed":kt("load",c);break;case"video":case"audio":for(u=0;u<ld.length;u++)kt(ld[u],c);break;case"source":kt("error",c);break;case"img":case"image":case"link":kt("error",c),kt("load",c);break;case"details":kt("toggle",c);break;case"input":kI(c,d),kt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!d.multiple},kt("invalid",c);break;case"textarea":wI(c,d),kt("invalid",c)}fA(o,d),u=null;for(var f in d)if(d.hasOwnProperty(f)){var m=d[f];f==="children"?typeof m=="string"?c.textContent!==m&&(d.suppressHydrationWarning!==!0&&Gp(c.textContent,m,r),u=["children",m]):typeof m=="number"&&c.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&Gp(c.textContent,m,r),u=["children",""+m]):Od.hasOwnProperty(f)&&m!=null&&f==="onScroll"&&kt("scroll",c)}switch(o){case"input":Fp(c),bI(c,d,!0);break;case"textarea":Fp(c),_I(c);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(c.onclick=zg)}c=u,t.updateQueue=c,c!==null&&(t.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=y4(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=f.createElement(o,{is:c.is}):(r=f.createElement(o),o==="select"&&(f=r,c.multiple?f.multiple=!0:c.size&&(f.size=c.size))):r=f.createElementNS(r,o),r[jo]=t,r[Hd]=c,QB(r,t,!1,!1),t.stateNode=r;e:{switch(f=pA(o,c),o){case"dialog":kt("cancel",r),kt("close",r),u=c;break;case"iframe":case"object":case"embed":kt("load",r),u=c;break;case"video":case"audio":for(u=0;u<ld.length;u++)kt(ld[u],r);u=c;break;case"source":kt("error",r),u=c;break;case"img":case"image":case"link":kt("error",r),kt("load",r),u=c;break;case"details":kt("toggle",r),u=c;break;case"input":kI(r,c),u=cA(r,c),kt("invalid",r);break;case"option":u=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},u=Dt({},c,{value:void 0}),kt("invalid",r);break;case"textarea":wI(r,c),u=dA(r,c),kt("invalid",r);break;default:u=c}fA(o,u),m=u;for(d in m)if(m.hasOwnProperty(d)){var k=m[d];d==="style"?T4(r,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&E4(r,k)):d==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Nd(r,k):typeof k=="number"&&Nd(r,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Od.hasOwnProperty(d)?k!=null&&d==="onScroll"&&kt("scroll",r):k!=null&&LC(r,d,k,f))}switch(o){case"input":Fp(r),bI(r,c,!1);break;case"textarea":Fp(r),_I(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ts(c.value));break;case"select":r.multiple=!!c.multiple,d=c.value,d!=null?el(r,!!c.multiple,d,!1):c.defaultValue!=null&&el(r,!!c.multiple,c.defaultValue,!0);break;default:typeof u.onClick=="function"&&(r.onclick=zg)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(r&&t.stateNode!=null)YB(r,t,r.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(te(166));if(o=va(Wd.current),va(Go.current),Kp(t)){if(c=t.stateNode,o=t.memoizedProps,c[jo]=t,(d=c.nodeValue!==o)&&(r=Cr,r!==null))switch(r.tag){case 3:Gp(c.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gp(c.nodeValue,o,(r.mode&1)!==0)}d&&(t.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[jo]=t,t.stateNode=c}return In(t),null;case 13:if(wt(xt),c=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(At&&vr!==null&&t.mode&1&&!(t.flags&128))pB(),fl(),t.flags|=98560,d=!1;else if(d=Kp(t),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(te(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(te(317));d[jo]=t}else fl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;In(t),d=!1}else go!==null&&(KA(go),go=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=o,t):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(t.child.flags|=8192,t.mode&1&&(r===null||xt.current&1?Yt===0&&(Yt=3):_y())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return gl(),zA(r,t),r===null&&Ud(t.stateNode.containerInfo),In(t),null;case 10:return ry(t.type._context),In(t),null;case 17:return cr(t.type)&&jg(),In(t),null;case 19:if(wt(xt),d=t.memoizedState,d===null)return In(t),null;if(c=(t.flags&128)!==0,f=d.rendering,f===null)if(c)ed(d,!1);else{if(Yt!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(f=Kg(r),f!==null){for(t.flags|=128,ed(d,!1),c=f.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=o,o=t.child;o!==null;)d=o,r=c,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=r,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,r=f.dependencies,d.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return ht(xt,xt.current&1|2),t.child}r=r.sibling}d.tail!==null&&Lt()>kl&&(t.flags|=128,c=!0,ed(d,!1),t.lanes=4194304)}else{if(!c)if(r=Kg(f),r!==null){if(t.flags|=128,c=!0,o=r.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),ed(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!At)return In(t),null}else 2*Lt()-d.renderingStartTime>kl&&o!==1073741824&&(t.flags|=128,c=!0,ed(d,!1),t.lanes=4194304);d.isBackwards?(f.sibling=t.child,t.child=f):(o=d.last,o!==null?o.sibling=f:t.child=f,d.last=f)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Lt(),t.sibling=null,o=xt.current,ht(xt,c?o&1|2:o&1),t):(In(t),null);case 22:case 23:return wy(),c=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(t.flags|=8192),c&&t.mode&1?_r&1073741824&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function Lee(r,t){switch(XC(t),t.tag){case 1:return cr(t.type)&&jg(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return gl(),wt(ar),wt(Ln),cy(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return ay(t),null;case 13:if(wt(xt),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(te(340));fl()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return wt(xt),null;case 4:return gl(),null;case 10:return ry(t.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var Yp=!1,On=!1,Fee=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Qc(r,t){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Bt(r,t,c)}else o.current=null}function jA(r,t,o){try{o()}catch(c){Bt(r,t,c)}}var lP=!1;function zee(r,t){if(yA=Vg,r=tB(),YC(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var f=0,m=-1,k=-1,w=0,A=0,_=r,C=null;t:for(;;){for(var E;_!==o||u!==0&&_.nodeType!==3||(m=f+u),_!==d||c!==0&&_.nodeType!==3||(k=f+c),_.nodeType===3&&(f+=_.nodeValue.length),(E=_.firstChild)!==null;)C=_,_=E;for(;;){if(_===r)break t;if(C===o&&++w===u&&(m=f),C===d&&++A===c&&(k=f),(E=_.nextSibling)!==null)break;_=C,C=_.parentNode}_=E}o=m===-1||k===-1?null:{start:m,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(EA={focusedElem:r,selectionRange:o},Vg=!1,fe=t;fe!==null;)if(t=fe,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,fe=r;else for(;fe!==null;){t=fe;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,B=S.memoizedState,D=t.stateNode,P=D.getSnapshotBeforeUpdate(t.elementType===t.type?R:fo(t.type,R),B);D.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(L){Bt(t,t.return,L)}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}return S=lP,lP=!1,S}function Cd(r,t,o){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var u=c=c.next;do{if((u.tag&r)===r){var d=u.destroy;u.destroy=void 0,d!==void 0&&jA(t,o,d)}u=u.next}while(u!==c)}}function Lm(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&r)===r){var c=o.create;o.destroy=c()}o=o.next}while(o!==t)}}function UA(r){var t=r.ref;if(t!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof t=="function"?t(r):t.current=r}}function ZB(r){var t=r.alternate;t!==null&&(r.alternate=null,ZB(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[jo],delete t[Hd],delete t[SA],delete t[Aee],delete t[Cee])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function XB(r){return r.tag===5||r.tag===3||r.tag===4}function uP(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||XB(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $A(r,t,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(r,t):o.insertBefore(r,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(r,o)):(t=o,t.appendChild(r)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=zg));else if(c!==4&&(r=r.child,r!==null))for($A(r,t,o),r=r.sibling;r!==null;)$A(r,t,o),r=r.sibling}function HA(r,t,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,t?o.insertBefore(r,t):o.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(HA(r,t,o),r=r.sibling;r!==null;)HA(r,t,o),r=r.sibling}var bn=null,po=!1;function es(r,t,o){for(o=o.child;o!==null;)e3(r,t,o),o=o.sibling}function e3(r,t,o){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(Im,o)}catch{}switch(o.tag){case 5:On||Qc(o,t);case 6:var c=bn,u=po;bn=null,es(r,t,o),bn=c,po=u,bn!==null&&(po?(r=bn,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):bn.removeChild(o.stateNode));break;case 18:bn!==null&&(po?(r=bn,o=o.stateNode,r.nodeType===8?C0(r.parentNode,o):r.nodeType===1&&C0(r,o),Fd(r)):C0(bn,o.stateNode));break;case 4:c=bn,u=po,bn=o.stateNode.containerInfo,po=!0,es(r,t,o),bn=c,po=u;break;case 0:case 11:case 14:case 15:if(!On&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){u=c=c.next;do{var d=u,f=d.destroy;d=d.tag,f!==void 0&&(d&2||d&4)&&jA(o,t,f),u=u.next}while(u!==c)}es(r,t,o);break;case 1:if(!On&&(Qc(o,t),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(m){Bt(o,t,m)}es(r,t,o);break;case 21:es(r,t,o);break;case 22:o.mode&1?(On=(c=On)||o.memoizedState!==null,es(r,t,o),On=c):es(r,t,o);break;default:es(r,t,o)}}function dP(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Fee),t.forEach(function(c){var u=Qee.bind(null,r,c);o.has(c)||(o.add(c),c.then(u,u))})}}function ho(r,t){var o=t.deletions;if(o!==null)for(var c=0;c<o.length;c++){var u=o[c];try{var d=r,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 5:bn=m.stateNode,po=!1;break e;case 3:bn=m.stateNode.containerInfo,po=!0;break e;case 4:bn=m.stateNode.containerInfo,po=!0;break e}m=m.return}if(bn===null)throw Error(te(160));e3(d,f,u),bn=null,po=!1;var k=u.alternate;k!==null&&(k.return=null),u.return=null}catch(w){Bt(u,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t3(t,r),t=t.sibling}function t3(r,t){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ho(t,r),Fo(r),c&4){try{Cd(3,r,r.return),Lm(3,r)}catch(R){Bt(r,r.return,R)}try{Cd(5,r,r.return)}catch(R){Bt(r,r.return,R)}}break;case 1:ho(t,r),Fo(r),c&512&&o!==null&&Qc(o,o.return);break;case 5:if(ho(t,r),Fo(r),c&512&&o!==null&&Qc(o,o.return),r.flags&32){var u=r.stateNode;try{Nd(u,"")}catch(R){Bt(r,r.return,R)}}if(c&4&&(u=r.stateNode,u!=null)){var d=r.memoizedProps,f=o!==null?o.memoizedProps:d,m=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&A4(u,d),pA(m,f);var w=pA(m,d);for(f=0;f<k.length;f+=2){var A=k[f],_=k[f+1];A==="style"?T4(u,_):A==="dangerouslySetInnerHTML"?E4(u,_):A==="children"?Nd(u,_):LC(u,A,_,w)}switch(m){case"input":lA(u,d);break;case"textarea":C4(u,d);break;case"select":var C=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var E=d.value;E!=null?el(u,!!d.multiple,E,!1):C!==!!d.multiple&&(d.defaultValue!=null?el(u,!!d.multiple,d.defaultValue,!0):el(u,!!d.multiple,d.multiple?[]:"",!1))}u[Hd]=d}catch(R){Bt(r,r.return,R)}}break;case 6:if(ho(t,r),Fo(r),c&4){if(r.stateNode===null)throw Error(te(162));u=r.stateNode,d=r.memoizedProps;try{u.nodeValue=d}catch(R){Bt(r,r.return,R)}}break;case 3:if(ho(t,r),Fo(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Fd(t.containerInfo)}catch(R){Bt(r,r.return,R)}break;case 4:ho(t,r),Fo(r);break;case 13:ho(t,r),Fo(r),u=r.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(ky=Lt())),c&4&&dP(r);break;case 22:if(A=o!==null&&o.memoizedState!==null,r.mode&1?(On=(w=On)||A,ho(t,r),On=w):ho(t,r),Fo(r),c&8192){if(w=r.memoizedState!==null,(r.stateNode.isHidden=w)&&!A&&r.mode&1)for(fe=r,A=r.child;A!==null;){for(_=fe=A;fe!==null;){switch(C=fe,E=C.child,C.tag){case 0:case 11:case 14:case 15:Cd(4,C,C.return);break;case 1:Qc(C,C.return);var S=C.stateNode;if(typeof S.componentWillUnmount=="function"){c=C,o=C.return;try{t=c,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(R){Bt(c,o,R)}}break;case 5:Qc(C,C.return);break;case 22:if(C.memoizedState!==null){fP(_);continue}}E!==null?(E.return=C,fe=E):fP(_)}A=A.sibling}e:for(A=null,_=r;;){if(_.tag===5){if(A===null){A=_;try{u=_.stateNode,w?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=_.stateNode,k=_.memoizedProps.style,f=k!=null&&k.hasOwnProperty("display")?k.display:null,m.style.display=x4("display",f))}catch(R){Bt(r,r.return,R)}}}else if(_.tag===6){if(A===null)try{_.stateNode.nodeValue=w?"":_.memoizedProps}catch(R){Bt(r,r.return,R)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===r)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;A===_&&(A=null),_=_.return}A===_&&(A=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ho(t,r),Fo(r),c&4&&dP(r);break;case 21:break;default:ho(t,r),Fo(r)}}function Fo(r){var t=r.flags;if(t&2){try{e:{for(var o=r.return;o!==null;){if(XB(o)){var c=o;break e}o=o.return}throw Error(te(160))}switch(c.tag){case 5:var u=c.stateNode;c.flags&32&&(Nd(u,""),c.flags&=-33);var d=uP(r);HA(r,d,u);break;case 3:case 4:var f=c.stateNode.containerInfo,m=uP(r);$A(r,m,f);break;default:throw Error(te(161))}}catch(k){Bt(r,r.return,k)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function jee(r,t,o){fe=r,n3(r)}function n3(r,t,o){for(var c=(r.mode&1)!==0;fe!==null;){var u=fe,d=u.child;if(u.tag===22&&c){var f=u.memoizedState!==null||Yp;if(!f){var m=u.alternate,k=m!==null&&m.memoizedState!==null||On;m=Yp;var w=On;if(Yp=f,(On=k)&&!w)for(fe=u;fe!==null;)f=fe,k=f.child,f.tag===22&&f.memoizedState!==null?pP(u):k!==null?(k.return=f,fe=k):pP(u);for(;d!==null;)fe=d,n3(d),d=d.sibling;fe=u,Yp=m,On=w}hP(r)}else u.subtreeFlags&8772&&d!==null?(d.return=u,fe=d):hP(r)}}function hP(r){for(;fe!==null;){var t=fe;if(t.flags&8772){var o=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||Lm(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!On)if(o===null)c.componentDidMount();else{var u=t.elementType===t.type?o.memoizedProps:fo(t.type,o.memoizedProps);c.componentDidUpdate(u,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&QI(t,d,c);break;case 3:var f=t.updateQueue;if(f!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}QI(t,f,o)}break;case 5:var m=t.stateNode;if(o===null&&t.flags&4){o=m;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var _=A.dehydrated;_!==null&&Fd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}On||t.flags&512&&UA(t)}catch(C){Bt(t,t.return,C)}}if(t===r){fe=null;break}if(o=t.sibling,o!==null){o.return=t.return,fe=o;break}fe=t.return}}function fP(r){for(;fe!==null;){var t=fe;if(t===r){fe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,fe=o;break}fe=t.return}}function pP(r){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{Lm(4,t)}catch(k){Bt(t,o,k)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var u=t.return;try{c.componentDidMount()}catch(k){Bt(t,u,k)}}var d=t.return;try{UA(t)}catch(k){Bt(t,d,k)}break;case 5:var f=t.return;try{UA(t)}catch(k){Bt(t,f,k)}}}catch(k){Bt(t,t.return,k)}if(t===r){fe=null;break}var m=t.sibling;if(m!==null){m.return=t.return,fe=m;break}fe=t.return}}var Uee=Math.ceil,Yg=Oi.ReactCurrentDispatcher,gy=Oi.ReactCurrentOwner,Gr=Oi.ReactCurrentBatchConfig,We=0,an=null,qt=null,An=0,_r=0,Jc=Os(0),Yt=0,Jd=null,Oa=0,Fm=0,my=0,yd=null,ir=null,ky=0,kl=1/0,bi=null,Zg=!1,qA=null,_s=null,Zp=!1,hs=null,Xg=0,Ed=0,WA=null,vg=-1,Ag=0;function Kn(){return We&6?Lt():vg!==-1?vg:vg=Lt()}function vs(r){return r.mode&1?We&2&&An!==0?An&-An:Eee.transition!==null?(Ag===0&&(Ag=F4()),Ag):(r=Ze,r!==0||(r=window.event,r=r===void 0?16:W4(r.type)),r):1}function bo(r,t,o,c){if(50<Ed)throw Ed=0,WA=null,Error(te(185));bh(r,o,c),(!(We&2)||r!==an)&&(r===an&&(!(We&2)&&(Fm|=o),Yt===4&&is(r,An)),lr(r,c),o===1&&We===0&&!(t.mode&1)&&(kl=Lt()+500,Nm&&Ns()))}function lr(r,t){var o=r.callbackNode;EX(r,t);var c=Mg(r,r===an?An:0);if(c===0)o!==null&&CI(o),r.callbackNode=null,r.callbackPriority=0;else if(t=c&-c,r.callbackPriority!==t){if(o!=null&&CI(o),t===1)r.tag===0?yee(gP.bind(null,r)):dB(gP.bind(null,r)),_ee(function(){!(We&6)&&Ns()}),o=null;else{switch(z4(c)){case 1:o=$C;break;case 4:o=V4;break;case 16:o=Ng;break;case 536870912:o=L4;break;default:o=Ng}o=u3(o,r3.bind(null,r))}r.callbackPriority=t,r.callbackNode=o}}function r3(r,t){if(vg=-1,Ag=0,We&6)throw Error(te(327));var o=r.callbackNode;if(il()&&r.callbackNode!==o)return null;var c=Mg(r,r===an?An:0);if(c===0)return null;if(c&30||c&r.expiredLanes||t)t=em(r,c);else{t=c;var u=We;We|=2;var d=i3();(an!==r||An!==t)&&(bi=null,kl=Lt()+500,xa(r,t));do try{qee();break}catch(m){o3(r,m)}while(!0);ny(),Yg.current=d,We=u,qt!==null?t=0:(an=null,An=0,t=Yt)}if(t!==0){if(t===2&&(u=wA(r),u!==0&&(c=u,t=GA(r,u))),t===1)throw o=Jd,xa(r,0),is(r,c),lr(r,Lt()),o;if(t===6)is(r,c);else{if(u=r.current.alternate,!(c&30)&&!$ee(u)&&(t=em(r,c),t===2&&(d=wA(r),d!==0&&(c=d,t=GA(r,d))),t===1))throw o=Jd,xa(r,0),is(r,c),lr(r,Lt()),o;switch(r.finishedWork=u,r.finishedLanes=c,t){case 0:case 1:throw Error(te(345));case 2:ga(r,ir,bi);break;case 3:if(is(r,c),(c&130023424)===c&&(t=ky+500-Lt(),10<t)){if(Mg(r,0)!==0)break;if(u=r.suspendedLanes,(u&c)!==c){Kn(),r.pingedLanes|=r.suspendedLanes&u;break}r.timeoutHandle=TA(ga.bind(null,r,ir,bi),t);break}ga(r,ir,bi);break;case 4:if(is(r,c),(c&4194240)===c)break;for(t=r.eventTimes,u=-1;0<c;){var f=31-ko(c);d=1<<f,f=t[f],f>u&&(u=f),c&=~d}if(c=u,c=Lt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Uee(c/1960))-c,10<c){r.timeoutHandle=TA(ga.bind(null,r,ir,bi),c);break}ga(r,ir,bi);break;case 5:ga(r,ir,bi);break;default:throw Error(te(329))}}}return lr(r,Lt()),r.callbackNode===o?r3.bind(null,r):null}function GA(r,t){var o=yd;return r.current.memoizedState.isDehydrated&&(xa(r,t).flags|=256),r=em(r,t),r!==2&&(t=ir,ir=o,t!==null&&KA(t)),r}function KA(r){ir===null?ir=r:ir.push.apply(ir,r)}function $ee(r){for(var t=r;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var u=o[c],d=u.getSnapshot;u=u.value;try{if(!wo(d(),u))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(r,t){for(t&=~my,t&=~Fm,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var o=31-ko(t),c=1<<o;r[o]=-1,t&=~c}}function gP(r){if(We&6)throw Error(te(327));il();var t=Mg(r,0);if(!(t&1))return lr(r,Lt()),null;var o=em(r,t);if(r.tag!==0&&o===2){var c=wA(r);c!==0&&(t=c,o=GA(r,c))}if(o===1)throw o=Jd,xa(r,0),is(r,t),lr(r,Lt()),o;if(o===6)throw Error(te(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,ga(r,ir,bi),lr(r,Lt()),null}function by(r,t){var o=We;We|=1;try{return r(t)}finally{We=o,We===0&&(kl=Lt()+500,Nm&&Ns())}}function Na(r){hs!==null&&hs.tag===0&&!(We&6)&&il();var t=We;We|=1;var o=Gr.transition,c=Ze;try{if(Gr.transition=null,Ze=1,r)return r()}finally{Ze=c,Gr.transition=o,We=t,!(We&6)&&Ns()}}function wy(){_r=Jc.current,wt(Jc)}function xa(r,t){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,wee(o)),qt!==null)for(o=qt.return;o!==null;){var c=o;switch(XC(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&jg();break;case 3:gl(),wt(ar),wt(Ln),cy();break;case 5:ay(c);break;case 4:gl();break;case 13:wt(xt);break;case 19:wt(xt);break;case 10:ry(c.type._context);break;case 22:case 23:wy()}o=o.return}if(an=r,qt=r=As(r.current,null),An=_r=t,Yt=0,Jd=null,my=Fm=Oa=0,ir=yd=null,_a!==null){for(t=0;t<_a.length;t++)if(o=_a[t],c=o.interleaved,c!==null){o.interleaved=null;var u=c.next,d=o.pending;if(d!==null){var f=d.next;d.next=u,c.next=f}o.pending=c}_a=null}return r}function o3(r,t){do{var o=qt;try{if(ny(),bg.current=Jg,Qg){for(var c=Tt.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}Qg=!1}if(Ba=0,sn=Qt=Tt=null,Ad=!1,Gd=0,gy.current=null,o===null||o.return===null){Yt=1,Jd=t,qt=null;break}e:{var d=r,f=o.return,m=o,k=t;if(t=An,m.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var w=k,A=m,_=A.tag;if(!(A.mode&1)&&(_===0||_===11||_===15)){var C=A.alternate;C?(A.updateQueue=C.updateQueue,A.memoizedState=C.memoizedState,A.lanes=C.lanes):(A.updateQueue=null,A.memoizedState=null)}var E=nP(f);if(E!==null){E.flags&=-257,rP(E,f,m,d,t),E.mode&1&&tP(d,w,t),t=E,k=w;var S=t.updateQueue;if(S===null){var R=new Set;R.add(k),t.updateQueue=R}else S.add(k);break e}else{if(!(t&1)){tP(d,w,t),_y();break e}k=Error(te(426))}}else if(At&&m.mode&1){var B=nP(f);if(B!==null){!(B.flags&65536)&&(B.flags|=256),rP(B,f,m,d,t),ey(ml(k,m));break e}}d=k=ml(k,m),Yt!==4&&(Yt=2),yd===null?yd=[d]:yd.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var D=jB(d,k,t);KI(d,D);break e;case 1:m=k;var P=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof P.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(_s===null||!_s.has(O)))){d.flags|=65536,t&=-t,d.lanes|=t;var L=UB(d,m,t);KI(d,L);break e}}d=d.return}while(d!==null)}a3(o)}catch($){t=$,qt===o&&o!==null&&(qt=o=o.return);continue}break}while(!0)}function i3(){var r=Yg.current;return Yg.current=Jg,r===null?Jg:r}function _y(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),an===null||!(Oa&268435455)&&!(Fm&268435455)||is(an,An)}function em(r,t){var o=We;We|=2;var c=i3();(an!==r||An!==t)&&(bi=null,xa(r,t));do try{Hee();break}catch(u){o3(r,u)}while(!0);if(ny(),We=o,Yg.current=c,qt!==null)throw Error(te(261));return an=null,An=0,Yt}function Hee(){for(;qt!==null;)s3(qt)}function qee(){for(;qt!==null&&!mX();)s3(qt)}function s3(r){var t=l3(r.alternate,r,_r);r.memoizedProps=r.pendingProps,t===null?a3(r):qt=t,gy.current=null}function a3(r){var t=r;do{var o=t.alternate;if(r=t.return,t.flags&32768){if(o=Lee(o,t),o!==null){o.flags&=32767,qt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Yt=6,qt=null;return}}else if(o=Vee(o,t,_r),o!==null){qt=o;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=r}while(t!==null);Yt===0&&(Yt=5)}function ga(r,t,o){var c=Ze,u=Gr.transition;try{Gr.transition=null,Ze=1,Wee(r,t,o,c)}finally{Gr.transition=u,Ze=c}return null}function Wee(r,t,o,c){do il();while(hs!==null);if(We&6)throw Error(te(327));o=r.finishedWork;var u=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(te(177));r.callbackNode=null,r.callbackPriority=0;var d=o.lanes|o.childLanes;if(xX(r,d),r===an&&(qt=an=null,An=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Zp||(Zp=!0,u3(Ng,function(){return il(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=Gr.transition,Gr.transition=null;var f=Ze;Ze=1;var m=We;We|=4,gy.current=null,zee(r,o),t3(o,r),hee(EA),Vg=!!yA,EA=yA=null,r.current=o,jee(o),kX(),We=m,Ze=f,Gr.transition=d}else r.current=o;if(Zp&&(Zp=!1,hs=r,Xg=u),d=r.pendingLanes,d===0&&(_s=null),_X(o.stateNode),lr(r,Lt()),t!==null)for(c=r.onRecoverableError,o=0;o<t.length;o++)u=t[o],c(u.value,{componentStack:u.stack,digest:u.digest});if(Zg)throw Zg=!1,r=qA,qA=null,r;return Xg&1&&r.tag!==0&&il(),d=r.pendingLanes,d&1?r===WA?Ed++:(Ed=0,WA=r):Ed=0,Ns(),null}function il(){if(hs!==null){var r=z4(Xg),t=Gr.transition,o=Ze;try{if(Gr.transition=null,Ze=16>r?16:r,hs===null)var c=!1;else{if(r=hs,hs=null,Xg=0,We&6)throw Error(te(331));var u=We;for(We|=4,fe=r.current;fe!==null;){var d=fe,f=d.child;if(fe.flags&16){var m=d.deletions;if(m!==null){for(var k=0;k<m.length;k++){var w=m[k];for(fe=w;fe!==null;){var A=fe;switch(A.tag){case 0:case 11:case 15:Cd(8,A,d)}var _=A.child;if(_!==null)_.return=A,fe=_;else for(;fe!==null;){A=fe;var C=A.sibling,E=A.return;if(ZB(A),A===w){fe=null;break}if(C!==null){C.return=E,fe=C;break}fe=E}}}var S=d.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var B=R.sibling;R.sibling=null,R=B}while(R!==null)}}fe=d}}if(d.subtreeFlags&2064&&f!==null)f.return=d,fe=f;else e:for(;fe!==null;){if(d=fe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Cd(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,fe=D;break e}fe=d.return}}var P=r.current;for(fe=P;fe!==null;){f=fe;var O=f.child;if(f.subtreeFlags&2064&&O!==null)O.return=f,fe=O;else e:for(f=P;fe!==null;){if(m=fe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Lm(9,m)}}catch($){Bt(m,m.return,$)}if(m===f){fe=null;break e}var L=m.sibling;if(L!==null){L.return=m.return,fe=L;break e}fe=m.return}}if(We=u,Ns(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(Im,r)}catch{}c=!0}return c}finally{Ze=o,Gr.transition=t}}return!1}function mP(r,t,o){t=ml(o,t),t=jB(r,t,1),r=ws(r,t,1),t=Kn(),r!==null&&(bh(r,1,t),lr(r,t))}function Bt(r,t,o){if(r.tag===3)mP(r,r,o);else for(;t!==null;){if(t.tag===3){mP(t,r,o);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=ml(o,r),r=UB(t,r,1),t=ws(t,r,1),r=Kn(),t!==null&&(bh(t,1,r),lr(t,r));break}}t=t.return}}function Gee(r,t,o){var c=r.pingCache;c!==null&&c.delete(t),t=Kn(),r.pingedLanes|=r.suspendedLanes&o,an===r&&(An&o)===o&&(Yt===4||Yt===3&&(An&130023424)===An&&500>Lt()-ky?xa(r,0):my|=o),lr(r,t)}function c3(r,t){t===0&&(r.mode&1?(t=Up,Up<<=1,!(Up&130023424)&&(Up=4194304)):t=1);var o=Kn();r=Di(r,t),r!==null&&(bh(r,t,o),lr(r,o))}function Kee(r){var t=r.memoizedState,o=0;t!==null&&(o=t.retryLane),c3(r,o)}function Qee(r,t){var o=0;switch(r.tag){case 13:var c=r.stateNode,u=r.memoizedState;u!==null&&(o=u.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(te(314))}c!==null&&c.delete(t),c3(r,o)}var l3;l3=function(r,t,o){if(r!==null)if(r.memoizedProps!==t.pendingProps||ar.current)sr=!0;else{if(!(r.lanes&o)&&!(t.flags&128))return sr=!1,Mee(r,t,o);sr=!!(r.flags&131072)}else sr=!1,At&&t.flags&1048576&&hB(t,Hg,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;_g(r,t),r=t.pendingProps;var u=hl(t,Ln.current);ol(t,o),u=uy(null,t,c,r,u,o);var d=dy();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(c)?(d=!0,Ug(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,iy(t),u.updater=Mm,t.stateNode=u,u._reactInternals=t,OA(t,c,r,o),t=VA(null,t,c,!0,d,o)):(t.tag=0,At&&d&&ZC(t),Wn(null,t,u,o),t=t.child),t;case 16:c=t.elementType;e:{switch(_g(r,t),r=t.pendingProps,u=c._init,c=u(c._payload),t.type=c,u=t.tag=Yee(c),r=fo(c,r),u){case 0:t=MA(null,t,c,r,o);break e;case 1:t=sP(null,t,c,r,o);break e;case 11:t=oP(null,t,c,r,o);break e;case 14:t=iP(null,t,c,fo(c.type,r),o);break e}throw Error(te(306,c,""))}return t;case 0:return c=t.type,u=t.pendingProps,u=t.elementType===c?u:fo(c,u),MA(r,t,c,u,o);case 1:return c=t.type,u=t.pendingProps,u=t.elementType===c?u:fo(c,u),sP(r,t,c,u,o);case 3:e:{if(WB(t),r===null)throw Error(te(387));c=t.pendingProps,d=t.memoizedState,u=d.element,mB(r,t),Gg(t,c,null,o);var f=t.memoizedState;if(c=f.element,d.isDehydrated)if(d={element:c,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ml(Error(te(423)),t),t=aP(r,t,c,o,u);break e}else if(c!==u){u=ml(Error(te(424)),t),t=aP(r,t,c,o,u);break e}else for(vr=bs(t.stateNode.containerInfo.firstChild),Cr=t,At=!0,go=null,o=_B(t,null,c,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fl(),c===u){t=Ii(r,t,o);break e}Wn(r,t,c,o)}t=t.child}return t;case 5:return vB(t),r===null&&PA(t),c=t.type,u=t.pendingProps,d=r!==null?r.memoizedProps:null,f=u.children,xA(c,u)?f=null:d!==null&&xA(c,d)&&(t.flags|=32),qB(r,t),Wn(r,t,f,o),t.child;case 6:return r===null&&PA(t),null;case 13:return GB(r,t,o);case 4:return sy(t,t.stateNode.containerInfo),c=t.pendingProps,r===null?t.child=pl(t,null,c,o):Wn(r,t,c,o),t.child;case 11:return c=t.type,u=t.pendingProps,u=t.elementType===c?u:fo(c,u),oP(r,t,c,u,o);case 7:return Wn(r,t,t.pendingProps,o),t.child;case 8:return Wn(r,t,t.pendingProps.children,o),t.child;case 12:return Wn(r,t,t.pendingProps.children,o),t.child;case 10:e:{if(c=t.type._context,u=t.pendingProps,d=t.memoizedProps,f=u.value,ht(qg,c._currentValue),c._currentValue=f,d!==null)if(wo(d.value,f)){if(d.children===u.children&&!ar.current){t=Ii(r,t,o);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){f=d.child;for(var k=m.firstContext;k!==null;){if(k.context===c){if(d.tag===1){k=Ei(-1,o&-o),k.tag=2;var w=d.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?k.next=k:(k.next=A.next,A.next=k),w.pending=k}}d.lanes|=o,k=d.alternate,k!==null&&(k.lanes|=o),RA(d.return,o,t),m.lanes|=o;break}k=k.next}}else if(d.tag===10)f=d.type===t.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(te(341));f.lanes|=o,m=f.alternate,m!==null&&(m.lanes|=o),RA(f,o,t),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===t){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}Wn(r,t,u.children,o),t=t.child}return t;case 9:return u=t.type,c=t.pendingProps.children,ol(t,o),u=Qr(u),c=c(u),t.flags|=1,Wn(r,t,c,o),t.child;case 14:return c=t.type,u=fo(c,t.pendingProps),u=fo(c.type,u),iP(r,t,c,u,o);case 15:return $B(r,t,t.type,t.pendingProps,o);case 17:return c=t.type,u=t.pendingProps,u=t.elementType===c?u:fo(c,u),_g(r,t),t.tag=1,cr(c)?(r=!0,Ug(t)):r=!1,ol(t,o),bB(t,c,u),OA(t,c,u,o),VA(null,t,c,!0,r,o);case 19:return KB(r,t,o);case 22:return HB(r,t,o)}throw Error(te(156,t.tag))};function u3(r,t){return M4(r,t)}function Jee(r,t,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(r,t,o,c){return new Jee(r,t,o,c)}function vy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yee(r){if(typeof r=="function")return vy(r)?1:0;if(r!=null){if(r=r.$$typeof,r===zC)return 11;if(r===jC)return 14}return 2}function As(r,t){var o=r.alternate;return o===null?(o=Wr(r.tag,t,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=t,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,t=r.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Cg(r,t,o,c,u,d){var f=2;if(c=r,typeof r=="function")vy(r)&&(f=1);else if(typeof r=="string")f=5;else e:switch(r){case zc:return Ta(o.children,u,d,t);case FC:f=8,u|=8;break;case oA:return r=Wr(12,o,t,u|2),r.elementType=oA,r.lanes=d,r;case iA:return r=Wr(13,o,t,u),r.elementType=iA,r.lanes=d,r;case sA:return r=Wr(19,o,t,u),r.elementType=sA,r.lanes=d,r;case w4:return zm(o,u,d,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k4:f=10;break e;case b4:f=9;break e;case zC:f=11;break e;case jC:f=14;break e;case ns:f=16,c=null;break e}throw Error(te(130,r==null?r:typeof r,""))}return t=Wr(f,o,t,u),t.elementType=r,t.type=c,t.lanes=d,t}function Ta(r,t,o,c){return r=Wr(7,r,c,t),r.lanes=o,r}function zm(r,t,o,c){return r=Wr(22,r,c,t),r.elementType=w4,r.lanes=o,r.stateNode={isHidden:!1},r}function P0(r,t,o){return r=Wr(6,r,null,t),r.lanes=o,r}function R0(r,t,o){return t=Wr(4,r.children!==null?r.children:[],r.key,t),t.lanes=o,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function Zee(r,t,o,c,u){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h0(0),this.expirationTimes=h0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.identifierPrefix=c,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ay(r,t,o,c,u,d,f,m,k){return r=new Zee(r,t,o,m,k),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Wr(3,null,null,t),r.current=d,d.stateNode=r,d.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(d),r}function Xee(r,t,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fc,key:c==null?null:""+c,children:r,containerInfo:t,implementation:o}}function d3(r){if(!r)return Ss;r=r._reactInternals;e:{if(qa(r)!==r||r.tag!==1)throw Error(te(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(r.tag===1){var o=r.type;if(cr(o))return uB(r,o,t)}return t}function h3(r,t,o,c,u,d,f,m,k){return r=Ay(o,c,!0,r,u,d,f,m,k),r.context=d3(null),o=r.current,c=Kn(),u=vs(o),d=Ei(c,u),d.callback=t??null,ws(o,d,u),r.current.lanes=u,bh(r,u,c),lr(r,c),r}function jm(r,t,o,c){var u=t.current,d=Kn(),f=vs(u);return o=d3(o),t.context===null?t.context=o:t.pendingContext=o,t=Ei(d,f),t.payload={element:r},c=c===void 0?null:c,c!==null&&(t.callback=c),r=ws(u,t,f),r!==null&&(bo(r,u,f,d),kg(r,u,f)),f}function tm(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function kP(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<t?o:t}}function Cy(r,t){kP(r,t),(r=r.alternate)&&kP(r,t)}function ete(){return null}var f3=typeof reportError=="function"?reportError:function(r){console.error(r)};function yy(r){this._internalRoot=r}Um.prototype.render=yy.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(te(409));jm(r,t,null,null)};Um.prototype.unmount=yy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;Na(function(){jm(null,r,null,null)}),t[Si]=null}};function Um(r){this._internalRoot=r}Um.prototype.unstable_scheduleHydration=function(r){if(r){var t=$4();r={blockedOn:null,target:r,priority:t};for(var o=0;o<os.length&&t!==0&&t<os[o].priority;o++);os.splice(o,0,r),o===0&&q4(r)}};function Ey(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $m(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bP(){}function tte(r,t,o,c,u){if(u){if(typeof c=="function"){var d=c;c=function(){var w=tm(f);d.call(w)}}var f=h3(t,c,r,0,null,!1,!1,"",bP);return r._reactRootContainer=f,r[Si]=f.current,Ud(r.nodeType===8?r.parentNode:r),Na(),f}for(;u=r.lastChild;)r.removeChild(u);if(typeof c=="function"){var m=c;c=function(){var w=tm(k);m.call(w)}}var k=Ay(r,0,!1,null,null,!1,!1,"",bP);return r._reactRootContainer=k,r[Si]=k.current,Ud(r.nodeType===8?r.parentNode:r),Na(function(){jm(t,k,o,c)}),k}function Hm(r,t,o,c,u){var d=o._reactRootContainer;if(d){var f=d;if(typeof u=="function"){var m=u;u=function(){var k=tm(f);m.call(k)}}jm(t,f,r,u)}else f=tte(o,t,r,u,c);return tm(f)}j4=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var o=cd(t.pendingLanes);o!==0&&(HC(t,o|1),lr(t,Lt()),!(We&6)&&(kl=Lt()+500,Ns()))}break;case 13:Na(function(){var c=Di(r,1);if(c!==null){var u=Kn();bo(c,r,1,u)}}),Cy(r,1)}};qC=function(r){if(r.tag===13){var t=Di(r,134217728);if(t!==null){var o=Kn();bo(t,r,134217728,o)}Cy(r,134217728)}};U4=function(r){if(r.tag===13){var t=vs(r),o=Di(r,t);if(o!==null){var c=Kn();bo(o,r,t,c)}Cy(r,t)}};$4=function(){return Ze};H4=function(r,t){var o=Ze;try{return Ze=r,t()}finally{Ze=o}};mA=function(r,t,o){switch(t){case"input":if(lA(r,o),t=o.name,o.type==="radio"&&t!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var c=o[t];if(c!==r&&c.form===r.form){var u=Om(c);if(!u)throw Error(te(90));v4(c),lA(c,u)}}}break;case"textarea":C4(r,o);break;case"select":t=o.value,t!=null&&el(r,!!o.multiple,t,!1)}};I4=by;P4=Na;var nte={usingClientEntryPoint:!1,Events:[_h,Hc,Om,S4,D4,by]},td={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rte={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=O4(r),r===null?null:r.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||ete,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{Im=Xp.inject(rte),Wo=Xp}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nte;xr.createPortal=function(r,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(t))throw Error(te(200));return Xee(r,t,null,o)};xr.createRoot=function(r,t){if(!Ey(r))throw Error(te(299));var o=!1,c="",u=f3;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ay(r,1,!1,null,null,o,!1,c,u),r[Si]=t.current,Ud(r.nodeType===8?r.parentNode:r),new yy(t)};xr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(te(188)):(r=Object.keys(r).join(","),Error(te(268,r)));return r=O4(t),r=r===null?null:r.stateNode,r};xr.flushSync=function(r){return Na(r)};xr.hydrate=function(r,t,o){if(!$m(t))throw Error(te(200));return Hm(null,r,t,!0,o)};xr.hydrateRoot=function(r,t,o){if(!Ey(r))throw Error(te(405));var c=o!=null&&o.hydratedSources||null,u=!1,d="",f=f3;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),t=h3(t,null,r,1,o??null,u,!1,d,f),r[Si]=t.current,Ud(r),c)for(r=0;r<c.length;r++)o=c[r],u=o._getVersion,u=u(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,u]:t.mutableSourceEagerHydrationData.push(o,u);return new Um(t)};xr.render=function(r,t,o){if(!$m(t))throw Error(te(200));return Hm(null,r,t,!1,o)};xr.unmountComponentAtNode=function(r){if(!$m(r))throw Error(te(40));return r._reactRootContainer?(Na(function(){Hm(null,null,r,!1,function(){r._reactRootContainer=null,r[Si]=null})}),!0):!1};xr.unstable_batchedUpdates=by;xr.unstable_renderSubtreeIntoContainer=function(r,t,o,c){if(!$m(o))throw Error(te(200));if(r==null||r._reactInternals===void 0)throw Error(te(38));return Hm(r,t,o,!1,c)};xr.version="18.2.0-next-9e3b772b8-20220608";function p3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p3)}catch(r){console.error(r)}}p3(),h4.exports=xr;var ote=h4.exports,wP=ote;nA.createRoot=wP.createRoot,nA.hydrateRoot=wP.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},Yd.apply(this,arguments)}var fs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(fs||(fs={}));const _P="popstate";function ite(r){r===void 0&&(r={});function t(c,u){let{pathname:d,search:f,hash:m}=c.location;return QA("",{pathname:d,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(c,u){return typeof u=="string"?u:nm(u)}return ate(t,o,null,r)}function St(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function g3(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ste(){return Math.random().toString(36).substr(2,8)}function vP(r,t){return{usr:r.state,key:r.key,idx:t}}function QA(r,t,o,c){return o===void 0&&(o=null),Yd({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:o,key:t&&t.key||c||ste()})}function nm(r){let{pathname:t="/",search:o="",hash:c=""}=r;return o&&o!=="?"&&(t+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(t+=c.charAt(0)==="#"?c:"#"+c),t}function Pl(r){let t={};if(r){let o=r.indexOf("#");o>=0&&(t.hash=r.substr(o),r=r.substr(0,o));let c=r.indexOf("?");c>=0&&(t.search=r.substr(c),r=r.substr(0,c)),r&&(t.pathname=r)}return t}function ate(r,t,o,c){c===void 0&&(c={});let{window:u=document.defaultView,v5Compat:d=!1}=c,f=u.history,m=fs.Pop,k=null,w=A();w==null&&(w=0,f.replaceState(Yd({},f.state,{idx:w}),""));function A(){return(f.state||{idx:null}).idx}function _(){m=fs.Pop;let B=A(),D=B==null?null:B-w;w=B,k&&k({action:m,location:R.location,delta:D})}function C(B,D){m=fs.Push;let P=QA(R.location,B,D);o&&o(P,B),w=A()+1;let O=vP(P,w),L=R.createHref(P);try{f.pushState(O,"",L)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;u.location.assign(L)}d&&k&&k({action:m,location:R.location,delta:1})}function E(B,D){m=fs.Replace;let P=QA(R.location,B,D);o&&o(P,B),w=A();let O=vP(P,w),L=R.createHref(P);f.replaceState(O,"",L),d&&k&&k({action:m,location:R.location,delta:0})}function S(B){let D=u.location.origin!=="null"?u.location.origin:u.location.href,P=typeof B=="string"?B:nm(B);return P=P.replace(/ $/,"%20"),St(D,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,D)}let R={get action(){return m},get location(){return r(u,f)},listen(B){if(k)throw new Error("A history only accepts one active listener");return u.addEventListener(_P,_),k=B,()=>{u.removeEventListener(_P,_),k=null}},createHref(B){return t(u,B)},createURL:S,encodeLocation(B){let D=S(B);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:E,go(B){return f.go(B)}};return R}var AP;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(AP||(AP={}));function cte(r,t,o){o===void 0&&(o="/");let c=typeof t=="string"?Pl(t):t,u=bl(c.pathname||"/",o);if(u==null)return null;let d=m3(r);lte(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let k=_te(u);f=bte(d[m],k)}return f}function m3(r,t,o,c){t===void 0&&(t=[]),o===void 0&&(o=[]),c===void 0&&(c="");let u=(d,f,m)=>{let k={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};k.relativePath.startsWith("/")&&(St(k.relativePath.startsWith(c),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(c.length));let w=Cs([c,k.relativePath]),A=o.concat(k);d.children&&d.children.length>0&&(St(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),m3(d.children,t,A,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:mte(w,d.index),routesMeta:A})};return r.forEach((d,f)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,f);else for(let k of k3(d.path))u(d,f,k)}),t}function k3(r){let t=r.split("/");if(t.length===0)return[];let[o,...c]=t,u=o.endsWith("?"),d=o.replace(/\?$/,"");if(c.length===0)return u?[d,""]:[d];let f=k3(c.join("/")),m=[];return m.push(...f.map(k=>k===""?d:[d,k].join("/"))),u&&m.push(...f),m.map(k=>r.startsWith("/")&&k===""?"/":k)}function lte(r){r.sort((t,o)=>t.score!==o.score?o.score-t.score:kte(t.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const ute=/^:[\w-]+$/,dte=3,hte=2,fte=1,pte=10,gte=-2,CP=r=>r==="*";function mte(r,t){let o=r.split("/"),c=o.length;return o.some(CP)&&(c+=gte),t&&(c+=hte),o.filter(u=>!CP(u)).reduce((u,d)=>u+(ute.test(d)?dte:d===""?fte:pte),c)}function kte(r,t){return r.length===t.length&&r.slice(0,-1).every((c,u)=>c===t[u])?r[r.length-1]-t[t.length-1]:0}function bte(r,t){let{routesMeta:o}=r,c={},u="/",d=[];for(let f=0;f<o.length;++f){let m=o[f],k=f===o.length-1,w=u==="/"?t:t.slice(u.length)||"/",A=JA({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},w);if(!A)return null;Object.assign(c,A.params);let _=m.route;d.push({params:c,pathname:Cs([u,A.pathname]),pathnameBase:yte(Cs([u,A.pathnameBase])),route:_}),A.pathnameBase!=="/"&&(u=Cs([u,A.pathnameBase]))}return d}function JA(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,c]=wte(r.path,r.caseSensitive,r.end),u=t.match(o);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:c.reduce((w,A,_)=>{let{paramName:C,isOptional:E}=A;if(C==="*"){let R=m[_]||"";f=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const S=m[_];return E&&!S?w[C]=void 0:w[C]=(S||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:r}}function wte(r,t,o){t===void 0&&(t=!1),o===void 0&&(o=!0),g3(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let c=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,k)=>(c.push({paramName:m,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),c]}function _te(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return g3(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function bl(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,c=r.charAt(o);return c&&c!=="/"?null:r.slice(o)||"/"}function vte(r,t){t===void 0&&(t="/");let{pathname:o,search:c="",hash:u=""}=typeof r=="string"?Pl(r):r;return{pathname:o?o.startsWith("/")?o:Ate(o,t):t,search:Ete(c),hash:xte(u)}}function Ate(r,t){let o=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function B0(r,t,o,c){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cte(r){return r.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function xy(r,t){let o=Cte(r);return t?o.map((c,u)=>u===r.length-1?c.pathname:c.pathnameBase):o.map(c=>c.pathnameBase)}function Ty(r,t,o,c){c===void 0&&(c=!1);let u;typeof r=="string"?u=Pl(r):(u=Yd({},r),St(!u.pathname||!u.pathname.includes("?"),B0("?","pathname","search",u)),St(!u.pathname||!u.pathname.includes("#"),B0("#","pathname","hash",u)),St(!u.search||!u.search.includes("#"),B0("#","search","hash",u)));let d=r===""||u.pathname==="",f=d?"/":u.pathname,m;if(f==null)m=o;else{let _=t.length-1;if(!c&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),_-=1;u.pathname=C.join("/")}m=_>=0?t[_]:"/"}let k=vte(u,m),w=f&&f!=="/"&&f.endsWith("/"),A=(d||f===".")&&o.endsWith("/");return!k.pathname.endsWith("/")&&(w||A)&&(k.pathname+="/"),k}const Cs=r=>r.join("/").replace(/\/\/+/g,"/"),yte=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ete=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xte=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Tte(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const b3=["post","put","patch","delete"];new Set(b3);const Ste=["get",...b3];new Set(Ste);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},Zd.apply(this,arguments)}const qm=J.createContext(null),w3=J.createContext(null),Ni=J.createContext(null),Wm=J.createContext(null),ri=J.createContext({outlet:null,matches:[],isDataRoute:!1}),_3=J.createContext(null);function Dte(r,t){let{relative:o}=t===void 0?{}:t;Rl()||St(!1);let{basename:c,navigator:u}=J.useContext(Ni),{hash:d,pathname:f,search:m}=Gm(r,{relative:o}),k=f;return c!=="/"&&(k=f==="/"?c:Cs([c,f])),u.createHref({pathname:k,search:m,hash:d})}function Rl(){return J.useContext(Wm)!=null}function Bl(){return Rl()||St(!1),J.useContext(Wm).location}function v3(r){J.useContext(Ni).static||J.useLayoutEffect(r)}function Sy(){let{isDataRoute:r}=J.useContext(ri);return r?qte():Ite()}function Ite(){Rl()||St(!1);let r=J.useContext(qm),{basename:t,future:o,navigator:c}=J.useContext(Ni),{matches:u}=J.useContext(ri),{pathname:d}=Bl(),f=JSON.stringify(xy(u,o.v7_relativeSplatPath)),m=J.useRef(!1);return v3(()=>{m.current=!0}),J.useCallback(function(w,A){if(A===void 0&&(A={}),!m.current)return;if(typeof w=="number"){c.go(w);return}let _=Ty(w,JSON.parse(f),d,A.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Cs([t,_.pathname])),(A.replace?c.replace:c.push)(_,A.state,A)},[t,c,f,d,r])}const Pte=J.createContext(null);function Rte(r){let t=J.useContext(ri).outlet;return t&&J.createElement(Pte.Provider,{value:r},t)}function Bte(){let{matches:r}=J.useContext(ri),t=r[r.length-1];return t?t.params:{}}function Gm(r,t){let{relative:o}=t===void 0?{}:t,{future:c}=J.useContext(Ni),{matches:u}=J.useContext(ri),{pathname:d}=Bl(),f=JSON.stringify(xy(u,c.v7_relativeSplatPath));return J.useMemo(()=>Ty(r,JSON.parse(f),d,o==="path"),[r,f,d,o])}function Ote(r,t){return Nte(r,t)}function Nte(r,t,o,c){Rl()||St(!1);let{navigator:u}=J.useContext(Ni),{matches:d}=J.useContext(ri),f=d[d.length-1],m=f?f.params:{};f&&f.pathname;let k=f?f.pathnameBase:"/";f&&f.route;let w=Bl(),A;if(t){var _;let B=typeof t=="string"?Pl(t):t;k==="/"||(_=B.pathname)!=null&&_.startsWith(k)||St(!1),A=B}else A=w;let C=A.pathname||"/",E=C;if(k!=="/"){let B=k.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let S=cte(r,{pathname:E}),R=zte(S&&S.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Cs([k,u.encodeLocation?u.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?k:Cs([k,u.encodeLocation?u.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),d,o,c);return t&&R?J.createElement(Wm.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:fs.Pop}},R):R}function Mte(){let r=Hte(),t=Tte(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),o?J.createElement("pre",{style:u},o):null,null)}const Vte=J.createElement(Mte,null);class Lte extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,o){return o.location!==t.location||o.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:o.error,location:o.location,revalidation:t.revalidation||o.revalidation}}componentDidCatch(t,o){console.error("React Router caught the following error during render",t,o)}render(){return this.state.error!==void 0?J.createElement(ri.Provider,{value:this.props.routeContext},J.createElement(_3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fte(r){let{routeContext:t,match:o,children:c}=r,u=J.useContext(qm);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),J.createElement(ri.Provider,{value:t},c)}function zte(r,t,o,c){var u;if(t===void 0&&(t=[]),o===void 0&&(o=null),c===void 0&&(c=null),r==null){var d;if((d=o)!=null&&d.errors)r=o.matches;else return null}let f=r,m=(u=o)==null?void 0:u.errors;if(m!=null){let A=f.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id]));A>=0||St(!1),f=f.slice(0,Math.min(f.length,A+1))}let k=!1,w=-1;if(o&&c&&c.v7_partialHydration)for(let A=0;A<f.length;A++){let _=f[A];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(w=A),_.route.id){let{loaderData:C,errors:E}=o,S=_.route.loader&&C[_.route.id]===void 0&&(!E||E[_.route.id]===void 0);if(_.route.lazy||S){k=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((A,_,C)=>{let E,S=!1,R=null,B=null;o&&(E=m&&_.route.id?m[_.route.id]:void 0,R=_.route.errorElement||Vte,k&&(w<0&&C===0?(Wte("route-fallback",!1),S=!0,B=null):w===C&&(S=!0,B=_.route.hydrateFallbackElement||null)));let D=t.concat(f.slice(0,C+1)),P=()=>{let O;return E?O=R:S?O=B:_.route.Component?O=J.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=A,J.createElement(Fte,{match:_,routeContext:{outlet:A,matches:D,isDataRoute:o!=null},children:O})};return o&&(_.route.ErrorBoundary||_.route.errorElement||C===0)?J.createElement(Lte,{location:o.location,revalidation:o.revalidation,component:R,error:E,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}var A3=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(A3||{}),rm=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(rm||{});function jte(r){let t=J.useContext(qm);return t||St(!1),t}function Ute(r){let t=J.useContext(w3);return t||St(!1),t}function $te(r){let t=J.useContext(ri);return t||St(!1),t}function C3(r){let t=$te(),o=t.matches[t.matches.length-1];return o.route.id||St(!1),o.route.id}function Hte(){var r;let t=J.useContext(_3),o=Ute(rm.UseRouteError),c=C3(rm.UseRouteError);return t!==void 0?t:(r=o.errors)==null?void 0:r[c]}function qte(){let{router:r}=jte(A3.UseNavigateStable),t=C3(rm.UseNavigateStable),o=J.useRef(!1);return v3(()=>{o.current=!0}),J.useCallback(function(u,d){d===void 0&&(d={}),o.current&&(typeof u=="number"?r.navigate(u):r.navigate(u,Zd({fromRouteId:t},d)))},[r,t])}const yP={};function Wte(r,t,o){!t&&!yP[r]&&(yP[r]=!0)}function Gte(r){let{to:t,replace:o,state:c,relative:u}=r;Rl()||St(!1);let{future:d,static:f}=J.useContext(Ni),{matches:m}=J.useContext(ri),{pathname:k}=Bl(),w=Sy(),A=Ty(t,xy(m,d.v7_relativeSplatPath),k,u==="path"),_=JSON.stringify(A);return J.useEffect(()=>w(JSON.parse(_),{replace:o,state:c,relative:u}),[w,_,u,o,c]),null}function Kte(r){return Rte(r.context)}function ma(r){St(!1)}function Qte(r){let{basename:t="/",children:o=null,location:c,navigationType:u=fs.Pop,navigator:d,static:f=!1,future:m}=r;Rl()&&St(!1);let k=t.replace(/^\/*/,"/"),w=J.useMemo(()=>({basename:k,navigator:d,static:f,future:Zd({v7_relativeSplatPath:!1},m)}),[k,m,d,f]);typeof c=="string"&&(c=Pl(c));let{pathname:A="/",search:_="",hash:C="",state:E=null,key:S="default"}=c,R=J.useMemo(()=>{let B=bl(A,k);return B==null?null:{location:{pathname:B,search:_,hash:C,state:E,key:S},navigationType:u}},[k,A,_,C,E,S,u]);return R==null?null:J.createElement(Ni.Provider,{value:w},J.createElement(Wm.Provider,{children:o,value:R}))}function Jte(r){let{children:t,location:o}=r;return Ote(YA(t),o)}new Promise(()=>{});function YA(r,t){t===void 0&&(t=[]);let o=[];return J.Children.forEach(r,(c,u)=>{if(!J.isValidElement(c))return;let d=[...t,u];if(c.type===J.Fragment){o.push.apply(o,YA(c.props.children,d));return}c.type!==ma&&St(!1),!c.props.index||!c.props.children||St(!1);let f={id:c.props.id||d.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=YA(c.props.children,d)),o.push(f)}),o}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},om.apply(this,arguments)}function y3(r,t){if(r==null)return{};var o={},c=Object.keys(r),u,d;for(d=0;d<c.length;d++)u=c[d],!(t.indexOf(u)>=0)&&(o[u]=r[u]);return o}function Yte(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Zte(r,t){return r.button===0&&(!t||t==="_self")&&!Yte(r)}const Xte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ene=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],tne="6";try{window.__reactRouterVersion=tne}catch{}const nne=J.createContext({isTransitioning:!1}),rne="startTransition",EP=KZ[rne];function one(r){let{basename:t,children:o,future:c,window:u}=r,d=J.useRef();d.current==null&&(d.current=ite({window:u,v5Compat:!0}));let f=d.current,[m,k]=J.useState({action:f.action,location:f.location}),{v7_startTransition:w}=c||{},A=J.useCallback(_=>{w&&EP?EP(()=>k(_)):k(_)},[k,w]);return J.useLayoutEffect(()=>f.listen(A),[f,A]),J.createElement(Qte,{basename:t,children:o,location:m.location,navigationType:m.action,navigator:f,future:c})}const ine=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dy=J.forwardRef(function(t,o){let{onClick:c,relative:u,reloadDocument:d,replace:f,state:m,target:k,to:w,preventScrollReset:A,unstable_viewTransition:_}=t,C=y3(t,Xte),{basename:E}=J.useContext(Ni),S,R=!1;if(typeof w=="string"&&sne.test(w)&&(S=w,ine))try{let O=new URL(window.location.href),L=w.startsWith("//")?new URL(O.protocol+w):new URL(w),$=bl(L.pathname,E);L.origin===O.origin&&$!=null?w=$+L.search+L.hash:R=!0}catch{}let B=Dte(w,{relative:u}),D=cne(w,{replace:f,state:m,target:k,preventScrollReset:A,relative:u,unstable_viewTransition:_});function P(O){c&&c(O),O.defaultPrevented||D(O)}return J.createElement("a",om({},C,{href:S||B,onClick:R||d?c:P,ref:o,target:k}))}),O0=J.forwardRef(function(t,o){let{"aria-current":c="page",caseSensitive:u=!1,className:d="",end:f=!1,style:m,to:k,unstable_viewTransition:w,children:A}=t,_=y3(t,ene),C=Gm(k,{relative:_.relative}),E=Bl(),S=J.useContext(w3),{navigator:R,basename:B}=J.useContext(Ni),D=S!=null&&lne(C)&&w===!0,P=R.encodeLocation?R.encodeLocation(C).pathname:C.pathname,O=E.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;u||(O=O.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&B&&(L=bl(L,B)||L);const $=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=O===P||!f&&O.startsWith(P)&&O.charAt($)==="/",Y=L!=null&&(L===P||!f&&L.startsWith(P)&&L.charAt(P.length)==="/"),X={isActive:q,isPending:Y,isTransitioning:D},ge=q?c:void 0,he;typeof d=="function"?he=d(X):he=[d,q?"active":null,Y?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let et=typeof m=="function"?m(X):m;return J.createElement(Dy,om({},_,{"aria-current":ge,className:he,ref:o,style:et,to:k,unstable_viewTransition:w}),typeof A=="function"?A(X):A)});var ZA;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(ZA||(ZA={}));var xP;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(xP||(xP={}));function ane(r){let t=J.useContext(qm);return t||St(!1),t}function cne(r,t){let{target:o,replace:c,state:u,preventScrollReset:d,relative:f,unstable_viewTransition:m}=t===void 0?{}:t,k=Sy(),w=Bl(),A=Gm(r,{relative:f});return J.useCallback(_=>{if(Zte(_,o)){_.preventDefault();let C=c!==void 0?c:nm(w)===nm(A);k(r,{replace:C,state:u,preventScrollReset:d,relative:f,unstable_viewTransition:m})}},[w,k,A,c,u,o,r,d,f,m])}function lne(r,t){t===void 0&&(t={});let o=J.useContext(nne);o==null&&St(!1);let{basename:c}=ane(ZA.useViewTransitionState),u=Gm(r,{relative:t.relative});if(!o.isTransitioning)return!1;let d=bl(o.currentLocation.pathname,c)||o.currentLocation.pathname,f=bl(o.nextLocation.pathname,c)||o.nextLocation.pathname;return JA(u.pathname,f)!=null||JA(u.pathname,d)!=null}const une="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADjSURBVHic7dqxjcJAEIXhN6YJ1tJRBRKF0AMRIWWQcV1cQEgN1AHerQINCRHyBhzrtRH/l440fp7MT5YAAAAAAN/HSi7ruu6naZo/SUtJs5K73xDdfdu27bFv2JR8kpntJK00nZeXpNbMfnPDogf4REUP4O57SWdJt5J73xTdfTt2CAAAAADTku0DYoxrMztIChXzDOEqaRNCOPUNswdIKSVJ86FSVXYJISz6BvQBucHjGzpVzDKUi7tvxg4BAAAAYFqK/h/wiop9w//6gKFV7hvoA3JGO0DFvoE+AAAAAADw5A7/2TtAkcETMwAAAABJRU5ErkJggg==";var TP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=function(r){const t=[];let o=0;for(let c=0;c<r.length;c++){let u=r.charCodeAt(c);u<128?t[o++]=u:u<2048?(t[o++]=u>>6|192,t[o++]=u&63|128):(u&64512)===55296&&c+1<r.length&&(r.charCodeAt(c+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++c)&1023),t[o++]=u>>18|240,t[o++]=u>>12&63|128,t[o++]=u>>6&63|128,t[o++]=u&63|128):(t[o++]=u>>12|224,t[o++]=u>>6&63|128,t[o++]=u&63|128)}return t},dne=function(r){const t=[];let o=0,c=0;for(;o<r.length;){const u=r[o++];if(u<128)t[c++]=String.fromCharCode(u);else if(u>191&&u<224){const d=r[o++];t[c++]=String.fromCharCode((u&31)<<6|d&63)}else if(u>239&&u<365){const d=r[o++],f=r[o++],m=r[o++],k=((u&7)<<18|(d&63)<<12|(f&63)<<6|m&63)-65536;t[c++]=String.fromCharCode(55296+(k>>10)),t[c++]=String.fromCharCode(56320+(k&1023))}else{const d=r[o++],f=r[o++];t[c++]=String.fromCharCode((u&15)<<12|(d&63)<<6|f&63)}}return t.join("")},x3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let u=0;u<r.length;u+=3){const d=r[u],f=u+1<r.length,m=f?r[u+1]:0,k=u+2<r.length,w=k?r[u+2]:0,A=d>>2,_=(d&3)<<4|m>>4;let C=(m&15)<<2|w>>6,E=w&63;k||(E=64,f||(C=64)),c.push(o[A],o[_],o[C],o[E])}return c.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(E3(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):dne(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const o=t?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let u=0;u<r.length;){const d=o[r.charAt(u++)],m=u<r.length?o[r.charAt(u)]:0;++u;const w=u<r.length?o[r.charAt(u)]:64;++u;const _=u<r.length?o[r.charAt(u)]:64;if(++u,d==null||m==null||w==null||_==null)throw new hne;const C=d<<2|m>>4;if(c.push(C),w!==64){const E=m<<4&240|w>>2;if(c.push(E),_!==64){const S=w<<6&192|_;c.push(S)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fne=function(r){const t=E3(r);return x3.encodeByteArray(t,!0)},im=function(r){return fne(r).replace(/\./g,"")},T3=function(r){try{return x3.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne=()=>pne().__FIREBASE_DEFAULTS__,mne=()=>{if(typeof process>"u"||typeof TP>"u")return;const r=TP.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kne=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&T3(r[1]);return t&&JSON.parse(t)},Km=()=>{try{return gne()||mne()||kne()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S3=r=>{var t,o;return(o=(t=Km())===null||t===void 0?void 0:t.emulatorHosts)===null||o===void 0?void 0:o[r]},D3=r=>{const t=S3(r);if(!t)return;const o=t.lastIndexOf(":");if(o<=0||o+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const c=parseInt(t.substring(o+1),10);return t[0]==="["?[t.substring(1,o-1),c]:[t.substring(0,o),c]},I3=()=>{var r;return(r=Km())===null||r===void 0?void 0:r.config},P3=r=>{var t;return(t=Km())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}wrapCallback(t){return(o,c)=>{o?this.reject(o):this.resolve(c),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(o):t(o,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},c=t||"demo-project",u=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:u,exp:u+3600,auth_time:u,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},r);return[im(JSON.stringify(o)),im(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function _ne(){var r;const t=(r=Km())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vne(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ane(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cne(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yne(){return!_ne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B3(){try{return typeof indexedDB=="object"}catch{return!1}}function Ene(){return new Promise((r,t)=>{try{let o=!0;const c="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(c);u.onsuccess=()=>{u.result.close(),o||self.indexedDB.deleteDatabase(c),r(!0)},u.onupgradeneeded=()=>{o=!1},u.onerror=()=>{var d;t(((d=u.error)===null||d===void 0?void 0:d.message)||"")}}catch(o){t(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne="FirebaseError";class oi extends Error{constructor(t,o,c){super(o),this.code=t,this.customData=c,this.name=xne,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(t,o,c){this.service=t,this.serviceName=o,this.errors=c}create(t,...o){const c=o[0]||{},u=`${this.service}/${t}`,d=this.errors[t],f=d?Tne(d,c):"Error",m=`${this.serviceName}: ${f} (${u}).`;return new oi(u,m,c)}}function Tne(r,t){return r.replace(Sne,(o,c)=>{const u=t[c];return u!=null?String(u):`<${c}?>`})}const Sne=/\{\$([^}]+)}/g;function Dne(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function sm(r,t){if(r===t)return!0;const o=Object.keys(r),c=Object.keys(t);for(const u of o){if(!c.includes(u))return!1;const d=r[u],f=t[u];if(SP(d)&&SP(f)){if(!sm(d,f))return!1}else if(d!==f)return!1}for(const u of c)if(!o.includes(u))return!1;return!0}function SP(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r){const t=[];for(const[o,c]of Object.entries(r))Array.isArray(c)?c.forEach(u=>{t.push(encodeURIComponent(o)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(o)+"="+encodeURIComponent(c));return t.length?"&"+t.join("&"):""}function ud(r){const t={};return r.replace(/^\?/,"").split("&").forEach(c=>{if(c){const[u,d]=c.split("=");t[decodeURIComponent(u)]=decodeURIComponent(d)}}),t}function dd(r){const t=r.indexOf("?");if(!t)return"";const o=r.indexOf("#",t);return r.substring(t,o>0?o:void 0)}function Ine(r,t){const o=new Pne(r,t);return o.subscribe.bind(o)}class Pne{constructor(t,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{t(this)}).catch(c=>{this.error(c)})}next(t){this.forEachObserver(o=>{o.next(t)})}error(t){this.forEachObserver(o=>{o.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,o,c){let u;if(t===void 0&&o===void 0&&c===void 0)throw new Error("Missing Observer.");Rne(t,["next","error","complete"])?u=t:u={next:t,error:o,complete:c},u.next===void 0&&(u.next=N0),u.error===void 0&&(u.error=N0),u.complete===void 0&&(u.complete=N0);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),d}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,t)}sendOne(t,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{o(this.observers[t])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rne(r,t){if(typeof r!="object"||r===null)return!1;for(const o of t)if(o in r&&typeof r[o]=="function")return!0;return!1}function N0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(t,o,c){this.name=t,this.instanceFactory=o,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(t,o){this.name=t,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const o=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(o)){const c=new bne;if(this.instancesDeferred.set(o,c),this.isInitialized(o)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:o});u&&c.resolve(u)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(t){var o;const c=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(o=t==null?void 0:t.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(d){if(u)return null;throw d}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Nne(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);try{const d=this.getOrInitializeService({instanceIdentifier:u});c.resolve(d)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...t.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:o={}}=t,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:c,options:o});for(const[d,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(d);c===m&&f.resolve(u)}return u}onInit(t,o){var c;const u=this.normalizeInstanceIdentifier(o),d=(c=this.onInitCallbacks.get(u))!==null&&c!==void 0?c:new Set;d.add(t),this.onInitCallbacks.set(u,d);const f=this.instances.get(u);return f&&t(f,u),()=>{d.delete(t)}}invokeOnInitCallbacks(t,o){const c=this.onInitCallbacks.get(o);if(c)for(const u of c)try{u(t,o)}catch{}}getOrInitializeService({instanceIdentifier:t,options:o={}}){let c=this.instances.get(t);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:One(t),options:o}),this.instances.set(t,c),this.instancesOptions.set(t,o),this.invokeOnInitCallbacks(c,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,c)}catch{}return c||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function One(r){return r===ka?void 0:r}function Nne(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const o=this.getProvider(t.name);if(o.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);o.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const o=new Bne(t,this);return this.providers.set(t,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const Vne={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Lne=Fe.INFO,Fne={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},zne=(r,t,...o)=>{if(t<r.logLevel)return;const c=new Date().toISOString(),u=Fne[t];if(u)console[u](`[${c}]  ${r.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Iy{constructor(t){this.name=t,this._logLevel=Lne,this._logHandler=zne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vne[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...t),this._logHandler(this,Fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...t),this._logHandler(this,Fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...t),this._logHandler(this,Fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...t),this._logHandler(this,Fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...t),this._logHandler(this,Fe.ERROR,...t)}}const jne=(r,t)=>t.some(o=>r instanceof o);let DP,IP;function Une(){return DP||(DP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $ne(){return IP||(IP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O3=new WeakMap,XA=new WeakMap,N3=new WeakMap,M0=new WeakMap,Py=new WeakMap;function Hne(r){const t=new Promise((o,c)=>{const u=()=>{r.removeEventListener("success",d),r.removeEventListener("error",f)},d=()=>{o(ys(r.result)),u()},f=()=>{c(r.error),u()};r.addEventListener("success",d),r.addEventListener("error",f)});return t.then(o=>{o instanceof IDBCursor&&O3.set(o,r)}).catch(()=>{}),Py.set(t,r),t}function qne(r){if(XA.has(r))return;const t=new Promise((o,c)=>{const u=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",f),r.removeEventListener("abort",f)},d=()=>{o(),u()},f=()=>{c(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",d),r.addEventListener("error",f),r.addEventListener("abort",f)});XA.set(r,t)}let eC={get(r,t,o){if(r instanceof IDBTransaction){if(t==="done")return XA.get(r);if(t==="objectStoreNames")return r.objectStoreNames||N3.get(r);if(t==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return ys(r[t])},set(r,t,o){return r[t]=o,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Wne(r){eC=r(eC)}function Gne(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...o){const c=r.call(V0(this),t,...o);return N3.set(c,t.sort?t.sort():[t]),ys(c)}:$ne().includes(r)?function(...t){return r.apply(V0(this),t),ys(O3.get(this))}:function(...t){return ys(r.apply(V0(this),t))}}function Kne(r){return typeof r=="function"?Gne(r):(r instanceof IDBTransaction&&qne(r),jne(r,Une())?new Proxy(r,eC):r)}function ys(r){if(r instanceof IDBRequest)return Hne(r);if(M0.has(r))return M0.get(r);const t=Kne(r);return t!==r&&(M0.set(r,t),Py.set(t,r)),t}const V0=r=>Py.get(r);function Qne(r,t,{blocked:o,upgrade:c,blocking:u,terminated:d}={}){const f=indexedDB.open(r,t),m=ys(f);return c&&f.addEventListener("upgradeneeded",k=>{c(ys(f.result),k.oldVersion,k.newVersion,ys(f.transaction),k)}),o&&f.addEventListener("blocked",k=>o(k.oldVersion,k.newVersion,k)),m.then(k=>{d&&k.addEventListener("close",()=>d()),u&&k.addEventListener("versionchange",w=>u(w.oldVersion,w.newVersion,w))}).catch(()=>{}),m}const Jne=["get","getKey","getAll","getAllKeys","count"],Yne=["put","add","delete","clear"],L0=new Map;function PP(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(L0.get(t))return L0.get(t);const o=t.replace(/FromIndex$/,""),c=t!==o,u=Yne.includes(o);if(!(o in(c?IDBIndex:IDBObjectStore).prototype)||!(u||Jne.includes(o)))return;const d=async function(f,...m){const k=this.transaction(f,u?"readwrite":"readonly");let w=k.store;return c&&(w=w.index(m.shift())),(await Promise.all([w[o](...m),u&&k.done]))[0]};return L0.set(t,d),d}Wne(r=>({...r,get:(t,o,c)=>PP(t,o)||r.get(t,o,c),has:(t,o)=>!!PP(t,o)||r.has(t,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(Xne(o)){const c=o.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(o=>o).join(" ")}}function Xne(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const tC="@firebase/app",RP="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Iy("@firebase/app"),ere="@firebase/app-compat",tre="@firebase/analytics-compat",nre="@firebase/analytics",rre="@firebase/app-check-compat",ore="@firebase/app-check",ire="@firebase/auth",sre="@firebase/auth-compat",are="@firebase/database",cre="@firebase/database-compat",lre="@firebase/functions",ure="@firebase/functions-compat",dre="@firebase/installations",hre="@firebase/installations-compat",fre="@firebase/messaging",pre="@firebase/messaging-compat",gre="@firebase/performance",mre="@firebase/performance-compat",kre="@firebase/remote-config",bre="@firebase/remote-config-compat",wre="@firebase/storage",_re="@firebase/storage-compat",vre="@firebase/firestore",Are="@firebase/firestore-compat",Cre="firebase",yre="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="[DEFAULT]",Ere={[tC]:"fire-core",[ere]:"fire-core-compat",[nre]:"fire-analytics",[tre]:"fire-analytics-compat",[ore]:"fire-app-check",[rre]:"fire-app-check-compat",[ire]:"fire-auth",[sre]:"fire-auth-compat",[are]:"fire-rtdb",[cre]:"fire-rtdb-compat",[lre]:"fire-fn",[ure]:"fire-fn-compat",[dre]:"fire-iid",[hre]:"fire-iid-compat",[fre]:"fire-fcm",[pre]:"fire-fcm-compat",[gre]:"fire-perf",[mre]:"fire-perf-compat",[kre]:"fire-rc",[bre]:"fire-rc-compat",[wre]:"fire-gcs",[_re]:"fire-gcs-compat",[vre]:"fire-fst",[Are]:"fire-fst-compat","fire-js":"fire-js",[Cre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map,rC=new Map;function xre(r,t){try{r.container.addComponent(t)}catch(o){Ma.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,o)}}function Va(r){const t=r.name;if(rC.has(t))return Ma.debug(`There were multiple attempts to register component ${t}.`),!1;rC.set(t,r);for(const o of am.values())xre(o,r);return!0}function Qm(r,t){const o=r.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Es=new Ah("app","Firebase",Tre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(t,o,c){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=yre;function M3(r,t={}){let o=r;typeof t!="object"&&(t={name:t});const c=Object.assign({name:nC,automaticDataCollectionEnabled:!1},t),u=c.name;if(typeof u!="string"||!u)throw Es.create("bad-app-name",{appName:String(u)});if(o||(o=I3()),!o)throw Es.create("no-options");const d=am.get(u);if(d){if(sm(o,d.options)&&sm(c,d.config))return d;throw Es.create("duplicate-app",{appName:u})}const f=new Mne(u);for(const k of rC.values())f.addComponent(k);const m=new Sre(o,c,f);return am.set(u,m),m}function Ry(r=nC){const t=am.get(r);if(!t&&r===nC&&I3())return M3();if(!t)throw Es.create("no-app",{appName:r});return t}function Ko(r,t,o){var c;let u=(c=Ere[r])!==null&&c!==void 0?c:r;o&&(u+=`-${o}`);const d=u.match(/\s|\//),f=t.match(/\s|\//);if(d||f){const m=[`Unable to register library "${u}" with version "${t}":`];d&&m.push(`library name "${u}" contains illegal characters (whitespace or "/")`),d&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ma.warn(m.join(" "));return}Va(new Ds(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre="firebase-heartbeat-database",Ire=1,Xd="firebase-heartbeat-store";let F0=null;function V3(){return F0||(F0=Qne(Dre,Ire,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Xd)}catch(o){console.warn(o)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),F0}async function Pre(r){try{const o=(await V3()).transaction(Xd),c=await o.objectStore(Xd).get(L3(r));return await o.done,c}catch(t){if(t instanceof oi)Ma.warn(t.message);else{const o=Es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ma.warn(o.message)}}}async function BP(r,t){try{const c=(await V3()).transaction(Xd,"readwrite");await c.objectStore(Xd).put(t,L3(r)),await c.done}catch(o){if(o instanceof oi)Ma.warn(o.message);else{const c=Es.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Ma.warn(c.message)}}}function L3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre=1024,Bre=30*24*60*60*1e3;class Ore{constructor(t){this.container=t,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new Mre(o),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var t,o;const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=OP();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===d||this._heartbeatsCache.heartbeats.some(f=>f.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Bre}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=OP(),{heartbeatsToSend:c,unsentEntries:u}=Nre(this._heartbeatsCache.heartbeats),d=im(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=o,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}}function OP(){return new Date().toISOString().substring(0,10)}function Nre(r,t=Rre){const o=[];let c=r.slice();for(const u of r){const d=o.find(f=>f.agent===u.agent);if(d){if(d.dates.push(u.date),NP(o)>t){d.dates.pop();break}}else if(o.push({agent:u.agent,dates:[u.date]}),NP(o)>t){o.pop();break}c=c.slice(1)}return{heartbeatsToSend:o,unsentEntries:c}}class Mre{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B3()?Ene().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await Pre(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var o;if(await this._canUseIndexedDBPromise){const u=await this.read();return BP(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var o;if(await this._canUseIndexedDBPromise){const u=await this.read();return BP(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function NP(r){return im(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(r){Va(new Ds("platform-logger",t=>new Zne(t),"PRIVATE")),Va(new Ds("heartbeat",t=>new Ore(t),"PRIVATE")),Ko(tC,RP,r),Ko(tC,RP,"esm2017"),Ko("fire-js","")}Vre("");var Lre="firebase",Fre="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(Lre,Fre,"app");var zre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se,By=By||{},xe=zre||self;function Jm(r){var t=typeof r;return t=t!="object"?t:r?Array.isArray(r)?"array":t:"null",t=="array"||t=="object"&&typeof r.length=="number"}function yh(r){var t=typeof r;return t=="object"&&r!=null||t=="function"}function jre(r){return Object.prototype.hasOwnProperty.call(r,z0)&&r[z0]||(r[z0]=++Ure)}var z0="closure_uid_"+(1e9*Math.random()>>>0),Ure=0;function $re(r,t,o){return r.call.apply(r.bind,arguments)}function Hre(r,t,o){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,c),r.apply(t,u)}}return function(){return r.apply(t,arguments)}}function Mn(r,t,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=$re:Mn=Hre,Mn.apply(null,arguments)}function eg(r,t){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),r.apply(this,c)}}function un(r,t){function o(){}o.prototype=t.prototype,r.$=t.prototype,r.prototype=new o,r.prototype.constructor=r,r.ac=function(c,u,d){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return t.prototype[u].apply(c,f)}}function Ms(){this.s=this.s,this.o=this.o}var qre=0;Ms.prototype.s=!1;Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qre!=0)&&jre(this)};Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F3=Array.prototype.indexOf?function(r,t){return Array.prototype.indexOf.call(r,t,void 0)}:function(r,t){if(typeof r=="string")return typeof t!="string"||t.length!=1?-1:r.indexOf(t,0);for(let o=0;o<r.length;o++)if(o in r&&r[o]===t)return o;return-1};function Oy(r){const t=r.length;if(0<t){const o=Array(t);for(let c=0;c<t;c++)o[c]=r[c];return o}return[]}function MP(r,t){for(let o=1;o<arguments.length;o++){const c=arguments[o];if(Jm(c)){const u=r.length||0,d=c.length||0;r.length=u+d;for(let f=0;f<d;f++)r[u+f]=c[f]}else r.push(c)}}function Vn(r,t){this.type=r,this.g=this.target=t,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var Wre=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var r=!1,t=Object.defineProperty({},"passive",{get:function(){r=!0}});try{const o=()=>{};xe.addEventListener("test",o,t),xe.removeEventListener("test",o,t)}catch{}return r}();function eh(r){return/^[\s\xa0]*$/.test(r)}function Ym(){var r=xe.navigator;return r&&(r=r.userAgent)?r:""}function Uo(r){return Ym().indexOf(r)!=-1}function Ny(r){return Ny[" "](r),r}Ny[" "]=function(){};function Gre(r,t){var o=Foe;return Object.prototype.hasOwnProperty.call(o,r)?o[r]:o[r]=t(r)}var Kre=Uo("Opera"),wl=Uo("Trident")||Uo("MSIE"),z3=Uo("Edge"),oC=z3||wl,j3=Uo("Gecko")&&!(Ym().toLowerCase().indexOf("webkit")!=-1&&!Uo("Edge"))&&!(Uo("Trident")||Uo("MSIE"))&&!Uo("Edge"),Qre=Ym().toLowerCase().indexOf("webkit")!=-1&&!Uo("Edge");function U3(){var r=xe.document;return r?r.documentMode:void 0}var iC;e:{var j0="",U0=function(){var r=Ym();if(j3)return/rv:([^\);]+)(\)|;)/.exec(r);if(z3)return/Edge\/([\d\.]+)/.exec(r);if(wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Qre)return/WebKit\/(\S+)/.exec(r);if(Kre)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(U0&&(j0=U0?U0[1]:""),wl){var $0=U3();if($0!=null&&$0>parseFloat(j0)){iC=String($0);break e}}iC=j0}var sC;if(xe.document&&wl){var VP=U3();sC=VP||parseInt(iC,10)||void 0}else sC=void 0;var Jre=sC;function th(r,t){if(Vn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var o=this.type=r.type,c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=t,t=r.relatedTarget){if(j3){e:{try{Ny(t.nodeName);var u=!0;break e}catch{}u=!1}u||(t=null)}}else o=="mouseover"?t=r.fromElement:o=="mouseout"&&(t=r.toElement);this.relatedTarget=t,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Yre[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&th.$.h.call(this)}}un(th,Vn);var Yre={2:"touch",3:"pen",4:"mouse"};th.prototype.h=function(){th.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Eh="closure_listenable_"+(1e6*Math.random()|0),Zre=0;function Xre(r,t,o,c,u){this.listener=r,this.proxy=null,this.src=t,this.type=o,this.capture=!!c,this.la=u,this.key=++Zre,this.fa=this.ia=!1}function Zm(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function My(r,t,o){for(const c in r)t.call(o,r[c],c,r)}function eoe(r,t){for(const o in r)t.call(void 0,r[o],o,r)}function $3(r){const t={};for(const o in r)t[o]=r[o];return t}const LP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H3(r,t){let o,c;for(let u=1;u<arguments.length;u++){c=arguments[u];for(o in c)r[o]=c[o];for(let d=0;d<LP.length;d++)o=LP[d],Object.prototype.hasOwnProperty.call(c,o)&&(r[o]=c[o])}}function Xm(r){this.src=r,this.g={},this.h=0}Xm.prototype.add=function(r,t,o,c,u){var d=r.toString();r=this.g[d],r||(r=this.g[d]=[],this.h++);var f=cC(r,t,c,u);return-1<f?(t=r[f],o||(t.ia=!1)):(t=new Xre(t,this.src,d,!!c,u),t.ia=o,r.push(t)),t};function aC(r,t){var o=t.type;if(o in r.g){var c=r.g[o],u=F3(c,t),d;(d=0<=u)&&Array.prototype.splice.call(c,u,1),d&&(Zm(t),r.g[o].length==0&&(delete r.g[o],r.h--))}}function cC(r,t,o,c){for(var u=0;u<r.length;++u){var d=r[u];if(!d.fa&&d.listener==t&&d.capture==!!o&&d.la==c)return u}return-1}var Vy="closure_lm_"+(1e6*Math.random()|0),H0={};function q3(r,t,o,c,u){if(c&&c.once)return G3(r,t,o,c,u);if(Array.isArray(t)){for(var d=0;d<t.length;d++)q3(r,t[d],o,c,u);return null}return o=zy(o),r&&r[Eh]?r.O(t,o,yh(c)?!!c.capture:!!c,u):W3(r,t,o,!1,c,u)}function W3(r,t,o,c,u,d){if(!t)throw Error("Invalid event type");var f=yh(u)?!!u.capture:!!u,m=Fy(r);if(m||(r[Vy]=m=new Xm(r)),o=m.add(t,o,c,f,d),o.proxy)return o;if(c=toe(),o.proxy=c,c.src=r,c.listener=o,r.addEventListener)Wre||(u=f),u===void 0&&(u=!1),r.addEventListener(t.toString(),c,u);else if(r.attachEvent)r.attachEvent(Q3(t.toString()),c);else if(r.addListener&&r.removeListener)r.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return o}function toe(){function r(o){return t.call(r.src,r.listener,o)}const t=noe;return r}function G3(r,t,o,c,u){if(Array.isArray(t)){for(var d=0;d<t.length;d++)G3(r,t[d],o,c,u);return null}return o=zy(o),r&&r[Eh]?r.P(t,o,yh(c)?!!c.capture:!!c,u):W3(r,t,o,!0,c,u)}function K3(r,t,o,c,u){if(Array.isArray(t))for(var d=0;d<t.length;d++)K3(r,t[d],o,c,u);else c=yh(c)?!!c.capture:!!c,o=zy(o),r&&r[Eh]?(r=r.i,t=String(t).toString(),t in r.g&&(d=r.g[t],o=cC(d,o,c,u),-1<o&&(Zm(d[o]),Array.prototype.splice.call(d,o,1),d.length==0&&(delete r.g[t],r.h--)))):r&&(r=Fy(r))&&(t=r.g[t.toString()],r=-1,t&&(r=cC(t,o,c,u)),(o=-1<r?t[r]:null)&&Ly(o))}function Ly(r){if(typeof r!="number"&&r&&!r.fa){var t=r.src;if(t&&t[Eh])aC(t.i,r);else{var o=r.type,c=r.proxy;t.removeEventListener?t.removeEventListener(o,c,r.capture):t.detachEvent?t.detachEvent(Q3(o),c):t.addListener&&t.removeListener&&t.removeListener(c),(o=Fy(t))?(aC(o,r),o.h==0&&(o.src=null,t[Vy]=null)):Zm(r)}}}function Q3(r){return r in H0?H0[r]:H0[r]="on"+r}function noe(r,t){if(r.fa)r=!0;else{t=new th(t,this);var o=r.listener,c=r.la||r.src;r.ia&&Ly(r),r=o.call(c,t)}return r}function Fy(r){return r=r[Vy],r instanceof Xm?r:null}var q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function zy(r){return typeof r=="function"?r:(r[q0]||(r[q0]=function(t){return r.handleEvent(t)}),r[q0])}function ln(){Ms.call(this),this.i=new Xm(this),this.S=this,this.J=null}un(ln,Ms);ln.prototype[Eh]=!0;ln.prototype.removeEventListener=function(r,t,o,c){K3(this,r,t,o,c)};function Cn(r,t){var o,c=r.J;if(c)for(o=[];c;c=c.J)o.push(c);if(r=r.S,c=t.type||t,typeof t=="string")t=new Vn(t,r);else if(t instanceof Vn)t.target=t.target||r;else{var u=t;t=new Vn(c,r),H3(t,u)}if(u=!0,o)for(var d=o.length-1;0<=d;d--){var f=t.g=o[d];u=tg(f,c,!0,t)&&u}if(f=t.g=r,u=tg(f,c,!0,t)&&u,u=tg(f,c,!1,t)&&u,o)for(d=0;d<o.length;d++)f=t.g=o[d],u=tg(f,c,!1,t)&&u}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var r=this.i,t;for(t in r.g){for(var o=r.g[t],c=0;c<o.length;c++)Zm(o[c]);delete r.g[t],r.h--}}this.J=null};ln.prototype.O=function(r,t,o,c){return this.i.add(String(r),t,!1,o,c)};ln.prototype.P=function(r,t,o,c){return this.i.add(String(r),t,!0,o,c)};function tg(r,t,o,c){if(t=r.i.g[String(t)],!t)return!0;t=t.concat();for(var u=!0,d=0;d<t.length;++d){var f=t[d];if(f&&!f.fa&&f.capture==o){var m=f.listener,k=f.la||f.src;f.ia&&aC(r.i,f),u=m.call(k,c)!==!1&&u}}return u&&!c.defaultPrevented}var jy=xe.JSON.stringify;class roe{constructor(t,o){this.i=t,this.j=o,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function ooe(){var r=Uy;let t=null;return r.g&&(t=r.g,r.g=r.g.next,r.g||(r.h=null),t.next=null),t}class ioe{constructor(){this.h=this.g=null}add(t,o){const c=J3.get();c.set(t,o),this.h?this.h.next=c:this.g=c,this.h=c}}var J3=new roe(()=>new soe,r=>r.reset());class soe{constructor(){this.next=this.g=this.h=null}set(t,o){this.h=t,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function aoe(r){var t=1;r=r.split(":");const o=[];for(;0<t&&r.length;)o.push(r.shift()),t--;return r.length&&o.push(r.join(":")),o}function coe(r){xe.setTimeout(()=>{throw r},0)}let nh,rh=!1,Uy=new ioe,Y3=()=>{const r=xe.Promise.resolve(void 0);nh=()=>{r.then(loe)}};var loe=()=>{for(var r;r=ooe();){try{r.h.call(r.g)}catch(o){coe(o)}var t=J3;t.j(r),100>t.h&&(t.h++,r.next=t.g,t.g=r)}rh=!1};function ek(r,t){ln.call(this),this.h=r||1,this.g=t||xe,this.j=Mn(this.qb,this),this.l=Date.now()}un(ek,ln);se=ek.prototype;se.ga=!1;se.T=null;se.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cn(this,"tick"),this.ga&&($y(this),this.start()))}};se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $y(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}se.N=function(){ek.$.N.call(this),$y(this),delete this.g};function Hy(r,t,o){if(typeof r=="function")o&&(r=Mn(r,o));else if(r&&typeof r.handleEvent=="function")r=Mn(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:xe.setTimeout(r,t||0)}function Z3(r){r.g=Hy(()=>{r.g=null,r.i&&(r.i=!1,Z3(r))},r.j);const t=r.h;r.h=null,r.m.apply(null,t)}class uoe extends Ms{constructor(t,o){super(),this.m=t,this.j=o,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Z3(this)}N(){super.N(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oh(r){Ms.call(this),this.h=r,this.g={}}un(oh,Ms);var FP=[];function X3(r,t,o,c){Array.isArray(o)||(o&&(FP[0]=o.toString()),o=FP);for(var u=0;u<o.length;u++){var d=q3(t,o[u],c||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function eO(r){My(r.g,function(t,o){this.g.hasOwnProperty(o)&&Ly(t)},r),r.g={}}oh.prototype.N=function(){oh.$.N.call(this),eO(this)};oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tk(){this.g=!0}tk.prototype.Ea=function(){this.g=!1};function doe(r,t,o,c,u,d){r.info(function(){if(r.g)if(d)for(var f="",m=d.split("&"),k=0;k<m.length;k++){var w=m[k].split("=");if(1<w.length){var A=w[0];w=w[1];var _=A.split("_");f=2<=_.length&&_[1]=="type"?f+(A+"="+w+"&"):f+(A+"=redacted&")}}else f=null;else f=d;return"XMLHTTP REQ ("+c+") [attempt "+u+"]: "+t+`
`+o+`
`+f})}function hoe(r,t,o,c,u,d,f){r.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+u+"]: "+t+`
`+o+`
`+d+" "+f})}function Yc(r,t,o,c){r.info(function(){return"XMLHTTP TEXT ("+t+"): "+poe(r,o)+(c?" "+c:"")})}function foe(r,t){r.info(function(){return"TIMEOUT: "+t})}tk.prototype.info=function(){};function poe(r,t){if(!r.g)return t;if(!t)return null;try{var o=JSON.parse(t);if(o){for(r=0;r<o.length;r++)if(Array.isArray(o[r])){var c=o[r];if(!(2>c.length)){var u=c[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if(d!="noop"&&d!="stop"&&d!="close")for(var f=1;f<u.length;f++)u[f]=""}}}}return jy(o)}catch{return t}}var Ga={},zP=null;function nk(){return zP=zP||new ln}Ga.Ta="serverreachability";function tO(r){Vn.call(this,Ga.Ta,r)}un(tO,Vn);function ih(r){const t=nk();Cn(t,new tO(t))}Ga.STAT_EVENT="statevent";function nO(r,t){Vn.call(this,Ga.STAT_EVENT,r),this.stat=t}un(nO,Vn);function Gn(r){const t=nk();Cn(t,new nO(t,r))}Ga.Ua="timingevent";function rO(r,t){Vn.call(this,Ga.Ua,r),this.size=t}un(rO,Vn);function xh(r,t){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){r()},t)}var rk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qy(){}qy.prototype.h=null;function jP(r){return r.h||(r.h=r.i())}function iO(){}var Th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wy(){Vn.call(this,"d")}un(Wy,Vn);function Gy(){Vn.call(this,"c")}un(Gy,Vn);var lC;function ok(){}un(ok,qy);ok.prototype.g=function(){return new XMLHttpRequest};ok.prototype.i=function(){return{}};lC=new ok;function Sh(r,t,o,c){this.l=r,this.j=t,this.m=o,this.W=c||1,this.U=new oh(this),this.P=goe,r=oC?125:void 0,this.V=new ek(r),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sO}function sO(){this.i=null,this.g="",this.h=!1}var goe=45e3,aO={},uC={};se=Sh.prototype;se.setTimeout=function(r){this.P=r};function dC(r,t,o){r.L=1,r.A=sk(Pi(t)),r.u=o,r.S=!0,cO(r,null)}function cO(r,t){r.G=Date.now(),Dh(r),r.B=Pi(r.A);var o=r.B,c=r.W;Array.isArray(c)||(c=[String(c)]),mO(o.i,"t",c),r.o=0,o=r.l.J,r.h=new sO,r.g=VO(r.l,o?t:null,!r.u),0<r.O&&(r.M=new uoe(Mn(r.Pa,r,r.g),r.O)),X3(r.U,r.g,"readystatechange",r.nb),t=r.I?$3(r.I):{},r.u?(r.v||(r.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.B,r.v,r.u,t)):(r.v="GET",r.g.ha(r.B,r.v,null,t)),ih(),doe(r.j,r.v,r.B,r.m,r.W,r.u)}se.nb=function(r){r=r.target;const t=this.M;t&&$o(r)==3?t.l():this.Pa(r)};se.Pa=function(r){try{if(r==this.g)e:{const A=$o(this.g);var t=this.g.Ia();const _=this.g.da();if(!(3>A)&&(A!=3||oC||this.g&&(this.h.h||this.g.ja()||qP(this.g)))){this.J||A!=4||t==7||(t==8||0>=_?ih(3):ih(2)),ik(this);var o=this.g.da();this.ca=o;t:if(lO(this)){var c=qP(this.g);r="";var u=c.length,d=$o(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Aa(this),xd(this);var f="";break t}this.h.i=new xe.TextDecoder}for(t=0;t<u;t++)this.h.h=!0,r+=this.h.i.decode(c[t],{stream:d&&t==u-1});c.length=0,this.h.g+=r,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=o==200,hoe(this.j,this.v,this.B,this.m,this.W,A,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,k=this.g;if((m=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eh(m)){var w=m;break t}}w=null}if(o=w)Yc(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hC(this,o);else{this.i=!1,this.s=3,Gn(12),Aa(this),xd(this);break e}}this.S?(uO(this,A,f),oC&&this.i&&A==3&&(X3(this.U,this.V,"tick",this.mb),this.V.start())):(Yc(this.j,this.m,f,null),hC(this,f)),A==4&&Aa(this),this.i&&!this.J&&(A==4?BO(this.l,this):(this.i=!1,Dh(this)))}else Moe(this.g),o==400&&0<f.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),Aa(this),xd(this)}}}catch{}finally{}};function lO(r){return r.g?r.v=="GET"&&r.L!=2&&r.l.Ha:!1}function uO(r,t,o){let c=!0,u;for(;!r.J&&r.o<o.length;)if(u=moe(r,o),u==uC){t==4&&(r.s=4,Gn(14),c=!1),Yc(r.j,r.m,null,"[Incomplete Response]");break}else if(u==aO){r.s=4,Gn(15),Yc(r.j,r.m,o,"[Invalid Chunk]"),c=!1;break}else Yc(r.j,r.m,u,null),hC(r,u);lO(r)&&r.o!=0&&(r.h.g=r.h.g.slice(r.o),r.o=0),t!=4||o.length!=0||r.h.h||(r.s=1,Gn(16),c=!1),r.i=r.i&&c,c?0<o.length&&!r.ba&&(r.ba=!0,t=r.l,t.g==r&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),Xy(t),t.M=!0,Gn(11))):(Yc(r.j,r.m,o,"[Invalid Chunked Response]"),Aa(r),xd(r))}se.mb=function(){if(this.g){var r=$o(this.g),t=this.g.ja();this.o<t.length&&(ik(this),uO(this,r,t),this.i&&r!=4&&Dh(this))}};function moe(r,t){var o=r.o,c=t.indexOf(`
`,o);return c==-1?uC:(o=Number(t.substring(o,c)),isNaN(o)?aO:(c+=1,c+o>t.length?uC:(t=t.slice(c,c+o),r.o=c+o,t)))}se.cancel=function(){this.J=!0,Aa(this)};function Dh(r){r.Y=Date.now()+r.P,dO(r,r.P)}function dO(r,t){if(r.C!=null)throw Error("WatchDog timer not null");r.C=xh(Mn(r.lb,r),t)}function ik(r){r.C&&(xe.clearTimeout(r.C),r.C=null)}se.lb=function(){this.C=null;const r=Date.now();0<=r-this.Y?(foe(this.j,this.B),this.L!=2&&(ih(),Gn(17)),Aa(this),this.s=2,xd(this)):dO(this,this.Y-r)};function xd(r){r.l.H==0||r.J||BO(r.l,r)}function Aa(r){ik(r);var t=r.M;t&&typeof t.sa=="function"&&t.sa(),r.M=null,$y(r.V),eO(r.U),r.g&&(t=r.g,r.g=null,t.abort(),t.sa())}function hC(r,t){try{var o=r.l;if(o.H!=0&&(o.g==r||fC(o.i,r))){if(!r.K&&fC(o.i,r)&&o.H==3){try{var c=o.Ja.g.parse(t)}catch{c=null}if(Array.isArray(c)&&c.length==3){var u=c;if(u[0]==0){e:if(!o.u){if(o.g)if(o.g.G+3e3<r.G)um(o),uk(o);else break e;Zy(o),Gn(18)}}else o.Fa=u[1],0<o.Fa-o.V&&37500>u[2]&&o.G&&o.A==0&&!o.v&&(o.v=xh(Mn(o.ib,o),6e3));if(1>=wO(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else Ca(o,11)}else if((r.K||o.g==r)&&um(o),!eh(t))for(u=o.Ja.g.parse(t),t=0;t<u.length;t++){let w=u[t];if(o.V=w[0],w=w[1],o.H==2)if(w[0]=="c"){o.K=w[1],o.pa=w[2];const A=w[3];A!=null&&(o.ra=A,o.l.info("VER="+o.ra));const _=w[4];_!=null&&(o.Ga=_,o.l.info("SVER="+o.Ga));const C=w[5];C!=null&&typeof C=="number"&&0<C&&(c=1.5*C,o.L=c,o.l.info("backChannelRequestTimeoutMs_="+c)),c=o;const E=r.g;if(E){const S=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var d=c.i;d.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(d.j=d.l,d.g=new Set,d.h&&(Ky(d,d.h),d.h=null))}if(c.F){const R=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(c.Da=R,bt(c.I,c.F,R))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-r.G,o.l.info("Handshake RTT: "+o.S+"ms")),c=o;var f=r;if(c.wa=MO(c,c.J?c.pa:null,c.Y),f.K){_O(c.i,f);var m=f,k=c.L;k&&m.setTimeout(k),m.C&&(ik(m),Dh(m)),c.g=f}else PO(c);0<o.j.length&&dk(o)}else w[0]!="stop"&&w[0]!="close"||Ca(o,7);else o.H==3&&(w[0]=="stop"||w[0]=="close"?w[0]=="stop"?Ca(o,7):Yy(o):w[0]!="noop"&&o.h&&o.h.Aa(w),o.A=0)}}ih(4)}catch{}}function koe(r){if(r.Z&&typeof r.Z=="function")return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(Jm(r)){for(var t=[],o=r.length,c=0;c<o;c++)t.push(r[c]);return t}t=[],o=0;for(c in r)t[o++]=r[c];return t}function boe(r){if(r.ta&&typeof r.ta=="function")return r.ta();if(!r.Z||typeof r.Z!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Jm(r)||typeof r=="string"){var t=[];r=r.length;for(var o=0;o<r;o++)t.push(o);return t}t=[],o=0;for(const c in r)t[o++]=c;return t}}}function hO(r,t){if(r.forEach&&typeof r.forEach=="function")r.forEach(t,void 0);else if(Jm(r)||typeof r=="string")Array.prototype.forEach.call(r,t,void 0);else for(var o=boe(r),c=koe(r),u=c.length,d=0;d<u;d++)t.call(void 0,c[d],o&&o[d],r)}var fO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function woe(r,t){if(r){r=r.split("&");for(var o=0;o<r.length;o++){var c=r[o].indexOf("="),u=null;if(0<=c){var d=r[o].substring(0,c);u=r[o].substring(c+1)}else d=r[o];t(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}function Sa(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Sa){this.h=r.h,cm(this,r.j),this.s=r.s,this.g=r.g,lm(this,r.m),this.l=r.l;var t=r.i,o=new sh;o.i=t.i,t.g&&(o.g=new Map(t.g),o.h=t.h),UP(this,o),this.o=r.o}else r&&(t=String(r).match(fO))?(this.h=!1,cm(this,t[1]||"",!0),this.s=hd(t[2]||""),this.g=hd(t[3]||"",!0),lm(this,t[4]),this.l=hd(t[5]||"",!0),UP(this,t[6]||"",!0),this.o=hd(t[7]||"")):(this.h=!1,this.i=new sh(null,this.h))}Sa.prototype.toString=function(){var r=[],t=this.j;t&&r.push(fd(t,$P,!0),":");var o=this.g;return(o||t=="file")&&(r.push("//"),(t=this.s)&&r.push(fd(t,$P,!0),"@"),r.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.m,o!=null&&r.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&r.push("/"),r.push(fd(o,o.charAt(0)=="/"?Aoe:voe,!0))),(o=this.i.toString())&&r.push("?",o),(o=this.o)&&r.push("#",fd(o,yoe)),r.join("")};function Pi(r){return new Sa(r)}function cm(r,t,o){r.j=o?hd(t,!0):t,r.j&&(r.j=r.j.replace(/:$/,""))}function lm(r,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);r.m=t}else r.m=null}function UP(r,t,o){t instanceof sh?(r.i=t,Eoe(r.i,r.h)):(o||(t=fd(t,Coe)),r.i=new sh(t,r.h))}function bt(r,t,o){r.i.set(t,o)}function sk(r){return bt(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function hd(r,t){return r?t?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function fd(r,t,o){return typeof r=="string"?(r=encodeURI(r).replace(t,_oe),o&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function _oe(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var $P=/[#\/\?@]/g,voe=/[#\?:]/g,Aoe=/[#\?]/g,Coe=/[#\?@]/g,yoe=/#/g;function sh(r,t){this.h=this.g=null,this.i=r||null,this.j=!!t}function Vs(r){r.g||(r.g=new Map,r.h=0,r.i&&woe(r.i,function(t,o){r.add(decodeURIComponent(t.replace(/\+/g," ")),o)}))}se=sh.prototype;se.add=function(r,t){Vs(this),this.i=null,r=Ol(this,r);var o=this.g.get(r);return o||this.g.set(r,o=[]),o.push(t),this.h+=1,this};function pO(r,t){Vs(r),t=Ol(r,t),r.g.has(t)&&(r.i=null,r.h-=r.g.get(t).length,r.g.delete(t))}function gO(r,t){return Vs(r),t=Ol(r,t),r.g.has(t)}se.forEach=function(r,t){Vs(this),this.g.forEach(function(o,c){o.forEach(function(u){r.call(t,u,c,this)},this)},this)};se.ta=function(){Vs(this);const r=Array.from(this.g.values()),t=Array.from(this.g.keys()),o=[];for(let c=0;c<t.length;c++){const u=r[c];for(let d=0;d<u.length;d++)o.push(t[c])}return o};se.Z=function(r){Vs(this);let t=[];if(typeof r=="string")gO(this,r)&&(t=t.concat(this.g.get(Ol(this,r))));else{r=Array.from(this.g.values());for(let o=0;o<r.length;o++)t=t.concat(r[o])}return t};se.set=function(r,t){return Vs(this),this.i=null,r=Ol(this,r),gO(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[t]),this.h+=1,this};se.get=function(r,t){return r?(r=this.Z(r),0<r.length?String(r[0]):t):t};function mO(r,t,o){pO(r,t),0<o.length&&(r.i=null,r.g.set(Ol(r,t),Oy(o)),r.h+=o.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],t=Array.from(this.g.keys());for(var o=0;o<t.length;o++){var c=t[o];const d=encodeURIComponent(String(c)),f=this.Z(c);for(c=0;c<f.length;c++){var u=d;f[c]!==""&&(u+="="+encodeURIComponent(String(f[c]))),r.push(u)}}return this.i=r.join("&")};function Ol(r,t){return t=String(t),r.j&&(t=t.toLowerCase()),t}function Eoe(r,t){t&&!r.j&&(Vs(r),r.i=null,r.g.forEach(function(o,c){var u=c.toLowerCase();c!=u&&(pO(this,c),mO(this,u,o))},r)),r.j=t}var xoe=class{constructor(r,t){this.g=r,this.map=t}};function kO(r){this.l=r||Toe,xe.PerformanceNavigationTiming?(r=xe.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(xe.g&&xe.g.Ka&&xe.g.Ka()&&xe.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Toe=10;function bO(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function wO(r){return r.h?1:r.g?r.g.size:0}function fC(r,t){return r.h?r.h==t:r.g?r.g.has(t):!1}function Ky(r,t){r.g?r.g.add(t):r.h=t}function _O(r,t){r.h&&r.h==t?r.h=null:r.g&&r.g.has(t)&&r.g.delete(t)}kO.prototype.cancel=function(){if(this.i=vO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const r of this.g.values())r.cancel();this.g.clear()}};function vO(r){if(r.h!=null)return r.i.concat(r.h.F);if(r.g!=null&&r.g.size!==0){let t=r.i;for(const o of r.g.values())t=t.concat(o.F);return t}return Oy(r.i)}var Soe=class{stringify(r){return xe.JSON.stringify(r,void 0)}parse(r){return xe.JSON.parse(r,void 0)}};function Doe(){this.g=new Soe}function Ioe(r,t,o){const c=o||"";try{hO(r,function(u,d){let f=u;yh(u)&&(f=jy(u)),t.push(c+d+"="+encodeURIComponent(f))})}catch(u){throw t.push(c+"type="+encodeURIComponent("_badmap")),u}}function Poe(r,t){const o=new tk;if(xe.Image){const c=new Image;c.onload=eg(ng,o,c,"TestLoadImage: loaded",!0,t),c.onerror=eg(ng,o,c,"TestLoadImage: error",!1,t),c.onabort=eg(ng,o,c,"TestLoadImage: abort",!1,t),c.ontimeout=eg(ng,o,c,"TestLoadImage: timeout",!1,t),xe.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=r}else t(!1)}function ng(r,t,o,c,u){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,u(c)}catch{}}function ak(r){this.l=r.ec||null,this.j=r.ob||!1}un(ak,qy);ak.prototype.g=function(){return new ck(this.l,this.j)};ak.prototype.i=function(r){return function(){return r}}({});function ck(r,t){ln.call(this),this.F=r,this.u=t,this.m=void 0,this.readyState=Qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un(ck,ln);var Qy=0;se=ck.prototype;se.open=function(r,t){if(this.readyState!=Qy)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=t,this.readyState=1,ah(this)};se.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(t.body=r),(this.F||xe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ih(this)),this.readyState=Qy};se.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ah(this)),this.g&&(this.readyState=3,ah(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AO(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))};function AO(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}se.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var t=r.value?r.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!r.done}))&&(this.response=this.responseText+=t)}r.done?Ih(this):ah(this),this.readyState==3&&AO(this)}};se.Za=function(r){this.g&&(this.response=this.responseText=r,Ih(this))};se.Ya=function(r){this.g&&(this.response=r,Ih(this))};se.ka=function(){this.g&&Ih(this)};function Ih(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ah(r)}se.setRequestHeader=function(r,t){this.v.append(r,t)};se.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],t=this.h.entries();for(var o=t.next();!o.done;)o=o.value,r.push(o[0]+": "+o[1]),o=t.next();return r.join(`\r
`)};function ah(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(ck.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});var Roe=xe.JSON.parse;function Ot(r){ln.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CO,this.L=this.M=!1}un(Ot,ln);var CO="",Boe=/^https?$/i,Ooe=["POST","PUT"];se=Ot.prototype;se.Oa=function(r){this.M=r};se.ha=function(r,t,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);t=t?t.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lC.g(),this.C=this.u?jP(this.u):jP(lC),this.g.onreadystatechange=Mn(this.La,this);try{this.G=!0,this.g.open(t,String(r),!0),this.G=!1}catch(d){HP(this,d);return}if(r=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var u in c)o.set(u,c[u]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(const d of c.keys())o.set(d,c.get(d));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(o.keys()).find(d=>d.toLowerCase()=="content-type"),u=xe.FormData&&r instanceof xe.FormData,!(0<=F3(Ooe,t))||c||u||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,f]of o)this.g.setRequestHeader(d,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xO(this),0<this.B&&((this.L=Noe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.ua,this)):this.A=Hy(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){HP(this,d)}};function Noe(r){return wl&&typeof r.timeout=="number"&&r.ontimeout!==void 0}se.ua=function(){typeof By<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))};function HP(r,t){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=t,r.m=5,yO(r),lk(r)}function yO(r){r.F||(r.F=!0,Cn(r,"complete"),Cn(r,"error"))}se.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Cn(this,"complete"),Cn(this,"abort"),lk(this))};se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lk(this,!0)),Ot.$.N.call(this)};se.La=function(){this.s||(this.G||this.v||this.l?EO(this):this.kb())};se.kb=function(){EO(this)};function EO(r){if(r.h&&typeof By<"u"&&(!r.C[1]||$o(r)!=4||r.da()!=2)){if(r.v&&$o(r)==4)Hy(r.La,0,r);else if(Cn(r,"readystatechange"),$o(r)==4){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var o;if(!(o=t)){var c;if(c=f===0){var u=String(r.I).match(fO)[1]||null;!u&&xe.self&&xe.self.location&&(u=xe.self.location.protocol.slice(0,-1)),c=!Boe.test(u?u.toLowerCase():"")}o=c}if(o)Cn(r,"complete"),Cn(r,"success");else{r.m=6;try{var d=2<$o(r)?r.g.statusText:""}catch{d=""}r.j=d+" ["+r.da()+"]",yO(r)}}finally{lk(r)}}}}function lk(r,t){if(r.g){xO(r);const o=r.g,c=r.C[0]?()=>{}:null;r.g=null,r.C=null,t||Cn(r,"ready");try{o.onreadystatechange=c}catch{}}}function xO(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(xe.clearTimeout(r.A),r.A=null)}se.isActive=function(){return!!this.g};function $o(r){return r.g?r.g.readyState:0}se.da=function(){try{return 2<$o(this)?this.g.status:-1}catch{return-1}};se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Wa=function(r){if(this.g){var t=this.g.responseText;return r&&t.indexOf(r)==0&&(t=t.substring(r.length)),Roe(t)}};function qP(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case CO:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Moe(r){const t={};r=(r.g&&2<=$o(r)&&r.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<r.length;c++){if(eh(r[c]))continue;var o=aoe(r[c]);const u=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();const d=t[u]||[];t[u]=d,d.push(o)}eoe(t,function(c){return c.join(", ")})}se.Ia=function(){return this.m};se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TO(r){let t="";return My(r,function(o,c){t+=c,t+=":",t+=o,t+=`\r
`}),t}function Jy(r,t,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=TO(o),typeof r=="string"?o!=null&&encodeURIComponent(String(o)):bt(r,t,o))}function nd(r,t,o){return o&&o.internalChannelParams&&o.internalChannelParams[r]||t}function SO(r){this.Ga=0,this.j=[],this.l=new tk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nd("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nd("baseRetryDelayMs",5e3,r),this.hb=nd("retryDelaySeedMs",1e4,r),this.eb=nd("forwardChannelMaxRetries",2,r),this.xa=nd("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new kO(r&&r.concurrentRequestLimit),this.Ja=new Doe,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}se=SO.prototype;se.ra=8;se.H=1;function Yy(r){if(DO(r),r.H==3){var t=r.W++,o=Pi(r.I);if(bt(o,"SID",r.K),bt(o,"RID",t),bt(o,"TYPE","terminate"),Ph(r,o),t=new Sh(r,r.l,t),t.L=2,t.A=sk(Pi(o)),o=!1,xe.navigator&&xe.navigator.sendBeacon)try{o=xe.navigator.sendBeacon(t.A.toString(),"")}catch{}!o&&xe.Image&&(new Image().src=t.A,o=!0),o||(t.g=VO(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Dh(t)}NO(r)}function uk(r){r.g&&(Xy(r),r.g.cancel(),r.g=null)}function DO(r){uk(r),r.u&&(xe.clearTimeout(r.u),r.u=null),um(r),r.i.cancel(),r.m&&(typeof r.m=="number"&&xe.clearTimeout(r.m),r.m=null)}function dk(r){if(!bO(r.i)&&!r.m){r.m=!0;var t=r.Na;nh||Y3(),rh||(nh(),rh=!0),Uy.add(t,r),r.C=0}}function Voe(r,t){return wO(r.i)>=r.i.j-(r.m?1:0)?!1:r.m?(r.j=t.F.concat(r.j),!0):r.H==1||r.H==2||r.C>=(r.cb?0:r.eb)?!1:(r.m=xh(Mn(r.Na,r,t),OO(r,r.C)),r.C++,!0)}se.Na=function(r){if(this.m)if(this.m=null,this.H==1){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const u=new Sh(this,this.l,r);let d=this.s;if(this.U&&(d?(d=$3(d),H3(d,this.U)):d=this.U),this.o!==null||this.O||(u.I=d,d=null),this.P)e:{for(var t=0,o=0;o<this.j.length;o++){t:{var c=this.j[o];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break t}c=void 0}if(c===void 0)break;if(t+=c,4096<t){t=o;break e}if(t===4096||o===this.j.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=IO(this,u,t),o=Pi(this.I),bt(o,"RID",r),bt(o,"CVER",22),this.F&&bt(o,"X-HTTP-Session-Id",this.F),Ph(this,o),d&&(this.O?t="headers="+encodeURIComponent(String(TO(d)))+"&"+t:this.o&&Jy(o,this.o,d)),Ky(this.i,u),this.bb&&bt(o,"TYPE","init"),this.P?(bt(o,"$req",t),bt(o,"SID","null"),u.aa=!0,dC(u,o,null)):dC(u,o,t),this.H=2}}else this.H==3&&(r?WP(this,r):this.j.length==0||bO(this.i)||WP(this))};function WP(r,t){var o;t?o=t.m:o=r.W++;const c=Pi(r.I);bt(c,"SID",r.K),bt(c,"RID",o),bt(c,"AID",r.V),Ph(r,c),r.o&&r.s&&Jy(c,r.o,r.s),o=new Sh(r,r.l,o,r.C+1),r.o===null&&(o.I=r.s),t&&(r.j=t.F.concat(r.j)),t=IO(r,o,1e3),o.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ky(r.i,o),dC(o,c,t)}function Ph(r,t){r.na&&My(r.na,function(o,c){bt(t,c,o)}),r.h&&hO({},function(o,c){bt(t,c,o)})}function IO(r,t,o){o=Math.min(r.j.length,o);var c=r.h?Mn(r.h.Va,r.h,r):null;e:{var u=r.j;let d=-1;for(;;){const f=["count="+o];d==-1?0<o?(d=u[0].g,f.push("ofs="+d)):d=0:f.push("ofs="+d);let m=!0;for(let k=0;k<o;k++){let w=u[k].g;const A=u[k].map;if(w-=d,0>w)d=Math.max(0,u[k].g-100),m=!1;else try{Ioe(A,f,"req"+w+"_")}catch{c&&c(A)}}if(m){c=f.join("&");break e}}}return r=r.j.splice(0,o),t.F=r,c}function PO(r){if(!r.g&&!r.u){r.ba=1;var t=r.Ma;nh||Y3(),rh||(nh(),rh=!0),Uy.add(t,r),r.A=0}}function Zy(r){return r.g||r.u||3<=r.A?!1:(r.ba++,r.u=xh(Mn(r.Ma,r),OO(r,r.A)),r.A++,!0)}se.Ma=function(){if(this.u=null,RO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=xh(Mn(this.jb,this),r)}};se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),uk(this),RO(this))};function Xy(r){r.B!=null&&(xe.clearTimeout(r.B),r.B=null)}function RO(r){r.g=new Sh(r,r.l,"rpc",r.ba),r.o===null&&(r.g.I=r.s),r.g.O=0;var t=Pi(r.wa);bt(t,"RID","rpc"),bt(t,"SID",r.K),bt(t,"AID",r.V),bt(t,"CI",r.G?"0":"1"),!r.G&&r.qa&&bt(t,"TO",r.qa),bt(t,"TYPE","xmlhttp"),Ph(r,t),r.o&&r.s&&Jy(t,r.o,r.s),r.L&&r.g.setTimeout(r.L);var o=r.g;r=r.pa,o.L=1,o.A=sk(Pi(t)),o.u=null,o.S=!0,cO(o,r)}se.ib=function(){this.v!=null&&(this.v=null,uk(this),Zy(this),Gn(19))};function um(r){r.v!=null&&(xe.clearTimeout(r.v),r.v=null)}function BO(r,t){var o=null;if(r.g==t){um(r),Xy(r),r.g=null;var c=2}else if(fC(r.i,t))o=t.F,_O(r.i,t),c=1;else return;if(r.H!=0){if(t.i)if(c==1){o=t.u?t.u.length:0,t=Date.now()-t.G;var u=r.C;c=nk(),Cn(c,new rO(c,o)),dk(r)}else PO(r);else if(u=t.s,u==3||u==0&&0<t.ca||!(c==1&&Voe(r,t)||c==2&&Zy(r)))switch(o&&0<o.length&&(t=r.i,t.i=t.i.concat(o)),u){case 1:Ca(r,5);break;case 4:Ca(r,10);break;case 3:Ca(r,6);break;default:Ca(r,2)}}}function OO(r,t){let o=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(o*=2),o*t}function Ca(r,t){if(r.l.info("Error code "+t),t==2){var o=null;r.h&&(o=null);var c=Mn(r.pb,r);o||(o=new Sa("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||cm(o,"https"),sk(o)),Poe(o.toString(),c)}else Gn(2);r.H=0,r.h&&r.h.za(t),NO(r),DO(r)}se.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function NO(r){if(r.H=0,r.ma=[],r.h){const t=vO(r.i);(t.length!=0||r.j.length!=0)&&(MP(r.ma,t),MP(r.ma,r.j),r.i.i.length=0,Oy(r.j),r.j.length=0),r.h.ya()}}function MO(r,t,o){var c=o instanceof Sa?Pi(o):new Sa(o);if(c.g!="")t&&(c.g=t+"."+c.g),lm(c,c.m);else{var u=xe.location;c=u.protocol,t=t?t+"."+u.hostname:u.hostname,u=+u.port;var d=new Sa(null);c&&cm(d,c),t&&(d.g=t),u&&lm(d,u),o&&(d.l=o),c=d}return o=r.F,t=r.Da,o&&t&&bt(c,o,t),bt(c,"VER",r.ra),Ph(r,c),c}function VO(r,t,o){if(t&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=r.Ha&&!r.va?new Ot(new ak({ob:o})):new Ot(r.va),t.Oa(r.J),t}se.isActive=function(){return!!this.h&&this.h.isActive(this)};function LO(){}se=LO.prototype;se.Ba=function(){};se.Aa=function(){};se.za=function(){};se.ya=function(){};se.isActive=function(){return!0};se.Va=function(){};function dm(){if(wl&&!(10<=Number(Jre)))throw Error("Environmental error: no available transport.")}dm.prototype.g=function(r,t){return new Er(r,t)};function Er(r,t){ln.call(this),this.g=new SO(t),this.l=r,this.h=t&&t.messageUrlParams||null,r=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(r?r["X-WebChannel-Content-Type"]=t.messageContentType:r={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(r?r["X-WebChannel-Client-Profile"]=t.Ca:r={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=r,(r=t&&t.cc)&&!eh(r)&&(this.g.o=r),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!eh(t)&&(this.g.F=t,r=this.h,r!==null&&t in r&&(r=this.h,t in r&&delete r[t])),this.j=new Nl(this)}un(Er,ln);Er.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,t=this.l,o=this.h||void 0;Gn(0),r.Y=t,r.na=o||{},r.G=r.aa,r.I=MO(r,null,r.Y),dk(r)};Er.prototype.close=function(){Yy(this.g)};Er.prototype.u=function(r){var t=this.g;if(typeof r=="string"){var o={};o.__data__=r,r=o}else this.v&&(o={},o.__data__=jy(r),r=o);t.j.push(new xoe(t.fb++,r)),t.H==3&&dk(t)};Er.prototype.N=function(){this.g.h=null,delete this.j,Yy(this.g),delete this.g,Er.$.N.call(this)};function FO(r){Wy.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var t=r.__sm__;if(t){e:{for(const o in t){r=o;break e}r=void 0}(this.i=r)&&(r=this.i,t=t!==null&&r in t?t[r]:void 0),this.data=t}else this.data=r}un(FO,Wy);function zO(){Gy.call(this),this.status=1}un(zO,Gy);function Nl(r){this.g=r}un(Nl,LO);Nl.prototype.Ba=function(){Cn(this.g,"a")};Nl.prototype.Aa=function(r){Cn(this.g,new FO(r))};Nl.prototype.za=function(r){Cn(this.g,new zO)};Nl.prototype.ya=function(){Cn(this.g,"b")};function Loe(){this.blockSize=-1}function _o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}un(_o,Loe);_o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function W0(r,t,o){o||(o=0);var c=Array(16);if(typeof t=="string")for(var u=0;16>u;++u)c[u]=t.charCodeAt(o++)|t.charCodeAt(o++)<<8|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<24;else for(u=0;16>u;++u)c[u]=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;t=r.g[0],o=r.g[1],u=r.g[2];var d=r.g[3],f=t+(d^o&(u^d))+c[0]+3614090360&4294967295;t=o+(f<<7&4294967295|f>>>25),f=d+(u^t&(o^u))+c[1]+3905402710&4294967295,d=t+(f<<12&4294967295|f>>>20),f=u+(o^d&(t^o))+c[2]+606105819&4294967295,u=d+(f<<17&4294967295|f>>>15),f=o+(t^u&(d^t))+c[3]+3250441966&4294967295,o=u+(f<<22&4294967295|f>>>10),f=t+(d^o&(u^d))+c[4]+4118548399&4294967295,t=o+(f<<7&4294967295|f>>>25),f=d+(u^t&(o^u))+c[5]+1200080426&4294967295,d=t+(f<<12&4294967295|f>>>20),f=u+(o^d&(t^o))+c[6]+2821735955&4294967295,u=d+(f<<17&4294967295|f>>>15),f=o+(t^u&(d^t))+c[7]+4249261313&4294967295,o=u+(f<<22&4294967295|f>>>10),f=t+(d^o&(u^d))+c[8]+1770035416&4294967295,t=o+(f<<7&4294967295|f>>>25),f=d+(u^t&(o^u))+c[9]+2336552879&4294967295,d=t+(f<<12&4294967295|f>>>20),f=u+(o^d&(t^o))+c[10]+4294925233&4294967295,u=d+(f<<17&4294967295|f>>>15),f=o+(t^u&(d^t))+c[11]+2304563134&4294967295,o=u+(f<<22&4294967295|f>>>10),f=t+(d^o&(u^d))+c[12]+1804603682&4294967295,t=o+(f<<7&4294967295|f>>>25),f=d+(u^t&(o^u))+c[13]+4254626195&4294967295,d=t+(f<<12&4294967295|f>>>20),f=u+(o^d&(t^o))+c[14]+2792965006&4294967295,u=d+(f<<17&4294967295|f>>>15),f=o+(t^u&(d^t))+c[15]+1236535329&4294967295,o=u+(f<<22&4294967295|f>>>10),f=t+(u^d&(o^u))+c[1]+4129170786&4294967295,t=o+(f<<5&4294967295|f>>>27),f=d+(o^u&(t^o))+c[6]+3225465664&4294967295,d=t+(f<<9&4294967295|f>>>23),f=u+(t^o&(d^t))+c[11]+643717713&4294967295,u=d+(f<<14&4294967295|f>>>18),f=o+(d^t&(u^d))+c[0]+3921069994&4294967295,o=u+(f<<20&4294967295|f>>>12),f=t+(u^d&(o^u))+c[5]+3593408605&4294967295,t=o+(f<<5&4294967295|f>>>27),f=d+(o^u&(t^o))+c[10]+38016083&4294967295,d=t+(f<<9&4294967295|f>>>23),f=u+(t^o&(d^t))+c[15]+3634488961&4294967295,u=d+(f<<14&4294967295|f>>>18),f=o+(d^t&(u^d))+c[4]+3889429448&4294967295,o=u+(f<<20&4294967295|f>>>12),f=t+(u^d&(o^u))+c[9]+568446438&4294967295,t=o+(f<<5&4294967295|f>>>27),f=d+(o^u&(t^o))+c[14]+3275163606&4294967295,d=t+(f<<9&4294967295|f>>>23),f=u+(t^o&(d^t))+c[3]+4107603335&4294967295,u=d+(f<<14&4294967295|f>>>18),f=o+(d^t&(u^d))+c[8]+1163531501&4294967295,o=u+(f<<20&4294967295|f>>>12),f=t+(u^d&(o^u))+c[13]+2850285829&4294967295,t=o+(f<<5&4294967295|f>>>27),f=d+(o^u&(t^o))+c[2]+4243563512&4294967295,d=t+(f<<9&4294967295|f>>>23),f=u+(t^o&(d^t))+c[7]+1735328473&4294967295,u=d+(f<<14&4294967295|f>>>18),f=o+(d^t&(u^d))+c[12]+2368359562&4294967295,o=u+(f<<20&4294967295|f>>>12),f=t+(o^u^d)+c[5]+4294588738&4294967295,t=o+(f<<4&4294967295|f>>>28),f=d+(t^o^u)+c[8]+2272392833&4294967295,d=t+(f<<11&4294967295|f>>>21),f=u+(d^t^o)+c[11]+1839030562&4294967295,u=d+(f<<16&4294967295|f>>>16),f=o+(u^d^t)+c[14]+4259657740&4294967295,o=u+(f<<23&4294967295|f>>>9),f=t+(o^u^d)+c[1]+2763975236&4294967295,t=o+(f<<4&4294967295|f>>>28),f=d+(t^o^u)+c[4]+1272893353&4294967295,d=t+(f<<11&4294967295|f>>>21),f=u+(d^t^o)+c[7]+4139469664&4294967295,u=d+(f<<16&4294967295|f>>>16),f=o+(u^d^t)+c[10]+3200236656&4294967295,o=u+(f<<23&4294967295|f>>>9),f=t+(o^u^d)+c[13]+681279174&4294967295,t=o+(f<<4&4294967295|f>>>28),f=d+(t^o^u)+c[0]+3936430074&4294967295,d=t+(f<<11&4294967295|f>>>21),f=u+(d^t^o)+c[3]+3572445317&4294967295,u=d+(f<<16&4294967295|f>>>16),f=o+(u^d^t)+c[6]+76029189&4294967295,o=u+(f<<23&4294967295|f>>>9),f=t+(o^u^d)+c[9]+3654602809&4294967295,t=o+(f<<4&4294967295|f>>>28),f=d+(t^o^u)+c[12]+3873151461&4294967295,d=t+(f<<11&4294967295|f>>>21),f=u+(d^t^o)+c[15]+530742520&4294967295,u=d+(f<<16&4294967295|f>>>16),f=o+(u^d^t)+c[2]+3299628645&4294967295,o=u+(f<<23&4294967295|f>>>9),f=t+(u^(o|~d))+c[0]+4096336452&4294967295,t=o+(f<<6&4294967295|f>>>26),f=d+(o^(t|~u))+c[7]+1126891415&4294967295,d=t+(f<<10&4294967295|f>>>22),f=u+(t^(d|~o))+c[14]+2878612391&4294967295,u=d+(f<<15&4294967295|f>>>17),f=o+(d^(u|~t))+c[5]+4237533241&4294967295,o=u+(f<<21&4294967295|f>>>11),f=t+(u^(o|~d))+c[12]+1700485571&4294967295,t=o+(f<<6&4294967295|f>>>26),f=d+(o^(t|~u))+c[3]+2399980690&4294967295,d=t+(f<<10&4294967295|f>>>22),f=u+(t^(d|~o))+c[10]+4293915773&4294967295,u=d+(f<<15&4294967295|f>>>17),f=o+(d^(u|~t))+c[1]+2240044497&4294967295,o=u+(f<<21&4294967295|f>>>11),f=t+(u^(o|~d))+c[8]+1873313359&4294967295,t=o+(f<<6&4294967295|f>>>26),f=d+(o^(t|~u))+c[15]+4264355552&4294967295,d=t+(f<<10&4294967295|f>>>22),f=u+(t^(d|~o))+c[6]+2734768916&4294967295,u=d+(f<<15&4294967295|f>>>17),f=o+(d^(u|~t))+c[13]+1309151649&4294967295,o=u+(f<<21&4294967295|f>>>11),f=t+(u^(o|~d))+c[4]+4149444226&4294967295,t=o+(f<<6&4294967295|f>>>26),f=d+(o^(t|~u))+c[11]+3174756917&4294967295,d=t+(f<<10&4294967295|f>>>22),f=u+(t^(d|~o))+c[2]+718787259&4294967295,u=d+(f<<15&4294967295|f>>>17),f=o+(d^(u|~t))+c[9]+3951481745&4294967295,r.g[0]=r.g[0]+t&4294967295,r.g[1]=r.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+u&4294967295,r.g[3]=r.g[3]+d&4294967295}_o.prototype.j=function(r,t){t===void 0&&(t=r.length);for(var o=t-this.blockSize,c=this.m,u=this.h,d=0;d<t;){if(u==0)for(;d<=o;)W0(this,r,d),d+=this.blockSize;if(typeof r=="string"){for(;d<t;)if(c[u++]=r.charCodeAt(d++),u==this.blockSize){W0(this,c),u=0;break}}else for(;d<t;)if(c[u++]=r[d++],u==this.blockSize){W0(this,c),u=0;break}}this.h=u,this.i+=t};_o.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var t=1;t<r.length-8;++t)r[t]=0;var o=8*this.i;for(t=r.length-8;t<r.length;++t)r[t]=o&255,o/=256;for(this.j(r),r=Array(16),t=o=0;4>t;++t)for(var c=0;32>c;c+=8)r[o++]=this.g[t]>>>c&255;return r};function Xe(r,t){this.h=t;for(var o=[],c=!0,u=r.length-1;0<=u;u--){var d=r[u]|0;c&&d==t||(o[u]=d,c=!1)}this.g=o}var Foe={};function e1(r){return-128<=r&&128>r?Gre(r,function(t){return new Xe([t|0],0>t?-1:0)}):new Xe([r|0],0>r?-1:0)}function Ho(r){if(isNaN(r)||!isFinite(r))return sl;if(0>r)return _n(Ho(-r));for(var t=[],o=1,c=0;r>=o;c++)t[c]=r/o|0,o*=pC;return new Xe(t,0)}function jO(r,t){if(r.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(r.charAt(0)=="-")return _n(jO(r.substring(1),t));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=Ho(Math.pow(t,8)),c=sl,u=0;u<r.length;u+=8){var d=Math.min(8,r.length-u),f=parseInt(r.substring(u,u+d),t);8>d?(d=Ho(Math.pow(t,d)),c=c.R(d).add(Ho(f))):(c=c.R(o),c=c.add(Ho(f)))}return c}var pC=4294967296,sl=e1(0),gC=e1(1),GP=e1(16777216);se=Xe.prototype;se.ea=function(){if(Hr(this))return-_n(this).ea();for(var r=0,t=1,o=0;o<this.g.length;o++){var c=this.D(o);r+=(0<=c?c:pC+c)*t,t*=pC}return r};se.toString=function(r){if(r=r||10,2>r||36<r)throw Error("radix out of range: "+r);if(Ai(this))return"0";if(Hr(this))return"-"+_n(this).toString(r);for(var t=Ho(Math.pow(r,6)),o=this,c="";;){var u=fm(o,t).g;o=hm(o,u.R(t));var d=((0<o.g.length?o.g[0]:o.h)>>>0).toString(r);if(o=u,Ai(o))return d+c;for(;6>d.length;)d="0"+d;c=d+c}};se.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h};function Ai(r){if(r.h!=0)return!1;for(var t=0;t<r.g.length;t++)if(r.g[t]!=0)return!1;return!0}function Hr(r){return r.h==-1}se.X=function(r){return r=hm(this,r),Hr(r)?-1:Ai(r)?0:1};function _n(r){for(var t=r.g.length,o=[],c=0;c<t;c++)o[c]=~r.g[c];return new Xe(o,~r.h).add(gC)}se.abs=function(){return Hr(this)?_n(this):this};se.add=function(r){for(var t=Math.max(this.g.length,r.g.length),o=[],c=0,u=0;u<=t;u++){var d=c+(this.D(u)&65535)+(r.D(u)&65535),f=(d>>>16)+(this.D(u)>>>16)+(r.D(u)>>>16);c=f>>>16,d&=65535,f&=65535,o[u]=f<<16|d}return new Xe(o,o[o.length-1]&-2147483648?-1:0)};function hm(r,t){return r.add(_n(t))}se.R=function(r){if(Ai(this)||Ai(r))return sl;if(Hr(this))return Hr(r)?_n(this).R(_n(r)):_n(_n(this).R(r));if(Hr(r))return _n(this.R(_n(r)));if(0>this.X(GP)&&0>r.X(GP))return Ho(this.ea()*r.ea());for(var t=this.g.length+r.g.length,o=[],c=0;c<2*t;c++)o[c]=0;for(c=0;c<this.g.length;c++)for(var u=0;u<r.g.length;u++){var d=this.D(c)>>>16,f=this.D(c)&65535,m=r.D(u)>>>16,k=r.D(u)&65535;o[2*c+2*u]+=f*k,rg(o,2*c+2*u),o[2*c+2*u+1]+=d*k,rg(o,2*c+2*u+1),o[2*c+2*u+1]+=f*m,rg(o,2*c+2*u+1),o[2*c+2*u+2]+=d*m,rg(o,2*c+2*u+2)}for(c=0;c<t;c++)o[c]=o[2*c+1]<<16|o[2*c];for(c=t;c<2*t;c++)o[c]=0;return new Xe(o,0)};function rg(r,t){for(;(r[t]&65535)!=r[t];)r[t+1]+=r[t]>>>16,r[t]&=65535,t++}function rd(r,t){this.g=r,this.h=t}function fm(r,t){if(Ai(t))throw Error("division by zero");if(Ai(r))return new rd(sl,sl);if(Hr(r))return t=fm(_n(r),t),new rd(_n(t.g),_n(t.h));if(Hr(t))return t=fm(r,_n(t)),new rd(_n(t.g),t.h);if(30<r.g.length){if(Hr(r)||Hr(t))throw Error("slowDivide_ only works with positive integers.");for(var o=gC,c=t;0>=c.X(r);)o=KP(o),c=KP(c);var u=Nc(o,1),d=Nc(c,1);for(c=Nc(c,2),o=Nc(o,2);!Ai(c);){var f=d.add(c);0>=f.X(r)&&(u=u.add(o),d=f),c=Nc(c,1),o=Nc(o,1)}return t=hm(r,u.R(t)),new rd(u,t)}for(u=sl;0<=r.X(t);){for(o=Math.max(1,Math.floor(r.ea()/t.ea())),c=Math.ceil(Math.log(o)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),d=Ho(o),f=d.R(t);Hr(f)||0<f.X(r);)o-=c,d=Ho(o),f=d.R(t);Ai(d)&&(d=gC),u=u.add(d),r=hm(r,f)}return new rd(u,r)}se.gb=function(r){return fm(this,r).h};se.and=function(r){for(var t=Math.max(this.g.length,r.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)&r.D(c);return new Xe(o,this.h&r.h)};se.or=function(r){for(var t=Math.max(this.g.length,r.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)|r.D(c);return new Xe(o,this.h|r.h)};se.xor=function(r){for(var t=Math.max(this.g.length,r.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)^r.D(c);return new Xe(o,this.h^r.h)};function KP(r){for(var t=r.g.length+1,o=[],c=0;c<t;c++)o[c]=r.D(c)<<1|r.D(c-1)>>>31;return new Xe(o,r.h)}function Nc(r,t){var o=t>>5;t%=32;for(var c=r.g.length-o,u=[],d=0;d<c;d++)u[d]=0<t?r.D(d+o)>>>t|r.D(d+o+1)<<32-t:r.D(d+o);return new Xe(u,r.h)}dm.prototype.createWebChannel=dm.prototype.g;Er.prototype.send=Er.prototype.u;Er.prototype.open=Er.prototype.m;Er.prototype.close=Er.prototype.close;rk.NO_ERROR=0;rk.TIMEOUT=8;rk.HTTP_ERROR=6;oO.COMPLETE="complete";iO.EventType=Th;Th.OPEN="a";Th.CLOSE="b";Th.ERROR="c";Th.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Ot.prototype.listenOnce=Ot.prototype.P;Ot.prototype.getLastError=Ot.prototype.Sa;Ot.prototype.getLastErrorCode=Ot.prototype.Ia;Ot.prototype.getStatus=Ot.prototype.da;Ot.prototype.getResponseJson=Ot.prototype.Wa;Ot.prototype.getResponseText=Ot.prototype.ja;Ot.prototype.send=Ot.prototype.ha;Ot.prototype.setWithCredentials=Ot.prototype.Oa;_o.prototype.digest=_o.prototype.l;_o.prototype.reset=_o.prototype.reset;_o.prototype.update=_o.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=Ho;Xe.fromString=jO;var zoe=function(){return new dm},joe=function(){return nk()},G0=rk,Uoe=oO,$oe=Ga,QP={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},og=iO,Hoe=Ot,qoe=_o,al=Xe;const JP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Iy("@firebase/firestore");function od(){return La.logLevel}function ie(r,...t){if(La.logLevel<=Fe.DEBUG){const o=t.map(t1);La.debug(`Firestore (${Ml}): ${r}`,...o)}}function ei(r,...t){if(La.logLevel<=Fe.ERROR){const o=t.map(t1);La.error(`Firestore (${Ml}): ${r}`,...o)}}function _l(r,...t){if(La.logLevel<=Fe.WARN){const o=t.map(t1);La.warn(`Firestore (${Ml}): ${r}`,...o)}}function t1(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(o){return JSON.stringify(o)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const t=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+r;throw ei(t),new Error(t)}function ft(r,t){r||Ee()}function Ie(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends oi{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Woe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(Bn.UNAUTHENTICATED))}shutdown(){}}class Goe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,o){this.changeListener=o,t.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Koe{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){let c=this.i;const u=k=>this.i!==c?(c=this.i,o(k)):Promise.resolve();let d=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Qo,t.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const k=d;t.enqueueRetryable(async()=>{await k.promise,await u(this.currentUser)})},m=k=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(k=>m(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?m(k):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Qo)}},0),f()}getToken(){const t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==t?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(ft(typeof c.accessToken=="string"),new UO(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ft(t===null||typeof t=="string"),new Bn(t)}}class Qoe{constructor(t,o,c){this.l=t,this.h=o,this.P=c,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Joe{constructor(t,o,c){this.l=t,this.h=o,this.P=c}getToken(){return Promise.resolve(new Qoe(this.l,this.h,this.P))}start(t,o){t.enqueueRetryable(()=>o(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yoe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zoe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,o){const c=d=>{d.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const f=d.token!==this.R;return this.R=d.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?o(d.token):Promise.resolve()};this.o=d=>{t.enqueueRetryable(()=>c(d))};const u=d=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?u(d):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(ft(typeof o.token=="string"),this.R=o.token,new Yoe(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let c=0;c<r;c++)o[c]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/t.length)*t.length;let c="";for(;c.length<20;){const u=Xoe(40);for(let d=0;d<u.length;++d)c.length<20&&u[d]<o&&(c+=t.charAt(u[d]%t.length))}return c}}function Ge(r,t){return r<t?-1:r>t?1:0}function vl(r,t,o){return r.length===t.length&&r.every((c,u)=>o(c,t[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const o=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*o));return new Zt(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Se(t)}static min(){return new Se(new Zt(0,0))}static max(){return new Se(new Zt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,o,c){o===void 0?o=0:o>t.length&&Ee(),c===void 0?c=t.length-o:c>t.length-o&&Ee(),this.segments=t,this.offset=o,this.len=c}get length(){return this.len}isEqual(t){return ch.comparator(this,t)===0}child(t){const o=this.segments.slice(this.offset,this.limit());return t instanceof ch?t.forEach(c=>{o.push(c)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,c=this.limit();o<c;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){const c=Math.min(t.length,o.length);for(let u=0;u<c;u++){const d=t.get(u),f=o.get(u);if(d<f)return-1;if(d>f)return 1}return t.length<o.length?-1:t.length>o.length?1:0}}class Ct extends ch{construct(t,o,c){return new Ct(t,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const o=[];for(const c of t){if(c.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(u=>u.length>0))}return new Ct(o)}static emptyPath(){return new Ct([])}}const eie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ch{construct(t,o,c){return new vn(t,o,c)}static isValidIdentifier(t){return eie.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(t){const o=[];let c="",u=0;const d=()=>{if(c.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let f=!1;for(;u<t.length;){const m=t[u];if(m==="\\"){if(u+1===t.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const k=t[u+1];if(k!=="\\"&&k!=="."&&k!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=k,u+=2}else m==="`"?(f=!f,u++):m!=="."||f?(c+=m,u++):(d(),u++)}if(d(),f)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vn(o)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.path=t}static fromPath(t){return new ve(Ct.fromString(t))}static fromName(t){return new ve(Ct.fromString(t).popFirst(5))}static empty(){return new ve(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return Ct.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ve(new Ct(t.slice()))}}function tie(r,t){const o=r.toTimestamp().seconds,c=r.toTimestamp().nanoseconds+1,u=Se.fromTimestamp(c===1e9?new Zt(o+1,0):new Zt(o,c));return new Is(u,ve.empty(),t)}function nie(r){return new Is(r.readTime,r.key,-1)}class Is{constructor(t,o,c){this.readTime=t,this.documentKey=o,this.largestBatchId=c}static min(){return new Is(Se.min(),ve.empty(),-1)}static max(){return new Is(Se.max(),ve.empty(),-1)}}function rie(r,t){let o=r.readTime.compareTo(t.readTime);return o!==0?o:(o=ve.comparator(r.documentKey,t.documentKey),o!==0?o:Ge(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==oie)throw r;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(t){return this.next(void 0,t)}next(t,o){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(t,this.result):new Q((c,u)=>{this.nextCallback=d=>{this.wrapSuccess(t,d).next(c,u)},this.catchCallback=d=>{this.wrapFailure(o,d).next(c,u)}})}toPromise(){return new Promise((t,o)=>{this.next(t,o)})}wrapUserFunction(t){try{const o=t();return o instanceof Q?o:Q.resolve(o)}catch(o){return Q.reject(o)}}wrapSuccess(t,o){return t?this.wrapUserFunction(()=>t(o)):Q.resolve(o)}wrapFailure(t,o){return t?this.wrapUserFunction(()=>t(o)):Q.reject(o)}static resolve(t){return new Q((o,c)=>{o(t)})}static reject(t){return new Q((o,c)=>{c(t)})}static waitFor(t){return new Q((o,c)=>{let u=0,d=0,f=!1;t.forEach(m=>{++u,m.next(()=>{++d,f&&d===u&&o()},k=>c(k))}),f=!0,d===u&&o()})}static or(t){let o=Q.resolve(!1);for(const c of t)o=o.next(u=>u?Q.resolve(u):c());return o}static forEach(t,o){const c=[];return t.forEach((u,d)=>{c.push(o.call(this,u,d))}),this.waitFor(c)}static mapArray(t,o){return new Q((c,u)=>{const d=t.length,f=new Array(d);let m=0;for(let k=0;k<d;k++){const w=k;o(t[w]).next(A=>{f[w]=A,++m,m===d&&c(f)},A=>u(A))}})}static doWhile(t,o){return new Q((c,u)=>{const d=()=>{t()===!0?o().next(()=>{d()},u):c()};d()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,o){this.action=t,this.transaction=o,this.aborted=!1,this.V=new Qo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{o.error?this.V.reject(new Td(t,o.error)):this.V.resolve()},this.transaction.onerror=c=>{const u=r1(c.target.error);this.V.reject(new Td(t,u))}}static open(t,o,c,u){try{return new n1(o,t.transaction(u,c))}catch(d){throw new Td(o,d)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const o=this.transaction.objectStore(t);return new aie(o)}}class ya{constructor(t,o,c){this.name=t,this.version=o,this.p=c,ya.S(Wt())===12.2&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ie("SimpleDb","Removing database:",t),ba(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!B3())return!1;if(ya.C())return!0;const t=Wt(),o=ya.S(t),c=0<o&&o<10,u=ya.v(t),d=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||d)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,o){return t.store(o)}static S(t){const o=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static v(t){const o=t.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}async O(t){return this.db||(ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((o,c)=>{const u=indexedDB.open(this.name,this.version);u.onsuccess=d=>{const f=d.target.result;o(f)},u.onblocked=()=>{c(new Td(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const f=d.target.error;f.name==="VersionError"?c(new me(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):f.name==="InvalidStateError"?c(new me(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f)):c(new Td(t,f))},u.onupgradeneeded=d=>{ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',d.oldVersion);const f=d.target.result;this.p.N(f,u.transaction,d.oldVersion,this.version).next(()=>{ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=o=>this.B(o)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=o=>t(o))}async runTransaction(t,o,c,u){const d=o==="readonly";let f=0;for(;;){++f;try{this.db=await this.O(t);const m=n1.open(this.db,t,d?"readonly":"readwrite",c),k=u(m).next(w=>(m.g(),w)).catch(w=>(m.abort(w),Q.reject(w))).toPromise();return k.catch(()=>{}),await m.m,k}catch(m){const k=m,w=k.name!=="FirebaseError"&&f<3;if(ie("SimpleDb","Transaction failed with error:",k.message,"Retrying:",w),this.close(),!w)return Promise.reject(k)}}}close(){this.db&&this.db.close(),this.db=void 0}}class sie{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return ba(this.k.delete())}}class Td extends me{constructor(t,o){super(Z.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Bh(r){return r.name==="IndexedDbTransactionError"}class aie{constructor(t){this.store=t}put(t,o){let c;return o!==void 0?(ie("SimpleDb","PUT",this.store.name,t,o),c=this.store.put(o,t)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),ba(c)}add(t){return ie("SimpleDb","ADD",this.store.name,t,t),ba(this.store.add(t))}get(t){return ba(this.store.get(t)).next(o=>(o===void 0&&(o=null),ie("SimpleDb","GET",this.store.name,t,o),o))}delete(t){return ie("SimpleDb","DELETE",this.store.name,t),ba(this.store.delete(t))}count(){return ie("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(t,o){const c=this.options(t,o),u=c.index?this.store.index(c.index):this.store;if(typeof u.getAll=="function"){const d=u.getAll(c.range);return new Q((f,m)=>{d.onerror=k=>{m(k.target.error)},d.onsuccess=k=>{f(k.target.result)}})}{const d=this.cursor(c),f=[];return this.G(d,(m,k)=>{f.push(k)}).next(()=>f)}}j(t,o){const c=this.store.getAll(t,o===null?void 0:o);return new Q((u,d)=>{c.onerror=f=>{d(f.target.error)},c.onsuccess=f=>{u(f.target.result)}})}H(t,o){ie("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,o);c.J=!1;const u=this.cursor(c);return this.G(u,(d,f,m)=>m.delete())}Y(t,o){let c;o?c=t:(c={},o=t);const u=this.cursor(c);return this.G(u,o)}Z(t){const o=this.cursor({});return new Q((c,u)=>{o.onerror=d=>{const f=r1(d.target.error);u(f)},o.onsuccess=d=>{const f=d.target.result;f?t(f.primaryKey,f.value).next(m=>{m?f.continue():c()}):c()}})}G(t,o){const c=[];return new Q((u,d)=>{t.onerror=f=>{d(f.target.error)},t.onsuccess=f=>{const m=f.target.result;if(!m)return void u();const k=new sie(m),w=o(m.primaryKey,m.value,k);if(w instanceof Q){const A=w.catch(_=>(k.done(),Q.reject(_)));c.push(A)}k.isDone?u():k.$===null?m.continue():m.continue(k.$)}}).next(()=>Q.waitFor(c))}options(t,o){let c;return t!==void 0&&(typeof t=="string"?c=t:o=t),{index:c,range:o}}cursor(t){let o="next";if(t.reverse&&(o="prev"),t.index){const c=this.store.index(t.index);return t.J?c.openKeyCursor(t.range,o):c.openCursor(t.range,o)}return this.store.openCursor(t.range,o)}}function ba(r){return new Q((t,o)=>{r.onsuccess=c=>{const u=c.target.result;t(u)},r.onerror=c=>{const u=r1(c.target.error);o(u)}})}let YP=!1;function r1(r){const t=ya.S(Wt());if(t>=12.2&&t<13){const o="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(o)>=0){const c=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YP||(YP=!0,setTimeout(()=>{throw c},0)),c}}return r}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=c=>this.se(c),this.oe=c=>o.writeSequenceNumber(c))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}o1._e=-1;function hk(r){return r==null}function pm(r){return r===0&&1/r==-1/0}function cie(r){return typeof r=="number"&&Number.isInteger(r)&&!pm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(r){let t=0;for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&t++;return t}function Vl(r,t){for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&t(o,r[o])}function HO(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,o){this.comparator=t,this.root=o||wn.EMPTY}insert(t,o){return new It(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(t){return new It(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wn.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(t,o.key);if(c===0)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(t){let o=0,c=this.root;for(;!c.isEmpty();){const u=this.comparator(t,c.key);if(u===0)return o+c.left.size;u<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,c)=>(t(o,c),!1))}toString(){const t=[];return this.inorderTraversal((o,c)=>(t.push(`${o}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ig(this.root,t,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ig(this.root,t,this.comparator,!0)}}class ig{constructor(t,o,c,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!t.isEmpty();)if(d=o?c(t.key,o):1,o&&u&&(d*=-1),d<0)t=this.isReverse?t.left:t.right;else{if(d===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wn{constructor(t,o,c,u,d){this.key=t,this.value=o,this.color=c??wn.RED,this.left=u??wn.EMPTY,this.right=d??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,c,u,d){return new wn(t??this.key,o??this.value,c??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,c){let u=this;const d=c(t,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(t,o,c),null):d===0?u.copy(null,o,null,null,null):u.copy(null,null,null,null,u.right.insert(t,o,c)),u.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let c,u=this;if(o(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,o),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),o(t,u.key)===0){if(u.right.isEmpty())return wn.EMPTY;c=u.right.min(),u=u.copy(c.key,c.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,o))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const t=this.left.check();if(t!==this.right.check())throw Ee();return t+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(t,o,c,u,d){return this}insert(t,o,c){return new wn(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new It(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,c)=>(t(o),!1))}forEachInRange(t,o){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const u=c.getNext();if(this.comparator(u.key,t[1])>=0)return;o(u.key)}}forEachWhile(t,o){let c;for(c=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new XP(this.data.getIterator())}getIteratorFrom(t){return new XP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(c=>{o=o.add(c)}),o}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const o=this.data.getIterator(),c=t.data.getIterator();for(;o.hasNext();){const u=o.getNext().key,d=c.getNext().key;if(this.comparator(u,d)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(o=>{t.push(o)}),t}toString(){const t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){const o=new yn(this.comparator);return o.data=t,o}}class XP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.fields=t,t.sort(vn.comparator)}static empty(){return new mo([])}unionWith(t){let o=new yn(vn.comparator);for(const c of this.fields)o=o.add(c);for(const c of t)o=o.add(c);return new mo(o.toArray())}covers(t){for(const o of this.fields)if(o.isPrefixOf(t))return!0;return!1}isEqual(t){return vl(this.fields,t.fields,(o,c)=>o.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const o=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new qO("Invalid base64 string: "+d):d}}(t);return new Fn(o)}static fromUint8Array(t){const o=function(u){let d="";for(let f=0;f<u.length;++f)d+=String.fromCharCode(u[f]);return d}(t);return new Fn(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){const c=new Uint8Array(o.length);for(let u=0;u<o.length;u++)c[u]=o.charCodeAt(u);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const lie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(ft(!!r),typeof r=="string"){let t=0;const o=lie.exec(r);if(ft(!!o),o[1]){let u=o[1];u=(u+"000000000").substr(0,9),t=Number(u)}const c=new Date(r);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fa(r){return typeof r=="string"?Fn.fromBase64String(r):Fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r){var t,o;return((o=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="server_timestamp"}function s1(r){const t=r.mapValue.fields.__previous_value__;return i1(t)?s1(t):t}function lh(r){const t=Ps(r.mapValue.fields.__local_write_time__.timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(t,o,c,u,d,f,m,k,w){this.databaseId=t,this.appId=o,this.persistenceKey=c,this.host=u,this.ssl=d,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=k,this.useFetchStreams=w}}class uh{constructor(t,o){this.projectId=t,this.database=o||"(default)"}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof uh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?i1(r)?4:die(r)?9007199254740991:10:Ee()}function ti(r,t){if(r===t)return!0;const o=za(r);if(o!==za(t))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return lh(r).isEqual(lh(t));case 3:return function(u,d){if(typeof u.timestampValue=="string"&&typeof d.timestampValue=="string"&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const f=Ps(u.timestampValue),m=Ps(d.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(u,d){return Fa(u.bytesValue).isEqual(Fa(d.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(u,d){return Ht(u.geoPointValue.latitude)===Ht(d.geoPointValue.latitude)&&Ht(u.geoPointValue.longitude)===Ht(d.geoPointValue.longitude)}(r,t);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Ht(u.integerValue)===Ht(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const f=Ht(u.doubleValue),m=Ht(d.doubleValue);return f===m?pm(f)===pm(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return vl(r.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:return function(u,d){const f=u.mapValue.fields||{},m=d.mapValue.fields||{};if(ZP(f)!==ZP(m))return!1;for(const k in f)if(f.hasOwnProperty(k)&&(m[k]===void 0||!ti(f[k],m[k])))return!1;return!0}(r,t);default:return Ee()}}function dh(r,t){return(r.values||[]).find(o=>ti(o,t))!==void 0}function Al(r,t){if(r===t)return 0;const o=za(r),c=za(t);if(o!==c)return Ge(o,c);switch(o){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,t.booleanValue);case 2:return function(d,f){const m=Ht(d.integerValue||d.doubleValue),k=Ht(f.integerValue||f.doubleValue);return m<k?-1:m>k?1:m===k?0:isNaN(m)?isNaN(k)?0:-1:1}(r,t);case 3:return eR(r.timestampValue,t.timestampValue);case 4:return eR(lh(r),lh(t));case 5:return Ge(r.stringValue,t.stringValue);case 6:return function(d,f){const m=Fa(d),k=Fa(f);return m.compareTo(k)}(r.bytesValue,t.bytesValue);case 7:return function(d,f){const m=d.split("/"),k=f.split("/");for(let w=0;w<m.length&&w<k.length;w++){const A=Ge(m[w],k[w]);if(A!==0)return A}return Ge(m.length,k.length)}(r.referenceValue,t.referenceValue);case 8:return function(d,f){const m=Ge(Ht(d.latitude),Ht(f.latitude));return m!==0?m:Ge(Ht(d.longitude),Ht(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return function(d,f){const m=d.values||[],k=f.values||[];for(let w=0;w<m.length&&w<k.length;++w){const A=Al(m[w],k[w]);if(A)return A}return Ge(m.length,k.length)}(r.arrayValue,t.arrayValue);case 10:return function(d,f){if(d===sg.mapValue&&f===sg.mapValue)return 0;if(d===sg.mapValue)return 1;if(f===sg.mapValue)return-1;const m=d.fields||{},k=Object.keys(m),w=f.fields||{},A=Object.keys(w);k.sort(),A.sort();for(let _=0;_<k.length&&_<A.length;++_){const C=Ge(k[_],A[_]);if(C!==0)return C;const E=Al(m[k[_]],w[A[_]]);if(E!==0)return E}return Ge(k.length,A.length)}(r.mapValue,t.mapValue);default:throw Ee()}}function eR(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ge(r,t);const o=Ps(r),c=Ps(t),u=Ge(o.seconds,c.seconds);return u!==0?u:Ge(o.nanos,c.nanos)}function Cl(r){return mC(r)}function mC(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const c=Ps(o);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(o){return Fa(o).toBase64()}(r.bytesValue):"referenceValue"in r?function(o){return ve.fromName(o).toString()}(r.referenceValue):"geoPointValue"in r?function(o){return`geo(${o.latitude},${o.longitude})`}(r.geoPointValue):"arrayValue"in r?function(o){let c="[",u=!0;for(const d of o.values||[])u?u=!1:c+=",",c+=mC(d);return c+"]"}(r.arrayValue):"mapValue"in r?function(o){const c=Object.keys(o.fields||{}).sort();let u="{",d=!0;for(const f of c)d?d=!1:u+=",",u+=`${f}:${mC(o.fields[f])}`;return u+"}"}(r.mapValue):Ee()}function kC(r){return!!r&&"integerValue"in r}function a1(r){return!!r&&"arrayValue"in r}function tR(r){return!!r&&"nullValue"in r}function nR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yg(r){return!!r&&"mapValue"in r}function Sd(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Vl(r.mapValue.fields,(o,c)=>t.mapValue.fields[o]=Sd(c)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let o=0;o<(r.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=Sd(r.arrayValue.values[o]);return t}return Object.assign({},r)}function die(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.value=t}static empty(){return new qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let o=this.value;for(let c=0;c<t.length-1;++c)if(o=(o.mapValue.fields||{})[t.get(c)],!yg(o))return null;return o=(o.mapValue.fields||{})[t.lastSegment()],o||null}}set(t,o){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sd(o)}setAll(t){let o=vn.emptyPath(),c={},u=[];t.forEach((f,m)=>{if(!o.isImmediateParentOf(m)){const k=this.getFieldsMap(o);this.applyChanges(k,c,u),c={},u=[],o=m.popLast()}f?c[m.lastSegment()]=Sd(f):u.push(m.lastSegment())});const d=this.getFieldsMap(o);this.applyChanges(d,c,u)}delete(t){const o=this.field(t.popLast());yg(o)&&o.mapValue.fields&&delete o.mapValue.fields[t.lastSegment()]}isEqual(t){return ti(this.value,t.value)}getFieldsMap(t){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<t.length;++c){let u=o.mapValue.fields[t.get(c)];yg(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},o.mapValue.fields[t.get(c)]=u),o=u}return o.mapValue.fields}applyChanges(t,o,c){Vl(o,(u,d)=>t[u]=d);for(const u of c)delete t[u]}clone(){return new qr(Sd(this.value))}}function WO(r){const t=[];return Vl(r.fields,(o,c)=>{const u=new vn([o]);if(yg(c)){const d=WO(c.mapValue).fields;if(d.length===0)t.push(u);else for(const f of d)t.push(u.child(f))}else t.push(u)}),new mo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,o,c,u,d,f,m){this.key=t,this.documentType=o,this.version=c,this.readTime=u,this.createTime=d,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Nn(t,0,Se.min(),Se.min(),Se.min(),qr.empty(),0)}static newFoundDocument(t,o,c,u){return new Nn(t,1,o,Se.min(),c,u,0)}static newNoDocument(t,o){return new Nn(t,2,o,Se.min(),Se.min(),qr.empty(),0)}static newUnknownDocument(t,o){return new Nn(t,3,o,Se.min(),Se.min(),qr.empty(),2)}convertToFoundDocument(t,o){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,o){this.position=t,this.inclusive=o}}function rR(r,t,o){let c=0;for(let u=0;u<r.position.length;u++){const d=t[u],f=r.position[u];if(d.field.isKeyField()?c=ve.comparator(ve.fromName(f.referenceValue),o.key):c=Al(f,o.data.field(d.field)),d.dir==="desc"&&(c*=-1),c!==0)break}return c}function oR(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let o=0;o<r.position.length;o++)if(!ti(r.position[o],t.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,o="asc"){this.field=t,this.dir=o}}function hie(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{}class Jt extends GO{constructor(t,o,c){super(),this.field=t,this.op=o,this.value=c}static create(t,o,c){return t.isKeyField()?o==="in"||o==="not-in"?this.createKeyFieldInFilter(t,o,c):new pie(t,o,c):o==="array-contains"?new kie(t,c):o==="in"?new bie(t,c):o==="not-in"?new wie(t,c):o==="array-contains-any"?new _ie(t,c):new Jt(t,o,c)}static createKeyFieldInFilter(t,o,c){return o==="in"?new gie(t,c):new mie(t,c)}matches(t){const o=t.data.field(this.field);return this.op==="!="?o!==null&&this.matchesComparison(Al(o,this.value)):o!==null&&za(this.value)===za(o)&&this.matchesComparison(Al(o,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends GO{constructor(t,o){super(),this.filters=t,this.op=o,this.ue=null}static create(t,o){return new ni(t,o)}matches(t){return KO(this)?this.filters.find(o=>!o.matches(t))===void 0:this.filters.find(o=>o.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,o)=>t.concat(o.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function KO(r){return r.op==="and"}function QO(r){return fie(r)&&KO(r)}function fie(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function bC(r){if(r instanceof Jt)return r.field.canonicalString()+r.op.toString()+Cl(r.value);if(QO(r))return r.filters.map(t=>bC(t)).join(",");{const t=r.filters.map(o=>bC(o)).join(",");return`${r.op}(${t})`}}function JO(r,t){return r instanceof Jt?function(c,u){return u instanceof Jt&&c.op===u.op&&c.field.isEqual(u.field)&&ti(c.value,u.value)}(r,t):r instanceof ni?function(c,u){return u instanceof ni&&c.op===u.op&&c.filters.length===u.filters.length?c.filters.reduce((d,f,m)=>d&&JO(f,u.filters[m]),!0):!1}(r,t):void Ee()}function YO(r){return r instanceof Jt?function(o){return`${o.field.canonicalString()} ${o.op} ${Cl(o.value)}`}(r):r instanceof ni?function(o){return o.op.toString()+" {"+o.getFilters().map(YO).join(" ,")+"}"}(r):"Filter"}class pie extends Jt{constructor(t,o,c){super(t,o,c),this.key=ve.fromName(c.referenceValue)}matches(t){const o=ve.comparator(t.key,this.key);return this.matchesComparison(o)}}class gie extends Jt{constructor(t,o){super(t,"in",o),this.keys=ZO("in",o)}matches(t){return this.keys.some(o=>o.isEqual(t.key))}}class mie extends Jt{constructor(t,o){super(t,"not-in",o),this.keys=ZO("not-in",o)}matches(t){return!this.keys.some(o=>o.isEqual(t.key))}}function ZO(r,t){var o;return(((o=t.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(c=>ve.fromName(c.referenceValue))}class kie extends Jt{constructor(t,o){super(t,"array-contains",o)}matches(t){const o=t.data.field(this.field);return a1(o)&&dh(o.arrayValue,this.value)}}class bie extends Jt{constructor(t,o){super(t,"in",o)}matches(t){const o=t.data.field(this.field);return o!==null&&dh(this.value.arrayValue,o)}}class wie extends Jt{constructor(t,o){super(t,"not-in",o)}matches(t){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=t.data.field(this.field);return o!==null&&!dh(this.value.arrayValue,o)}}class _ie extends Jt{constructor(t,o){super(t,"array-contains-any",o)}matches(t){const o=t.data.field(this.field);return!(!a1(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>dh(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(t,o=null,c=[],u=[],d=null,f=null,m=null){this.path=t,this.collectionGroup=o,this.orderBy=c,this.filters=u,this.limit=d,this.startAt=f,this.endAt=m,this.ce=null}}function iR(r,t=null,o=[],c=[],u=null,d=null,f=null){return new vie(r,t,o,c,u,d,f)}function c1(r){const t=Ie(r);if(t.ce===null){let o=t.path.canonicalString();t.collectionGroup!==null&&(o+="|cg:"+t.collectionGroup),o+="|f:",o+=t.filters.map(c=>bC(c)).join(","),o+="|ob:",o+=t.orderBy.map(c=>function(d){return d.field.canonicalString()+d.dir}(c)).join(","),hk(t.limit)||(o+="|l:",o+=t.limit),t.startAt&&(o+="|lb:",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(c=>Cl(c)).join(",")),t.endAt&&(o+="|ub:",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(c=>Cl(c)).join(",")),t.ce=o}return t.ce}function l1(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!hie(r.orderBy[o],t.orderBy[o]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if(!JO(r.filters[o],t.filters[o]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!oR(r.startAt,t.startAt)&&oR(r.endAt,t.endAt)}function wC(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,o=null,c=[],u=[],d=null,f="F",m=null,k=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=u,this.limit=d,this.limitType=f,this.startAt=m,this.endAt=k,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Aie(r,t,o,c,u,d,f,m){return new fk(r,t,o,c,u,d,f,m)}function u1(r){return new fk(r)}function sR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cie(r){return r.collectionGroup!==null}function Dd(r){const t=Ie(r);if(t.le===null){t.le=[];const o=new Set;for(const d of t.explicitOrderBy)t.le.push(d),o.add(d.field.canonicalString());const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new yn(vn.comparator);return f.filters.forEach(k=>{k.getFlattenedFilters().forEach(w=>{w.isInequality()&&(m=m.add(w.field))})}),m})(t).forEach(d=>{o.has(d.canonicalString())||d.isKeyField()||t.le.push(new mm(d,c))}),o.has(vn.keyField().canonicalString())||t.le.push(new mm(vn.keyField(),c))}return t.le}function Jo(r){const t=Ie(r);return t.he||(t.he=yie(t,Dd(r))),t.he}function yie(r,t){if(r.limitType==="F")return iR(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(u=>{const d=u.dir==="desc"?"asc":"desc";return new mm(u.field,d)});const o=r.endAt?new gm(r.endAt.position,r.endAt.inclusive):null,c=r.startAt?new gm(r.startAt.position,r.startAt.inclusive):null;return iR(r.path,r.collectionGroup,t,r.filters,r.limit,o,c)}}function _C(r,t,o){return new fk(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,o,r.startAt,r.endAt)}function pk(r,t){return l1(Jo(r),Jo(t))&&r.limitType===t.limitType}function XO(r){return`${c1(Jo(r))}|lt:${r.limitType}`}function Mc(r){return`Query(target=${function(o){let c=o.path.canonicalString();return o.collectionGroup!==null&&(c+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(c+=`, filters: [${o.filters.map(u=>YO(u)).join(", ")}]`),hk(o.limit)||(c+=", limit: "+o.limit),o.orderBy.length>0&&(c+=`, orderBy: [${o.orderBy.map(u=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(u)).join(", ")}]`),o.startAt&&(c+=", startAt: ",c+=o.startAt.inclusive?"b:":"a:",c+=o.startAt.position.map(u=>Cl(u)).join(",")),o.endAt&&(c+=", endAt: ",c+=o.endAt.inclusive?"a:":"b:",c+=o.endAt.position.map(u=>Cl(u)).join(",")),`Target(${c})`}(Jo(r))}; limitType=${r.limitType})`}function gk(r,t){return t.isFoundDocument()&&function(c,u){const d=u.key.path;return c.collectionGroup!==null?u.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(d):ve.isDocumentKey(c.path)?c.path.isEqual(d):c.path.isImmediateParentOf(d)}(r,t)&&function(c,u){for(const d of Dd(c))if(!d.field.isKeyField()&&u.data.field(d.field)===null)return!1;return!0}(r,t)&&function(c,u){for(const d of c.filters)if(!d.matches(u))return!1;return!0}(r,t)&&function(c,u){return!(c.startAt&&!function(f,m,k){const w=rR(f,m,k);return f.inclusive?w<=0:w<0}(c.startAt,Dd(c),u)||c.endAt&&!function(f,m,k){const w=rR(f,m,k);return f.inclusive?w>=0:w>0}(c.endAt,Dd(c),u))}(r,t)}function Eie(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eN(r){return(t,o)=>{let c=!1;for(const u of Dd(r)){const d=xie(u,t,o);if(d!==0)return d;c=c||u.field.isKeyField()}return 0}}function xie(r,t,o){const c=r.field.isKeyField()?ve.comparator(t.key,o.key):function(d,f,m){const k=f.data.field(d),w=m.data.field(d);return k!==null&&w!==null?Al(k,w):Ee()}(r.field,t,o);switch(r.dir){case"asc":return c;case"desc":return-1*c;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,o){this.mapKeyFn=t,this.equalsFn=o,this.inner={},this.innerSize=0}get(t){const o=this.mapKeyFn(t),c=this.inner[o];if(c!==void 0){for(const[u,d]of c)if(this.equalsFn(u,t))return d}}has(t){return this.get(t)!==void 0}set(t,o){const c=this.mapKeyFn(t),u=this.inner[c];if(u===void 0)return this.inner[c]=[[t,o]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],t))return void(u[d]=[t,o]);u.push([t,o]),this.innerSize++}delete(t){const o=this.mapKeyFn(t),c=this.inner[o];if(c===void 0)return!1;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],t))return c.length===1?delete this.inner[o]:c.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Vl(this.inner,(o,c)=>{for(const[u,d]of c)t(u,d)})}isEmpty(){return HO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie=new It(ve.comparator);function Ri(){return Tie}const tN=new It(ve.comparator);function pd(...r){let t=tN;for(const o of r)t=t.insert(o.key,o);return t}function nN(r){let t=tN;return r.forEach((o,c)=>t=t.insert(o,c.overlayedDocument)),t}function Ea(){return Id()}function rN(){return Id()}function Id(){return new Ll(r=>r.toString(),(r,t)=>r.isEqual(t))}const Sie=new It(ve.comparator),Die=new yn(ve.comparator);function Ve(...r){let t=Die;for(const o of r)t=t.add(o);return t}const Iie=new yn(Ge);function Pie(){return Iie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pm(t)?"-0":t}}function iN(r){return{integerValue:""+r}}function Rie(r,t){return cie(t)?iN(t):oN(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this._=void 0}}function Bie(r,t,o){return r instanceof km?function(u,d){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&i1(d)&&(d=s1(d)),d&&(f.fields.__previous_value__=d),{mapValue:f}}(o,t):r instanceof hh?aN(r,t):r instanceof fh?cN(r,t):function(u,d){const f=sN(u,d),m=aR(f)+aR(u.Ie);return kC(f)&&kC(u.Ie)?iN(m):oN(u.serializer,m)}(r,t)}function Oie(r,t,o){return r instanceof hh?aN(r,t):r instanceof fh?cN(r,t):o}function sN(r,t){return r instanceof bm?function(c){return kC(c)||function(d){return!!d&&"doubleValue"in d}(c)}(t)?t:{integerValue:0}:null}class km extends mk{}class hh extends mk{constructor(t){super(),this.elements=t}}function aN(r,t){const o=lN(t);for(const c of r.elements)o.some(u=>ti(u,c))||o.push(c);return{arrayValue:{values:o}}}class fh extends mk{constructor(t){super(),this.elements=t}}function cN(r,t){let o=lN(t);for(const c of r.elements)o=o.filter(u=>!ti(u,c));return{arrayValue:{values:o}}}class bm extends mk{constructor(t,o){super(),this.serializer=t,this.Ie=o}}function aR(r){return Ht(r.integerValue||r.doubleValue)}function lN(r){return a1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Nie(r,t){return r.field.isEqual(t.field)&&function(c,u){return c instanceof hh&&u instanceof hh||c instanceof fh&&u instanceof fh?vl(c.elements,u.elements,ti):c instanceof bm&&u instanceof bm?ti(c.Ie,u.Ie):c instanceof km&&u instanceof km}(r.transform,t.transform)}class Mie{constructor(t,o){this.version=t,this.transformResults=o}}class xi{constructor(t,o){this.updateTime=t,this.exists=o}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Eg(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kk{}function uN(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new hN(r.key,xi.none()):new Oh(r.key,r.data,xi.none());{const o=r.data,c=qr.empty();let u=new yn(vn.comparator);for(let d of t.fields)if(!u.has(d)){let f=o.field(d);f===null&&d.length>1&&(d=d.popLast(),f=o.field(d)),f===null?c.delete(d):c.set(d,f),u=u.add(d)}return new Ka(r.key,c,new mo(u.toArray()),xi.none())}}function Vie(r,t,o){r instanceof Oh?function(u,d,f){const m=u.value.clone(),k=lR(u.fieldTransforms,d,f.transformResults);m.setAll(k),d.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,o):r instanceof Ka?function(u,d,f){if(!Eg(u.precondition,d))return void d.convertToUnknownDocument(f.version);const m=lR(u.fieldTransforms,d,f.transformResults),k=d.data;k.setAll(dN(u)),k.setAll(m),d.convertToFoundDocument(f.version,k).setHasCommittedMutations()}(r,t,o):function(u,d,f){d.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,o)}function Pd(r,t,o,c){return r instanceof Oh?function(d,f,m,k){if(!Eg(d.precondition,f))return m;const w=d.value.clone(),A=uR(d.fieldTransforms,k,f);return w.setAll(A),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),null}(r,t,o,c):r instanceof Ka?function(d,f,m,k){if(!Eg(d.precondition,f))return m;const w=uR(d.fieldTransforms,k,f),A=f.data;return A.setAll(dN(d)),A.setAll(w),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),m===null?null:m.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(_=>_.field))}(r,t,o,c):function(d,f,m){return Eg(d.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,o)}function Lie(r,t){let o=null;for(const c of r.fieldTransforms){const u=t.data.field(c.field),d=sN(c.transform,u||null);d!=null&&(o===null&&(o=qr.empty()),o.set(c.field,d))}return o||null}function cR(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(c,u){return c===void 0&&u===void 0||!(!c||!u)&&vl(c,u,(d,f)=>Nie(d,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Oh extends kk{constructor(t,o,c,u=[]){super(),this.key=t,this.value=o,this.precondition=c,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ka extends kk{constructor(t,o,c,u,d=[]){super(),this.key=t,this.data=o,this.fieldMask=c,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function dN(r){const t=new Map;return r.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=r.data.field(o);t.set(o,c)}}),t}function lR(r,t,o){const c=new Map;ft(r.length===o.length);for(let u=0;u<o.length;u++){const d=r[u],f=d.transform,m=t.data.field(d.field);c.set(d.field,Oie(f,m,o[u]))}return c}function uR(r,t,o){const c=new Map;for(const u of r){const d=u.transform,f=o.data.field(u.field);c.set(u.field,Bie(d,f,t))}return c}class hN extends kk{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fie extends kk{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(t,o,c,u){this.batchId=t,this.localWriteTime=o,this.baseMutations=c,this.mutations=u}applyToRemoteDocument(t,o){const c=o.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(t.key)&&Vie(d,t,c[u])}}applyToLocalView(t,o){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(o=Pd(c,t,o,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(o=Pd(c,t,o,this.localWriteTime));return o}applyToLocalDocumentSet(t,o){const c=rN();return this.mutations.forEach(u=>{const d=t.get(u.key),f=d.overlayedDocument;let m=this.applyToLocalView(f,d.mutatedFields);m=o.has(u.key)?null:m;const k=uN(f,m);k!==null&&c.set(u.key,k),f.isValidDocument()||f.convertToNoDocument(Se.min())}),c}keys(){return this.mutations.reduce((t,o)=>t.add(o.key),Ve())}isEqual(t){return this.batchId===t.batchId&&vl(this.mutations,t.mutations,(o,c)=>cR(o,c))&&vl(this.baseMutations,t.baseMutations,(o,c)=>cR(o,c))}}class d1{constructor(t,o,c,u){this.batch=t,this.commitVersion=o,this.mutationResults=c,this.docVersions=u}static from(t,o,c){ft(t.mutations.length===c.length);let u=function(){return Sie}();const d=t.mutations;for(let f=0;f<d.length;f++)u=u.insert(d[f].key,c[f].version);return new d1(t,o,c,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(t,o){this.largestBatchId=t,this.mutation=o}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(t,o){this.count=t,this.unchangedNames=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ue;function $ie(r){switch(r){default:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function fN(r){if(r===void 0)return ei("GRPC error has no .code"),Z.UNKNOWN;switch(r){case $t.OK:return Z.OK;case $t.CANCELLED:return Z.CANCELLED;case $t.UNKNOWN:return Z.UNKNOWN;case $t.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case $t.INTERNAL:return Z.INTERNAL;case $t.UNAVAILABLE:return Z.UNAVAILABLE;case $t.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case $t.NOT_FOUND:return Z.NOT_FOUND;case $t.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case $t.ABORTED:return Z.ABORTED;case $t.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case $t.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(Ue=$t||($t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=new al([4294967295,4294967295],0);function dR(r){const t=Hie().encode(r),o=new qoe;return o.update(t),new Uint8Array(o.digest())}function hR(r){const t=new DataView(r.buffer),o=t.getUint32(0,!0),c=t.getUint32(4,!0),u=t.getUint32(8,!0),d=t.getUint32(12,!0);return[new al([o,c],0),new al([u,d],0)]}class h1{constructor(t,o,c){if(this.bitmap=t,this.padding=o,this.hashCount=c,o<0||o>=8)throw new gd(`Invalid padding: ${o}`);if(c<0)throw new gd(`Invalid hash count: ${c}`);if(t.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${c}`);if(t.length===0&&o!==0)throw new gd(`Invalid padding when bitmap length is 0: ${o}`);this.Te=8*t.length-o,this.Ee=al.fromNumber(this.Te)}de(t,o,c){let u=t.add(o.multiply(al.fromNumber(c)));return u.compare(qie)===1&&(u=new al([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const o=dR(t),[c,u]=hR(o);for(let d=0;d<this.hashCount;d++){const f=this.de(c,u,d);if(!this.Ae(f))return!1}return!0}static create(t,o,c){const u=t%8==0?0:8-t%8,d=new Uint8Array(Math.ceil(t/8)),f=new h1(d,u,o);return c.forEach(m=>f.insert(m)),f}insert(t){if(this.Te===0)return;const o=dR(t),[c,u]=hR(o);for(let d=0;d<this.hashCount;d++){const f=this.de(c,u,d);this.Re(f)}}Re(t){const o=Math.floor(t/8),c=t%8;this.bitmap[o]|=1<<c}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t,o,c,u,d){this.snapshotVersion=t,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(t,o,c){const u=new Map;return u.set(t,Nh.createSynthesizedTargetChangeForCurrentChange(t,o,c)),new bk(Se.min(),u,new It(Ge),Ri(),Ve())}}class Nh{constructor(t,o,c,u,d){this.resumeToken=t,this.current=o,this.addedDocuments=c,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(t,o,c){return new Nh(c,o,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,o,c,u){this.Ve=t,this.removedTargetIds=o,this.key=c,this.me=u}}class pN{constructor(t,o){this.targetId=t,this.fe=o}}class gN{constructor(t,o,c=Fn.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=o,this.resumeToken=c,this.cause=u}}class fR{constructor(){this.ge=0,this.pe=gR(),this.ye=Fn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ve(),o=Ve(),c=Ve();return this.pe.forEach((u,d)=>{switch(d){case 0:t=t.add(u);break;case 2:o=o.add(u);break;case 1:c=c.add(u);break;default:Ee()}}),new Nh(this.ye,this.we,t,o,c)}Fe(){this.Se=!1,this.pe=gR()}Me(t,o){this.Se=!0,this.pe=this.pe.insert(t,o)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ft(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Wie{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ri(),this.Qe=pR(),this.Ke=new It(Ge)}$e(t){for(const o of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(o,t.me):this.We(o,t.key,t.me);for(const o of t.removedTargetIds)this.We(o,t.key,t.me)}Ge(t){this.forEachTarget(t,o=>{const c=this.ze(o);switch(t.state){case 0:this.je(o)&&c.Ce(t.resumeToken);break;case 1:c.Ne(),c.be||c.Fe(),c.Ce(t.resumeToken);break;case 2:c.Ne(),c.be||this.removeTarget(o);break;case 3:this.je(o)&&(c.Be(),c.Ce(t.resumeToken));break;case 4:this.je(o)&&(this.He(o),c.Ce(t.resumeToken));break;default:Ee()}})}forEachTarget(t,o){t.targetIds.length>0?t.targetIds.forEach(o):this.ke.forEach((c,u)=>{this.je(u)&&o(u)})}Je(t){const o=t.targetId,c=t.fe.count,u=this.Ye(o);if(u){const d=u.target;if(wC(d))if(c===0){const f=new ve(d.path);this.We(o,f,Nn.newNoDocument(f,Se.min()))}else ft(c===1);else{const f=this.Ze(o);if(f!==c){const m=this.Xe(t),k=m?this.et(m,t,f):1;if(k!==0){this.He(o);const w=k===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(o,w)}}}}}Xe(t){const o=t.fe.unchangedNames;if(!o||!o.bits)return null;const{bits:{bitmap:c="",padding:u=0},hashCount:d=0}=o;let f,m;try{f=Fa(c).toUint8Array()}catch(k){if(k instanceof qO)return _l("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{m=new h1(f,u,d)}catch(k){return _l(k instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return m.Te===0?null:m}et(t,o,c){return o.fe.count===c-this.rt(t,o.targetId)?0:2}rt(t,o){const c=this.Le.getRemoteKeysForTarget(o);let u=0;return c.forEach(d=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${d.path.canonicalString()}`;t.mightContain(m)||(this.We(o,d,null),u++)}),u}it(t){const o=new Map;this.ke.forEach((d,f)=>{const m=this.Ye(f);if(m){if(d.current&&wC(m.target)){const k=new ve(m.target.path);this.qe.get(k)!==null||this.st(f,k)||this.We(f,k,Nn.newNoDocument(k,t))}d.De&&(o.set(f,d.ve()),d.Fe())}});let c=Ve();this.Qe.forEach((d,f)=>{let m=!0;f.forEachWhile(k=>{const w=this.Ye(k);return!w||w.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(c=c.add(d))}),this.qe.forEach((d,f)=>f.setReadTime(t));const u=new bk(t,o,this.Ke,this.qe,c);return this.qe=Ri(),this.Qe=pR(),this.Ke=new It(Ge),u}Ue(t,o){if(!this.je(t))return;const c=this.st(t,o.key)?2:0;this.ze(t).Me(o.key,c),this.qe=this.qe.insert(o.key,o),this.Qe=this.Qe.insert(o.key,this.ot(o.key).add(t))}We(t,o,c){if(!this.je(t))return;const u=this.ze(t);this.st(t,o)?u.Me(o,1):u.xe(o),this.Qe=this.Qe.insert(o,this.ot(o).delete(t)),c&&(this.qe=this.qe.insert(o,c))}removeTarget(t){this.ke.delete(t)}Ze(t){const o=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+o.addedDocuments.size-o.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let o=this.ke.get(t);return o||(o=new fR,this.ke.set(t,o)),o}ot(t){let o=this.Qe.get(t);return o||(o=new yn(Ge),this.Qe=this.Qe.insert(t,o)),o}je(t){const o=this.Ye(t)!==null;return o||ie("WatchChangeAggregator","Detected inactive target",t),o}Ye(t){const o=this.ke.get(t);return o&&o.be?null:this.Le._t(t)}He(t){this.ke.set(t,new fR),this.Le.getRemoteKeysForTarget(t).forEach(o=>{this.We(t,o,null)})}st(t,o){return this.Le.getRemoteKeysForTarget(t).has(o)}}function pR(){return new It(ve.comparator)}function gR(){return new It(ve.comparator)}const Gie={asc:"ASCENDING",desc:"DESCENDING"},Kie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qie={and:"AND",or:"OR"};class Jie{constructor(t,o){this.databaseId=t,this.useProto3Json=o}}function vC(r,t){return r.useProto3Json||hk(t)?t:{value:t}}function wm(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mN(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Yie(r,t){return wm(r,t.toTimestamp())}function Yo(r){return ft(!!r),Se.fromTimestamp(function(o){const c=Ps(o);return new Zt(c.seconds,c.nanos)}(r))}function f1(r,t){return AC(r,t).canonicalString()}function AC(r,t){const o=function(u){return new Ct(["projects",u.projectId,"databases",u.database])}(r).child("documents");return t===void 0?o:o.child(t)}function kN(r){const t=Ct.fromString(r);return ft(AN(t)),t}function CC(r,t){return f1(r.databaseId,t.path)}function K0(r,t){const o=kN(t);if(o.get(1)!==r.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+r.databaseId.projectId);if(o.get(3)!==r.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+r.databaseId.database);return new ve(wN(o))}function bN(r,t){return f1(r.databaseId,t)}function Zie(r){const t=kN(r);return t.length===4?Ct.emptyPath():wN(t)}function yC(r){return new Ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wN(r){return ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function mR(r,t,o){return{name:CC(r,t),fields:o.value.mapValue.fields}}function Xie(r,t){let o;if("targetChange"in t){t.targetChange;const c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Ee()}(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],d=function(w,A){return w.useProto3Json?(ft(A===void 0||typeof A=="string"),Fn.fromBase64String(A||"")):(ft(A===void 0||A instanceof Uint8Array),Fn.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(w){const A=w.code===void 0?Z.UNKNOWN:fN(w.code);return new me(A,w.message||"")}(f);o=new gN(c,u,d,m||null)}else if("documentChange"in t){t.documentChange;const c=t.documentChange;c.document,c.document.name,c.document.updateTime;const u=K0(r,c.document.name),d=Yo(c.document.updateTime),f=c.document.createTime?Yo(c.document.createTime):Se.min(),m=new qr({mapValue:{fields:c.document.fields}}),k=Nn.newFoundDocument(u,d,f,m),w=c.targetIds||[],A=c.removedTargetIds||[];o=new xg(w,A,k.key,k)}else if("documentDelete"in t){t.documentDelete;const c=t.documentDelete;c.document;const u=K0(r,c.document),d=c.readTime?Yo(c.readTime):Se.min(),f=Nn.newNoDocument(u,d),m=c.removedTargetIds||[];o=new xg([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const c=t.documentRemove;c.document;const u=K0(r,c.document),d=c.removedTargetIds||[];o=new xg([],d,u,null)}else{if(!("filter"in t))return Ee();{t.filter;const c=t.filter;c.targetId;const{count:u=0,unchangedNames:d}=c,f=new Uie(u,d),m=c.targetId;o=new pN(m,f)}}return o}function ese(r,t){let o;if(t instanceof Oh)o={update:mR(r,t.key,t.value)};else if(t instanceof hN)o={delete:CC(r,t.key)};else if(t instanceof Ka)o={update:mR(r,t.key,t.data),updateMask:lse(t.fieldMask)};else{if(!(t instanceof Fie))return Ee();o={verify:CC(r,t.key)}}return t.fieldTransforms.length>0&&(o.updateTransforms=t.fieldTransforms.map(c=>function(d,f){const m=f.transform;if(m instanceof km)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bm)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,c))),t.precondition.isNone||(o.currentDocument=function(u,d){return d.updateTime!==void 0?{updateTime:Yie(u,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:Ee()}(r,t.precondition)),o}function tse(r,t){return r&&r.length>0?(ft(t!==void 0),r.map(o=>function(u,d){let f=u.updateTime?Yo(u.updateTime):Yo(d);return f.isEqual(Se.min())&&(f=Yo(d)),new Mie(f,u.transformResults||[])}(o,t))):[]}function nse(r,t){return{documents:[bN(r,t.path)]}}function rse(r,t){const o={structuredQuery:{}},c=t.path;let u;t.collectionGroup!==null?(u=c,o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=c.popLast(),o.structuredQuery.from=[{collectionId:c.lastSegment()}]),o.parent=bN(r,u);const d=function(w){if(w.length!==0)return vN(ni.create(w,"and"))}(t.filters);d&&(o.structuredQuery.where=d);const f=function(w){if(w.length!==0)return w.map(A=>function(C){return{field:Vc(C.field),direction:sse(C.dir)}}(A))}(t.orderBy);f&&(o.structuredQuery.orderBy=f);const m=vC(r,t.limit);return m!==null&&(o.structuredQuery.limit=m),t.startAt&&(o.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(t.startAt)),t.endAt&&(o.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{ut:o,parent:u}}function ose(r){let t=Zie(r.parent);const o=r.structuredQuery,c=o.from?o.from.length:0;let u=null;if(c>0){ft(c===1);const A=o.from[0];A.allDescendants?u=A.collectionId:t=t.child(A.collectionId)}let d=[];o.where&&(d=function(_){const C=_N(_);return C instanceof ni&&QO(C)?C.getFilters():[C]}(o.where));let f=[];o.orderBy&&(f=function(_){return _.map(C=>function(S){return new mm(Lc(S.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(C))}(o.orderBy));let m=null;o.limit&&(m=function(_){let C;return C=typeof _=="object"?_.value:_,hk(C)?null:C}(o.limit));let k=null;o.startAt&&(k=function(_){const C=!!_.before,E=_.values||[];return new gm(E,C)}(o.startAt));let w=null;return o.endAt&&(w=function(_){const C=!_.before,E=_.values||[];return new gm(E,C)}(o.endAt)),Aie(t,u,f,d,m,"F",k,w)}function ise(r,t){const o=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(t.purpose);return o==null?null:{"goog-listen-tags":o}}function _N(r){return r.unaryFilter!==void 0?function(o){switch(o.unaryFilter.op){case"IS_NAN":const c=Lc(o.unaryFilter.field);return Jt.create(c,"==",{doubleValue:NaN});case"IS_NULL":const u=Lc(o.unaryFilter.field);return Jt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Lc(o.unaryFilter.field);return Jt.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Lc(o.unaryFilter.field);return Jt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(o){return Jt.create(Lc(o.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(o.fieldFilter.op),o.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(o){return ni.create(o.compositeFilter.filters.map(c=>_N(c)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Ee()}}(o.compositeFilter.op))}(r):Ee()}function sse(r){return Gie[r]}function ase(r){return Kie[r]}function cse(r){return Qie[r]}function Vc(r){return{fieldPath:r.canonicalString()}}function Lc(r){return vn.fromServerFormat(r.fieldPath)}function vN(r){return r instanceof Jt?function(o){if(o.op==="=="){if(nR(o.value))return{unaryFilter:{field:Vc(o.field),op:"IS_NAN"}};if(tR(o.value))return{unaryFilter:{field:Vc(o.field),op:"IS_NULL"}}}else if(o.op==="!="){if(nR(o.value))return{unaryFilter:{field:Vc(o.field),op:"IS_NOT_NAN"}};if(tR(o.value))return{unaryFilter:{field:Vc(o.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(o.field),op:ase(o.op),value:o.value}}}(r):r instanceof ni?function(o){const c=o.getFilters().map(u=>vN(u));return c.length===1?c[0]:{compositeFilter:{op:cse(o.op),filters:c}}}(r):Ee()}function lse(r){const t=[];return r.fields.forEach(o=>t.push(o.canonicalString())),{fieldPaths:t}}function AN(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,o,c,u,d=Se.min(),f=Se.min(),m=Fn.EMPTY_BYTE_STRING,k=null){this.target=t,this.targetId=o,this.purpose=c,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=k}withSequenceNumber(t){return new ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,o){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(t){this.ct=t}}function dse(r){const t=ose({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_C(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(){this._n=new fse}addToCollectionParentIndex(t,o){return this._n.add(o),Q.resolve()}getCollectionParents(t,o){return Q.resolve(this._n.getEntries(o))}addFieldIndex(t,o){return Q.resolve()}deleteFieldIndex(t,o){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,o){return Q.resolve()}getDocumentsMatchingTarget(t,o){return Q.resolve(null)}getIndexType(t,o){return Q.resolve(0)}getFieldIndexes(t,o){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,o){return Q.resolve(Is.min())}getMinOffsetFromCollectionGroup(t,o){return Q.resolve(Is.min())}updateCollectionGroup(t,o,c){return Q.resolve()}updateIndexEntries(t,o){return Q.resolve()}}class fse{constructor(){this.index={}}add(t){const o=t.lastSegment(),c=t.popLast(),u=this.index[o]||new yn(Ct.comparator),d=!u.has(c);return this.index[o]=u.add(c),d}has(t){const o=t.lastSegment(),c=t.popLast(),u=this.index[o];return u&&u.has(c)}getEntries(t){return(this.index[t]||new yn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new yl(0)}static Bn(){return new yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(){this.changes=new Ll(t=>t.toString(),(t,o)=>t.isEqual(o)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,o){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(o))}getEntry(t,o){this.assertNotApplied();const c=this.changes.get(o);return c!==void 0?Q.resolve(c):this.getFromCache(t,o)}getEntries(t,o){return this.getAllFromCache(t,o)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(t,o){this.overlayedDocument=t,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(t,o,c,u){this.remoteDocumentCache=t,this.mutationQueue=o,this.documentOverlayCache=c,this.indexManager=u}getDocument(t,o){let c=null;return this.documentOverlayCache.getOverlay(t,o).next(u=>(c=u,this.remoteDocumentCache.getEntry(t,o))).next(u=>(c!==null&&Pd(c.mutation,u,mo.empty(),Zt.now()),u))}getDocuments(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.getLocalViewOfDocuments(t,c,Ve()).next(()=>c))}getLocalViewOfDocuments(t,o,c=Ve()){const u=Ea();return this.populateOverlays(t,u,o).next(()=>this.computeViews(t,o,u,c).next(d=>{let f=pd();return d.forEach((m,k)=>{f=f.insert(m,k.overlayedDocument)}),f}))}getOverlayedDocuments(t,o){const c=Ea();return this.populateOverlays(t,c,o).next(()=>this.computeViews(t,o,c,Ve()))}populateOverlays(t,o,c){const u=[];return c.forEach(d=>{o.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(t,u).next(d=>{d.forEach((f,m)=>{o.set(f,m)})})}computeViews(t,o,c,u){let d=Ri();const f=Id(),m=function(){return Id()}();return o.forEach((k,w)=>{const A=c.get(w.key);u.has(w.key)&&(A===void 0||A.mutation instanceof Ka)?d=d.insert(w.key,w):A!==void 0?(f.set(w.key,A.mutation.getFieldMask()),Pd(A.mutation,w,A.mutation.getFieldMask(),Zt.now())):f.set(w.key,mo.empty())}),this.recalculateAndSaveOverlays(t,d).next(k=>(k.forEach((w,A)=>f.set(w,A)),o.forEach((w,A)=>{var _;return m.set(w,new gse(A,(_=f.get(w))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,o){const c=Id();let u=new It((f,m)=>f-m),d=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,o).next(f=>{for(const m of f)m.keys().forEach(k=>{const w=o.get(k);if(w===null)return;let A=c.get(k)||mo.empty();A=m.applyToLocalView(w,A),c.set(k,A);const _=(u.get(m.batchId)||Ve()).add(k);u=u.insert(m.batchId,_)})}).next(()=>{const f=[],m=u.getReverseIterator();for(;m.hasNext();){const k=m.getNext(),w=k.key,A=k.value,_=rN();A.forEach(C=>{if(!d.has(C)){const E=uN(o.get(C),c.get(C));E!==null&&_.set(C,E),d=d.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,w,_))}return Q.waitFor(f)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,o,c,u){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(t,o.path):Cie(o)?this.getDocumentsMatchingCollectionGroupQuery(t,o,c,u):this.getDocumentsMatchingCollectionQuery(t,o,c,u)}getNextDocuments(t,o,c,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,o,c,u).next(d=>{const f=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,o,c.largestBatchId,u-d.size):Q.resolve(Ea());let m=-1,k=d;return f.next(w=>Q.forEach(w,(A,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),d.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(C=>{k=k.insert(A,C)}))).next(()=>this.populateOverlays(t,w,d)).next(()=>this.computeViews(t,k,w,Ve())).next(A=>({batchId:m,changes:nN(A)})))})}getDocumentsMatchingDocumentQuery(t,o){return this.getDocument(t,new ve(o)).next(c=>{let u=pd();return c.isFoundDocument()&&(u=u.insert(c.key,c)),u})}getDocumentsMatchingCollectionGroupQuery(t,o,c,u){const d=o.collectionGroup;let f=pd();return this.indexManager.getCollectionParents(t,d).next(m=>Q.forEach(m,k=>{const w=function(_,C){return new fk(C,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(o,k.child(d));return this.getDocumentsMatchingCollectionQuery(t,w,c,u).next(A=>{A.forEach((_,C)=>{f=f.insert(_,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,o,c,u){let d;return this.documentOverlayCache.getOverlaysForCollection(t,o.path,c.largestBatchId).next(f=>(d=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,o,c,d,u))).next(f=>{d.forEach((k,w)=>{const A=w.getKey();f.get(A)===null&&(f=f.insert(A,Nn.newInvalidDocument(A)))});let m=pd();return f.forEach((k,w)=>{const A=d.get(k);A!==void 0&&Pd(A.mutation,w,mo.empty(),Zt.now()),gk(o,w)&&(m=m.insert(k,w))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,o){return Q.resolve(this.cr.get(o))}saveBundleMetadata(t,o){return this.cr.set(o.id,function(u){return{id:u.id,version:u.version,createTime:Yo(u.createTime)}}(o)),Q.resolve()}getNamedQuery(t,o){return Q.resolve(this.lr.get(o))}saveNamedQuery(t,o){return this.lr.set(o.name,function(u){return{name:u.name,query:dse(u.bundledQuery),readTime:Yo(u.readTime)}}(o)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(){this.overlays=new It(ve.comparator),this.hr=new Map}getOverlay(t,o){return Q.resolve(this.overlays.get(o))}getOverlays(t,o){const c=Ea();return Q.forEach(o,u=>this.getOverlay(t,u).next(d=>{d!==null&&c.set(u,d)})).next(()=>c)}saveOverlays(t,o,c){return c.forEach((u,d)=>{this.ht(t,o,d)}),Q.resolve()}removeOverlaysForBatchId(t,o,c){const u=this.hr.get(c);return u!==void 0&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(c)),Q.resolve()}getOverlaysForCollection(t,o,c){const u=Ea(),d=o.length+1,f=new ve(o.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const k=m.getNext().value,w=k.getKey();if(!o.isPrefixOf(w.path))break;w.path.length===d&&k.largestBatchId>c&&u.set(k.getKey(),k)}return Q.resolve(u)}getOverlaysForCollectionGroup(t,o,c,u){let d=new It((w,A)=>w-A);const f=this.overlays.getIterator();for(;f.hasNext();){const w=f.getNext().value;if(w.getKey().getCollectionGroup()===o&&w.largestBatchId>c){let A=d.get(w.largestBatchId);A===null&&(A=Ea(),d=d.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const m=Ea(),k=d.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((w,A)=>m.set(w,A)),!(m.size()>=u)););return Q.resolve(m)}ht(t,o,c){const u=this.overlays.get(c.key);if(u!==null){const f=this.hr.get(u.largestBatchId).delete(c.key);this.hr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(c.key,new jie(o,c));let d=this.hr.get(o);d===void 0&&(d=Ve(),this.hr.set(o,d)),this.hr.set(o,d.add(c.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Pr=new yn(on.Ir),this.Tr=new yn(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,o){const c=new on(t,o);this.Pr=this.Pr.add(c),this.Tr=this.Tr.add(c)}dr(t,o){t.forEach(c=>this.addReference(c,o))}removeReference(t,o){this.Ar(new on(t,o))}Rr(t,o){t.forEach(c=>this.removeReference(c,o))}Vr(t){const o=new ve(new Ct([])),c=new on(o,t),u=new on(o,t+1),d=[];return this.Tr.forEachInRange([c,u],f=>{this.Ar(f),d.push(f.key)}),d}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const o=new ve(new Ct([])),c=new on(o,t),u=new on(o,t+1);let d=Ve();return this.Tr.forEachInRange([c,u],f=>{d=d.add(f.key)}),d}containsKey(t){const o=new on(t,0),c=this.Pr.firstAfterOrEqual(o);return c!==null&&t.isEqual(c.key)}}class on{constructor(t,o){this.key=t,this.pr=o}static Ir(t,o){return ve.comparator(t.key,o.key)||Ge(t.pr,o.pr)}static Er(t,o){return Ge(t.pr,o.pr)||ve.comparator(t.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(t,o){this.indexManager=t,this.referenceDelegate=o,this.mutationQueue=[],this.yr=1,this.wr=new yn(on.Ir)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,o,c,u){const d=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zie(d,o,c,u);this.mutationQueue.push(f);for(const m of u)this.wr=this.wr.add(new on(m.key,d)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,o){return Q.resolve(this.Sr(o))}getNextMutationBatchAfterBatchId(t,o){const c=o+1,u=this.br(c),d=u<0?0:u;return Q.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,o){const c=new on(o,0),u=new on(o,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([c,u],f=>{const m=this.Sr(f.pr);d.push(m)}),Q.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(t,o){let c=new yn(Ge);return o.forEach(u=>{const d=new on(u,0),f=new on(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,f],m=>{c=c.add(m.pr)})}),Q.resolve(this.Dr(c))}getAllMutationBatchesAffectingQuery(t,o){const c=o.path,u=c.length+1;let d=c;ve.isDocumentKey(d)||(d=d.child(""));const f=new on(new ve(d),0);let m=new yn(Ge);return this.wr.forEachWhile(k=>{const w=k.key.path;return!!c.isPrefixOf(w)&&(w.length===u&&(m=m.add(k.pr)),!0)},f),Q.resolve(this.Dr(m))}Dr(t){const o=[];return t.forEach(c=>{const u=this.Sr(c);u!==null&&o.push(u)}),o}removeMutationBatch(t,o){ft(this.Cr(o.batchId,"removed")===0),this.mutationQueue.shift();let c=this.wr;return Q.forEach(o.mutations,u=>{const d=new on(u.key,o.batchId);return c=c.delete(d),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.wr=c})}Mn(t){}containsKey(t,o){const c=new on(o,0),u=this.wr.firstAfterOrEqual(c);return Q.resolve(o.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Cr(t,o){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const o=this.br(t);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(t){this.vr=t,this.docs=function(){return new It(ve.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,o){const c=o.key,u=this.docs.get(c),d=u?u.size:0,f=this.vr(o);return this.docs=this.docs.insert(c,{document:o.mutableCopy(),size:f}),this.size+=f-d,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const o=this.docs.get(t);o&&(this.docs=this.docs.remove(t),this.size-=o.size)}getEntry(t,o){const c=this.docs.get(o);return Q.resolve(c?c.document.mutableCopy():Nn.newInvalidDocument(o))}getEntries(t,o){let c=Ri();return o.forEach(u=>{const d=this.docs.get(u);c=c.insert(u,d?d.document.mutableCopy():Nn.newInvalidDocument(u))}),Q.resolve(c)}getDocumentsMatchingQuery(t,o,c,u){let d=Ri();const f=o.path,m=new ve(f.child("")),k=this.docs.getIteratorFrom(m);for(;k.hasNext();){const{key:w,value:{document:A}}=k.getNext();if(!f.isPrefixOf(w.path))break;w.path.length>f.length+1||rie(nie(A),c)<=0||(u.has(A.key)||gk(o,A))&&(d=d.insert(A.key,A.mutableCopy()))}return Q.resolve(d)}getAllFromCollectionGroup(t,o,c,u){Ee()}Fr(t,o){return Q.forEach(this.docs,c=>o(c))}newChangeBuffer(t){return new vse(this)}getSize(t){return Q.resolve(this.size)}}class vse extends pse{constructor(t){super(),this.ar=t}applyChanges(t){const o=[];return this.changes.forEach((c,u)=>{u.isValidDocument()?o.push(this.ar.addEntry(t,u)):this.ar.removeEntry(c)}),Q.waitFor(o)}getFromCache(t,o){return this.ar.getEntry(t,o)}getAllFromCache(t,o){return this.ar.getEntries(t,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(t){this.persistence=t,this.Mr=new Ll(o=>c1(o),l1),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new p1,this.targetCount=0,this.Br=yl.Nn()}forEachTarget(t,o){return this.Mr.forEach((c,u)=>o(u)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Or&&(this.Or=o),Q.resolve()}qn(t){this.Mr.set(t.target,t);const o=t.targetId;o>this.highestTargetId&&(this.Br=new yl(o),this.highestTargetId=o),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,o){return this.qn(o),this.targetCount+=1,Q.resolve()}updateTargetData(t,o){return this.qn(o),Q.resolve()}removeTargetData(t,o){return this.Mr.delete(o.target),this.Nr.Vr(o.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,o,c){let u=0;const d=[];return this.Mr.forEach((f,m)=>{m.sequenceNumber<=o&&c.get(m.targetId)===null&&(this.Mr.delete(f),d.push(this.removeMatchingKeysForTargetId(t,m.targetId)),u++)}),Q.waitFor(d).next(()=>u)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,o){const c=this.Mr.get(o)||null;return Q.resolve(c)}addMatchingKeys(t,o,c){return this.Nr.dr(o,c),Q.resolve()}removeMatchingKeys(t,o,c){this.Nr.Rr(o,c);const u=this.persistence.referenceDelegate,d=[];return u&&o.forEach(f=>{d.push(u.markPotentiallyOrphaned(t,f))}),Q.waitFor(d)}removeMatchingKeysForTargetId(t,o){return this.Nr.Vr(o),Q.resolve()}getMatchingKeysForTargetId(t,o){const c=this.Nr.gr(o);return Q.resolve(c)}containsKey(t,o){return Q.resolve(this.Nr.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(t,o){this.Lr={},this.overlays={},this.kr=new o1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Ase(this),this.indexManager=new hse,this.remoteDocumentCache=function(u){return new _se(u)}(c=>this.referenceDelegate.Kr(c)),this.serializer=new use(o),this.$r=new kse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let o=this.overlays[t.toKey()];return o||(o=new bse,this.overlays[t.toKey()]=o),o}getMutationQueue(t,o){let c=this.Lr[t.toKey()];return c||(c=new wse(o,this.referenceDelegate),this.Lr[t.toKey()]=c),c}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,o,c){ie("MemoryPersistence","Starting transaction:",t);const u=new yse(this.kr.next());return this.referenceDelegate.Ur(),c(u).next(d=>this.referenceDelegate.Wr(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Gr(t,o){return Q.or(Object.values(this.Lr).map(c=>()=>c.containsKey(t,o)))}}class yse extends iie{constructor(t){super(),this.currentSequenceNumber=t}}class g1{constructor(t){this.persistence=t,this.zr=new p1,this.jr=null}static Hr(t){return new g1(t)}get Jr(){if(this.jr)return this.jr;throw Ee()}addReference(t,o,c){return this.zr.addReference(c,o),this.Jr.delete(c.toString()),Q.resolve()}removeReference(t,o,c){return this.zr.removeReference(c,o),this.Jr.add(c.toString()),Q.resolve()}markPotentiallyOrphaned(t,o){return this.Jr.add(o.toString()),Q.resolve()}removeTarget(t,o){this.zr.Vr(o.targetId).forEach(u=>this.Jr.add(u.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,o.targetId).next(u=>{u.forEach(d=>this.Jr.add(d.toString()))}).next(()=>c.removeTargetData(t,o))}Ur(){this.jr=new Set}Wr(t){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,c=>{const u=ve.fromPath(c);return this.Yr(t,u).next(d=>{d||o.removeEntry(u,Se.min())})}).next(()=>(this.jr=null,o.apply(t)))}updateLimboDocument(t,o){return this.Yr(t,o).next(c=>{c?this.Jr.delete(o.toString()):this.Jr.add(o.toString())})}Kr(t){return 0}Yr(t,o){return Q.or([()=>Q.resolve(this.zr.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(t,o),()=>this.persistence.Gr(t,o)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,o,c,u){this.targetId=t,this.fromCache=o,this.qi=c,this.Qi=u}static Ki(t,o){let c=Ve(),u=Ve();for(const d of o.docChanges)switch(d.type){case 0:c=c.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new m1(t,o.fromCache,c,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return yne()?8:ya.v(Wt())>0?6:4}()}initialize(t,o){this.zi=t,this.indexManager=o,this.$i=!0}getDocumentsMatchingQuery(t,o,c,u){const d={result:null};return this.ji(t,o).next(f=>{d.result=f}).next(()=>{if(!d.result)return this.Hi(t,o,u,c).next(f=>{d.result=f})}).next(()=>{if(d.result)return;const f=new Ese;return this.Ji(t,o,f).next(m=>{if(d.result=m,this.Ui)return this.Yi(t,o,f,m.size)})}).next(()=>d.result)}Yi(t,o,c,u){return c.documentReadCount<this.Wi?(od()<=Fe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Mc(o),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(od()<=Fe.DEBUG&&ie("QueryEngine","Query:",Mc(o),"scans",c.documentReadCount,"local documents and returns",u,"documents as results."),c.documentReadCount>this.Gi*u?(od()<=Fe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Mc(o),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jo(o))):Q.resolve())}ji(t,o){if(sR(o))return Q.resolve(null);let c=Jo(o);return this.indexManager.getIndexType(t,c).next(u=>u===0?null:(o.limit!==null&&u===1&&(o=_C(o,null,"F"),c=Jo(o)),this.indexManager.getDocumentsMatchingTarget(t,c).next(d=>{const f=Ve(...d);return this.zi.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,c).next(k=>{const w=this.Zi(o,m);return this.Xi(o,w,f,k.readTime)?this.ji(t,_C(o,null,"F")):this.es(t,w,o,k)}))})))}Hi(t,o,c,u){return sR(o)||u.isEqual(Se.min())?Q.resolve(null):this.zi.getDocuments(t,c).next(d=>{const f=this.Zi(o,d);return this.Xi(o,f,c,u)?Q.resolve(null):(od()<=Fe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Mc(o)),this.es(t,f,o,tie(u,-1)).next(m=>m))})}Zi(t,o){let c=new yn(eN(t));return o.forEach((u,d)=>{gk(t,d)&&(c=c.add(d))}),c}Xi(t,o,c,u){if(t.limit===null)return!1;if(c.size!==o.size)return!0;const d=t.limitType==="F"?o.last():o.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ji(t,o,c){return od()<=Fe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Mc(o)),this.zi.getDocumentsMatchingQuery(t,o,Is.min(),c)}es(t,o,c,u){return this.zi.getDocumentsMatchingQuery(t,c,u).next(d=>(o.forEach(f=>{d=d.insert(f.key,f)}),d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(t,o,c,u){this.persistence=t,this.ts=o,this.serializer=u,this.ns=new It(Ge),this.rs=new Ll(d=>c1(d),l1),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(c)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mse(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>t.collect(o,this.ns))}}function Sse(r,t,o,c){return new Tse(r,t,o,c)}async function CN(r,t){const o=Ie(r);return await o.persistence.runTransaction("Handle user change","readonly",c=>{let u;return o.mutationQueue.getAllMutationBatches(c).next(d=>(u=d,o._s(t),o.mutationQueue.getAllMutationBatches(c))).next(d=>{const f=[],m=[];let k=Ve();for(const w of u){f.push(w.batchId);for(const A of w.mutations)k=k.add(A.key)}for(const w of d){m.push(w.batchId);for(const A of w.mutations)k=k.add(A.key)}return o.localDocuments.getDocuments(c,k).next(w=>({us:w,removedBatchIds:f,addedBatchIds:m}))})})}function Dse(r,t){const o=Ie(r);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const u=t.batch.keys(),d=o.os.newChangeBuffer({trackRemovals:!0});return function(m,k,w,A){const _=w.batch,C=_.keys();let E=Q.resolve();return C.forEach(S=>{E=E.next(()=>A.getEntry(k,S)).next(R=>{const B=w.docVersions.get(S);ft(B!==null),R.version.compareTo(B)<0&&(_.applyToRemoteDocument(R,w),R.isValidDocument()&&(R.setReadTime(w.commitVersion),A.addEntry(R)))})}),E.next(()=>m.mutationQueue.removeMutationBatch(k,_))}(o,c,t,d).next(()=>d.apply(c)).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,u,t.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(m){let k=Ve();for(let w=0;w<m.mutationResults.length;++w)m.mutationResults[w].transformResults.length>0&&(k=k.add(m.batch.mutations[w].key));return k}(t))).next(()=>o.localDocuments.getDocuments(c,u))})}function yN(r){const t=Ie(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",o=>t.Qr.getLastRemoteSnapshotVersion(o))}function Ise(r,t){const o=Ie(r),c=t.snapshotVersion;let u=o.ns;return o.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const f=o.os.newChangeBuffer({trackRemovals:!0});u=o.ns;const m=[];t.targetChanges.forEach((A,_)=>{const C=u.get(_);if(!C)return;m.push(o.Qr.removeMatchingKeys(d,A.removedDocuments,_).next(()=>o.Qr.addMatchingKeys(d,A.addedDocuments,_)));let E=C.withSequenceNumber(d.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(Fn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):A.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(A.resumeToken,c)),u=u.insert(_,E),function(R,B,D){return R.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(C,E,A)&&m.push(o.Qr.updateTargetData(d,E))});let k=Ri(),w=Ve();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(o.persistence.referenceDelegate.updateLimboDocument(d,A))}),m.push(Pse(d,f,t.documentUpdates).next(A=>{k=A.cs,w=A.ls})),!c.isEqual(Se.min())){const A=o.Qr.getLastRemoteSnapshotVersion(d).next(_=>o.Qr.setTargetsMetadata(d,d.currentSequenceNumber,c));m.push(A)}return Q.waitFor(m).next(()=>f.apply(d)).next(()=>o.localDocuments.getLocalViewOfDocuments(d,k,w)).next(()=>k)}).then(d=>(o.ns=u,d))}function Pse(r,t,o){let c=Ve(),u=Ve();return o.forEach(d=>c=c.add(d)),t.getEntries(r,c).next(d=>{let f=Ri();return o.forEach((m,k)=>{const w=d.get(m);k.isFoundDocument()!==w.isFoundDocument()&&(u=u.add(m)),k.isNoDocument()&&k.version.isEqual(Se.min())?(t.removeEntry(m,k.readTime),f=f.insert(m,k)):!w.isValidDocument()||k.version.compareTo(w.version)>0||k.version.compareTo(w.version)===0&&w.hasPendingWrites?(t.addEntry(k),f=f.insert(m,k)):ie("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",k.version)}),{cs:f,ls:u}})}function Rse(r,t){const o=Ie(r);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(t===void 0&&(t=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function Bse(r,t){const o=Ie(r);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let u;return o.Qr.getTargetData(c,t).next(d=>d?(u=d,Q.resolve(u)):o.Qr.allocateTargetId(c).next(f=>(u=new ps(t,f,"TargetPurposeListen",c.currentSequenceNumber),o.Qr.addTargetData(c,u).next(()=>u))))}).then(c=>{const u=o.ns.get(c.targetId);return(u===null||c.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(o.ns=o.ns.insert(c.targetId,c),o.rs.set(t,c.targetId)),c})}async function EC(r,t,o){const c=Ie(r),u=c.ns.get(t),d=o?"readwrite":"readwrite-primary";try{o||await c.persistence.runTransaction("Release target",d,f=>c.persistence.referenceDelegate.removeTarget(f,u))}catch(f){if(!Bh(f))throw f;ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${f}`)}c.ns=c.ns.remove(t),c.rs.delete(u.target)}function kR(r,t,o){const c=Ie(r);let u=Se.min(),d=Ve();return c.persistence.runTransaction("Execute query","readwrite",f=>function(k,w,A){const _=Ie(k),C=_.rs.get(A);return C!==void 0?Q.resolve(_.ns.get(C)):_.Qr.getTargetData(w,A)}(c,f,Jo(t)).next(m=>{if(m)return u=m.lastLimboFreeSnapshotVersion,c.Qr.getMatchingKeysForTargetId(f,m.targetId).next(k=>{d=k})}).next(()=>c.ts.getDocumentsMatchingQuery(f,t,o?u:Se.min(),o?d:Ve())).next(m=>(Ose(c,Eie(t),m),{documents:m,hs:d})))}function Ose(r,t,o){let c=r.ss.get(t)||Se.min();o.forEach((u,d)=>{d.readTime.compareTo(c)>0&&(c=d.readTime)}),r.ss.set(t,c)}class bR{constructor(){this.activeTargetIds=Pie()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nse{constructor(){this.no=new bR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,o,c){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,o,c){this.ro[t]=o}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new bR,Promise.resolve()}handleUserChange(t,o,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=null;function Q0(){return ag===null?ag=function(){return 268435456+Math.round(2147483648*Math.random())}():ag++,"0x"+ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class Fse extends class{constructor(o){this.databaseInfo=o,this.databaseId=o.databaseId;const c=o.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=c+"://"+o.host,this.po=`projects/${u}/databases/${d}`,this.yo=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${d}`}get wo(){return!1}So(o,c,u,d,f){const m=Q0(),k=this.bo(o,c.toUriEncodedString());ie("RestConnection",`Sending RPC '${o}' ${m}:`,k,u);const w={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(w,d,f),this.Co(o,k,w,u).then(A=>(ie("RestConnection",`Received RPC '${o}' ${m}: `,A),A),A=>{throw _l("RestConnection",`RPC '${o}' ${m} failed with error: `,A,"url: ",k,"request:",u),A})}vo(o,c,u,d,f,m){return this.So(o,c,u,d,f)}Do(o,c,u){o["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),o["Content-Type"]="text/plain",this.databaseInfo.appId&&(o["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((d,f)=>o[f]=d),u&&u.headers.forEach((d,f)=>o[f]=d)}bo(o,c){const u=Vse[o];return`${this.fo}/v1/${c}:${u}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,o,c,u){const d=Q0();return new Promise((f,m)=>{const k=new Hoe;k.setWithCredentials(!0),k.listenOnce(Uoe.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case G0.NO_ERROR:const A=k.getResponseJson();ie(Pn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),f(A);break;case G0.TIMEOUT:ie(Pn,`RPC '${t}' ${d} timed out`),m(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case G0.HTTP_ERROR:const _=k.getStatus();if(ie(Pn,`RPC '${t}' ${d} failed with status:`,_,"response text:",k.getResponseText()),_>0){let C=k.getResponseJson();Array.isArray(C)&&(C=C[0]);const E=C==null?void 0:C.error;if(E&&E.status&&E.message){const S=function(B){const D=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(D)>=0?D:Z.UNKNOWN}(E.status);m(new me(S,E.message))}else m(new me(Z.UNKNOWN,"Server responded with status "+k.getStatus()))}else m(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ie(Pn,`RPC '${t}' ${d} completed.`)}});const w=JSON.stringify(u);ie(Pn,`RPC '${t}' ${d} sending request:`,u),k.send(o,"POST",w,c,15)})}Fo(t,o,c){const u=Q0(),d=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=zoe(),m=joe(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(k.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Do(k.initMessageHeaders,o,c),k.encodeInitMessageHeaders=!0;const A=d.join("");ie(Pn,`Creating RPC '${t}' stream ${u}: ${A}`,k);const _=f.createWebChannel(A,k);let C=!1,E=!1;const S=new Lse({lo:B=>{E?ie(Pn,`Not sending because RPC '${t}' stream ${u} is closed:`,B):(C||(ie(Pn,`Opening RPC '${t}' stream ${u} transport.`),_.open(),C=!0),ie(Pn,`RPC '${t}' stream ${u} sending:`,B),_.send(B))},ho:()=>_.close()}),R=(B,D,P)=>{B.listen(D,O=>{try{P(O)}catch(L){setTimeout(()=>{throw L},0)}})};return R(_,og.EventType.OPEN,()=>{E||ie(Pn,`RPC '${t}' stream ${u} transport opened.`)}),R(_,og.EventType.CLOSE,()=>{E||(E=!0,ie(Pn,`RPC '${t}' stream ${u} transport closed`),S.Vo())}),R(_,og.EventType.ERROR,B=>{E||(E=!0,_l(Pn,`RPC '${t}' stream ${u} transport errored:`,B),S.Vo(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),R(_,og.EventType.MESSAGE,B=>{var D;if(!E){const P=B.data[0];ft(!!P);const O=P,L=O.error||((D=O[0])===null||D===void 0?void 0:D.error);if(L){ie(Pn,`RPC '${t}' stream ${u} received error:`,L);const $=L.status;let q=function(ge){const he=$t[ge];if(he!==void 0)return fN(he)}($),Y=L.message;q===void 0&&(q=Z.INTERNAL,Y="Unknown error status: "+$+" with message "+L.message),E=!0,S.Vo(new me(q,Y)),_.close()}else ie(Pn,`RPC '${t}' stream ${u} received:`,P),S.mo(P)}}),R(m,$oe.STAT_EVENT,B=>{B.stat===QP.PROXY?ie(Pn,`RPC '${t}' stream ${u} detected buffering proxy`):B.stat===QP.NOPROXY&&ie(Pn,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function J0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(r){return new Jie(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,o,c=1e3,u=1.5,d=6e4){this.oi=t,this.timerId=o,this.Mo=c,this.xo=u,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const o=Math.floor(this.No+this.Qo()),c=Math.max(0,Date.now()-this.Lo),u=Math.max(0,o-c);u>0&&ie("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.No} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,o,c,u,d,f,m,k){this.oi=t,this.$o=c,this.Uo=u,this.connection=d,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=k,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new EN(t,o)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,o){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():o&&o.code===Z.RESOURCE_EXHAUSTED?(ei(o.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):o&&o.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(o)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),o=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,u])=>{this.Wo===o&&this.o_(c,u)},c=>{t(()=>{const u=new me(Z.UNKNOWN,"Fetching auth token failed: "+c.message);return this.__(u)})})}o_(t,o){const c=this.s_(this.Wo);this.stream=this.a_(t,o),this.stream.Po(()=>{c(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(u=>{c(()=>this.__(u))}),this.stream.onMessage(u=>{c(()=>this.onMessage(u))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return o=>{this.oi.enqueueAndForget(()=>this.Wo===t?o():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zse extends xN{constructor(t,o,c,u,d,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,c,u,f),this.serializer=d}a_(t,o){return this.connection.Fo("Listen",t,o)}onMessage(t){this.jo.reset();const o=Xie(this.serializer,t),c=function(d){if(!("targetChange"in d))return Se.min();const f=d.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Yo(f.readTime):Se.min()}(t);return this.listener.u_(o,c)}c_(t){const o={};o.database=yC(this.serializer),o.addTarget=function(d,f){let m;const k=f.target;if(m=wC(k)?{documents:nse(d,k)}:{query:rse(d,k).ut},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mN(d,f.resumeToken);const w=vC(d,f.expectedCount);w!==null&&(m.expectedCount=w)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=wm(d,f.snapshotVersion.toTimestamp());const w=vC(d,f.expectedCount);w!==null&&(m.expectedCount=w)}return m}(this.serializer,t);const c=ise(this.serializer,t);c&&(o.labels=c),this.t_(o)}l_(t){const o={};o.database=yC(this.serializer),o.removeTarget=t,this.t_(o)}}class jse extends xN{constructor(t,o,c,u,d,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,c,u,f),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,o){return this.connection.Fo("Write",t,o)}onMessage(t){if(ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const o=tse(t.writeResults,t.commitTime),c=Yo(t.commitTime);return this.listener.T_(c,o)}return ft(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=yC(this.serializer),this.t_(t)}I_(t){const o={streamToken:this.lastStreamToken,writes:t.map(c=>ese(this.serializer,c))};this.t_(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use extends class{}{constructor(t,o,c,u){super(),this.authCredentials=t,this.appCheckCredentials=o,this.connection=c,this.serializer=u,this.A_=!1}R_(){if(this.A_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,o,c,u){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.So(t,AC(o,c),u,d,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(Z.UNKNOWN,d.toString())})}vo(t,o,c,u,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.vo(t,AC(o,c),u,f,m,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(Z.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $se{constructor(t,o){this.asyncQueue=t,this.onlineStateHandler=o,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const o=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ei(o),this.g_=!1):ie("OnlineStateTracker",o)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(t,o,c,u,d){this.localStore=t,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(f=>{c.enqueueAndForget(async()=>{Qa(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(k){const w=Ie(k);w.v_.add(4),await Mh(w),w.x_.set("Unknown"),w.v_.delete(4),await _k(w)}(this))})}),this.x_=new $se(c,u)}}async function _k(r){if(Qa(r))for(const t of r.F_)await t(!0)}async function Mh(r){for(const t of r.F_)await t(!1)}function TN(r,t){const o=Ie(r);o.C_.has(t.targetId)||(o.C_.set(t.targetId,t),w1(o)?b1(o):Fl(o).Jo()&&k1(o,t))}function SN(r,t){const o=Ie(r),c=Fl(o);o.C_.delete(t),c.Jo()&&DN(o,t),o.C_.size===0&&(c.Jo()?c.Xo():Qa(o)&&o.x_.set("Unknown"))}function k1(r,t){if(r.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const o=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(o)}Fl(r).c_(t)}function DN(r,t){r.O_.Oe(t),Fl(r).l_(t)}function b1(r){r.O_=new Wie({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>r.C_.get(t)||null,nt:()=>r.datastore.serializer.databaseId}),Fl(r).start(),r.x_.p_()}function w1(r){return Qa(r)&&!Fl(r).Ho()&&r.C_.size>0}function Qa(r){return Ie(r).v_.size===0}function IN(r){r.O_=void 0}async function qse(r){r.C_.forEach((t,o)=>{k1(r,t)})}async function Wse(r,t){IN(r),w1(r)?(r.x_.S_(t),b1(r)):r.x_.set("Unknown")}async function Gse(r,t,o){if(r.x_.set("Online"),t instanceof gN&&t.state===2&&t.cause)try{await async function(u,d){const f=d.cause;for(const m of d.targetIds)u.C_.has(m)&&(await u.remoteSyncer.rejectListen(m,f),u.C_.delete(m),u.O_.removeTarget(m))}(r,t)}catch(c){ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),await _m(r,c)}else if(t instanceof xg?r.O_.$e(t):t instanceof pN?r.O_.Je(t):r.O_.Ge(t),!o.isEqual(Se.min()))try{const c=await yN(r.localStore);o.compareTo(c)>=0&&await function(d,f){const m=d.O_.it(f);return m.targetChanges.forEach((k,w)=>{if(k.resumeToken.approximateByteSize()>0){const A=d.C_.get(w);A&&d.C_.set(w,A.withResumeToken(k.resumeToken,f))}}),m.targetMismatches.forEach((k,w)=>{const A=d.C_.get(k);if(!A)return;d.C_.set(k,A.withResumeToken(Fn.EMPTY_BYTE_STRING,A.snapshotVersion)),DN(d,k);const _=new ps(A.target,k,w,A.sequenceNumber);k1(d,_)}),d.remoteSyncer.applyRemoteEvent(m)}(r,o)}catch(c){ie("RemoteStore","Failed to raise snapshot:",c),await _m(r,c)}}async function _m(r,t,o){if(!Bh(t))throw t;r.v_.add(1),await Mh(r),r.x_.set("Offline"),o||(o=()=>yN(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await o(),r.v_.delete(1),await _k(r)})}function PN(r,t){return t().catch(o=>_m(r,o,t))}async function vk(r){const t=Ie(r),o=Rs(t);let c=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Kse(t);)try{const u=await Rse(t.localStore,c);if(u===null){t.D_.length===0&&o.Xo();break}c=u.batchId,Qse(t,u)}catch(u){await _m(t,u)}RN(t)&&BN(t)}function Kse(r){return Qa(r)&&r.D_.length<10}function Qse(r,t){r.D_.push(t);const o=Rs(r);o.Jo()&&o.P_&&o.I_(t.mutations)}function RN(r){return Qa(r)&&!Rs(r).Ho()&&r.D_.length>0}function BN(r){Rs(r).start()}async function Jse(r){Rs(r).d_()}async function Yse(r){const t=Rs(r);for(const o of r.D_)t.I_(o.mutations)}async function Zse(r,t,o){const c=r.D_.shift(),u=d1.from(c,t,o);await PN(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await vk(r)}async function Xse(r,t){t&&Rs(r).P_&&await async function(c,u){if(function(f){return $ie(f)&&f!==Z.ABORTED}(u.code)){const d=c.D_.shift();Rs(c).Zo(),await PN(c,()=>c.remoteSyncer.rejectFailedWrite(d.batchId,u)),await vk(c)}}(r,t),RN(r)&&BN(r)}async function _R(r,t){const o=Ie(r);o.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const c=Qa(o);o.v_.add(3),await Mh(o),c&&o.x_.set("Unknown"),await o.remoteSyncer.handleCredentialChange(t),o.v_.delete(3),await _k(o)}async function eae(r,t){const o=Ie(r);t?(o.v_.delete(2),await _k(o)):t||(o.v_.add(2),await Mh(o),o.x_.set("Unknown"))}function Fl(r){return r.N_||(r.N_=function(o,c,u){const d=Ie(o);return d.R_(),new zse(c,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(r.datastore,r.asyncQueue,{Po:qse.bind(null,r),To:Wse.bind(null,r),u_:Gse.bind(null,r)}),r.F_.push(async t=>{t?(r.N_.Zo(),w1(r)?b1(r):r.x_.set("Unknown")):(await r.N_.stop(),IN(r))})),r.N_}function Rs(r){return r.B_||(r.B_=function(o,c,u){const d=Ie(o);return d.R_(),new jse(c,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(r.datastore,r.asyncQueue,{Po:Jse.bind(null,r),To:Xse.bind(null,r),E_:Yse.bind(null,r),T_:Zse.bind(null,r)}),r.F_.push(async t=>{t?(r.B_.Zo(),await vk(r)):(await r.B_.stop(),r.D_.length>0&&(ie("RemoteStore",`Stopping write stream with ${r.D_.length} pending writes`),r.D_=[]))})),r.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,o,c,u,d){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=c,this.op=u,this.removalCallback=d,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,c,u,d){const f=Date.now()+c,m=new _1(t,o,f,u,d);return m.start(c),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v1(r,t){if(ei("AsyncQueue",`${t}: ${r}`),Bh(r))return new me(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t){this.comparator=t?(o,c)=>t(o,c)||ve.comparator(o.key,c.key):(o,c)=>ve.comparator(o.key,c.key),this.keyedMap=pd(),this.sortedSet=new It(this.comparator)}static emptySet(t){return new cl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const o=this.keyedMap.get(t);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((o,c)=>(t(o),!1))}add(t){const o=this.delete(t.key);return o.copy(o.keyedMap.insert(t.key,t),o.sortedSet.insert(t,null))}delete(t){const o=this.get(t);return o?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(o)):this}isEqual(t){if(!(t instanceof cl)||this.size!==t.size)return!1;const o=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;o.hasNext();){const u=o.getNext().key,d=c.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const t=[];return this.forEach(o=>{t.push(o.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,o){const c=new cl;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=o,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.L_=new It(ve.comparator)}track(t){const o=t.doc.key,c=this.L_.get(o);c?t.type!==0&&c.type===3?this.L_=this.L_.insert(o,t):t.type===3&&c.type!==1?this.L_=this.L_.insert(o,{type:c.type,doc:t.doc}):t.type===2&&c.type===2?this.L_=this.L_.insert(o,{type:2,doc:t.doc}):t.type===2&&c.type===0?this.L_=this.L_.insert(o,{type:0,doc:t.doc}):t.type===1&&c.type===0?this.L_=this.L_.remove(o):t.type===1&&c.type===2?this.L_=this.L_.insert(o,{type:1,doc:c.doc}):t.type===0&&c.type===1?this.L_=this.L_.insert(o,{type:2,doc:t.doc}):Ee():this.L_=this.L_.insert(o,t)}k_(){const t=[];return this.L_.inorderTraversal((o,c)=>{t.push(c)}),t}}class El{constructor(t,o,c,u,d,f,m,k,w){this.query=t,this.docs=o,this.oldDocs=c,this.docChanges=u,this.mutatedKeys=d,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=k,this.hasCachedResults=w}static fromInitialDocuments(t,o,c,u,d){const f=[];return o.forEach(m=>{f.push({type:0,doc:m})}),new El(t,o,cl.emptySet(o),f,c,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pk(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const o=this.docChanges,c=t.docChanges;if(o.length!==c.length)return!1;for(let u=0;u<o.length;u++)if(o[u].type!==c[u].type||!o[u].doc.isEqual(c[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(){this.q_=void 0,this.Q_=[]}}class nae{constructor(){this.queries=new Ll(t=>XO(t),pk),this.onlineState="Unknown",this.K_=new Set}}async function ON(r,t){const o=Ie(r),c=t.query;let u=!1,d=o.queries.get(c);if(d||(u=!0,d=new tae),u)try{d.q_=await o.onListen(c)}catch(f){const m=v1(f,`Initialization of query '${Mc(t.query)}' failed`);return void t.onError(m)}o.queries.set(c,d),d.Q_.push(t),t.U_(o.onlineState),d.q_&&t.W_(d.q_)&&A1(o)}async function NN(r,t){const o=Ie(r),c=t.query;let u=!1;const d=o.queries.get(c);if(d){const f=d.Q_.indexOf(t);f>=0&&(d.Q_.splice(f,1),u=d.Q_.length===0)}if(u)return o.queries.delete(c),o.onUnlisten(c)}function rae(r,t){const o=Ie(r);let c=!1;for(const u of t){const d=u.query,f=o.queries.get(d);if(f){for(const m of f.Q_)m.W_(u)&&(c=!0);f.q_=u}}c&&A1(o)}function oae(r,t,o){const c=Ie(r),u=c.queries.get(t);if(u)for(const d of u.Q_)d.onError(o);c.queries.delete(t)}function A1(r){r.K_.forEach(t=>{t.next()})}class MN{constructor(t,o,c){this.query=t,this.G_=o,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=c||{}}W_(t){if(!this.options.includeMetadataChanges){const c=[];for(const u of t.docChanges)u.type!==3&&c.push(u);t=new El(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let o=!1;return this.z_?this.H_(t)&&(this.G_.next(t),o=!0):this.J_(t,this.onlineState)&&(this.Y_(t),o=!0),this.j_=t,o}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let o=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),o=!0),o}J_(t,o){if(!t.fromCache)return!0;const c=o!=="Offline";return(!this.options.Z_||!c)&&(!t.docs.isEmpty()||t.hasCachedResults||o==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const o=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}Y_(t){t=El.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.key=t}}class LN{constructor(t){this.key=t}}class iae{constructor(t,o){this.query=t,this.oa=o,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ve(),this.mutatedKeys=Ve(),this.ua=eN(t),this.ca=new cl(this.ua)}get la(){return this.oa}ha(t,o){const c=o?o.Pa:new vR,u=o?o.ca:this.ca;let d=o?o.mutatedKeys:this.mutatedKeys,f=u,m=!1;const k=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,w=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((A,_)=>{const C=u.get(A),E=gk(this.query,_)?_:null,S=!!C&&this.mutatedKeys.has(C.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let B=!1;C&&E?C.data.isEqual(E.data)?S!==R&&(c.track({type:3,doc:E}),B=!0):this.Ia(C,E)||(c.track({type:2,doc:E}),B=!0,(k&&this.ua(E,k)>0||w&&this.ua(E,w)<0)&&(m=!0)):!C&&E?(c.track({type:0,doc:E}),B=!0):C&&!E&&(c.track({type:1,doc:C}),B=!0,(k||w)&&(m=!0)),B&&(E?(f=f.add(E),d=R?d.add(A):d.delete(A)):(f=f.delete(A),d=d.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),d=d.delete(A.key),c.track({type:1,doc:A})}return{ca:f,Pa:c,Xi:m,mutatedKeys:d}}Ia(t,o){return t.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(t,o,c,u){const d=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const f=t.Pa.k_();f.sort((A,_)=>function(E,S){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(E)-R(S)}(A.type,_.type)||this.ua(A.doc,_.doc)),this.Ta(c),u=u!=null&&u;const m=o&&!u?this.Ea():[],k=this.aa.size===0&&this.current&&!u?1:0,w=k!==this._a;return this._a=k,f.length!==0||w?{snapshot:new El(this.query,t.ca,d,f,t.mutatedKeys,k===0,w,!1,!!c&&c.resumeToken.approximateByteSize()>0),da:m}:{da:m}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(o=>this.oa=this.oa.add(o)),t.modifiedDocuments.forEach(o=>{}),t.removedDocuments.forEach(o=>this.oa=this.oa.delete(o)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=Ve(),this.ca.forEach(c=>{this.Aa(c.key)&&(this.aa=this.aa.add(c.key))});const o=[];return t.forEach(c=>{this.aa.has(c)||o.push(new LN(c))}),this.aa.forEach(c=>{t.has(c)||o.push(new VN(c))}),o}Ra(t){this.oa=t.hs,this.aa=Ve();const o=this.ha(t.documents);return this.applyChanges(o,!0)}Va(){return El.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class sae{constructor(t,o,c){this.query=t,this.targetId=o,this.view=c}}class aae{constructor(t){this.key=t,this.ma=!1}}class cae{constructor(t,o,c,u,d,f){this.localStore=t,this.remoteStore=o,this.eventManager=c,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=f,this.fa={},this.ga=new Ll(m=>XO(m),pk),this.pa=new Map,this.ya=new Set,this.wa=new It(ve.comparator),this.Sa=new Map,this.ba=new p1,this.Da={},this.Ca=new Map,this.va=yl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function lae(r,t){const o=wae(r);let c,u;const d=o.ga.get(t);if(d)c=d.targetId,o.sharedClientState.addLocalQueryTarget(c),u=d.view.Va();else{const f=await Bse(o.localStore,Jo(t)),m=o.sharedClientState.addLocalQueryTarget(f.targetId);c=f.targetId,u=await uae(o,t,c,m==="current",f.resumeToken),o.isPrimaryClient&&TN(o.remoteStore,f)}return u}async function uae(r,t,o,c,u){r.Ma=(_,C,E)=>async function(R,B,D,P){let O=B.view.ha(D);O.Xi&&(O=await kR(R.localStore,B.query,!1).then(({documents:Y})=>B.view.ha(Y,O)));const L=P&&P.targetChanges.get(B.targetId),$=P&&P.targetMismatches.get(B.targetId)!=null,q=B.view.applyChanges(O,R.isPrimaryClient,L,$);return CR(R,B.targetId,q.da),q.snapshot}(r,_,C,E);const d=await kR(r.localStore,t,!0),f=new iae(t,d.hs),m=f.ha(d.documents),k=Nh.createSynthesizedTargetChangeForCurrentChange(o,c&&r.onlineState!=="Offline",u),w=f.applyChanges(m,r.isPrimaryClient,k);CR(r,o,w.da);const A=new sae(t,o,f);return r.ga.set(t,A),r.pa.has(o)?r.pa.get(o).push(t):r.pa.set(o,[t]),w.snapshot}async function dae(r,t){const o=Ie(r),c=o.ga.get(t),u=o.pa.get(c.targetId);if(u.length>1)return o.pa.set(c.targetId,u.filter(d=>!pk(d,t))),void o.ga.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||await EC(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),SN(o.remoteStore,c.targetId),xC(o,c.targetId)}).catch(Rh)):(xC(o,c.targetId),await EC(o.localStore,c.targetId,!0))}async function hae(r,t,o){const c=_ae(r);try{const u=await function(f,m){const k=Ie(f),w=Zt.now(),A=m.reduce((E,S)=>E.add(S.key),Ve());let _,C;return k.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Ri(),R=Ve();return k.os.getEntries(E,A).next(B=>{S=B,S.forEach((D,P)=>{P.isValidDocument()||(R=R.add(D))})}).next(()=>k.localDocuments.getOverlayedDocuments(E,S)).next(B=>{_=B;const D=[];for(const P of m){const O=Lie(P,_.get(P.key).overlayedDocument);O!=null&&D.push(new Ka(P.key,O,WO(O.value.mapValue),xi.exists(!0)))}return k.mutationQueue.addMutationBatch(E,w,D,m)}).next(B=>{C=B;const D=B.applyToLocalDocumentSet(_,R);return k.documentOverlayCache.saveOverlays(E,B.batchId,D)})}).then(()=>({batchId:C.batchId,changes:nN(_)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(u.batchId),function(f,m,k){let w=f.Da[f.currentUser.toKey()];w||(w=new It(Ge)),w=w.insert(m,k),f.Da[f.currentUser.toKey()]=w}(c,u.batchId,o),await Vh(c,u.changes),await vk(c.remoteStore)}catch(u){const d=v1(u,"Failed to persist write");o.reject(d)}}async function FN(r,t){const o=Ie(r);try{const c=await Ise(o.localStore,t);t.targetChanges.forEach((u,d)=>{const f=o.Sa.get(d);f&&(ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.ma=!0:u.modifiedDocuments.size>0?ft(f.ma):u.removedDocuments.size>0&&(ft(f.ma),f.ma=!1))}),await Vh(o,c,t)}catch(c){await Rh(c)}}function AR(r,t,o){const c=Ie(r);if(c.isPrimaryClient&&o===0||!c.isPrimaryClient&&o===1){const u=[];c.ga.forEach((d,f)=>{const m=f.view.U_(t);m.snapshot&&u.push(m.snapshot)}),function(f,m){const k=Ie(f);k.onlineState=m;let w=!1;k.queries.forEach((A,_)=>{for(const C of _.Q_)C.U_(m)&&(w=!0)}),w&&A1(k)}(c.eventManager,t),u.length&&c.fa.u_(u),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}async function fae(r,t,o){const c=Ie(r);c.sharedClientState.updateQueryState(t,"rejected",o);const u=c.Sa.get(t),d=u&&u.key;if(d){let f=new It(ve.comparator);f=f.insert(d,Nn.newNoDocument(d,Se.min()));const m=Ve().add(d),k=new bk(Se.min(),new Map,new It(Ge),f,m);await FN(c,k),c.wa=c.wa.remove(d),c.Sa.delete(t),C1(c)}else await EC(c.localStore,t,!1).then(()=>xC(c,t,o)).catch(Rh)}async function pae(r,t){const o=Ie(r),c=t.batch.batchId;try{const u=await Dse(o.localStore,t);jN(o,c,null),zN(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),await Vh(o,u)}catch(u){await Rh(u)}}async function gae(r,t,o){const c=Ie(r);try{const u=await function(f,m){const k=Ie(f);return k.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return k.mutationQueue.lookupMutationBatch(w,m).next(_=>(ft(_!==null),A=_.keys(),k.mutationQueue.removeMutationBatch(w,_))).next(()=>k.mutationQueue.performConsistencyCheck(w)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(w,A,m)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>k.localDocuments.getDocuments(w,A))})}(c.localStore,t);jN(c,t,o),zN(c,t),c.sharedClientState.updateMutationState(t,"rejected",o),await Vh(c,u)}catch(u){await Rh(u)}}function zN(r,t){(r.Ca.get(t)||[]).forEach(o=>{o.resolve()}),r.Ca.delete(t)}function jN(r,t,o){const c=Ie(r);let u=c.Da[c.currentUser.toKey()];if(u){const d=u.get(t);d&&(o?d.reject(o):d.resolve(),u=u.remove(t)),c.Da[c.currentUser.toKey()]=u}}function xC(r,t,o=null){r.sharedClientState.removeLocalQueryTarget(t);for(const c of r.pa.get(t))r.ga.delete(c),o&&r.fa.xa(c,o);r.pa.delete(t),r.isPrimaryClient&&r.ba.Vr(t).forEach(c=>{r.ba.containsKey(c)||UN(r,c)})}function UN(r,t){r.ya.delete(t.path.canonicalString());const o=r.wa.get(t);o!==null&&(SN(r.remoteStore,o),r.wa=r.wa.remove(t),r.Sa.delete(o),C1(r))}function CR(r,t,o){for(const c of o)c instanceof VN?(r.ba.addReference(c.key,t),mae(r,c)):c instanceof LN?(ie("SyncEngine","Document no longer in limbo: "+c.key),r.ba.removeReference(c.key,t),r.ba.containsKey(c.key)||UN(r,c.key)):Ee()}function mae(r,t){const o=t.key,c=o.path.canonicalString();r.wa.get(o)||r.ya.has(c)||(ie("SyncEngine","New document in limbo: "+o),r.ya.add(c),C1(r))}function C1(r){for(;r.ya.size>0&&r.wa.size<r.maxConcurrentLimboResolutions;){const t=r.ya.values().next().value;r.ya.delete(t);const o=new ve(Ct.fromString(t)),c=r.va.next();r.Sa.set(c,new aae(o)),r.wa=r.wa.insert(o,c),TN(r.remoteStore,new ps(Jo(u1(o.path)),c,"TargetPurposeLimboResolution",o1._e))}}async function Vh(r,t,o){const c=Ie(r),u=[],d=[],f=[];c.ga.isEmpty()||(c.ga.forEach((m,k)=>{f.push(c.Ma(k,t,o).then(w=>{if((w||o)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(k.targetId,w!=null&&w.fromCache?"not-current":"current"),w){u.push(w);const A=m1.Ki(k.targetId,w);d.push(A)}}))}),await Promise.all(f),c.fa.u_(u),await async function(k,w){const A=Ie(k);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Q.forEach(w,C=>Q.forEach(C.qi,E=>A.persistence.referenceDelegate.addReference(_,C.targetId,E)).next(()=>Q.forEach(C.Qi,E=>A.persistence.referenceDelegate.removeReference(_,C.targetId,E)))))}catch(_){if(!Bh(_))throw _;ie("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of w){const C=_.targetId;if(!_.fromCache){const E=A.ns.get(C),S=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(S);A.ns=A.ns.insert(C,R)}}}(c.localStore,d))}async function kae(r,t){const o=Ie(r);if(!o.currentUser.isEqual(t)){ie("SyncEngine","User change. New user:",t.toKey());const c=await CN(o.localStore,t);o.currentUser=t,function(d,f){d.Ca.forEach(m=>{m.forEach(k=>{k.reject(new me(Z.CANCELLED,f))})}),d.Ca.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),await Vh(o,c.us)}}function bae(r,t){const o=Ie(r),c=o.Sa.get(t);if(c&&c.ma)return Ve().add(c.key);{let u=Ve();const d=o.pa.get(t);if(!d)return u;for(const f of d){const m=o.ga.get(f);u=u.unionWith(m.view.la)}return u}}function wae(r){const t=Ie(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=FN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fae.bind(null,t),t.fa.u_=rae.bind(null,t.eventManager),t.fa.xa=oae.bind(null,t.eventManager),t}function _ae(r){const t=Ie(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gae.bind(null,t),t}class yR{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=wk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,o){return null}createIndexBackfillerScheduler(t,o){return null}createLocalStore(t){return Sse(this.persistence,new xse,t.initialUser,this.serializer)}createPersistence(t){return new Cse(g1.Hr,this.serializer)}createSharedClientState(t){return new Nse}async terminate(){var t,o;(t=this.gcScheduler)===null||t===void 0||t.stop(),(o=this.indexBackfillerScheduler)===null||o===void 0||o.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vae{async initialize(t,o){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>AR(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=kae.bind(null,this.syncEngine),await eae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nae}()}createDatastore(t){const o=wk(t.databaseInfo.databaseId),c=function(d){return new Fse(d)}(t.databaseInfo);return function(d,f,m,k){return new Use(d,f,m,k)}(t.authCredentials,t.appCheckCredentials,c,o)}createRemoteStore(t){return function(c,u,d,f,m){return new Hse(c,u,d,f,m)}(this.localStore,this.datastore,t.asyncQueue,o=>AR(this.syncEngine,o,0),function(){return wR.D()?new wR:new Mse}())}createSyncEngine(t,o){return function(u,d,f,m,k,w,A){const _=new cae(u,d,f,m,k,w);return A&&(_.Fa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,o)}async terminate(){var t;await async function(c){const u=Ie(c);ie("RemoteStore","RemoteStore shutting down."),u.v_.add(5),await Mh(u),u.M_.shutdown(),u.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):ei("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,o){this.muted||setTimeout(()=>{this.muted||t(o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(t,o,c,u){this.authCredentials=t,this.appCheckCredentials=o,this.asyncQueue=c,this.databaseInfo=u,this.user=Bn.UNAUTHENTICATED,this.clientId=$O.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,async d=>{ie("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(c,d=>(ie("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=v1(o,"Failed to shutdown persistence");t.reject(c)}}),t.promise}}async function Y0(r,t){r.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const o=r.configuration;await t.initialize(o);let c=o.initialUser;r.setCredentialChangeListener(async u=>{c.isEqual(u)||(await CN(t.localStore,u),c=u)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function ER(r,t){r.asyncQueue.verifyOperationInProgress();const o=await yae(r);ie("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(o,r.configuration),r.setCredentialChangeListener(c=>_R(t.remoteStore,c)),r.setAppCheckTokenChangeListener((c,u)=>_R(t.remoteStore,u)),r._onlineComponents=t}function Cae(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}async function yae(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Y0(r,r._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!Cae(o))throw o;_l("Error using user provided cache. Falling back to memory cache: "+o),await Y0(r,new yR)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Y0(r,new yR);return r._offlineComponents}async function HN(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await ER(r,r._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await ER(r,new vae))),r._onlineComponents}function Eae(r){return HN(r).then(t=>t.syncEngine)}async function qN(r){const t=await HN(r),o=t.eventManager;return o.onListen=lae.bind(null,t.syncEngine),o.onUnlisten=dae.bind(null,t.syncEngine),o}function xae(r,t,o={}){const c=new Qo;return r.asyncQueue.enqueueAndForget(async()=>function(d,f,m,k,w){const A=new $N({next:C=>{f.enqueueAndForget(()=>NN(d,_));const E=C.docs.has(m);!E&&C.fromCache?w.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&C.fromCache&&k&&k.source==="server"?w.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(C)},error:C=>w.reject(C)}),_=new MN(u1(m.path),A,{includeMetadataChanges:!0,Z_:!0});return ON(d,_)}(await qN(r),r.asyncQueue,t,o,c)),c.promise}function Tae(r,t,o={}){const c=new Qo;return r.asyncQueue.enqueueAndForget(async()=>function(d,f,m,k,w){const A=new $N({next:C=>{f.enqueueAndForget(()=>NN(d,_)),C.fromCache&&k.source==="server"?w.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(C)},error:C=>w.reject(C)}),_=new MN(m,A,{includeMetadataChanges:!0,Z_:!0});return ON(d,_)}(await qN(r),r.asyncQueue,t,o,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(r,t,o){if(!o)throw new me(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Sae(r,t,o,c){if(t===!0&&c===!0)throw new me(Z.INVALID_ARGUMENT,`${r} and ${o} cannot be used together.`)}function TR(r){if(!ve.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SR(r){if(ve.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(c){return c.constructor?c.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function xl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=y1(r);throw new me(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${o}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){var o,c;if(t.host===void 0){if(t.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(o=t.ssl)===null||o===void 0||o;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Sae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WN((c=t.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(d){if(d.timeoutSeconds!==void 0){if(isNaN(d.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(c,u){return c.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ak{constructor(t,o,c,u){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=c,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DR(t),t.credentials!==void 0&&(this._authCredentials=function(c){if(!c)return new Woe;switch(c.type){case"firstParty":return new Joe(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const c=xR.get(o);c&&(ie("ComponentProvider","Removing Datastore"),xR.delete(o),c.terminate())}(this),Promise.resolve()}}function Dae(r,t,o,c={}){var u;const d=(r=xl(r,Ak))._getSettings(),f=`${t}:${o}`;if(d.host!=="firestore.googleapis.com"&&d.host!==f&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},d),{host:f,ssl:!1})),c.mockUserToken){let m,k;if(typeof c.mockUserToken=="string")m=c.mockUserToken,k=Bn.MOCK_USER;else{m=R3(c.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const w=c.mockUserToken.sub||c.mockUserToken.user_id;if(!w)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Bn(w)}r._authCredentials=new Goe(new UO(m,k))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new Ck(this.firestore,t,this._query)}}class Kr{constructor(t,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kr(this.firestore,t,this._key)}}class xs extends Ck{constructor(t,o,c){super(t,o,u1(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kr(this.firestore,null,new ve(t))}withConverter(t){return new xs(this.firestore,t,this._path)}}function yk(r,t,...o){if(r=cn(r),GN("collection","path",t),r instanceof Ak){const c=Ct.fromString(t,...o);return SR(c),new xs(r,null,c)}{if(!(r instanceof Kr||r instanceof xs))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Ct.fromString(t,...o));return SR(c),new xs(r.firestore,null,c)}}function E1(r,t,...o){if(r=cn(r),arguments.length===1&&(t=$O.newId()),GN("doc","path",t),r instanceof Ak){const c=Ct.fromString(t,...o);return TR(c),new Kr(r,null,new ve(c))}{if(!(r instanceof Kr||r instanceof xs))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Ct.fromString(t,...o));return TR(c),new Kr(r.firestore,r instanceof xs?r.converter:null,new ve(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new EN(this,"async_queue_retry"),this._u=()=>{const o=J0();o&&ie("AsyncQueue","Visibility state changed to "+o.visibilityState),this.jo.Ko()};const t=J0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const o=J0();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const o=new Qo;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!Bh(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const o=this.Xa.then(()=>(this.iu=!0,t().catch(c=>{this.ru=c,this.iu=!1;const u=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(c);throw ei("INTERNAL UNHANDLED ERROR: ",u),c}).then(c=>(this.iu=!1,c))));return this.Xa=o,o}enqueueAfterDelay(t,o,c){this.au(),this.ou.indexOf(t)>-1&&(o=0);const u=_1.createAndSchedule(this,t,o,c,d=>this.lu(d));return this.nu.push(u),u}au(){this.ru&&Ee()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const o of this.nu)if(o.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this.nu)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const o=this.nu.indexOf(t);this.nu.splice(o,1)}}class Ek extends Ak{constructor(t,o,c,u){super(t,o,c,u),this.type="firestore",this._queue=function(){return new Iae}(),this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||KN(this),this._firestoreClient.terminate()}}function Pae(r,t){const o=typeof r=="object"?r:Ry(),c=typeof r=="string"?r:t||"(default)",u=Qm(o,"firestore").getImmediate({identifier:c});if(!u._initialized){const d=D3("firestore");d&&Dae(u,...d)}return u}function x1(r){return r._firestoreClient||KN(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function KN(r){var t,o,c;const u=r._freezeSettings(),d=function(m,k,w,A){return new uie(m,k,w,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,WN(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,u);r._firestoreClient=new Aae(r._authCredentials,r._appCheckCredentials,r._queue,d),!((o=u.localCache)===null||o===void 0)&&o._offlineComponentProvider&&(!((c=u.localCache)===null||c===void 0)&&c._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tl(Fn.fromBase64String(t))}catch(o){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new Tl(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=/^__.*__$/;class Bae{constructor(t,o,c){this.data=t,this.fieldMask=o,this.fieldTransforms=c}toMutation(t,o){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,o,this.fieldTransforms):new Oh(t,this.data,o,this.fieldTransforms)}}function JN(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class D1{constructor(t,o,c,u,d,f){this.settings=t,this.databaseId=o,this.serializer=c,this.ignoreUndefinedProperties=u,d===void 0&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=f||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new D1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var o;const c=(o=this.path)===null||o===void 0?void 0:o.child(t),u=this.Au({path:c,Vu:!1});return u.mu(t),u}fu(t){var o;const c=(o=this.path)===null||o===void 0?void 0:o.child(t),u=this.Au({path:c,Vu:!1});return u.Eu(),u}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return vm(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(o=>t.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>t.isPrefixOf(o.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(JN(this.du)&&Rae.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class Oae{constructor(t,o,c){this.databaseId=t,this.ignoreUndefinedProperties=o,this.serializer=c||wk(t)}Su(t,o,c,u=!1){return new D1({du:t,methodName:o,wu:c,path:vn.emptyPath(),Vu:!1,yu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nae(r){const t=r._freezeSettings(),o=wk(r._databaseId);return new Oae(r._databaseId,!!t.ignoreUndefinedProperties,o)}function Mae(r,t,o,c,u,d={}){const f=r.Su(d.merge||d.mergeFields?2:0,t,o,u);eM("Data must be an object, but it was:",f,c);const m=ZN(c,f);let k,w;if(d.merge)k=new mo(f.fieldMask),w=f.fieldTransforms;else if(d.mergeFields){const A=[];for(const _ of d.mergeFields){const C=Vae(t,_,o);if(!f.contains(C))throw new me(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Fae(A,C)||A.push(C)}k=new mo(A),w=f.fieldTransforms.filter(_=>k.covers(_.field))}else k=null,w=f.fieldTransforms;return new Bae(new qr(m),k,w)}function YN(r,t){if(XN(r=cn(r)))return eM("Unsupported field value:",t,r),ZN(r,t);if(r instanceof QN)return function(c,u){if(!JN(u.du))throw u.pu(`${c._methodName}() can only be used with update() and set()`);if(!u.path)throw u.pu(`${c._methodName}() is not currently supported inside arrays`);const d=c._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(c,u){const d=[];let f=0;for(const m of c){let k=YN(m,u.gu(f));k==null&&(k={nullValue:"NULL_VALUE"}),d.push(k),f++}return{arrayValue:{values:d}}}(r,t)}return function(c,u){if((c=cn(c))===null)return{nullValue:"NULL_VALUE"};if(typeof c=="number")return Rie(u.serializer,c);if(typeof c=="boolean")return{booleanValue:c};if(typeof c=="string")return{stringValue:c};if(c instanceof Date){const d=Zt.fromDate(c);return{timestampValue:wm(u.serializer,d)}}if(c instanceof Zt){const d=new Zt(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:wm(u.serializer,d)}}if(c instanceof S1)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Tl)return{bytesValue:mN(u.serializer,c._byteString)};if(c instanceof Kr){const d=u.databaseId,f=c.firestore._databaseId;if(!f.isEqual(d))throw u.pu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:f1(c.firestore._databaseId||u.databaseId,c._key.path)}}throw u.pu(`Unsupported field value: ${y1(c)}`)}(r,t)}function ZN(r,t){const o={};return HO(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vl(r,(c,u)=>{const d=YN(u,t.Ru(c));d!=null&&(o[c]=d)}),{mapValue:{fields:o}}}function XN(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof S1||r instanceof Tl||r instanceof Kr||r instanceof QN)}function eM(r,t,o){if(!XN(o)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(o)){const c=y1(o);throw c==="an object"?t.pu(r+" a custom object"):t.pu(r+" "+c)}}function Vae(r,t,o){if((t=cn(t))instanceof T1)return t._internalPath;if(typeof t=="string")return tM(r,t);throw vm("Field path arguments must be of type string or ",r,!1,void 0,o)}const Lae=new RegExp("[~\\*/\\[\\]]");function tM(r,t,o){if(t.search(Lae)>=0)throw vm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,o);try{return new T1(...t.split("."))._internalPath}catch{throw vm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,o)}}function vm(r,t,o,c,u){const d=c&&!c.isEmpty(),f=u!==void 0;let m=`Function ${t}() called with invalid data`;o&&(m+=" (via `toFirestore()`)"),m+=". ";let k="";return(d||f)&&(k+=" (found",d&&(k+=` in field ${c}`),f&&(k+=` in document ${u}`),k+=")"),new me(Z.INVALID_ARGUMENT,m+r+k)}function Fae(r,t){return r.some(o=>o.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,o,c,u,d){this._firestore=t,this._userDataWriter=o,this._key=c,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const o=this._document.data.field(rM("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}}class zae extends nM{data(){return super.data()}}function rM(r,t){return typeof t=="string"?tM(r,t):t instanceof T1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uae{convertValue(t,o="none"){switch(za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,o);case 5:return t.stringValue;case 6:return this.convertBytes(Fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,o);case 10:return this.convertObject(t.mapValue,o);default:throw Ee()}}convertObject(t,o){return this.convertObjectMap(t.fields,o)}convertObjectMap(t,o="none"){const c={};return Vl(t,(u,d)=>{c[u]=this.convertValue(d,o)}),c}convertGeoPoint(t){return new S1(Ht(t.latitude),Ht(t.longitude))}convertArray(t,o){return(t.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(t,o){switch(o){case"previous":const c=s1(t);return c==null?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(lh(t));default:return null}}convertTimestamp(t){const o=Ps(t);return new Zt(o.seconds,o.nanos)}convertDocumentKey(t,o){const c=Ct.fromString(t);ft(AN(c));const u=new uh(c.get(1),c.get(3)),d=new ve(c.popFirst(5));return u.isEqual(o)||ei(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(r,t,o){let c;return c=r?o&&(o.merge||o.mergeFields)?r.toFirestore(t,o):r.toFirestore(t):t,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oM extends nM{constructor(t,o,c,u,d,f){super(t,o,c,u,f),this._firestore=t,this._firestoreImpl=t,this.metadata=d}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const o=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){const c=this._document.data.field(rM("DocumentSnapshot.get",t));if(c!==null)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Tg extends oM{data(t={}){return super.data(t)}}class Hae{constructor(t,o,c,u){this._firestore=t,this._userDataWriter=o,this._snapshot=u,this.metadata=new md(u.hasPendingWrites,u.fromCache),this.query=c}get docs(){const t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(c=>{t.call(o,new Tg(this._firestore,this._userDataWriter,c.key,c,new md(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(m=>{const k=new Tg(u._firestore,u._userDataWriter,m.doc.key,m.doc,new md(u._snapshot.mutatedKeys.has(m.doc.key),u._snapshot.fromCache),u.query.converter);return m.doc,{type:"added",doc:k,oldIndex:-1,newIndex:f++}})}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(m=>d||m.type!==3).map(m=>{const k=new Tg(u._firestore,u._userDataWriter,m.doc.key,m.doc,new md(u._snapshot.mutatedKeys.has(m.doc.key),u._snapshot.fromCache),u.query.converter);let w=-1,A=-1;return m.type!==0&&(w=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),A=f.indexOf(m.doc.key)),{type:qae(m.type),doc:k,oldIndex:w,newIndex:A}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function qae(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(r){r=xl(r,Kr);const t=xl(r.firestore,Ek);return xae(x1(t),r._key).then(o=>Gae(t,r,o))}class sM extends Uae{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tl(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Kr(this.firestore,null,o)}}function aM(r){r=xl(r,Ck);const t=xl(r.firestore,Ek),o=x1(t),c=new sM(t);return jae(r._query),Tae(o,r._query).then(u=>new Hae(t,c,r,u))}function cM(r,t){const o=xl(r.firestore,Ek),c=E1(r),u=$ae(r.converter,t);return Wae(o,[Mae(Nae(r.firestore),"addDoc",c._key,u,r.converter!==null,{}).toMutation(c._key,xi.exists(!1))]).then(()=>c)}function Wae(r,t){return function(c,u){const d=new Qo;return c.asyncQueue.enqueueAndForget(async()=>hae(await Eae(c),u,d)),d.promise}(x1(r),t)}function Gae(r,t,o){const c=o.docs.get(t._key),u=new sM(r);return new oM(r,u,t._key,c,new md(o.hasPendingWrites,o.fromCache),t.converter)}(function(t,o=!0){(function(u){Ml=u})(Wa),Va(new Ds("firestore",(c,{instanceIdentifier:u,options:d})=>{const f=c.getProvider("app").getImmediate(),m=new Ek(new Koe(c.getProvider("auth-internal")),new Zoe(c.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(w.options.projectId,A)}(f,u),f);return d=Object.assign({useFetchStreams:o},d),m._setSettings(d),m},"PUBLIC").setMultipleInstances(!0)),Ko(JP,"4.4.3",t),Ko(JP,"4.4.3","esm2017")})();function I1(r,t){var o={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&t.indexOf(c)<0&&(o[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(r);u<c.length;u++)t.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(r,c[u])&&(o[c[u]]=r[c[u]]);return o}function lM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kae=lM,uM=new Ah("auth","Firebase",lM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Iy("@firebase/auth");function Qae(r,...t){Am.logLevel<=Fe.WARN&&Am.warn(`Auth (${Wa}): ${r}`,...t)}function Sg(r,...t){Am.logLevel<=Fe.ERROR&&Am.error(`Auth (${Wa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(r,...t){throw P1(r,...t)}function Zo(r,...t){return P1(r,...t)}function Jae(r,t,o){const c=Object.assign(Object.assign({},Kae()),{[t]:o});return new Ah("auth","Firebase",c).create(t,{appName:r.name})}function P1(r,...t){if(typeof r!="string"){const o=t[0],c=[...t.slice(1)];return c[0]&&(c[0].appName=r.name),r._errorFactory.create(o,...c)}return uM.create(r,...t)}function ye(r,t,...o){if(!r)throw P1(t,...o)}function Ci(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sg(t),new Error(t)}function Bi(r,t){r||Ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Yae(){return IR()==="http:"||IR()==="https:"}function IR(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yae()||vne()||"connection"in navigator)?navigator.onLine:!0}function Xae(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,o){this.shortDelay=t,this.longDelay=o,Bi(o>t,"Short delay should be less than long delay!"),this.isMobile=wne()||Ane()}get(){return Zae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:o}=r.emulator;return t?`${o}${t.startsWith("/")?t.slice(1):t}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{static initialize(t,o,c){this.fetchImpl=t,o&&(this.headersImpl=o),c&&(this.responseImpl=c)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=new Lh(3e4,6e4);function Ls(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Fs(r,t,o,c,u={}){return hM(r,u,async()=>{let d={},f={};c&&(t==="GET"?f=c:d={body:JSON.stringify(c)});const m=Ch(Object.assign({key:r.config.apiKey},f)).slice(1),k=await r._getAdditionalHeaders();return k["Content-Type"]="application/json",r.languageCode&&(k["X-Firebase-Locale"]=r.languageCode),dM.fetch()(fM(r,r.config.apiHost,o,m),Object.assign({method:t,headers:k,referrerPolicy:"no-referrer"},d))})}async function hM(r,t,o){r._canInitEmulator=!1;const c=Object.assign(Object.assign({},ece),t);try{const u=new rce(r),d=await Promise.race([o(),u.promise]);u.clearNetworkTimeout();const f=await d.json();if("needConfirmation"in f)throw cg(r,"account-exists-with-different-credential",f);if(d.ok&&!("errorMessage"in f))return f;{const m=d.ok?f.errorMessage:f.error.message,[k,w]=m.split(" : ");if(k==="FEDERATED_USER_ID_ALREADY_LINKED")throw cg(r,"credential-already-in-use",f);if(k==="EMAIL_EXISTS")throw cg(r,"email-already-in-use",f);if(k==="USER_DISABLED")throw cg(r,"user-disabled",f);const A=c[k]||k.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Jae(r,A,w);vo(r,A)}}catch(u){if(u instanceof oi)throw u;vo(r,"network-request-failed",{message:String(u)})}}async function Fh(r,t,o,c,u={}){const d=await Fs(r,t,o,c,u);return"mfaPendingCredential"in d&&vo(r,"multi-factor-auth-required",{_serverResponse:d}),d}function fM(r,t,o,c){const u=`${t}${o}?${c}`;return r.config.emulator?R1(r.config,u):`${r.config.apiScheme}://${u}`}function nce(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rce{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((o,c)=>{this.timer=setTimeout(()=>c(Zo(this.auth,"network-request-failed")),tce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cg(r,t,o){const c={appName:r.name};o.email&&(c.email=o.email),o.phoneNumber&&(c.phoneNumber=o.phoneNumber);const u=Zo(r,t,c);return u.customData._tokenResponse=o,u}function PR(r){return r!==void 0&&r.enterprise!==void 0}class oce{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===t)return nce(o.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function ice(r,t){return Fs(r,"GET","/v2/recaptchaConfig",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(r,t){return Fs(r,"POST","/v1/accounts:delete",t)}async function ace(r,t){return Fs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cce(r,t=!1){const o=cn(r),c=await o.getIdToken(t),u=B1(c);ye(u&&u.exp&&u.auth_time&&u.iat,o.auth,"internal-error");const d=typeof u.firebase=="object"?u.firebase:void 0,f=d==null?void 0:d.sign_in_provider;return{claims:u,token:c,authTime:Rd(Z0(u.auth_time)),issuedAtTime:Rd(Z0(u.iat)),expirationTime:Rd(Z0(u.exp)),signInProvider:f||null,signInSecondFactor:(d==null?void 0:d.sign_in_second_factor)||null}}function Z0(r){return Number(r)*1e3}function B1(r){const[t,o,c]=r.split(".");if(t===void 0||o===void 0||c===void 0)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const u=T3(o);return u?JSON.parse(u):(Sg("Failed to decode base64 JWT payload"),null)}catch(u){return Sg("Caught error parsing JWT payload as JSON",u==null?void 0:u.toString()),null}}function lce(r){const t=B1(r);return ye(t,"internal-error"),ye(typeof t.exp<"u","internal-error"),ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r,t,o=!1){if(o)return t;try{return await t}catch(c){throw c instanceof oi&&uce(c)&&r.auth.currentUser===r&&await r.auth.signOut(),c}}function uce({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var o;if(t){const c=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),c}else{this.errorBackoff=3e4;const u=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(t=!1){if(!this.isRunning)return;const o=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,o){this.createdAt=t,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(r){var t;const o=r.auth,c=await r.getIdToken(),u=await ph(r,ace(o,{idToken:c}));ye(u==null?void 0:u.users.length,o,"internal-error");const d=u.users[0];r._notifyReloadListener(d);const f=!((t=d.providerUserInfo)===null||t===void 0)&&t.length?pce(d.providerUserInfo):[],m=fce(r.providerData,f),k=r.isAnonymous,w=!(r.email&&d.passwordHash)&&!(m!=null&&m.length),A=k?w:!1,_={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:m,metadata:new pM(d.createdAt,d.lastLoginAt),isAnonymous:A};Object.assign(r,_)}async function hce(r){const t=cn(r);await Cm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fce(r,t){return[...r.filter(c=>!t.some(u=>u.providerId===c.providerId)),...t]}function pce(r){return r.map(t=>{var{providerId:o}=t,c=I1(t,["providerId"]);return{providerId:o,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gce(r,t){const o=await hM(r,{},async()=>{const c=Ch({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:u,apiKey:d}=r.config,f=fM(r,u,"/v1/token",`key=${d}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dM.fetch()(f,{method:"POST",headers:m,body:c})});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function mce(r,t){return Fs(r,"POST","/v2/accounts:revokeToken",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ye(t.idToken,"internal-error"),ye(typeof t.idToken<"u","internal-error"),ye(typeof t.refreshToken<"u","internal-error");const o="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lce(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,o)}async getToken(t,o=!1){return ye(!this.accessToken||this.refreshToken,t,"user-token-expired"),!o&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,o){const{accessToken:c,refreshToken:u,expiresIn:d}=await gce(t,o);this.updateTokensAndExpiration(c,u,Number(d))}updateTokensAndExpiration(t,o,c){this.refreshToken=o||null,this.accessToken=t||null,this.expirationTime=Date.now()+c*1e3}static fromJSON(t,o){const{refreshToken:c,accessToken:u,expirationTime:d}=o,f=new gh;return c&&(ye(typeof c=="string","internal-error",{appName:t}),f.refreshToken=c),u&&(ye(typeof u=="string","internal-error",{appName:t}),f.accessToken=u),d&&(ye(typeof d=="number","internal-error",{appName:t}),f.expirationTime=d),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gh,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,t){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Da{constructor(t){var{uid:o,auth:c,stsTokenManager:u}=t,d=I1(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=c,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new pM(d.createdAt||void 0,d.lastLoginAt||void 0)}async getIdToken(t){const o=await ph(this,this.stsTokenManager.getToken(this.auth,t));return ye(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(t){return cce(this,t)}reload(){return hce(this)}_assign(t){this!==t&&(ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(o=>Object.assign({},o)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const o=new Da(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(t){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,o=!1){let c=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),c=!0),o&&await Cm(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ph(this,sce(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,o){var c,u,d,f,m,k,w,A;const _=(c=o.displayName)!==null&&c!==void 0?c:void 0,C=(u=o.email)!==null&&u!==void 0?u:void 0,E=(d=o.phoneNumber)!==null&&d!==void 0?d:void 0,S=(f=o.photoURL)!==null&&f!==void 0?f:void 0,R=(m=o.tenantId)!==null&&m!==void 0?m:void 0,B=(k=o._redirectEventId)!==null&&k!==void 0?k:void 0,D=(w=o.createdAt)!==null&&w!==void 0?w:void 0,P=(A=o.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:O,emailVerified:L,isAnonymous:$,providerData:q,stsTokenManager:Y}=o;ye(O&&Y,t,"internal-error");const X=gh.fromJSON(this.name,Y);ye(typeof O=="string",t,"internal-error"),ts(_,t.name),ts(C,t.name),ye(typeof L=="boolean",t,"internal-error"),ye(typeof $=="boolean",t,"internal-error"),ts(E,t.name),ts(S,t.name),ts(R,t.name),ts(B,t.name),ts(D,t.name),ts(P,t.name);const ge=new Da({uid:O,auth:t,email:C,emailVerified:L,displayName:_,isAnonymous:$,photoURL:S,phoneNumber:E,tenantId:R,stsTokenManager:X,createdAt:D,lastLoginAt:P});return q&&Array.isArray(q)&&(ge.providerData=q.map(he=>Object.assign({},he))),B&&(ge._redirectEventId=B),ge}static async _fromIdTokenResponse(t,o,c=!1){const u=new gh;u.updateFromServerResponse(o);const d=new Da({uid:o.localId,auth:t,stsTokenManager:u,isAnonymous:c});return await Cm(d),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;function yi(r){Bi(r instanceof Function,"Expected a class definition");let t=RR.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,RR.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,o){this.storage[t]=o}async _get(t){const o=this.storage[t];return o===void 0?null:o}async _remove(t){delete this.storage[t]}_addListener(t,o){}_removeListener(t,o){}}gM.type="NONE";const BR=gM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,t,o){return`firebase:${r}:${t}:${o}`}class ll{constructor(t,o,c){this.persistence=t,this.auth=o,this.userKey=c;const{config:u,name:d}=this.auth;this.fullUserKey=Dg(this.userKey,u.apiKey,d),this.fullPersistenceKey=Dg("persistence",u.apiKey,d),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Da._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,o,c="authUser"){if(!o.length)return new ll(yi(BR),t,c);const u=(await Promise.all(o.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let d=u[0]||yi(BR);const f=Dg(c,t.config.apiKey,t.name);let m=null;for(const w of o)try{const A=await w._get(f);if(A){const _=Da._fromJSON(t,A);w!==d&&(m=_),d=w;break}}catch{}const k=u.filter(w=>w._shouldAllowMigration);return!d._shouldAllowMigration||!k.length?new ll(d,t,c):(d=k[0],m&&await d._set(f,m.toJSON()),await Promise.all(o.map(async w=>{if(w!==d)try{await w._remove(f)}catch{}})),new ll(d,t,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_M(t))return"Blackberry";if(vM(t))return"Webos";if(O1(t))return"Safari";if((t.includes("chrome/")||kM(t))&&!t.includes("edge/"))return"Chrome";if(wM(t))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,c=r.match(o);if((c==null?void 0:c.length)===2)return c[1]}return"Other"}function mM(r=Wt()){return/firefox\//i.test(r)}function O1(r=Wt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kM(r=Wt()){return/crios\//i.test(r)}function bM(r=Wt()){return/iemobile/i.test(r)}function wM(r=Wt()){return/android/i.test(r)}function _M(r=Wt()){return/blackberry/i.test(r)}function vM(r=Wt()){return/webos/i.test(r)}function xk(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kce(r=Wt()){var t;return xk(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function bce(){return Cne()&&document.documentMode===10}function AM(r=Wt()){return xk(r)||wM(r)||vM(r)||_M(r)||/windows phone/i.test(r)||bM(r)}function wce(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(r,t=[]){let o;switch(r){case"Browser":o=OR(Wt());break;case"Worker":o=`${OR(Wt())}-${r}`;break;default:o=r}const c=t.length?t.join(","):"FirebaseCore-web";return`${o}/JsCore/${Wa}/${c}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,o){const c=d=>new Promise((f,m)=>{try{const k=t(d);f(k)}catch(k){m(k)}});c.onAbort=o,this.queue.push(c);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const o=[];try{for(const c of this.queue)await c(t),c.onAbort&&o.push(c.onAbort)}catch(c){o.reverse();for(const u of o)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:c==null?void 0:c.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vce(r,t={}){return Fs(r,"GET","/v2/passwordPolicy",Ls(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ace=6;class Cce{constructor(t){var o,c,u,d;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(o=f.minPasswordLength)!==null&&o!==void 0?o:Ace,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(u=(c=t.allowedNonAlphanumericCharacters)===null||c===void 0?void 0:c.join(""))!==null&&u!==void 0?u:"",this.forceUpgradeOnSignin=(d=t.forceUpgradeOnSignin)!==null&&d!==void 0?d:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var o,c,u,d,f,m;const k={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,k),this.validatePasswordCharacterOptions(t,k),k.isValid&&(k.isValid=(o=k.meetsMinPasswordLength)!==null&&o!==void 0?o:!0),k.isValid&&(k.isValid=(c=k.meetsMaxPasswordLength)!==null&&c!==void 0?c:!0),k.isValid&&(k.isValid=(u=k.containsLowercaseLetter)!==null&&u!==void 0?u:!0),k.isValid&&(k.isValid=(d=k.containsUppercaseLetter)!==null&&d!==void 0?d:!0),k.isValid&&(k.isValid=(f=k.containsNumericCharacter)!==null&&f!==void 0?f:!0),k.isValid&&(k.isValid=(m=k.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),k}validatePasswordLengthOptions(t,o){const c=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;c&&(o.meetsMinPasswordLength=t.length>=c),u&&(o.meetsMaxPasswordLength=t.length<=u)}validatePasswordCharacterOptions(t,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let c;for(let u=0;u<t.length;u++)c=t.charAt(u),this.updatePasswordCharacterOptionsStatuses(o,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(t,o,c,u,d){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(t,o,c,u){this.app=t,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=c,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NR(this),this.idTokenSubscription=new NR(this),this.beforeStateQueue=new _ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(t,o){return o&&(this._popupRedirectResolver=yi(o)),this._initializationPromise=this.queue(async()=>{var c,u;if(!this._deleted&&(this.persistenceManager=await ll.create(this,t),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var o;const c=await this.assertedPersistence.getCurrentUser();let u=c,d=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,m=u==null?void 0:u._redirectEventId,k=await this.tryRedirectSignIn(t);(!f||f===m)&&(k!=null&&k.user)&&(u=k.user,d=!0)}if(!u)return this.directlySetCurrentUser(null);if(!u._redirectEventId){if(d)try{await this.beforeStateQueue.runMiddleware(u)}catch(f){u=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return u?this.reloadAndSetCurrentUserOrClear(u):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===u._redirectEventId?this.directlySetCurrentUser(u):this.reloadAndSetCurrentUserOrClear(u)}async tryRedirectSignIn(t){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(t){try{await Cm(t)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xae()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const o=t?cn(t):null;return o&&ye(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(t,o=!1){if(!this._deleted)return t&&ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vce(this),o=new Cce(t);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ah("auth","Firebase",t())}onAuthStateChanged(t,o,c){return this.registerStateListener(this.authStateSubscription,t,o,c)}beforeAuthStateChanged(t,o){return this.beforeStateQueue.pushCallback(t,o)}onIdTokenChanged(t,o,c){return this.registerStateListener(this.idTokenSubscription,t,o,c)}authStateReady(){return new Promise((t,o)=>{if(this.currentUser)t();else{const c=this.onAuthStateChanged(()=>{c(),t()},o)}})}async revokeAccessToken(t){if(this.currentUser){const o=await this.currentUser.getIdToken(),c={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:o};this.tenantId!=null&&(c.tenantId=this.tenantId),await mce(this,c)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,o){const c=await this.getOrInitRedirectPersistenceManager(o);return t===null?c.removeCurrentUser():c.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const o=t&&yi(t)||this._popupRedirectResolver;ye(o,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[yi(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var o,c;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===t?this._currentUser:((c=this.redirectUser)===null||c===void 0?void 0:c._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=(o=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,o,c,u){if(this._deleted)return()=>{};const d=typeof o=="function"?o:o.next.bind(o);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||d(this.currentUser)}),typeof o=="function"){const k=t.addObserver(o,c,u);return()=>{f=!0,k()}}else{const k=t.addObserver(o);return()=>{f=!0,k()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const o={"X-Client-Version":this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const c=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());c&&(o["X-Firebase-Client"]=c);const u=await this._getAppCheckToken();return u&&(o["X-Firebase-AppCheck"]=u),o}async _getAppCheckToken(){var t;const o=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return o!=null&&o.error&&Qae(`Error while retrieving App Check token: ${o.error}`),o==null?void 0:o.token}}function Ja(r){return cn(r)}class NR{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ine(o=>this.observer=o)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ece(r){Tk=r}function yM(r){return Tk.loadJS(r)}function xce(){return Tk.recaptchaEnterpriseScript}function Tce(){return Tk.gapiScript}function Sce(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const Dce="recaptcha-enterprise",Ice="NO_RECAPTCHA";class Pce{constructor(t){this.type=Dce,this.auth=Ja(t)}async verify(t="verify",o=!1){async function c(d){if(!o){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(f,m)=>{ice(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(k=>{if(k.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const w=new oce(k);return d.tenantId==null?d._agentRecaptchaConfig=w:d._tenantRecaptchaConfigs[d.tenantId]=w,f(w.siteKey)}}).catch(k=>{m(k)})})}function u(d,f,m){const k=window.grecaptcha;PR(k)?k.enterprise.ready(()=>{k.enterprise.execute(d,{action:t}).then(w=>{f(w)}).catch(()=>{f(Ice)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{c(this.auth).then(m=>{if(!o&&PR(window.grecaptcha))u(m,d,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let k=xce();k.length!==0&&(k+=m),yM(k).then(()=>{u(m,d,f)}).catch(w=>{f(w)})}}).catch(m=>{f(m)})})}}async function MR(r,t,o,c=!1){const u=new Pce(r);let d;try{d=await u.verify(o)}catch{d=await u.verify(o,!0)}const f=Object.assign({},t);return c?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function SC(r,t,o,c){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await MR(r,t,o,o==="getOobCode");return c(r,d)}else return c(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await MR(r,t,o,o==="getOobCode");return c(r,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(r,t){const o=Qm(r,"auth");if(o.isInitialized()){const u=o.getImmediate(),d=o.getOptions();if(sm(d,t??{}))return u;vo(u,"already-initialized")}return o.initialize({options:t})}function Bce(r,t){const o=(t==null?void 0:t.persistence)||[],c=(Array.isArray(o)?o:[o]).map(yi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(c,t==null?void 0:t.popupRedirectResolver)}function Oce(r,t,o){const c=Ja(r);ye(c._canInitEmulator,c,"emulator-config-failed"),ye(/^https?:\/\//.test(t),c,"invalid-emulator-scheme");const u=!!(o!=null&&o.disableWarnings),d=EM(t),{host:f,port:m}=Nce(t),k=m===null?"":`:${m}`;c.config.emulator={url:`${d}//${f}${k}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:f,port:m,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:u})}),u||Mce()}function EM(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Nce(r){const t=EM(r),o=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!o)return{host:"",port:null};const c=o[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(c);if(u){const d=u[1];return{host:d,port:VR(c.substr(d.length+1))}}else{const[d,f]=c.split(":");return{host:d,port:VR(f)}}}function VR(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Mce(){function r(){const t=document.createElement("p"),o=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,o){this.providerId=t,this.signInMethod=o}toJSON(){return Ci("not implemented")}_getIdTokenResponse(t){return Ci("not implemented")}_linkToIdToken(t,o){return Ci("not implemented")}_getReauthenticationResolver(t){return Ci("not implemented")}}async function Vce(r,t){return Fs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lce(r,t){return Fh(r,"POST","/v1/accounts:signInWithPassword",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fce(r,t){return Fh(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,t))}async function zce(r,t){return Fh(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends N1{constructor(t,o,c,u=null){super("password",c),this._email=t,this._password=o,this._tenantId=u}static _fromEmailAndPassword(t,o){return new mh(t,o,"password")}static _fromEmailAndCode(t,o,c=null){return new mh(t,o,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const o=typeof t=="string"?JSON.parse(t):t;if(o!=null&&o.email&&(o!=null&&o.password)){if(o.signInMethod==="password")return this._fromEmailAndPassword(o.email,o.password);if(o.signInMethod==="emailLink")return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SC(t,o,"signInWithPassword",Lce);case"emailLink":return Fce(t,{email:this._email,oobCode:this._password});default:vo(t,"internal-error")}}async _linkToIdToken(t,o){switch(this.signInMethod){case"password":const c={idToken:o,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SC(t,c,"signUpPassword",Vce);case"emailLink":return zce(t,{idToken:o,email:this._email,oobCode:this._password});default:vo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(r,t){return Fh(r,"POST","/v1/accounts:signInWithIdp",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce="http://localhost";class ja extends N1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const o=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(o.idToken=t.idToken),t.accessToken&&(o.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(o.nonce=t.nonce),t.pendingToken&&(o.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(o.accessToken=t.oauthToken,o.secret=t.oauthTokenSecret):vo("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const o=typeof t=="string"?JSON.parse(t):t,{providerId:c,signInMethod:u}=o,d=I1(o,["providerId","signInMethod"]);if(!c||!u)return null;const f=new ja(c,u);return f.idToken=d.idToken||void 0,f.accessToken=d.accessToken||void 0,f.secret=d.secret,f.nonce=d.nonce,f.pendingToken=d.pendingToken||null,f}_getIdTokenResponse(t){const o=this.buildRequest();return ul(t,o)}_linkToIdToken(t,o){const c=this.buildRequest();return c.idToken=o,ul(t,c)}_getReauthenticationResolver(t){const o=this.buildRequest();return o.autoCreate=!1,ul(t,o)}buildRequest(){const t={requestUri:jce,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),t.postBody=Ch(o)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $ce(r){const t=ud(dd(r)).link,o=t?ud(dd(t)).deep_link_id:null,c=ud(dd(r)).deep_link_id;return(c?ud(dd(c)).link:null)||c||o||t||r}class M1{constructor(t){var o,c,u,d,f,m;const k=ud(dd(t)),w=(o=k.apiKey)!==null&&o!==void 0?o:null,A=(c=k.oobCode)!==null&&c!==void 0?c:null,_=Uce((u=k.mode)!==null&&u!==void 0?u:null);ye(w&&A&&_,"argument-error"),this.apiKey=w,this.operation=_,this.code=A,this.continueUrl=(d=k.continueUrl)!==null&&d!==void 0?d:null,this.languageCode=(f=k.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=k.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const o=$ce(t);try{return new M1(o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(t,o){return mh._fromEmailAndPassword(t,o)}static credentialWithLink(t,o){const c=M1.parseLink(o);return ye(c,"argument-error"),mh._fromEmailAndCode(t,c.code,c.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends xM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends zh{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,o){return ja._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:o})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:o,oauthAccessToken:c}=t;if(!o&&!c)return null;try{return as.credential(o,c)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends zh{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends zh{constructor(){super("twitter.com")}static credential(t,o){return ja._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:o})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:o,oauthTokenSecret:c}=t;if(!o||!c)return null;try{return ls.credential(o,c)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hce(r,t){return Fh(r,"POST","/v1/accounts:signUp",Ls(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,o,c,u=!1){const d=await Da._fromIdTokenResponse(t,c,u),f=LR(c);return new Ua({user:d,providerId:f,_tokenResponse:c,operationType:o})}static async _forOperation(t,o,c){await t._updateTokensIfNecessary(c,!0);const u=LR(c);return new Ua({user:t,providerId:u,_tokenResponse:c,operationType:o})}}function LR(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends oi{constructor(t,o,c,u){var d;super(o.code,o.message),this.operationType=c,this.user=u,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:t.name,tenantId:(d=t.tenantId)!==null&&d!==void 0?d:void 0,_serverResponse:o.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(t,o,c,u){return new ym(t,o,c,u)}}function TM(r,t,o,c){return(t==="reauthenticate"?o._getReauthenticationResolver(r):o._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(r,d,t,c):d})}async function qce(r,t,o=!1){const c=await ph(r,t._linkToIdToken(r.auth,await r.getIdToken()),o);return Ua._forOperation(r,"link",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wce(r,t,o=!1){const{auth:c}=r,u="reauthenticate";try{const d=await ph(r,TM(c,u,t,r),o);ye(d.idToken,c,"internal-error");const f=B1(d.idToken);ye(f,c,"internal-error");const{sub:m}=f;return ye(r.uid===m,c,"user-mismatch"),Ua._forOperation(r,u,d)}catch(d){throw(d==null?void 0:d.code)==="auth/user-not-found"&&vo(c,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(r,t,o=!1){const c="signIn",u=await TM(r,c,t),d=await Ua._fromIdTokenResponse(r,c,u);return o||await r._updateCurrentUser(d.user),d}async function Gce(r,t){return SM(Ja(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(r){const t=Ja(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Kce(r,t,o){const c=Ja(r),f=await SC(c,{returnSecureToken:!0,email:t,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hce).catch(k=>{throw k.code==="auth/password-does-not-meet-requirements"&&DM(r),k}),m=await Ua._fromIdTokenResponse(c,"signIn",f);return await c._updateCurrentUser(m.user),m}function Qce(r,t,o){return Gce(cn(r),zl.credential(t,o)).catch(async c=>{throw c.code==="auth/password-does-not-meet-requirements"&&DM(r),c})}function Jce(r,t,o,c){return cn(r).onIdTokenChanged(t,o,c)}function Yce(r,t,o){return cn(r).beforeAuthStateChanged(t,o)}function Zce(r,t,o,c){return cn(r).onAuthStateChanged(t,o,c)}function Xce(r){return cn(r).signOut()}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,o){this.storageRetriever=t,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,o){return this.storage.setItem(t,JSON.stringify(o)),Promise.resolve()}_get(t){const o=this.storage.getItem(t);return Promise.resolve(o?JSON.parse(o):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(){const r=Wt();return O1(r)||xk(r)}const tle=1e3,nle=10;class PM extends IM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,o)=>this.onStorageEvent(t,o),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ele()&&wce(),this.fallbackToPolling=AM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const o of Object.keys(this.listeners)){const c=this.storage.getItem(o),u=this.localCache[o];c!==u&&t(o,u,c)}}onStorageEvent(t,o=!1){if(!t.key){this.forAllChangedKeys((f,m,k)=>{this.notifyListeners(f,k)});return}const c=t.key;if(o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(c);if(t.newValue!==f)t.newValue!==null?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!o)return}const u=()=>{const f=this.storage.getItem(c);!o&&this.localCache[c]===f||this.notifyListeners(c,f)},d=this.storage.getItem(c);bce()&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,nle):u()}notifyListeners(t,o){this.localCache[t]=o;const c=this.listeners[t];if(c)for(const u of Array.from(c))u(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,o,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:o,newValue:c}),!0)})},tle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,o){await super._set(t,o),this.localCache[t]=JSON.stringify(o)}async _get(t){const o=await super._get(t);return this.localCache[t]=JSON.stringify(o),o}async _remove(t){await super._remove(t),delete this.localCache[t]}}PM.type="LOCAL";const rle=PM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM extends IM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,o){}_removeListener(t,o){}}RM.type="SESSION";const BM=RM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ole(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const o=this.receivers.find(u=>u.isListeningto(t));if(o)return o;const c=new Sk(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const o=t,{eventId:c,eventType:u,data:d}=o.data,f=this.handlersMap[u];if(!(f!=null&&f.size))return;o.ports[0].postMessage({status:"ack",eventId:c,eventType:u});const m=Array.from(f).map(async w=>w(o.origin,d)),k=await ole(m);o.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:k})}_subscribe(t,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(o)}_unsubscribe(t,o){this.handlersMap[t]&&o&&this.handlersMap[t].delete(o),(!o||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r="",t=10){let o="";for(let c=0;c<t;c++)o+=Math.floor(Math.random()*10);return r+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,o,c=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let d,f;return new Promise((m,k)=>{const w=V1("",20);u.port1.start();const A=setTimeout(()=>{k(new Error("unsupported_event"))},c);f={messageChannel:u,onMessage(_){const C=_;if(C.data.eventId===w)switch(C.data.status){case"ack":clearTimeout(A),d=setTimeout(()=>{k(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(C.data.response);break;default:clearTimeout(A),clearTimeout(d),k(new Error("invalid_response"));break}}},this.handlers.add(f),u.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:w,data:o},[u.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return window}function sle(r){Xo().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return typeof Xo().WorkerGlobalScope<"u"&&typeof Xo().importScripts=="function"}async function ale(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cle(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lle(){return OM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="firebaseLocalStorageDb",ule=1,xm="firebaseLocalStorage",MM="fbase_key";class jh{constructor(t){this.request=t}toPromise(){return new Promise((t,o)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function Dk(r,t){return r.transaction([xm],t?"readwrite":"readonly").objectStore(xm)}function dle(){const r=indexedDB.deleteDatabase(NM);return new jh(r).toPromise()}function DC(){const r=indexedDB.open(NM,ule);return new Promise((t,o)=>{r.addEventListener("error",()=>{o(r.error)}),r.addEventListener("upgradeneeded",()=>{const c=r.result;try{c.createObjectStore(xm,{keyPath:MM})}catch(u){o(u)}}),r.addEventListener("success",async()=>{const c=r.result;c.objectStoreNames.contains(xm)?t(c):(c.close(),await dle(),t(await DC()))})})}async function FR(r,t,o){const c=Dk(r,!0).put({[MM]:t,value:o});return new jh(c).toPromise()}async function hle(r,t){const o=Dk(r,!1).get(t),c=await new jh(o).toPromise();return c===void 0?null:c.value}function zR(r,t){const o=Dk(r,!0).delete(t);return new jh(o).toPromise()}const fle=800,ple=3;class VM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DC(),this.db)}async _withRetries(t){let o=0;for(;;)try{const c=await this._openDb();return await t(c)}catch(c){if(o++>ple)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sk._getInstance(lle()),this.receiver._subscribe("keyChanged",async(t,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(t,o)=>["keyChanged"])}async initializeSender(){var t,o;if(this.activeServiceWorker=await ale(),!this.activeServiceWorker)return;this.sender=new ile(this.activeServiceWorker);const c=await this.sender._send("ping",{},800);c&&!((t=c[0])===null||t===void 0)&&t.fulfilled&&!((o=c[0])===null||o===void 0)&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await DC();return await FR(t,Em,"1"),await zR(t,Em),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,o){return this._withPendingWrite(async()=>(await this._withRetries(c=>FR(c,t,o)),this.localCache[t]=o,this.notifyServiceWorker(t)))}async _get(t){const o=await this._withRetries(c=>hle(c,t));return this.localCache[t]=o,o}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(o=>zR(o,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(u=>{const d=Dk(u,!1).getAll();return new jh(d).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const o=[],c=new Set;if(t.length!==0)for(const{fbase_key:u,value:d}of t)c.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(d)&&(this.notifyListeners(u,d),o.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!c.has(u)&&(this.notifyListeners(u,null),o.push(u));return o}notifyListeners(t,o){this.localCache[t]=o;const c=this.listeners[t];if(c)for(const u of Array.from(c))u(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VM.type="LOCAL";const gle=VM;new Lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(r,t){return t?yi(t):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends N1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ul(t,this._buildIdpRequest())}_linkToIdToken(t,o){return ul(t,this._buildIdpRequest(o))}_getReauthenticationResolver(t){return ul(t,this._buildIdpRequest())}_buildIdpRequest(t){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(o.idToken=t),o}}function kle(r){return SM(r.auth,new L1(r),r.bypassAuthState)}function ble(r){const{auth:t,user:o}=r;return ye(o,t,"internal-error"),Wce(o,new L1(r),r.bypassAuthState)}async function wle(r){const{auth:t,user:o}=r;return ye(o,t,"internal-error"),qce(o,new L1(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,o,c,u,d=!1){this.auth=t,this.resolver=c,this.user=u,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(t,o)=>{this.pendingPromise={resolve:t,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(t){const{urlResponse:o,sessionId:c,postBody:u,tenantId:d,error:f,type:m}=t;if(f){this.reject(f);return}const k={auth:this.auth,requestUri:o,sessionId:c,tenantId:d||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(k))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kle;case"linkViaPopup":case"linkViaRedirect":return wle;case"reauthViaPopup":case"reauthViaRedirect":return ble;default:vo(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le=new Lh(2e3,1e4);class Zc extends LM{constructor(t,o,c,u,d){super(t,o,u,d),this.provider=c,this.authWindow=null,this.pollId=null,Zc.currentPopupAction&&Zc.currentPopupAction.cancel(),Zc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ye(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=V1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var o,c;if(!((c=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||c===void 0)&&c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_le.get())};t()}}Zc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="pendingRedirect",Ig=new Map;class Ale extends LM{constructor(t,o,c=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,c),this.eventId=null}async execute(){let t=Ig.get(this.auth._key());if(!t){try{const c=await Cle(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(c)}catch(o){t=()=>Promise.reject(o)}Ig.set(this.auth._key(),t)}return this.bypassAuthState||Ig.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const o=await this.auth._redirectUserForId(t.eventId);if(o)return this.user=o,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cle(r,t){const o=xle(t),c=Ele(r);if(!await c._isAvailable())return!1;const u=await c._get(o)==="true";return await c._remove(o),u}function yle(r,t){Ig.set(r._key(),t)}function Ele(r){return yi(r._redirectPersistence)}function xle(r){return Dg(vle,r.config.apiKey,r.name)}async function Tle(r,t,o=!1){const c=Ja(r),u=mle(c,t),f=await new Ale(c,u,o).execute();return f&&!o&&(delete f.user._redirectEventId,await c._persistUserIfCurrent(f.user),await c._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=10*60*1e3;class Dle{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let o=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(t,c)&&(o=!0,this.sendToConsumer(t,c),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ile(t)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=t,o=!0)),o}sendToConsumer(t,o){var c;if(t.error&&!FM(t)){const u=((c=t.error.code)===null||c===void 0?void 0:c.split("auth/")[1])||"internal-error";o.onError(Zo(this.auth,u))}else o.onAuthEvent(t)}isEventForConsumer(t,o){const c=o.eventId===null||!!t.eventId&&t.eventId===o.eventId;return o.filter.includes(t.type)&&c}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Sle&&this.cachedEventUids.clear(),this.cachedEventUids.has(jR(t))}saveEventToCache(t){this.cachedEventUids.add(jR(t)),this.lastProcessedEventTime=Date.now()}}function jR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function FM({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ile(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FM(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ple(r,t={}){return Fs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ble=/^https?/;async function Ole(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Ple(r);for(const o of t)try{if(Nle(o))return}catch{}vo(r,"unauthorized-domain")}function Nle(r){const t=TC(),{protocol:o,hostname:c}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&c===""?o==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):o==="chrome-extension:"&&f.hostname===c}if(!Ble.test(o))return!1;if(Rle.test(r))return c===r;const u=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(c)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=new Lh(3e4,6e4);function UR(){const r=Xo().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let o=0;o<r.CP.length;o++)r.CP[o]=null}}function Vle(r){return new Promise((t,o)=>{var c,u,d;function f(){UR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UR(),o(Zo(r,"network-request-failed"))},timeout:Mle.get()})}if(!((u=(c=Xo().gapi)===null||c===void 0?void 0:c.iframes)===null||u===void 0)&&u.Iframe)t(gapi.iframes.getContext());else if(!((d=Xo().gapi)===null||d===void 0)&&d.load)f();else{const m=Sce("iframefcb");return Xo()[m]=()=>{gapi.load?f():o(Zo(r,"network-request-failed"))},yM(`${Tce()}?onload=${m}`).catch(k=>o(k))}}).catch(t=>{throw Pg=null,t})}let Pg=null;function Lle(r){return Pg=Pg||Vle(r),Pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle=new Lh(5e3,15e3),zle="__/auth/iframe",jle="emulator/auth/iframe",Ule={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$le=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hle(r){const t=r.config;ye(t.authDomain,r,"auth-domain-config-required");const o=t.emulator?R1(t,jle):`https://${r.config.authDomain}/${zle}`,c={apiKey:t.apiKey,appName:r.name,v:Wa},u=$le.get(r.config.apiHost);u&&(c.eid=u);const d=r._getFrameworks();return d.length&&(c.fw=d.join(",")),`${o}?${Ch(c).slice(1)}`}async function qle(r){const t=await Lle(r),o=Xo().gapi;return ye(o,r,"internal-error"),t.open({where:document.body,url:Hle(r),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ule,dontclear:!0},c=>new Promise(async(u,d)=>{await c.restyle({setHideOnLeave:!1});const f=Zo(r,"network-request-failed"),m=Xo().setTimeout(()=>{d(f)},Fle.get());function k(){Xo().clearTimeout(m),u(c)}c.ping(k).then(k,()=>{d(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gle=500,Kle=600,Qle="_blank",Jle="http://localhost";class $R{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yle(r,t,o,c=Gle,u=Kle){const d=Math.max((window.screen.availHeight-u)/2,0).toString(),f=Math.max((window.screen.availWidth-c)/2,0).toString();let m="";const k=Object.assign(Object.assign({},Wle),{width:c.toString(),height:u.toString(),top:d,left:f}),w=Wt().toLowerCase();o&&(m=kM(w)?Qle:o),mM(w)&&(t=t||Jle,k.scrollbars="yes");const A=Object.entries(k).reduce((C,[E,S])=>`${C}${E}=${S},`,"");if(kce(w)&&m!=="_self")return Zle(t||"",m),new $R(null);const _=window.open(t||"",m,A);ye(_,r,"popup-blocked");try{_.focus()}catch{}return new $R(_)}function Zle(r,t){const o=document.createElement("a");o.href=r,o.target=t;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle="__/auth/handler",eue="emulator/auth/handler",tue=encodeURIComponent("fac");async function HR(r,t,o,c,u,d){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:o,redirectUrl:c,v:Wa,eventId:u};if(t instanceof xM){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Dne(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,_]of Object.entries(d||{}))f[A]=_}if(t instanceof zh){const A=t.getScopes().filter(_=>_!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const A of Object.keys(m))m[A]===void 0&&delete m[A];const k=await r._getAppCheckToken(),w=k?`#${tue}=${encodeURIComponent(k)}`:"";return`${nue(r)}?${Ch(m).slice(1)}${w}`}function nue({config:r}){return r.emulator?R1(r,eue):`https://${r.authDomain}/${Xle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class rue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BM,this._completeRedirectFn=Tle,this._overrideRedirectResult=yle}async _openPopup(t,o,c,u){var d;Bi((d=this.eventManagers[t._key()])===null||d===void 0?void 0:d.manager,"_initialize() not called before _openPopup()");const f=await HR(t,o,c,TC(),u);return Yle(t,f,V1())}async _openRedirect(t,o,c,u){await this._originValidation(t);const d=await HR(t,o,c,TC(),u);return sle(d),new Promise(()=>{})}_initialize(t){const o=t._key();if(this.eventManagers[o]){const{manager:u,promise:d}=this.eventManagers[o];return u?Promise.resolve(u):(Bi(d,"If manager is not set, promise should be"),d)}const c=this.initAndGetManager(t);return this.eventManagers[o]={promise:c},c.catch(()=>{delete this.eventManagers[o]}),c}async initAndGetManager(t){const o=await qle(t),c=new Dle(t);return o.register("authEvent",u=>(ye(u==null?void 0:u.authEvent,t,"invalid-auth-event"),{status:c.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:c},this.iframes[t._key()]=o,c}_isIframeWebStorageSupported(t,o){this.iframes[t._key()].send(X0,{type:X0},u=>{var d;const f=(d=u==null?void 0:u[0])===null||d===void 0?void 0:d[X0];f!==void 0&&o(!!f),vo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const o=t._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=Ole(t)),this.originValidationPromises[o]}get _shouldInitProactively(){return AM()||O1()||xk()}}const oue=rue;var qR="@firebase/auth",WR="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const o=this.auth.onIdTokenChanged(c=>{t((c==null?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,o),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const o=this.internalListeners.get(t);o&&(this.internalListeners.delete(t),o(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aue(r){Va(new Ds("auth",(t,{options:o})=>{const c=t.getProvider("app").getImmediate(),u=t.getProvider("heartbeat"),d=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=c.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:c.name});const k={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CM(r)},w=new yce(c,u,d,k);return Bce(w,o),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,o,c)=>{t.getProvider("auth-internal").initialize()})),Va(new Ds("auth-internal",t=>{const o=Ja(t.getProvider("auth").getImmediate());return(c=>new iue(c))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ko(qR,WR,sue(r)),Ko(qR,WR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=5*60,lue=P3("authIdTokenMaxAge")||cue;let GR=null;const uue=r=>async t=>{const o=t&&await t.getIdTokenResult(),c=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(c&&c>lue)return;const u=o==null?void 0:o.token;GR!==u&&(GR=u,await fetch(r,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function due(r=Ry()){const t=Qm(r,"auth");if(t.isInitialized())return t.getImmediate();const o=Rce(r,{popupRedirectResolver:oue,persistence:[gle,rle,BM]}),c=P3("authTokenSyncURL");if(c){const d=uue(c);Yce(o,d,()=>d(o.currentUser)),Jce(o,f=>d(f))}const u=S3("auth");return u&&Oce(o,`http://${u}`),o}function hue(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Ece({loadJS(r){return new Promise((t,o)=>{const c=document.createElement("script");c.setAttribute("src",r),c.onload=t,c.onerror=u=>{const d=Zo("internal-error");d.customData=u,o(d)},c.type="text/javascript",c.charset="UTF-8",hue().appendChild(c)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aue("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="firebasestorage.googleapis.com",jM="storageBucket",fue=2*60*1e3,pue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends oi{constructor(t,o,c=0){super(eA(t),`Firebase Storage: ${o} (${eA(t)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return eA(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function eA(r){return"storage/"+r}function F1(){const r="An unknown error occurred, please check the error payload for server response.";return new Mt(Nt.UNKNOWN,r)}function gue(r){return new Mt(Nt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function mue(r){return new Mt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kue(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Nt.UNAUTHENTICATED,r)}function bue(){return new Mt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wue(r){return new Mt(Nt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function _ue(){return new Mt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vue(){return new Mt(Nt.CANCELED,"User canceled the upload/download.")}function Aue(r){return new Mt(Nt.INVALID_URL,"Invalid URL '"+r+"'.")}function Cue(r){return new Mt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function yue(){return new Mt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jM+"' property when initializing the app?")}function Eue(){return new Mt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xue(){return new Mt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tue(r){return new Mt(Nt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function IC(r){return new Mt(Nt.INVALID_ARGUMENT,r)}function UM(){return new Mt(Nt.APP_DELETED,"The Firebase app was deleted.")}function Sue(r){return new Mt(Nt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bd(r,t){return new Mt(Nt.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function id(r){throw new Mt(Nt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,o){this.bucket=t,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,o){let c;try{c=Ar.makeFromUrl(t,o)}catch{return new Ar(t,"")}if(c.path==="")return c;throw Cue(t)}static makeFromUrl(t,o){let c=null;const u="([A-Za-z0-9.\\-_]+)";function d(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+u+f,"i"),k={bucket:1,path:3};function w(L){L.path_=decodeURIComponent(L.path)}const A="v[A-Za-z0-9_]+",_=o.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${A}/b/${u}/o${C}`,"i"),S={bucket:1,path:3},R=o===zM?"(?:storage.googleapis.com|storage.cloud.google.com)":o,B="([^?#]*)",D=new RegExp(`^https?://${R}/${u}/${B}`,"i"),O=[{regex:m,indices:k,postModify:d},{regex:E,indices:S,postModify:w},{regex:D,indices:{bucket:1,path:2},postModify:w}];for(let L=0;L<O.length;L++){const $=O[L],q=$.regex.exec(t);if(q){const Y=q[$.indices.bucket];let X=q[$.indices.path];X||(X=""),c=new Ar(Y,X),$.postModify(c);break}}if(c==null)throw Aue(t);return c}}class Due{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(r,t,o){let c=1,u=null,d=null,f=!1,m=0;function k(){return m===2}let w=!1;function A(...B){w||(w=!0,t.apply(null,B))}function _(B){u=setTimeout(()=>{u=null,r(E,k())},B)}function C(){d&&clearTimeout(d)}function E(B,...D){if(w){C();return}if(B){C(),A.call(null,B,...D);return}if(k()||f){C(),A.call(null,B,...D);return}c<64&&(c*=2);let O;m===1?(m=2,O=0):O=(c+Math.random())*1e3,_(O)}let S=!1;function R(B){S||(S=!0,C(),!w&&(u!==null?(B||(m=2),clearTimeout(u),_(0)):B||(m=1)))}return _(0),d=setTimeout(()=>{f=!0,R(!0)},o),R}function Pue(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(r){return r!==void 0}function Bue(r){return typeof r=="object"&&!Array.isArray(r)}function z1(r){return typeof r=="string"||r instanceof String}function KR(r){return j1()&&r instanceof Blob}function j1(){return typeof Blob<"u"}function QR(r,t,o,c){if(c<t)throw IC(`Invalid value for '${r}'. Expected ${t} or greater.`);if(c>o)throw IC(`Invalid value for '${r}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r,t,o){let c=t;return o==null&&(c=`https://${t}`),`${o}://${c}/v0${r}`}function $M(r){const t=encodeURIComponent;let o="?";for(const c in r)if(r.hasOwnProperty(c)){const u=t(c)+"="+t(r[c]);o=o+u+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oue(r,t){const o=r>=500&&r<600,u=[408,429].indexOf(r)!==-1,d=t.indexOf(r)!==-1;return o||u||d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(t,o,c,u,d,f,m,k,w,A,_,C=!0){this.url_=t,this.method_=o,this.headers_=c,this.body_=u,this.successCodes_=d,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=k,this.timeout_=w,this.progressCallback_=A,this.connectionFactory_=_,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const t=(c,u)=>{if(u){c(!1,new lg(!1,null,!0));return}const d=this.connectionFactory_();this.pendingConnection_=d;const f=m=>{const k=m.loaded,w=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(k,w)};this.progressCallback_!==null&&d.addUploadProgressListener(f),d.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(f),this.pendingConnection_=null;const m=d.getErrorCode()===Ia.NO_ERROR,k=d.getStatus();if(!m||Oue(k,this.additionalRetryCodes_)&&this.retry){const A=d.getErrorCode()===Ia.ABORT;c(!1,new lg(!1,null,A));return}const w=this.successCodes_.indexOf(k)!==-1;c(!0,new lg(w,d))})},o=(c,u)=>{const d=this.resolve_,f=this.reject_,m=u.connection;if(u.wasSuccessCode)try{const k=this.callback_(m,m.getResponse());Rue(k)?d(k):d()}catch(k){f(k)}else if(m!==null){const k=F1();k.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,k)):f(k)}else if(u.canceled){const k=this.appDelete_?UM():vue();f(k)}else{const k=_ue();f(k)}};this.canceled_?o(!1,new lg(!1,null,!0)):this.backoffId_=Iue(t,o,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Pue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lg{constructor(t,o,c){this.wasSuccessCode=t,this.connection=o,this.canceled=!!c}}function Mue(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function Vue(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Lue(r,t){t&&(r["X-Firebase-GMPID"]=t)}function Fue(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function zue(r,t,o,c,u,d,f=!0){const m=$M(r.urlParams),k=r.url+m,w=Object.assign({},r.headers);return Lue(w,t),Mue(w,o),Vue(w,d),Fue(w,c),new Nue(k,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uue(...r){const t=jue();if(t!==void 0){const o=new t;for(let c=0;c<r.length;c++)o.append(r[c]);return o.getBlob()}else{if(j1())return new Blob(r);throw new Mt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $ue(r,t,o){return r.webkitSlice?r.webkitSlice(t,o):r.mozSlice?r.mozSlice(t,o):r.slice?r.slice(t,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(r){if(typeof atob>"u")throw Tue("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tA{constructor(t,o){this.data=t,this.contentType=o||null}}function que(r,t){switch(r){case qo.RAW:return new tA(HM(t));case qo.BASE64:case qo.BASE64URL:return new tA(qM(r,t));case qo.DATA_URL:return new tA(Gue(t),Kue(t))}throw F1()}function HM(r){const t=[];for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);if(c<=127)t.push(c);else if(c<=2047)t.push(192|c>>6,128|c&63);else if((c&64512)===55296)if(!(o<r.length-1&&(r.charCodeAt(o+1)&64512)===56320))t.push(239,191,189);else{const d=c,f=r.charCodeAt(++o);c=65536|(d&1023)<<10|f&1023,t.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}else(c&64512)===56320?t.push(239,191,189):t.push(224|c>>12,128|c>>6&63,128|c&63)}return new Uint8Array(t)}function Wue(r){let t;try{t=decodeURIComponent(r)}catch{throw Bd(qo.DATA_URL,"Malformed data URL.")}return HM(t)}function qM(r,t){switch(r){case qo.BASE64:{const u=t.indexOf("-")!==-1,d=t.indexOf("_")!==-1;if(u||d)throw Bd(r,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case qo.BASE64URL:{const u=t.indexOf("+")!==-1,d=t.indexOf("/")!==-1;if(u||d)throw Bd(r,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=Hue(t)}catch(u){throw u.message.includes("polyfill")?u:Bd(r,"Invalid character found")}const c=new Uint8Array(o.length);for(let u=0;u<o.length;u++)c[u]=o.charCodeAt(u);return c}class WM{constructor(t){this.base64=!1,this.contentType=null;const o=t.match(/^data:([^,]+)?,/);if(o===null)throw Bd(qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=o[1]||null;c!=null&&(this.base64=Que(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=t.substring(t.indexOf(",")+1)}}function Gue(r){const t=new WM(r);return t.base64?qM(qo.BASE64,t.rest):Wue(t.rest)}function Kue(r){return new WM(r).contentType}function Que(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,o){let c=0,u="";KR(t)?(this.data_=t,c=t.size,u=t.type):t instanceof ArrayBuffer?(o?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),c=this.data_.length):t instanceof Uint8Array&&(o?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),c=t.length),this.size_=c,this.type_=u}size(){return this.size_}type(){return this.type_}slice(t,o){if(KR(this.data_)){const c=this.data_,u=$ue(c,t,o);return u===null?null:new us(u)}else{const c=new Uint8Array(this.data_.buffer,t,o-t);return new us(c,!0)}}static getBlob(...t){if(j1()){const o=t.map(c=>c instanceof us?c.data_:c);return new us(Uue.apply(null,o))}else{const o=t.map(f=>z1(f)?que(qo.RAW,f).data:f.data_);let c=0;o.forEach(f=>{c+=f.byteLength});const u=new Uint8Array(c);let d=0;return o.forEach(f=>{for(let m=0;m<f.length;m++)u[d++]=f[m]}),new us(u,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(r){let t;try{t=JSON.parse(r)}catch{return null}return Bue(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function Yue(r,t){const o=t.split("/").filter(c=>c.length>0).join("/");return r.length===0?o:r+"/"+o}function KM(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zue(r,t){return t}class Hn{constructor(t,o,c,u){this.server=t,this.local=o||t,this.writable=!!c,this.xform=u||Zue}}let ug=null;function Xue(r){return!z1(r)||r.length<2?r:KM(r)}function QM(){if(ug)return ug;const r=[];r.push(new Hn("bucket")),r.push(new Hn("generation")),r.push(new Hn("metageneration")),r.push(new Hn("name","fullPath",!0));function t(d,f){return Xue(f)}const o=new Hn("name");o.xform=t,r.push(o);function c(d,f){return f!==void 0?Number(f):f}const u=new Hn("size");return u.xform=c,r.push(u),r.push(new Hn("timeCreated")),r.push(new Hn("updated")),r.push(new Hn("md5Hash",null,!0)),r.push(new Hn("cacheControl",null,!0)),r.push(new Hn("contentDisposition",null,!0)),r.push(new Hn("contentEncoding",null,!0)),r.push(new Hn("contentLanguage",null,!0)),r.push(new Hn("contentType",null,!0)),r.push(new Hn("metadata","customMetadata",!0)),ug=r,ug}function ede(r,t){function o(){const c=r.bucket,u=r.fullPath,d=new Ar(c,u);return t._makeStorageReference(d)}Object.defineProperty(r,"ref",{get:o})}function tde(r,t,o){const c={};c.type="file";const u=o.length;for(let d=0;d<u;d++){const f=o[d];c[f.local]=f.xform(c,t[f.server])}return ede(c,r),c}function JM(r,t,o){const c=GM(t);return c===null?null:tde(r,c,o)}function nde(r,t,o,c){const u=GM(t);if(u===null||!z1(u.downloadTokens))return null;const d=u.downloadTokens;if(d.length===0)return null;const f=encodeURIComponent;return d.split(",").map(w=>{const A=r.bucket,_=r.fullPath,C="/b/"+f(A)+"/o/"+f(_),E=U1(C,o,c),S=$M({alt:"media",token:w});return E+S})[0]}function rde(r,t){const o={},c=t.length;for(let u=0;u<c;u++){const d=t[u];d.writable&&(o[d.server]=r[d.local])}return JSON.stringify(o)}class YM{constructor(t,o,c,u){this.url=t,this.method=o,this.handler=c,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(r){if(!r)throw F1()}function ode(r,t){function o(c,u){const d=JM(r,u,t);return ZM(d!==null),d}return o}function ide(r,t){function o(c,u){const d=JM(r,u,t);return ZM(d!==null),nde(d,u,r.host,r._protocol)}return o}function XM(r){function t(o,c){let u;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?u=bue():u=kue():o.getStatus()===402?u=mue(r.bucket):o.getStatus()===403?u=wue(r.path):u=c,u.status=o.getStatus(),u.serverResponse=c.serverResponse,u}return t}function sde(r){const t=XM(r);function o(c,u){let d=t(c,u);return c.getStatus()===404&&(d=gue(r.path)),d.serverResponse=u.serverResponse,d}return o}function ade(r,t,o){const c=t.fullServerUrl(),u=U1(c,r.host,r._protocol),d="GET",f=r.maxOperationRetryTime,m=new YM(u,d,ide(r,o),f);return m.errorHandler=sde(t),m}function cde(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function lde(r,t,o){const c=Object.assign({},o);return c.fullPath=r.path,c.size=t.size(),c.contentType||(c.contentType=cde(null,t)),c}function ude(r,t,o,c,u){const d=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let O="";for(let L=0;L<2;L++)O=O+Math.random().toString().slice(2);return O}const k=m();f["Content-Type"]="multipart/related; boundary="+k;const w=lde(t,c,u),A=rde(w,o),_="--"+k+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+k+`\r
Content-Type: `+w.contentType+`\r
\r
`,C=`\r
--`+k+"--",E=us.getBlob(_,c,C);if(E===null)throw Eue();const S={name:w.fullPath},R=U1(d,r.host,r._protocol),B="POST",D=r.maxUploadRetryTime,P=new YM(R,B,ode(r,o),D);return P.urlParams=S,P.headers=f,P.body=E.uploadData(),P.errorHandler=XM(t),P}class dde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,o,c,u){if(this.sent_)throw id("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,t,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw id("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw id("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw id("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw id("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class hde extends dde{initXhr(){this.xhr_.responseType="text"}}function e6(){return new hde}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,o){this._service=t,o instanceof Ar?this._location=o:this._location=Ar.makeFromUrl(o,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,o){return new $a(t,o)}get root(){const t=new Ar(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KM(this._location.path)}get storage(){return this._service}get parent(){const t=Jue(this._location.path);if(t===null)return null;const o=new Ar(this._location.bucket,t);return new $a(this._service,o)}_throwIfRoot(t){if(this._location.path==="")throw Sue(t)}}function fde(r,t,o){r._throwIfRoot("uploadBytes");const c=ude(r.storage,r._location,QM(),new us(t,!0),o);return r.storage.makeRequestWithTokens(c,e6).then(u=>({metadata:u,ref:r}))}function pde(r){r._throwIfRoot("getDownloadURL");const t=ade(r.storage,r._location,QM());return r.storage.makeRequestWithTokens(t,e6).then(o=>{if(o===null)throw xue();return o})}function gde(r,t){const o=Yue(r._location.path,t),c=new Ar(r._location.bucket,o);return new $a(r.storage,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mde(r){return/^[A-Za-z]+:\/\//.test(r)}function kde(r,t){return new $a(r,t)}function t6(r,t){if(r instanceof $1){const o=r;if(o._bucket==null)throw yue();const c=new $a(o,o._bucket);return t!=null?t6(c,t):c}else return t!==void 0?gde(r,t):r}function bde(r,t){if(t&&mde(t)){if(r instanceof $1)return kde(r,t);throw IC("To use ref(service, url), the first argument must be a Storage instance.")}else return t6(r,t)}function JR(r,t){const o=t==null?void 0:t[jM];return o==null?null:Ar.makeFromBucketSpec(o,r)}function wde(r,t,o,c={}){r.host=`${t}:${o}`,r._protocol="http";const{mockUserToken:u}=c;u&&(r._overrideAuthToken=typeof u=="string"?u:R3(u,r.app.options.projectId))}class $1{constructor(t,o,c,u,d){this.app=t,this._authProvider=o,this._appCheckProvider=c,this._url=u,this._firebaseVersion=d,this._bucket=null,this._host=zM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fue,this._maxUploadRetryTime=pue,this._requests=new Set,u!=null?this._bucket=Ar.makeFromBucketSpec(u,this._host):this._bucket=JR(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,t):this._bucket=JR(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const o=await t.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $a(this,t)}_makeRequest(t,o,c,u,d=!0){if(this._deleted)return new Due(UM());{const f=zue(t,this._appId,c,u,o,this._firebaseVersion,d);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,o){const[c,u]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,o,c,u).getPromise()}}const YR="@firebase/storage",ZR="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="storage";function _de(r,t,o){return r=cn(r),fde(r,t,o)}function vde(r){return r=cn(r),pde(r)}function r6(r,t){return r=cn(r),bde(r,t)}function Ade(r=Ry(),t){r=cn(r);const c=Qm(r,n6).getImmediate({identifier:t}),u=D3("storage");return u&&Cde(c,...u),c}function Cde(r,t,o,c={}){wde(r,t,o,c)}function yde(r,{instanceIdentifier:t}){const o=r.getProvider("app").getImmediate(),c=r.getProvider("auth-internal"),u=r.getProvider("app-check-internal");return new $1(o,c,u,t,Wa)}function Ede(){Va(new Ds(n6,yde,"PUBLIC").setMultipleInstances(!0)),Ko(YR,ZR,""),Ko(YR,ZR,"esm2017")}Ede();let dg;const xde=new Uint8Array(16);function Tde(){if(!dg&&(dg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dg(xde)}const kn=[];for(let r=0;r<256;++r)kn.push((r+256).toString(16).slice(1));function Sde(r,t=0){return kn[r[t+0]]+kn[r[t+1]]+kn[r[t+2]]+kn[r[t+3]]+"-"+kn[r[t+4]]+kn[r[t+5]]+"-"+kn[r[t+6]]+kn[r[t+7]]+"-"+kn[r[t+8]]+kn[r[t+9]]+"-"+kn[r[t+10]]+kn[r[t+11]]+kn[r[t+12]]+kn[r[t+13]]+kn[r[t+14]]+kn[r[t+15]]}const Dde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XR={randomUUID:Dde};function Ide(r,t,o){if(XR.randomUUID&&!t&&!r)return XR.randomUUID();r=r||{};const c=r.random||(r.rng||Tde)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){o=o||0;for(let u=0;u<16;++u)t[o+u]=c[u];return t}return Sde(c)}const Pde={apiKey:"AIzaSyD4BgiY7fmv-ZjXHpnaDZpDvRTDIeFZtTc",authDomain:"blog-11cc4.firebaseapp.com",projectId:"blog-11cc4",storageBucket:"blog-11cc4.appspot.com",messagingSenderId:"432348479698",appId:"1:432348479698:web:346302bd3f71655a492d0b",measurementId:"G-YB4HK0XNQ0"},H1=M3(Pde),jl=Pae(H1),o6=Ade(H1),Rde=r6(o6,`picturesPosts/${Ide()}`);async function Bde(r){return await _de(Rde,r)}async function Ode(r){const t=r6(o6,r);return await vde(t)}const Tm=due(H1),i6=NC.createContext([]),s6=()=>J.useContext(i6),Nde=({children:r})=>{const[t,o]=J.useState(null);async function c(u){try{const d=E1(jl,"users",u);return(await iM(d)).data()}catch(d){return console.error(d),null}}return Zce(Tm,u=>{u?t||c(u.uid).then(d=>{const f={uid:u.uid,email:u.email,rol:d};return o(f)}):o(null)}),j.jsx(i6.Provider,{value:{user:t},children:r})},Mde=()=>{const{user:r}=s6();return j.jsx("section",{className:"ftco-section",children:j.jsx("div",{className:"container",children:j.jsx("nav",{className:"navbar navbar-expand-lg ftco_navbar ftco-navbar-light",id:"ftco-navbar",children:j.jsxs("div",{className:"container",children:[j.jsx("p",{className:"navbar-brand",children:"Cañuelas Te Escucha"}),j.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:j.jsx("img",{id:"menuT",src:une,alt:"menuTogle"})}),j.jsxs("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:[j.jsxs("ul",{className:"navbar-nav ml-auto mr-md-3",children:[j.jsx("li",{className:"nav-item",children:j.jsx(O0,{to:"/",className:"nav-link",children:"Inicio"})}),r&&r.email==="micamarco@gmail.com"&&r.uid==="NBPITtX9YiThi48aBiEVlMOFwFG2"&&j.jsx("li",{className:"nav-item",children:j.jsx(O0,{to:"/publicar-post",className:"nav-link",children:"Crear Post"})})]}),r&&r.uid?j.jsx("div",{className:"btnContainer",children:j.jsx("button",{className:"btnNavBar",onClick:()=>Xce(Tm),children:"Cerrar sesion"})}):j.jsx("ul",{className:"navbar-nav ml-auto mr-md-3",children:j.jsx("li",{className:"nav-item",children:j.jsx(O0,{to:"/login",className:"nav-link",children:"Login"})})})]})]})})})})},Vde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGbSURBVFiF7daxSiNBHMfx3y9oVLDZmUII5mF8ABELGx9ArjlsbSw1vaUW2igiVjZ2dvcExxVneUW4YmcCCq6LsD8bFaPZZDNmNo1T7e6w/++HKZYFApakZpqmHedc1znX9d7vS2qGzGJIvNfrXUha+7B1bYxZJ5lHAwyJByMqAyrEgxCVAGPEx0aMBATEx0IMBXwhXhlRCphAvBJiIGCC8ZGIT4AI8aGIPkDEeCniDVBDfCCCNcc/ISip6Zy7JLlaUxwAQPIqSZINpmnaIblTZ/wdYo/Ouf8AlqYBANBtANCU4gCgBsnjadVJnlDSrPd+V9ImgGWSczGjknKS/wCcGmP2+z5E3vsDST9jAgAcWGu3X28akWMj18wX3s0APL5czwNYCBkSegJbxphFa62x1hpjzCLJH3UB7qy1RySL1wckiyRJDgHcRwdIGvxjQQrAWL/kQYBJr29AH0DSUw3NvsbHE/gTuy7pdykgz/NzALcR+3+zLLsoBbRarYeiKFYAnANIB00geVM2neSvkq1U0llRFCvtdjt7v/EMIu8DAeqC7dgAAAAASUVORK5CYII=",Lde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGmSURBVFiF7Za/i9RAGIafbwhxttla8BvWhatsDw70H7ATG0VLC8VSrjlBFBQsPBVstLXxLLTw/xCEBQ8tItnbJOJuY7sBlx2bUwZ1MfvjEsF96sm87/sQSGDN/44kSXKs1Wrd995fAk7UlPsZeFmW5W0piuKx9367puBfeSR5nn8BjjdUYGiAqKFwAGOApw0WeGZU9S6wA5Q1BpfAjqreM2matp1zu9PpdBN4W0N4T0ROO+d20zRtmziOP2ZZdq7T6XxQ1TPATY7GxjfgwWg02lLVXpZlZ+M4fi95nvvDA6+B6865r4PB4JQx5jmwtaLwnohcUdVekiRta+1D4CogJjh0AdhfsY3fVltr94FrgACEBkJWYWPm6vCQ+fOzS9n46+qQWQZC5rFRaXXILAMhVWzMtTqkioGQnzb6/f7JKIouAkwmk1fdbveg6uplCgDkwA1VfSMiHsB7b4qiOA88Adw8ly1S4AefROTdYYFNYGORS5b5Em547xcKDanyEh4p6wIGGDaYPzQistdggRfReDy+Za31wGXq/S3fK8vyTk15a/5hvgON3tRxDz01KQAAAABJRU5ErkJggg==",Fde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKoSURBVFiFtZY7aBRRFIa/c0OiUXBXcmeCW0kKxQeKqE3sFLRJYmdhEcHaGLUQ8YVWIhIQgqUWFjZpfKAEwVbQGLQJCIqii4GZO0nWCBZOMsdCV3TZ2Z2Ns3955z/3/+bcw52BGkVRdMw59845t+icexJF0ZZaT56SmvCzqnq9xvNVRA5Za1+0FSAlvO0QBiAMw4sNwgEKqjoZRdHevAHEOTcIPMzor4jIQWvtVF4ABjjVgr+oqk+dc5tzA1DVnS3WFIEruQGIiK6gLr8OAJ9aLRKRN7kBqOpMizXvgUu5ARhjHmT0LqrqaKVS2W6t/ZIXgMzOzq7p7OwMgbVNvEOe5z3KK7gqUyqVvovInSa+cjvC4fdNKCI3gB8NfB3tCP8D0NPTUwYadaEUBMGOtgEAdHV1XQCCNGNHR8fptgIUCoV54EyaUVWHgyDozxtAahecc/eBwyn+z3Ec7y6VSlHbABYWFopLS0vTQF9KzRRwwPO8b402ds5tUtVrIrJdVWeMMeettW+bAgCEYbhLRJ4Dq1P2f5UkyUBvb2/dmZmbm1uXJMlbYMNfy3U/5YY68n3/NXAcSFIA9hhjpqMo2l/vYZIkp2rC4fenvPanpm4Hqoqi6ISqjjewKDAhImPW2pflcrm7u7v7uKqOAatSav7pREMAAOfcVeByMx+wCHSRfmx1IZoCtAjRiioi0p8JACAMwxERuUnK3KxQk5kBAJxzR4HbZGtzpi1behvP8+4B+4CPOQF8aKkDVVUqlfVxHN8FBv4jXIHBFZ1nsVhc8DxvUFWPAG4l4ao66nne4/8aKN/3J+I43sqvuVjKGi4iI77vj0OGeyCrgiDoM8acA4ZJv4QSETlprb1VXcgNoKr5+fnC8vLyADAEbAM2ArGqThljrltrn/3t/wnGqQVdjQu3wgAAAABJRU5ErkJggg==",zde="https://facundomarcobacigalupo.github.io/Blog/assets/mercadoPago-UAqRI8Ws.png",jde=()=>{const[r,t]=J.useState([]);return J.useEffect(()=>{const o=yk(jl,"posts");aM(o).then(c=>{const u=c.docs.map(d=>({id:d.id,...d.data()}));t(u)}).catch(c=>console.error(c))},[]),j.jsxs("footer",{className:"text-center text-lg-start text-white",style:{backgroundColor:"rgb(17, 17, 17)"},children:[j.jsx("section",{className:"d-flex justify-content-center p-2 colorUpDown",children:j.jsxs("p",{children:["Se puede donar mediante Mercado Pago, ",j.jsx("span",{className:"text-danger",children:"CVU: 0000003100004037602282"}),j.jsx("a",{href:"https://mpago.la/32wtK5Y",target:"_blank",rel:"noopener noreferrer",children:j.jsx("img",{className:"imgStyleRRSS",src:zde,alt:"Mercado Pago"})})," Muchas Gracias."]})}),j.jsx("section",{children:j.jsx("div",{className:"container text-center text-md-start mt-5",children:j.jsxs("div",{className:"row mt-3",children:[j.jsxs("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto",children:[j.jsx("h6",{className:"text-uppercase fw-bold",children:"Cañuelas Te Escucha"}),j.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),j.jsx("p",{children:"Escuchamos la verdad de los cañuelenses."})]}),j.jsxs("div",{className:"col-md-2 col-lg-2 col-xl-2 mx-auto",children:[j.jsx("h6",{className:"text-uppercase fw-bold",children:"Ultimos blogs"}),j.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),r.map((o,c)=>c<4&&j.jsx("p",{children:j.jsx(Dy,{to:`/post/${o.id}`,className:"text-white",children:o.title})},o.id))]}),j.jsxs("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0",children:[j.jsx("h6",{className:"text-uppercase fw-bold",children:"Contacto"}),j.jsx("hr",{className:"mb-3 mt-0 d-inline-block mx-auto hrStyles"}),j.jsxs("p",{children:[j.jsx("img",{className:"imgStyle",src:Vde,alt:"house"})," Buenos aires, cañuelas"]}),j.jsxs("p",{children:[j.jsx("img",{className:"imgStyle",src:Lde,alt:"mail"})," micamarco@gmail.com"]}),j.jsxs("p",{children:[j.jsx("img",{className:"imgStyle",src:Fde,alt:"phone"})," +54 11 2252-4921"]})]})]})})}),j.jsx("div",{className:"text-center p-3 colorUpDown",children:j.jsx("p",{className:"text-white",children:"© 2024 Copyright: Cañuelas Te Escucha"})})]})};var a6={exports:{}},Ude="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$de=Ude,Hde=$de;function c6(){}function l6(){}l6.resetWarningCache=c6;var qde=function(){function r(c,u,d,f,m,k){if(k!==Hde){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function t(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:t,element:r,elementType:r,instanceOf:t,node:r,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l6,resetWarningCache:c6};return o.PropTypes=o,o};a6.exports=qde();var Wde=a6.exports;const Xc=t4(Wde),Gde="https://facundomarcobacigalupo.github.io/Blog/assets/notFound-buJvN9NC.png",u6=({id:r,title:t,summary:o,picture:c})=>{const[u,d]=J.useState(c),f=()=>{d(Gde)};return j.jsxs("section",{className:"card",children:[j.jsx("header",{id:"cardHeader",children:j.jsx("img",{src:u,onError:f,alt:`${t}-img`})}),j.jsxs("div",{className:"card-body",children:[j.jsx("h2",{className:"card-title",children:t}),j.jsx("p",{className:"card-description",children:`${o.substring(0,80)}.`}),j.jsx(Dy,{className:"btn",to:`/post/${r}`,children:"Leer mas"})]})]})};u6.propTypes={id:Xc.string.isRequired,title:Xc.string.isRequired,summary:Xc.string.isRequired,picture:Xc.string.isRequired};const d6=J.memo(function({blogEntries:t}){return j.jsx(J.Fragment,{children:t.map(o=>o&&o.content?j.jsx("article",{children:j.jsx(u6,{...o})},o.id):null)})},(r,t)=>r.blogEntries.length===t.blogEntries.length);d6.propTypes={blogEntries:Xc.arrayOf(Xc.object).isRequired};const h6=()=>j.jsx("div",{className:"containerLoading",children:j.jsxs("svg",{className:"pl",viewBox:"0 0 200 200",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[j.jsxs("defs",{children:[j.jsxs("linearGradient",{id:"pl-grad1",x1:"1",y1:"0.5",x2:"0",y2:"0.5",children:[j.jsx("stop",{offset:"0%",stopColor:"crimson"}),j.jsx("stop",{offset:"100%",stopColor:"#3b3b3b"})]}),j.jsxs("linearGradient",{id:"pl-grad2",x1:"0",y1:"0",x2:"0",y2:"1",children:[j.jsx("stop",{offset:"0%",stopColor:"#1d1d1d"}),j.jsx("stop",{offset:"100%",stopColor:"crimson"})]})]}),j.jsx("circle",{className:"pl__ring",cx:"100",cy:"100",r:"82",fill:"none",stroke:"url(#pl-grad1)",strokeWidth:"36",strokeDasharray:"0 257 1 257",strokeDashoffset:"0.01",strokeLinecap:"round",transform:"rotate(-90,100,100)"}),j.jsx("line",{className:"pl__ball",stroke:"url(#pl-grad2)",x1:"100",y1:"18",x2:"100.01",y2:"182",strokeWidth:"36",strokeDasharray:"1 165",strokeLinecap:"round"})]})}),Kde=()=>{const[r,t]=J.useState([]),[o,c]=J.useState(!0);return J.useEffect(()=>{c(!0);const u=yk(jl,"posts");aM(u).then(d=>{const f=d.docs.map(m=>({id:m.id,...m.data()}));t(f)}).catch(d=>console.error(d)).finally(()=>c(!1))},[]),o?j.jsx(h6,{}):j.jsx("div",{className:"contenedor",children:j.jsx(d6,{blogEntries:r})})};(function(r){const t=r.es=r.es||{};t.dictionary=Object.assign(t.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(puede requerir <kbd>Fn</kbd>)","%0 of %1":"%0 de %1",Accept:"Aceptar","Accessibility help":"Ayuda de accesibilidad","Align cell text to the bottom":"Alinear texto de celda hacia abajo","Align cell text to the center":"Centrar texto de celda","Align cell text to the left":"Alinear texto de celda a la izquierda","Align cell text to the middle":"Alinear texto de celda al medio","Align cell text to the right":"Alinear texto de celda a la derecha","Align cell text to the top":"Alinear texto de celda hacia arriba","Align center":"Centrar","Align left":"Alinear a la izquierda","Align right":"Alinear a la derecha","Align table to the left":"Alinear tabla a la izquierda","Align table to the right":"Alinear tabla a la derecha",Alignment:"Alineación",Aquamarine:"Aguamarina",Background:"Fondo","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"A continuación, encontrará una lista de atajos de teclado que se pueden utilizar en el editor.",Big:"Grande",Black:"Negro","Block quote":"Bloque de cita",Blue:"Azul",Bold:"Negrita","Bold text":"Texto en negrita",Border:"Borde","Bulleted List":"Lista con viñetas","Bulleted list styles toolbar":"Estilos de lista con viñetas",Cancel:"Cancelar","Cell properties":"Propiedades de celda","Center table":"Centrar tabla","Choose heading":"Elegir Encabezado",Circle:"Círculo",Clear:"Borrar","Click to edit block":"Haz clic para editar el bloque",Close:"Cerrar","Close contextual balloons, dropdowns, and dialogs":"Cierra globos contextuales, menús desplegables y cuadros de diálogo",Code:"Código",Color:"Color","Color picker":"Selector de color",Column:"Columna","Content editing keystrokes":"Teclas de edición de contenido","Copy selected content":"Copia el contenido seleccionado","Create link":"Crea un enlace",Dashed:"Línea discontinua",Decimal:"Decimal","Decimal with leading zero":"Decimal con cero","Decrease indent":"Disminuir sangría","Decrease list item indent":"Reduce la sangría de los elementos de la lista",Default:"Por defecto","Delete column":"Eliminar columna","Delete row":"Eliminar fila","Dim grey":"Gris oscuro",Dimensions:"Dimensiones",Disc:"Disco","Document colors":"Colores del documento",Dotted:"Línea de puntos",Double:"Doble línea",Downloadable:"Descargable","Drag to move":"Arrastra para mover","Dropdown toolbar":"Barra de herramientas desplegable","Edit block":"Cuadro de edición","Edit link":"Editar enlace","Editor block content toolbar":"Barra de herramientas de contenido del bloque del editor","Editor contextual toolbar":"Barra de herramientas contextual del editor","Editor dialog":"Diálogo del editor","Editor editing area: %0":"Área de edición del editor: %0","Editor toolbar":"Barra de herramientas de edición","Enter table caption":"Ingresar título de tabla","Execute the currently focused button":"Ejecuta el botón actualmente enfocado","Font Background Color":"Color de Fondo","Font Color":"Color de Fuente","Font Family":"Fuente","Font Size":"Tamaño de fuente",Green:"Verde",Grey:"Gris",Groove:"Bisel","Header column":"Columna de encabezado","Header row":"Fila de encabezado",Heading:"Encabezado","Heading 1":"Encabezado 1","Heading 2":"Encabezado 2","Heading 3":"Encabezado 3","Heading 4":"Encabezado 4","Heading 5":"Encabezado 5","Heading 6":"Encabezado 6",Height:"Altura","Help Contents. To close this dialog press ESC.":"Contenidos de ayuda. Presione ESC para cerrar este cuadro de diálogo.",HEX:"HEX","Horizontal line":"Línea horizontal","Horizontal text alignment toolbar":"Alineación horizontal de texto",Huge:"Enorme","Increase indent":"Aumentar sangría","Increase list item indent":"Aumenta la sangría de los elementos de la lista","Insert a hard break (a new paragraph)":"Inserta un salto de párrafo (un nuevo párrafo)","Insert a new paragraph directly after a widget":"Inserta un nuevo párrafo directamente después de un módulo interactivo","Insert a new paragraph directly before a widget":"Inserta un nuevo párrafo directamente antes de un módulo interactivo","Insert a new table row (when in the last cell of a table)":"Inserta una nueva fila de la tabla (cuando esté en la última celda de una tabla)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Inserta un salto de línea (un elemento <code>&lt;br&gt;</code>)","Insert column left":"Insertar columna izquierda","Insert column right":"Insertar columna derecha","Insert paragraph after block":"Insertar párrafo después del bloque","Insert paragraph before block":"Insertar párrafo antes del bloque","Insert row above":"Insertar fila encima","Insert row below":"Insertar fila debajo","Insert table":"Insertar tabla",Inset:"Incrustación","Invalid start index value.":"Valor de índice de inicio no válido.",Italic:"Cursiva","Italic text":"Texto en cursiva",Justify:"Justificar","Justify cell text":"Justificar texto de celda","Keystrokes that can be used in a list":"Teclas que se pueden utilizar en una lista","Keystrokes that can be used in a table cell":"Teclas que se pueden utilizar en una celda de tabla","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Teclas que se pueden utilizar cuando se selecciona un módulo interactivo (por ejemplo: imagen, tabla, etc.)","Light blue":"Azul claro","Light green":"Verde claro","Light grey":"Gris claro",Link:"Enlace","Link image":"URL de la imagen","Link URL":"URL del enlace","List properties":"Propiedades de la lista","Lower-latin":"Latinos minúsculas","Lower–roman":"Romanos minúsculas","Merge cell down":"Combinar celda inferior","Merge cell left":"Combinar celda izquierda","Merge cell right":"Combinar celda derecha","Merge cell up":"Combinar celda superior","Merge cells":"Combinar celdas","Move focus between form fields (inputs, buttons, etc.)":"Mueve el foco entre campos de formulario (entradas, botones, etc.)","Move focus in and out of an active dialog window":"Mueve el foco dentro y fuera de una ventana de diálogo activa","Move focus to the toolbar, navigate between toolbars":"Mueve el foco a la barra de herramientas y navega entre barras de herramientas","Move out of a link":"Sale de un enlace","Move out of an inline code style":"Sale de un estilo de código en línea","Move the caret to allow typing directly after a widget":"Mueve el cursor para permitir escribir directamente después de un módulo interactivo","Move the caret to allow typing directly before a widget":"Mueve el cursor para permitir escribir directamente antes de un módulo interactivo","Move the selection to the next cell":"Mueve la selección a la siguiente celda","Move the selection to the previous cell":"Mueve la selección a la celda anterior","Navigate through the table":"Navega por la tabla","Navigate through the toolbar":"Navega por la barra de herramientas",Next:"Siguiente","No results found":"No se han encontrado resultados","No searchable items":"No hay elementos que buscar",None:"Ninguno","Numbered List":"Lista numerada","Numbered list styles toolbar":"Estilos de lista numerada","Open in a new tab":"Abrir en una pestaña nueva ","Open link in new tab":"Abrir enlace en una pestaña nueva","Open the accessibility help dialog":"Abre el cuadro de diálogo de ayuda de accesibilidad",Orange:"Naranja",Outset:"Relieve",Padding:"Márgenes",Paragraph:"Párrafo","Paste content":"Pega el contenido","Paste content as plain text":"Pega el contenido como texto sin formato","Press %0 for help.":"Presione %0 para obtener ayuda.","Press Enter to type after or press Shift + Enter to type before the widget":"Pulse Intro para escribir después o pulse Mayús + Intro para escribir antes del «widget».",Previous:"Anterior",Purple:"Morado",Red:"Rojo",Redo:"Rehacer","Remove color":"Quitar color","Restore default":"Restaurar valores predeterminados","Reversed order":"Orden inverso","Revert autoformatting action":"Revierte la acción de formato automático","Rich Text Editor":"Editor de Texto Enriquecido",Ridge:"Marco",Row:"Fila",Save:"Guardar","Select all":"Seleccionar todo","Select column":"Seleccionar columna","Select row":"Seleccionar fila","Show more items":"Mostrar más elementos",Small:"Pequeño",Solid:"Sólido","Split cell horizontally":"Dividir celdas horizontalmente","Split cell vertically":"Dividir celdas verticalmente",Square:"Cuadrado","Start at":"Empezar en","Start index must be greater than 0.":"El número de inicio debe ser mayor que 0.",Strikethrough:"Tachado","Strikethrough text":"Tacha el texto",Style:"Estilo",Subscript:"Subíndice",Superscript:"Superíndice","Table alignment toolbar":"Alineación de tabla","Table cell text alignment":"Alineación texto de celda","Table properties":"Propiedades de tabla","Table toolbar":"Barra de herramientas de tabla","Text alignment":"Alineación del texto","Text alignment toolbar":"Barra de herramientas de alineación del texto",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'El color es inválido. Intente con "#FF0000", "rgb(255,0,0)" o "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'El valor es inválido. Intente con "10px", "2em" o simplemente "2".',"These keyboard shortcuts allow for quick access to content editing features.":"Estos atajos de teclado permiten acceder rápidamente a las funciones de edición de contenido.","This link has no URL":"Este enlace no tiene URL",Tiny:"Minúsculo","To-do List":"Lista de tareas","Toggle caption off":"Desactivar título","Toggle caption on":"Activar título","Toggle the circle list style":"Cambiar estilo de viñeta a círculo","Toggle the decimal list style":"Cambiar estilo de lista a decimal","Toggle the decimal with leading zero list style":"Cambiar estilo de lista decimal empezando con cero","Toggle the disc list style":"Cambiar estilo de viñeta a disco","Toggle the lower–latin list style":"Cambiar estilo de lista a números latinos en minúsculas","Toggle the lower–roman list style":"Cambiar estilo de lista a números romanos en minúsculas","Toggle the square list style":"Cambiar estilo de viñeta a cuadrado","Toggle the upper–latin list style":"Cambiar estilo de lista a números latinos en mayúsculas","Toggle the upper–roman list style":"Cambiar estilo de lista a números roanos en mayúsculas",Turquoise:"Turquesa","Type or paste your content here.":"Introduce o pega tu contenido aquí","Type your title":"Introduce tu título",Underline:"Subrayado","Underline text":"Subraya el texto",Undo:"Deshacer",Unlink:"Quitar enlace","Upper-latin":"Latinos minúsculas","Upper-roman":"Romanos mayúscula","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Utilice las siguientes combinaciones de teclas para una navegación más eficiente en la interfaz de usuario de CKEditor 5.","User interface and content navigation keystrokes":"Teclas de navegación de contenido e interfaz de usuario","Vertical text alignment toolbar":"Alineación vertical de texto",White:"Blanco","Widget toolbar":"Barra de herramientas del widget",Width:"Ancho",Yellow:"Amarillo"}),t.getPluralForm=function(o){return o==1?0:o!=0&&o%1e6==0?1:2}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,o){typeof Rn=="object"&&typeof qn=="object"?qn.exports=o():typeof define=="function"&&define.amd?define([],o):typeof Rn=="object"?Rn.ClassicEditor=o():t.ClassicEditor=o()})(self,()=>(()=>{var r={5659:(u,d,f)=>{const m=f(8156),k={};for(const _ of Object.keys(m))k[m[_]]=_;const w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=w;for(const _ of Object.keys(w)){if(!("channels"in w[_]))throw new Error("missing channels property: "+_);if(!("labels"in w[_]))throw new Error("missing channel labels property: "+_);if(w[_].labels.length!==w[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:C,labels:E}=w[_];delete w[_].channels,delete w[_].labels,Object.defineProperty(w[_],"channels",{value:C}),Object.defineProperty(w[_],"labels",{value:E})}w.rgb.hsl=function(_){const C=_[0]/255,E=_[1]/255,S=_[2]/255,R=Math.min(C,E,S),B=Math.max(C,E,S),D=B-R;let P,O;B===R?P=0:C===B?P=(E-S)/D:E===B?P=2+(S-C)/D:S===B&&(P=4+(C-E)/D),P=Math.min(P*60,360),P<0&&(P+=360);const L=(R+B)/2;return B===R?O=0:L<=.5?O=D/(B+R):O=D/(2-B-R),[P,O*100,L*100]},w.rgb.hsv=function(_){let C,E,S,R,B;const D=_[0]/255,P=_[1]/255,O=_[2]/255,L=Math.max(D,P,O),$=L-Math.min(D,P,O),q=function(Y){return(L-Y)/6/$+1/2};return $===0?(R=0,B=0):(B=$/L,C=q(D),E=q(P),S=q(O),D===L?R=S-E:P===L?R=.3333333333333333+C-S:O===L&&(R=.6666666666666666+E-C),R<0?R+=1:R>1&&(R-=1)),[R*360,B*100,L*100]},w.rgb.hwb=function(_){const C=_[0],E=_[1];let S=_[2];const R=w.rgb.hsl(_)[0],B=1/255*Math.min(C,Math.min(E,S));return S=1-.00392156862745098*Math.max(C,Math.max(E,S)),[R,B*100,S*100]},w.rgb.cmyk=function(_){const C=_[0]/255,E=_[1]/255,S=_[2]/255,R=Math.min(1-C,1-E,1-S),B=(1-C-R)/(1-R)||0,D=(1-E-R)/(1-R)||0,P=(1-S-R)/(1-R)||0;return[B*100,D*100,P*100,R*100]};function A(_,C){return(_[0]-C[0])**2+(_[1]-C[1])**2+(_[2]-C[2])**2}w.rgb.keyword=function(_){const C=k[_];if(C)return C;let E=1/0,S;for(const R of Object.keys(m)){const B=m[R],D=A(_,B);D<E&&(E=D,S=R)}return S},w.keyword.rgb=function(_){return m[_]},w.rgb.xyz=function(_){let C=_[0]/255,E=_[1]/255,S=_[2]/255;C=C>.04045?((C+.055)/1.055)**2.4:C/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92;const R=C*.4124+E*.3576+S*.1805,B=C*.2126+E*.7152+S*.0722,D=C*.0193+E*.1192+S*.9505;return[R*100,B*100,D*100]},w.rgb.lab=function(_){const C=w.rgb.xyz(_);let E=C[0],S=C[1],R=C[2];E/=95.047,S/=100,R/=108.883,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862;const B=116*S-16,D=500*(E-S),P=200*(S-R);return[B,D,P]},w.hsl.rgb=function(_){const C=_[0]/360,E=_[1]/100,S=_[2]/100;let R,B,D;if(E===0)return D=S*255,[D,D,D];S<.5?R=S*(1+E):R=S+E-S*E;const P=2*S-R,O=[0,0,0];for(let L=0;L<3;L++)B=C+.3333333333333333*-(L-1),B<0&&B++,B>1&&B--,6*B<1?D=P+(R-P)*6*B:2*B<1?D=R:3*B<2?D=P+(R-P)*(.6666666666666666-B)*6:D=P,O[L]=D*255;return O},w.hsl.hsv=function(_){const C=_[0];let E=_[1]/100,S=_[2]/100,R=E;const B=Math.max(S,.01);S*=2,E*=S<=1?S:2-S,R*=B<=1?B:2-B;const D=(S+E)/2,P=S===0?2*R/(B+R):2*E/(S+E);return[C,P*100,D*100]},w.hsv.rgb=function(_){const C=_[0]/60,E=_[1]/100;let S=_[2]/100;const R=Math.floor(C)%6,B=C-Math.floor(C),D=255*S*(1-E),P=255*S*(1-E*B),O=255*S*(1-E*(1-B));switch(S*=255,R){case 0:return[S,O,D];case 1:return[P,S,D];case 2:return[D,S,O];case 3:return[D,P,S];case 4:return[O,D,S];case 5:return[S,D,P]}},w.hsv.hsl=function(_){const C=_[0],E=_[1]/100,S=_[2]/100,R=Math.max(S,.01);let B,D;D=(2-E)*S;const P=(2-E)*R;return B=E*R,B/=P<=1?P:2-P,B=B||0,D/=2,[C,B*100,D*100]},w.hwb.rgb=function(_){const C=_[0]/360;let E=_[1]/100,S=_[2]/100;const R=E+S;let B;R>1&&(E/=R,S/=R);const D=Math.floor(6*C),P=1-S;B=6*C-D,D&1&&(B=1-B);const O=E+B*(P-E);let L,$,q;switch(D){default:case 6:case 0:L=P,$=O,q=E;break;case 1:L=O,$=P,q=E;break;case 2:L=E,$=P,q=O;break;case 3:L=E,$=O,q=P;break;case 4:L=O,$=E,q=P;break;case 5:L=P,$=E,q=O;break}return[L*255,$*255,q*255]},w.cmyk.rgb=function(_){const C=_[0]/100,E=_[1]/100,S=_[2]/100,R=_[3]/100,B=1-Math.min(1,C*(1-R)+R),D=1-Math.min(1,E*(1-R)+R),P=1-Math.min(1,S*(1-R)+R);return[B*255,D*255,P*255]},w.xyz.rgb=function(_){const C=_[0]/100,E=_[1]/100,S=_[2]/100;let R,B,D;return R=C*3.2406+E*-1.5372+S*-.4986,B=C*-.9689+E*1.8758+S*.0415,D=C*.0557+E*-.204+S*1.057,R=R>.0031308?1.055*R**.4166666666666667-.055:R*12.92,B=B>.0031308?1.055*B**.4166666666666667-.055:B*12.92,D=D>.0031308?1.055*D**.4166666666666667-.055:D*12.92,R=Math.min(Math.max(0,R),1),B=Math.min(Math.max(0,B),1),D=Math.min(Math.max(0,D),1),[R*255,B*255,D*255]},w.xyz.lab=function(_){let C=_[0],E=_[1],S=_[2];C/=95.047,E/=100,S/=108.883,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862;const R=116*E-16,B=500*(C-E),D=200*(E-S);return[R,B,D]},w.lab.xyz=function(_){const C=_[0],E=_[1],S=_[2];let R,B,D;B=(C+16)/116,R=E/500+B,D=B-S/200;const P=B**3,O=R**3,L=D**3;return B=P>.008856?P:(B-.13793103448275862)/7.787,R=O>.008856?O:(R-.13793103448275862)/7.787,D=L>.008856?L:(D-.13793103448275862)/7.787,R*=95.047,B*=100,D*=108.883,[R,B,D]},w.lab.lch=function(_){const C=_[0],E=_[1],S=_[2];let R;R=Math.atan2(S,E)*360/2/Math.PI,R<0&&(R+=360);const D=Math.sqrt(E*E+S*S);return[C,D,R]},w.lch.lab=function(_){const C=_[0],E=_[1],R=_[2]/360*2*Math.PI,B=E*Math.cos(R),D=E*Math.sin(R);return[C,B,D]},w.rgb.ansi16=function(_,C=null){const[E,S,R]=_;let B=C===null?w.rgb.hsv(_)[2]:C;if(B=Math.round(B/50),B===0)return 30;let D=30+(Math.round(R/255)<<2|Math.round(S/255)<<1|Math.round(E/255));return B===2&&(D+=60),D},w.hsv.ansi16=function(_){return w.rgb.ansi16(w.hsv.rgb(_),_[2])},w.rgb.ansi256=function(_){const C=_[0],E=_[1],S=_[2];return C===E&&E===S?C<8?16:C>248?231:Math.round((C-8)/247*24)+232:16+36*Math.round(C/255*5)+6*Math.round(E/255*5)+Math.round(S/255*5)},w.ansi16.rgb=function(_){let C=_%10;if(C===0||C===7)return _>50&&(C+=3.5),C=C/10.5*255,[C,C,C];const E=(~~(_>50)+1)*.5,S=(C&1)*E*255,R=(C>>1&1)*E*255,B=(C>>2&1)*E*255;return[S,R,B]},w.ansi256.rgb=function(_){if(_>=232){const B=(_-232)*10+8;return[B,B,B]}_-=16;let C;const E=Math.floor(_/36)/5*255,S=Math.floor((C=_%36)/6)/5*255,R=C%6/5*255;return[E,S,R]},w.rgb.hex=function(_){const E=(((Math.round(_[0])&255)<<16)+((Math.round(_[1])&255)<<8)+(Math.round(_[2])&255)).toString(16).toUpperCase();return"000000".substring(E.length)+E},w.hex.rgb=function(_){const C=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!C)return[0,0,0];let E=C[0];C[0].length===3&&(E=E.split("").map(P=>P+P).join(""));const S=parseInt(E,16),R=S>>16&255,B=S>>8&255,D=S&255;return[R,B,D]},w.rgb.hcg=function(_){const C=_[0]/255,E=_[1]/255,S=_[2]/255,R=Math.max(Math.max(C,E),S),B=Math.min(Math.min(C,E),S),D=R-B;let P,O;return D<1?P=B/(1-D):P=0,D<=0?O=0:R===C?O=(E-S)/D%6:R===E?O=2+(S-C)/D:O=4+(C-E)/D,O/=6,O%=1,[O*360,D*100,P*100]},w.hsl.hcg=function(_){const C=_[1]/100,E=_[2]/100,S=E<.5?2*C*E:2*C*(1-E);let R=0;return S<1&&(R=(E-.5*S)/(1-S)),[_[0],S*100,R*100]},w.hsv.hcg=function(_){const C=_[1]/100,E=_[2]/100,S=C*E;let R=0;return S<1&&(R=(E-S)/(1-S)),[_[0],S*100,R*100]},w.hcg.rgb=function(_){const C=_[0]/360,E=_[1]/100,S=_[2]/100;if(E===0)return[S*255,S*255,S*255];const R=[0,0,0],B=C%1*6,D=B%1,P=1-D;let O=0;switch(Math.floor(B)){case 0:R[0]=1,R[1]=D,R[2]=0;break;case 1:R[0]=P,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=D;break;case 3:R[0]=0,R[1]=P,R[2]=1;break;case 4:R[0]=D,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=P}return O=(1-E)*S,[(E*R[0]+O)*255,(E*R[1]+O)*255,(E*R[2]+O)*255]},w.hcg.hsv=function(_){const C=_[1]/100,E=_[2]/100,S=C+E*(1-C);let R=0;return S>0&&(R=C/S),[_[0],R*100,S*100]},w.hcg.hsl=function(_){const C=_[1]/100,S=_[2]/100*(1-C)+.5*C;let R=0;return S>0&&S<.5?R=C/(2*S):S>=.5&&S<1&&(R=C/(2*(1-S))),[_[0],R*100,S*100]},w.hcg.hwb=function(_){const C=_[1]/100,E=_[2]/100,S=C+E*(1-C);return[_[0],(S-C)*100,(1-S)*100]},w.hwb.hcg=function(_){const C=_[1]/100,S=1-_[2]/100,R=S-C;let B=0;return R<1&&(B=(S-R)/(1-R)),[_[0],R*100,B*100]},w.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},w.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},w.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},w.gray.hsl=function(_){return[0,0,_[0]]},w.gray.hsv=w.gray.hsl,w.gray.hwb=function(_){return[0,100,_[0]]},w.gray.cmyk=function(_){return[0,0,0,_[0]]},w.gray.lab=function(_){return[_[0],0,0]},w.gray.hex=function(_){const C=Math.round(_[0]/100*255)&255,S=((C<<16)+(C<<8)+C).toString(16).toUpperCase();return"000000".substring(S.length)+S},w.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},734:(u,d,f)=>{const m=f(5659),k=f(8507),w={},A=Object.keys(m);function _(E){const S=function(...R){const B=R[0];return B==null?B:(B.length>1&&(R=B),E(R))};return"conversion"in E&&(S.conversion=E.conversion),S}function C(E){const S=function(...R){const B=R[0];if(B==null)return B;B.length>1&&(R=B);const D=E(R);if(typeof D=="object")for(let P=D.length,O=0;O<P;O++)D[O]=Math.round(D[O]);return D};return"conversion"in E&&(S.conversion=E.conversion),S}A.forEach(E=>{w[E]={},Object.defineProperty(w[E],"channels",{value:m[E].channels}),Object.defineProperty(w[E],"labels",{value:m[E].labels});const S=k(E);Object.keys(S).forEach(B=>{const D=S[B];w[E][B]=C(D),w[E][B].raw=_(D)})}),u.exports=w},8507:(u,d,f)=>{const m=f(5659);function k(){const C={},E=Object.keys(m);for(let S=E.length,R=0;R<S;R++)C[E[R]]={distance:-1,parent:null};return C}function w(C){const E=k(),S=[C];for(E[C].distance=0;S.length;){const R=S.pop(),B=Object.keys(m[R]);for(let D=B.length,P=0;P<D;P++){const O=B[P],L=E[O];L.distance===-1&&(L.distance=E[R].distance+1,L.parent=R,S.unshift(O))}}return E}function A(C,E){return function(S){return E(C(S))}}function _(C,E){const S=[E[C].parent,C];let R=m[E[C].parent][C],B=E[C].parent;for(;E[B].parent;)S.unshift(E[B].parent),R=A(m[E[B].parent][B],R),B=E[B].parent;return R.conversion=S,R}u.exports=function(C){const E=w(C),S={},R=Object.keys(E);for(let B=R.length,D=0;D<B;D++){const P=R[D];E[P].parent!==null&&(S[P]=_(P,E))}return S}},8156:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2165:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const C=_},9394:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const C=_},8643:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const C=_},3394:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},1920:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const C=_},7526:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const C=_},7724:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const C=_},2863:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const C=_},7528:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const C=_},7865:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const C=_},6144:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},2375:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},1634:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const C=_},1374:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const C=_},8921:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},6634:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const C=_},5471:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const C=_},3161:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const C=_},7752:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},6369:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},637:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const C=_},1710:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const C=_},2259:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const C=_},5513:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const C=_},472:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},9317:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const C=_},9431:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const C=_},7181:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},8252:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},1125:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},1587:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}
`],sourceRoot:""}]);const C=_},5169:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},8941:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const C=_},8613:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const C=_},3283:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const C=_},4239:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const C=_},3019:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const C=_},2927:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const C=_},7197:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cAIC,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CExB7C,oCAA8B,CFsB9B,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},7748:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const C=_},1887:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},6571:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},4890:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},9432:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const C=_},1353:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},5931:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},8379:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const C=_},2859:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const C=_},2191:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},4071:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},3475:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const C=_},2828:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},8753:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,oJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAgED,CA9DC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA6CD,CA/CA,uCAME,eAyCF,CA/CA,uCAUE,gBAqCF,CA/CA,6BAgBC,qCA+BD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},9316:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},6841:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const C=_},726:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},8016:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},7072:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const C=_},9381:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const C=_},6047:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const C=_},4097:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const C=_},8604:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const C=_},9423:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const C=_},3935:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-dialog) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,sCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const C=_},7718:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const C=_},1089:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const C=_},6645:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const C=_},698:(u,d,f)=>{f.d(d,{A:()=>C});var m=f(4991),k=f.n(m),w=f(6314),A=f.n(w),_=A()(k());_.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const C=_},6314:u=>{u.exports=function(d){var f=[];return f.toString=function(){return this.map(function(k){var w=d(k);return k[2]?"@media ".concat(k[2]," {").concat(w,"}"):w}).join("")},f.i=function(m,k,w){typeof m=="string"&&(m=[[null,m,""]]);var A={};if(w)for(var _=0;_<this.length;_++){var C=this[_][0];C!=null&&(A[C]=!0)}for(var E=0;E<m.length;E++){var S=[].concat(m[E]);w&&A[S[0]]||(k&&(S[2]?S[2]="".concat(k," and ").concat(S[2]):S[2]=k),f.push(S))}},f}},4991:u=>{function d(_,C){return A(_)||w(_,C)||m(_,C)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(_,C){if(_){if(typeof _=="string")return k(_,C);var E=Object.prototype.toString.call(_).slice(8,-1);if(E==="Object"&&_.constructor&&(E=_.constructor.name),E==="Map"||E==="Set")return Array.from(_);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return k(_,C)}}function k(_,C){(C==null||C>_.length)&&(C=_.length);for(var E=0,S=new Array(C);E<C;E++)S[E]=_[E];return S}function w(_,C){var E=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(E!=null){var S=[],R=!0,B=!1,D,P;try{for(E=E.call(_);!(R=(D=E.next()).done)&&(S.push(D.value),!(C&&S.length===C));R=!0);}catch(O){B=!0,P=O}finally{try{!R&&E.return!=null&&E.return()}finally{if(B)throw P}}return S}}function A(_){if(Array.isArray(_))return _}u.exports=function(C){var E=d(C,4),S=E[1],R=E[3];if(!R)return S;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(R)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),P="/*# ".concat(D," */"),O=R.sources.map(function(L){return"/*# sourceURL=".concat(R.sourceRoot||"").concat(L," */")});return[S].concat(O).concat([P]).join(`
`)}return[S].join(`
`)}},5072:(u,d,f)=>{var m=function(){var $;return function(){return typeof $>"u"&&($=!!(window&&document&&document.all&&!window.atob)),$}}(),k=function(){var $={};return function(Y){if(typeof $[Y]>"u"){var X=document.querySelector(Y);if(window.HTMLIFrameElement&&X instanceof window.HTMLIFrameElement)try{X=X.contentDocument.head}catch{X=null}$[Y]=X}return $[Y]}}(),w=[];function A(L){for(var $=-1,q=0;q<w.length;q++)if(w[q].identifier===L){$=q;break}return $}function _(L,$){for(var q={},Y=[],X=0;X<L.length;X++){var ge=L[X],he=$.base?ge[0]+$.base:ge[0],et=q[he]||0,xn="".concat(he," ").concat(et);q[he]=et+1;var Qe=A(xn),ut={css:ge[1],media:ge[2],sourceMap:ge[3]};Qe!==-1?(w[Qe].references++,w[Qe].updater(ut)):w.push({identifier:xn,updater:O(ut,$),references:1}),Y.push(xn)}return Y}function C(L){var $=document.createElement("style"),q=L.attributes||{};if(typeof q.nonce>"u"){var Y=f.nc;Y&&(q.nonce=Y)}if(Object.keys(q).forEach(function(ge){$.setAttribute(ge,q[ge])}),typeof L.insert=="function")L.insert($);else{var X=k(L.insert||"head");if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");X.appendChild($)}return $}function E(L){if(L.parentNode===null)return!1;L.parentNode.removeChild(L)}var S=function(){var $=[];return function(Y,X){return $[Y]=X,$.filter(Boolean).join(`
`)}}();function R(L,$,q,Y){var X=q?"":Y.media?"@media ".concat(Y.media," {").concat(Y.css,"}"):Y.css;if(L.styleSheet)L.styleSheet.cssText=S($,X);else{var ge=document.createTextNode(X),he=L.childNodes;he[$]&&L.removeChild(he[$]),he.length?L.insertBefore(ge,he[$]):L.appendChild(ge)}}function B(L,$,q){var Y=q.css,X=q.media,ge=q.sourceMap;if(X?L.setAttribute("media",X):L.removeAttribute("media"),ge&&typeof btoa<"u"&&(Y+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ge))))," */")),L.styleSheet)L.styleSheet.cssText=Y;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(Y))}}var D=null,P=0;function O(L,$){var q,Y,X;if($.singleton){var ge=P++;q=D||(D=C($)),Y=R.bind(null,q,ge,!1),X=R.bind(null,q,ge,!0)}else q=C($),Y=B.bind(null,q,$),X=function(){E(q)};return Y(L),function(et){if(et){if(et.css===L.css&&et.media===L.media&&et.sourceMap===L.sourceMap)return;Y(L=et)}else X()}}u.exports=function(L,$){$=$||{},!$.singleton&&typeof $.singleton!="boolean"&&($.singleton=m()),L=L||[];var q=_(L,$);return function(X){if(X=X||[],Object.prototype.toString.call(X)==="[object Array]"){for(var ge=0;ge<q.length;ge++){var he=q[ge],et=A(he);w[et].references--}for(var xn=_(X,$),Qe=0;Qe<q.length;Qe++){var ut=q[Qe],Gt=A(ut);w[Gt].references===0&&(w[Gt].updater(),w.splice(Gt,1))}q=xn}}}}},t={};function o(u){var d=t[u];if(d!==void 0)return d.exports;var f=t[u]={id:u,exports:{}};return r[u](f,f.exports,o),f.exports}o.n=u=>{var d=u&&u.__esModule?()=>u.default:()=>u;return o.d(d,{a:d}),d},(()=>{var u=Object.getPrototypeOf?f=>Object.getPrototypeOf(f):f=>f.__proto__,d;o.t=function(f,m){if(m&1&&(f=this(f)),m&8||typeof f=="object"&&f&&(m&4&&f.__esModule||m&16&&typeof f.then=="function"))return f;var k=Object.create(null);o.r(k);var w={};d=d||[null,u({}),u([]),u(u)];for(var A=m&2&&f;typeof A=="object"&&!~d.indexOf(A);A=u(A))Object.getOwnPropertyNames(A).forEach(_=>w[_]=()=>f[_]);return w.default=()=>f,o.d(k,w),k}})(),o.d=(u,d)=>{for(var f in d)o.o(d,f)&&!o.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:d[f]})},o.o=(u,d)=>Object.prototype.hasOwnProperty.call(u,d),o.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.nc=void 0;var c={};return(()=>{o.d(c,{default:()=>IZ});function u({emitter:s,activator:e,callback:n,contextElements:i}){s.listenTo(document,"mousedown",(a,l)=>{if(!e())return;const h=typeof l.composedPath=="function"?l.composedPath():[],p=typeof i=="function"?i():i;for(const g of p)if(g.contains(l.target)||h.includes(g))return;n()})}function d(s){class e extends s{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function f({view:s}){s.listenTo(s.element,"submit",(e,n)=>{n.preventDefault(),s.fire("submit")},{useCapture:!0})}function m({keystrokeHandler:s,focusTracker:e,gridItems:n,numberOfColumns:i,uiLanguageDirection:a}){const l=typeof i=="number"?()=>i:i;s.set("arrowright",h((b,v)=>a==="rtl"?g(b,v.length):p(b,v.length))),s.set("arrowleft",h((b,v)=>a==="rtl"?p(b,v.length):g(b,v.length))),s.set("arrowup",h((b,v)=>{let y=b-l();return y<0&&(y=b+l()*Math.floor(v.length/l()),y>v.length-1&&(y-=l())),y})),s.set("arrowdown",h((b,v)=>{let y=b+l();return y>v.length-1&&(y=b%l()),y}));function h(b){return v=>{const y=n.find(F=>F.element===e.focusedElement),I=n.getIndex(y),V=b(I,n);n.get(V).focus(),v.stopPropagation(),v.preventDefault()}}function p(b,v){return b===v-1?0:b+1}function g(b,v){return b===0?v-1:b-1}}function k(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const w=k(),_={isMac:C(w),isWindows:E(w),isGecko:S(w),isSafari:R(w),isiOS:B(w),isAndroid:D(w),isBlink:P(w),features:{isRegExpUnicodePropertySupported:O()}};function C(s){return s.indexOf("macintosh")>-1}function E(s){return s.indexOf("windows")>-1}function S(s){return!!s.match(/gecko\/\d+/)}function R(s){return s.indexOf(" applewebkit/")>-1&&s.indexOf("chrome")===-1}function B(s){return!!s.match(/iphone|ipad/i)||C(s)&&navigator.maxTouchPoints>0}function D(s){return s.indexOf("android")>-1}function P(s){return s.indexOf("chrome/")>-1&&s.indexOf("edge/")<0}function O(){let s=!1;try{s="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return s}function L(s,e,n,i){n=n||function(g,b){return g===b};const a=Array.isArray(s)?s:Array.prototype.slice.call(s),l=Array.isArray(e)?e:Array.prototype.slice.call(e),h=$(a,l,n);return i?ge(h,l.length):X(l,h)}function $(s,e,n){const i=q(s,e,n);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const a=Y(s,i),l=Y(e,i),h=q(a,l,n),p=s.length-h,g=e.length-h;return{firstIndex:i,lastIndexOld:p,lastIndexNew:g}}function q(s,e,n){for(let i=0;i<Math.max(s.length,e.length);i++)if(s[i]===void 0||e[i]===void 0||!n(s[i],e[i]))return i;return-1}function Y(s,e){return s.slice(e).reverse()}function X(s,e){const n=[],{firstIndex:i,lastIndexOld:a,lastIndexNew:l}=e;return l-i>0&&n.push({index:i,type:"insert",values:s.slice(i,l)}),a-i>0&&n.push({index:i+(l-i),type:"delete",howMany:a-i}),n}function ge(s,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:a}=s;if(n===-1)return Array(e).fill("equal");let l=[];return n>0&&(l=l.concat(Array(n).fill("equal"))),a-n>0&&(l=l.concat(Array(a-n).fill("insert"))),i-n>0&&(l=l.concat(Array(i-n).fill("delete"))),a<e&&(l=l.concat(Array(e-a).fill("equal"))),l}function he(s,e,n){n=n||function(H,W){return H===W};const i=s.length,a=e.length;if(i>200||a>200||i+a>300)return he.fastDiff(s,e,n,!0);let l,h;if(a<i){const H=s;s=e,e=H,l="delete",h="insert"}else l="insert",h="delete";const p=s.length,g=e.length,b=g-p,v={},y={};function I(H){const W=(y[H-1]!==void 0?y[H-1]:-1)+1,ee=y[H+1]!==void 0?y[H+1]:-1,de=W>ee?-1:1;v[H+de]&&(v[H]=v[H+de].slice(0)),v[H]||(v[H]=[]),v[H].push(W>ee?l:h);let Oe=Math.max(W,ee),Ke=Oe-H;for(;Ke<p&&Oe<g&&n(s[Ke],e[Oe]);)Ke++,Oe++,v[H].push("equal");return Oe}let V=0,F;do{for(F=-V;F<b;F++)y[F]=I(F);for(F=b+V;F>b;F--)y[F]=I(F);y[b]=I(b),V++}while(y[b]!==g);return v[b].slice(1)}he.fastDiff=L;function et(){return function s(){s.called=!0}}const xn=et;class Qe{constructor(e,n){this.source=e,this.name=n,this.path=[],this.stop=xn(),this.off=xn()}}const ut=new Array(256).fill("").map((s,e)=>("0"+e.toString(16)).slice(-2));function Gt(){const s=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+ut[s>>0&255]+ut[s>>8&255]+ut[s>>16&255]+ut[s>>24&255]+ut[e>>0&255]+ut[e>>8&255]+ut[e>>16&255]+ut[e>>24&255]+ut[n>>0&255]+ut[n>>8&255]+ut[n>>16&255]+ut[n>>24&255]+ut[i>>0&255]+ut[i>>8&255]+ut[i>>16&255]+ut[i>>24&255]}const zn={get(s="normal"){return typeof s!="number"?this[s]||this.normal:s},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function oe(s,e){const n=zn.get(e.priority);for(let i=0;i<s.length;i++)if(zn.get(s[i].priority)<n){s.splice(i,0,e);return}s.push(e)}const _e="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class N extends Error{constructor(e,n,i){super(Mi(e,i)),this.name="CKEditorError",this.context=n,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){if(e.is&&e.is("CKEditorError"))throw e;const i=new N(e.message,n);throw i.stack=e.stack,i}}function Te(s,e){console.warn(...Yr(s,e))}function yt(s){return`
Read more: ${_e}#error-${s}`}function Mi(s,e){const n=new WeakSet,a=e?` ${JSON.stringify(e,(h,p)=>{if(typeof p=="object"&&p!==null){if(n.has(p))return`[object ${p.constructor.name}]`;n.add(p)}return p})}`:"",l=yt(s);return s+a+l}function Yr(s,e){const n=yt(s);return e?[s,e,n]:[s,n]}const Vi="41.2.1",Zr=new Date(2024,2,18);if(globalThis.CKEDITOR_VERSION)throw new N("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Vi;const ur=Symbol("listeningTo"),Ul=Symbol("emitterId"),Xr=Symbol("delegations"),$l=$e(Object);function $e(s){if(!s)return $l;class e extends s{on(i,a,l){this.listenTo(this,i,a,l)}once(i,a,l){let h=!1;const p=(g,...b)=>{h||(h=!0,g.off(),a.call(this,g,...b))};this.listenTo(this,i,p,l)}off(i,a){this.stopListening(this,i,a)}listenTo(i,a,l,h={}){let p,g;this[ur]||(this[ur]={});const b=this[ur];Za(i)||Uh(i);const v=Za(i);(p=b[v])||(p=b[v]={emitter:i,callbacks:{}}),(g=p.callbacks[a])||(g=p.callbacks[a]=[]),g.push(l),ec(this,i,a,l,h)}stopListening(i,a,l){const h=this[ur];let p=i&&Za(i);const g=h&&p?h[p]:void 0,b=g&&a?g.callbacks[a]:void 0;if(!(!h||i&&!g||a&&!b))if(l)ql(this,i,a,l),b.indexOf(l)!==-1&&(b.length===1?delete g.callbacks[a]:ql(this,i,a,l));else if(b){for(;l=b.pop();)ql(this,i,a,l);delete g.callbacks[a]}else if(g){for(a in g.callbacks)this.stopListening(i,a);delete h[p]}else{for(p in h)this.stopListening(h[p].emitter);delete this[ur]}}fire(i,...a){try{const l=i instanceof Qe?i:new Qe(this,i),h=l.name;let p=Hh(this,h);if(l.path.push(this),p){const b=[l,...a];p=Array.from(p);for(let v=0;v<p.length&&(p[v].callback.apply(this,b),l.off.called&&(delete l.off.called,this._removeEventListener(h,p[v].callback)),!l.stop.called);v++);}const g=this[Xr];if(g){const b=g.get(h),v=g.get("*");b&&Hl(b,l,a),v&&Hl(v,l,a)}return l.return}catch(l){N.rethrowUnexpectedError(l,this)}}delegate(...i){return{to:(a,l)=>{this[Xr]||(this[Xr]=new Map),i.forEach(h=>{const p=this[Xr].get(h);p?p.set(a,l):this[Xr].set(h,new Map([[a,l]]))})}}}stopDelegating(i,a){if(this[Xr])if(!i)this[Xr].clear();else if(!a)this[Xr].delete(i);else{const l=this[Xr].get(i);l&&l.delete(a)}}_addEventListener(i,a,l){Rk(this,i);const h=Xa(this,i),p=zn.get(l.priority),g={callback:a,priority:p};for(const b of h)oe(b,g)}_removeEventListener(i,a){const l=Xa(this,i);for(const h of l)for(let p=0;p<h.length;p++)h[p].callback==a&&(h.splice(p,1),p--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{$e[s]=$l.prototype[s]});function Ik(s,e){const n=s[ur];return n&&n[e]?n[e].emitter:null}function Uh(s,e){s[Ul]||(s[Ul]=e||Gt())}function Za(s){return s[Ul]}function $h(s){return s._events||Object.defineProperty(s,"_events",{value:{}}),s._events}function Pk(){return{callbacks:[],childEvents:[]}}function Rk(s,e){const n=$h(s);if(n[e])return;let i=e,a=null;const l=[];for(;i!==""&&!n[i];)n[i]=Pk(),l.push(n[i]),a&&n[i].childEvents.push(a),a=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const h of l)h.callbacks=n[i].callbacks.slice();n[i].childEvents.push(a)}}function Xa(s,e){const n=$h(s)[e];if(!n)return[];let i=[n.callbacks];for(let a=0;a<n.childEvents.length;a++){const l=Xa(s,n.childEvents[a]);i=i.concat(l)}return i}function Hh(s,e){let n;return!s._events||!(n=s._events[e])||!n.callbacks.length?e.indexOf(":")>-1?Hh(s,e.substr(0,e.lastIndexOf(":"))):null:n.callbacks}function Hl(s,e,n){for(let[i,a]of s){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const l=new Qe(e.source,a);l.path=[...e.path],i.fire(l,...n)}}function ec(s,e,n,i,a){e._addEventListener?e._addEventListener(n,i,a):s._addEventListener.call(e,n,i,a)}function ql(s,e,n,i){e._removeEventListener?e._removeEventListener(n,i):s._removeEventListener.call(e,n,i)}function Bk(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}const pt=Bk,tc=Symbol("observableProperties"),nc=Symbol("boundObservables"),eo=Symbol("boundProperties"),to=Symbol("decoratedMethods"),qh=Symbol("decoratedOriginal"),Wh=tt($e());function tt(s){if(!s)return Wh;class e extends s{set(i,a){if(pt(i)){Object.keys(i).forEach(h=>{this.set(h,i[h])},this);return}Wl(this);const l=this[tc];if(i in this&&!l.has(i))throw new N("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return l.get(i)},set(h){const p=l.get(i);let g=this.fire(`set:${i}`,i,h,p);g===void 0&&(g=h),(p!==g||!l.has(i))&&(l.set(i,g),this.fire(`change:${i}`,i,g,p))}}),this[i]=a}bind(...i){if(!i.length||!Qh(i))throw new N("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new N("observable-bind-duplicate-properties",this);Wl(this);const a=this[eo];i.forEach(h=>{if(a.has(h))throw new N("observable-bind-rebind",this)});const l=new Map;return i.forEach(h=>{const p={property:h,to:[]};a.set(h,p),l.set(h,p)}),{to:Gh,toMany:Gl,_observable:this,_bindProperties:i,_to:[],_bindings:l}}unbind(...i){if(!this[tc])return;const a=this[eo],l=this[nc];if(i.length){if(!Qh(i))throw new N("observable-unbind-wrong-properties",this);i.forEach(h=>{const p=a.get(h);p&&(p.to.forEach(([g,b])=>{const v=l.get(g),y=v[b];y.delete(p),y.size||delete v[b],Object.keys(v).length||(l.delete(g),this.stopListening(g,"change"))}),a.delete(h))})}else l.forEach((h,p)=>{this.stopListening(p,"change")}),l.clear(),a.clear()}decorate(i){Wl(this);const a=this[i];if(!a)throw new N("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(l,h)=>{l.return=a.apply(this,h)}),this[i]=function(...l){return this.fire(i,l)},this[i][qh]=a,this[to]||(this[to]=[]),this[to].push(i)}stopListening(i,a,l){if(!i&&this[to]){for(const h of this[to])this[h]=this[h][qh];delete this[to]}super.stopListening(i,a,l)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{tt[s]=Wh.prototype[s]});function Wl(s){s[tc]||(Object.defineProperty(s,tc,{value:new Map}),Object.defineProperty(s,nc,{value:new Map}),Object.defineProperty(s,eo,{value:new Map}))}function Gh(...s){const e=Ok(...s),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new N("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new N("observable-bind-to-extra-callback",this);e.to.forEach(a=>{if(a.properties.length&&a.properties.length!==i)throw new N("observable-bind-to-properties-length",this);a.properties.length||(a.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),Mk(this._observable,this._to),Nk(this),this._bindProperties.forEach(a=>{Jh(this._observable,a)})}function Gl(s,e,n){if(this._bindings.size>1)throw new N("observable-bind-to-many-not-one-binding",this);this.to(...Kh(s,e),n)}function Kh(s,e){const n=s.map(i=>[i,e]);return Array.prototype.concat.apply([],n)}function Qh(s){return s.every(e=>typeof e=="string")}function Ok(...s){if(!s.length)throw new N("observable-bind-to-parse-error",null);const e={to:[]};let n;return typeof s[s.length-1]=="function"&&(e.callback=s.pop()),s.forEach(i=>{if(typeof i=="string")n.properties.push(i);else if(typeof i=="object")n={observable:i,properties:[]},e.to.push(n);else throw new N("observable-bind-to-parse-error",null)}),e}function ii(s,e,n,i){const a=s[nc],l=a.get(n),h=l||{};h[i]||(h[i]=new Set),h[i].add(e),l||a.set(n,h)}function Nk(s){let e;s._bindings.forEach((n,i)=>{s._to.forEach(a=>{e=a.properties[n.callback?0:s._bindProperties.indexOf(i)],n.to.push([a.observable,e]),ii(s._observable,n,a.observable,e)})})}function Jh(s,e){const i=s[eo].get(e);let a;i.callback?a=i.callback.apply(s,i.to.map(l=>l[0][l[1]])):(a=i.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(s,e)?s[e]=a:s.set(e,a)}function Mk(s,e){e.forEach(n=>{const i=s[nc];let a;i.get(n.observable)||s.listenTo(n.observable,"change",(l,h)=>{a=i.get(n.observable)[h],a&&a.forEach(p=>{Jh(s,p.property)})})})}class Vk{constructor(){this._replacedElements=[]}replace(e,n){this._replacedElements.push({element:e,newElement:n}),e.style.display="none",n&&e.parentNode.insertBefore(n,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:n})=>{e.style.display="",n&&n.remove()}),this._replacedElements=[]}}function Kl(s){let e=0;for(const n of s)e++;return e}function dn(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++)if(s[i]!=e[i])return i;return s.length==e.length?"same":s.length<e.length?"prefix":"extension"}function jn(s){return!!(s&&s[Symbol.iterator])}var Lk=typeof global=="object"&&global&&global.Object===Object&&global;const Ao=Lk;var zs=typeof self=="object"&&self&&self.Object===Object&&self,js=Ao||zs||Function("return this")();const dr=js;var Fk=dr.Symbol;const Sr=Fk;var Yh=Object.prototype,zk=Yh.hasOwnProperty,jk=Yh.toString,Us=Sr?Sr.toStringTag:void 0;function Li(s){var e=zk.call(s,Us),n=s[Us];try{s[Us]=void 0;var i=!0}catch{}var a=jk.call(s);return i&&(e?s[Us]=n:delete s[Us]),a}const Zh=Li;var Uk=Object.prototype,$k=Uk.toString;function rc(s){return $k.call(s)}const Hk=rc;var qk="[object Null]",Wk="[object Undefined]",Xh=Sr?Sr.toStringTag:void 0;function Fi(s){return s==null?s===void 0?Wk:qk:Xh&&Xh in Object(s)?Zh(s):Hk(s)}const Co=Fi;var Gk=Array.isArray;const Ft=Gk;function Kk(s){return s!=null&&typeof s=="object"}const Yn=Kk;var ef="[object String]";function tf(s){return typeof s=="string"||!Ft(s)&&Yn(s)&&Co(s)==ef}const nf=tf;function Zn(s,e,n={},i=[]){const a=n&&n.xmlns,l=a?s.createElementNS(a,e):s.createElement(e);for(const h in n)l.setAttribute(h,n[h]);(nf(i)||!jn(i))&&(i=[i]);for(let h of i)nf(h)&&(h=s.createTextNode(h)),l.appendChild(h);return l}function oc(s,e){return function(n){return s(e(n))}}const rf=oc;var of=rf(Object.getPrototypeOf,Object);const ic=of;var Qk="[object Object]",Jk=Function.prototype,Yk=Object.prototype,sc=Jk.toString,Zk=Yk.hasOwnProperty,sf=sc.call(Object);function af(s){if(!Yn(s)||Co(s)!=Qk)return!1;var e=ic(s);if(e===null)return!0;var n=Zk.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&sc.call(n)==sf}const Tn=af;function cf(){this.__data__=[],this.size=0}const Xk=cf;function eb(s,e){return s===e||s!==s&&e!==e}const zi=eb;function at(s,e){for(var n=s.length;n--;)if(zi(s[n][0],e))return n;return-1}const ac=at;var Ql=Array.prototype,lf=Ql.splice;function $s(s){var e=this.__data__,n=ac(e,s);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():lf.call(e,n,1),--this.size,!0}const Jl=$s;function ji(s){var e=this.__data__,n=ac(e,s);return n<0?void 0:e[n][1]}const uf=ji;function tb(s){return ac(this.__data__,s)>-1}const nb=tb;function df(s,e){var n=this.__data__,i=ac(n,s);return i<0?(++this.size,n.push([s,e])):n[i][1]=e,this}const rb=df;function yo(s){var e=-1,n=s==null?0:s.length;for(this.clear();++e<n;){var i=s[e];this.set(i[0],i[1])}}yo.prototype.clear=Xk,yo.prototype.delete=Jl,yo.prototype.get=uf,yo.prototype.has=nb,yo.prototype.set=rb;const cc=yo;function ob(){this.__data__=new cc,this.size=0}const ib=ob;function hf(s){var e=this.__data__,n=e.delete(s);return this.size=e.size,n}const Yl=hf;function sb(s){return this.__data__.get(s)}const ab=sb;function cb(s){return this.__data__.has(s)}const lb=cb;var Zl="[object AsyncFunction]",ub="[object Function]",ff="[object GeneratorFunction]",pf="[object Proxy]";function gf(s){if(!pt(s))return!1;var e=Co(s);return e==ub||e==ff||e==Zl||e==pf}const Eo=gf;var db=dr["__core-js_shared__"];const Xl=db;var mf=function(){var s=/[^.]+$/.exec(Xl&&Xl.keys&&Xl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function kf(s){return!!mf&&mf in s}const hb=kf;var bf=Function.prototype,eu=bf.toString;function fb(s){if(s!=null){try{return eu.call(s)}catch{}try{return s+""}catch{}}return""}const xo=fb;var wf=/[\\^$.*+?()[\]{}|]/g,pb=/^\[object .+?Constructor\]$/,_f=Function.prototype,gb=Object.prototype,mb=_f.toString,tu=gb.hasOwnProperty,nu=RegExp("^"+mb.call(tu).replace(wf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ru(s){if(!pt(s)||hb(s))return!1;var e=Eo(s)?nu:pb;return e.test(xo(s))}const ou=ru;function vf(s,e){return s==null?void 0:s[e]}const Af=vf;function Cf(s,e){var n=Af(s,e);return ou(n)?n:void 0}const To=Cf;var yf=To(dr,"Map");const Hs=yf;var kb=To(Object,"create");const qs=kb;function bb(){this.__data__=qs?qs(null):{},this.size=0}const wb=bb;function si(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}const iu=si;var _b="__lodash_hash_undefined__",vb=Object.prototype,Ef=vb.hasOwnProperty;function su(s){var e=this.__data__;if(qs){var n=e[s];return n===_b?void 0:n}return Ef.call(e,s)?e[s]:void 0}const Ab=su;var Cb=Object.prototype,yb=Cb.hasOwnProperty;function xf(s){var e=this.__data__;return qs?e[s]!==void 0:yb.call(e,s)}const Tf=xf;var Eb="__lodash_hash_undefined__";function xb(s,e){var n=this.__data__;return this.size+=this.has(s)?0:1,n[s]=qs&&e===void 0?Eb:e,this}const Tb=xb;function ai(s){var e=-1,n=s==null?0:s.length;for(this.clear();++e<n;){var i=s[e];this.set(i[0],i[1])}}ai.prototype.clear=wb,ai.prototype.delete=iu,ai.prototype.get=Ab,ai.prototype.has=Tf,ai.prototype.set=Tb;const Sf=ai;function Sb(){this.size=0,this.__data__={hash:new Sf,map:new(Hs||cc),string:new Sf}}const Db=Sb;function Df(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}const Ib=Df;function Pb(s,e){var n=s.__data__;return Ib(e)?n[typeof e=="string"?"string":"hash"]:n.map}const Ws=Pb;function Rb(s){var e=Ws(this,s).delete(s);return this.size-=e?1:0,e}const If=Rb;function Pf(s){return Ws(this,s).get(s)}const Rf=Pf;function nt(s){return Ws(this,s).has(s)}const Bb=nt;function Ob(s,e){var n=Ws(this,s),i=n.size;return n.set(s,e),this.size+=n.size==i?0:1,this}const au=Ob;function Ui(s){var e=-1,n=s==null?0:s.length;for(this.clear();++e<n;){var i=s[e];this.set(i[0],i[1])}}Ui.prototype.clear=Db,Ui.prototype.delete=If,Ui.prototype.get=Rf,Ui.prototype.has=Bb,Ui.prototype.set=au;const So=Ui;var cu=200;function Nb(s,e){var n=this.__data__;if(n instanceof cc){var i=n.__data__;if(!Hs||i.length<cu-1)return i.push([s,e]),this.size=++n.size,this;n=this.__data__=new So(i)}return n.set(s,e),this.size=n.size,this}const Bf=Nb;function Do(s){var e=this.__data__=new cc(s);this.size=e.size}Do.prototype.clear=ib,Do.prototype.delete=Yl,Do.prototype.get=ab,Do.prototype.has=lb,Do.prototype.set=Bf;const Io=Do;function lu(s,e){for(var n=-1,i=s==null?0:s.length;++n<i&&e(s[n],n,s)!==!1;);return s}const $i=lu;var Of=function(){try{var s=To(Object,"defineProperty");return s({},"",{}),s}catch{}}();const Hi=Of;function Mb(s,e,n){e=="__proto__"&&Hi?Hi(s,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):s[e]=n}const x=Mb;var T=Object.prototype,M=T.hasOwnProperty;function z(s,e,n){var i=s[e];(!(M.call(s,e)&&zi(i,n))||n===void 0&&!(e in s))&&x(s,e,n)}const K=z;function le(s,e,n,i){var a=!n;n||(n={});for(var l=-1,h=e.length;++l<h;){var p=e[l],g=i?i(n[p],s[p],p,n,s):void 0;g===void 0&&(g=s[p]),a?x(n,p,g):K(n,p,g)}return n}const ae=le;function ce(s,e){for(var n=-1,i=Array(s);++n<s;)i[n]=e(n);return i}const Be=ce;var Pe="[object Arguments]";function Xn(s){return Yn(s)&&Co(s)==Pe}const hn=Xn;var zt=Object.prototype,no=zt.hasOwnProperty,ci=zt.propertyIsEnumerable,Dr=hn(function(){return arguments}())?hn:function(s){return Yn(s)&&no.call(s,"callee")&&!ci.call(s,"callee")};const Kt=Dr;function Un(){return!1}const fn=Un;var er=typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,Ir=er&&typeof qn=="object"&&qn&&!qn.nodeType&&qn,Vb=Ir&&Ir.exports===er,Nf=Vb?dr.Buffer:void 0,Lb=Nf?Nf.isBuffer:void 0,Fb=Lb||fn;const Gs=Fb;var zb=9007199254740991,De=/^(?:0|[1-9]\d*)$/;function ct(s,e){var n=typeof s;return e=e??zb,!!e&&(n=="number"||n!="symbol"&&De.test(s))&&s>-1&&s%1==0&&s<e}const Ne=ct;var Pr=9007199254740991;function Po(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Pr}const hr=Po;var Rr="[object Arguments]",Br="[object Array]",pn="[object Boolean]",Or="[object Date]",$n="[object Error]",Et="[object Function]",Xt="[object Map]",qi="[object Number]",f6="[object Object]",p6="[object RegExp]",g6="[object Set]",m6="[object String]",k6="[object WeakMap]",b6="[object ArrayBuffer]",w6="[object DataView]",_6="[object Float32Array]",v6="[object Float64Array]",A6="[object Int8Array]",C6="[object Int16Array]",y6="[object Int32Array]",E6="[object Uint8Array]",x6="[object Uint8ClampedArray]",T6="[object Uint16Array]",S6="[object Uint32Array]",gt={};gt[_6]=gt[v6]=gt[A6]=gt[C6]=gt[y6]=gt[E6]=gt[x6]=gt[T6]=gt[S6]=!0,gt[Rr]=gt[Br]=gt[b6]=gt[pn]=gt[w6]=gt[Or]=gt[$n]=gt[Et]=gt[Xt]=gt[qi]=gt[f6]=gt[p6]=gt[g6]=gt[m6]=gt[k6]=!1;function D6(s){return Yn(s)&&hr(s.length)&&!!gt[Co(s)]}const I6=D6;function P6(s){return function(e){return s(e)}}const jb=P6;var q1=typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,uu=q1&&typeof qn=="object"&&qn&&!qn.nodeType&&qn,R6=uu&&uu.exports===q1,Ub=R6&&Ao.process,B6=function(){try{var s=uu&&uu.require&&uu.require("util").types;return s||Ub&&Ub.binding&&Ub.binding("util")}catch{}}();const lc=B6;var W1=lc&&lc.isTypedArray,O6=W1?jb(W1):I6;const $b=O6;var N6=Object.prototype,M6=N6.hasOwnProperty;function V6(s,e){var n=Ft(s),i=!n&&Kt(s),a=!n&&!i&&Gs(s),l=!n&&!i&&!a&&$b(s),h=n||i||a||l,p=h?Be(s.length,String):[],g=p.length;for(var b in s)(e||M6.call(s,b))&&!(h&&(b=="length"||a&&(b=="offset"||b=="parent")||l&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Ne(b,g)))&&p.push(b);return p}const G1=V6;var L6=Object.prototype;function F6(s){var e=s&&s.constructor,n=typeof e=="function"&&e.prototype||L6;return s===n}const Hb=F6;var z6=rf(Object.keys,Object);const j6=z6;var U6=Object.prototype,$6=U6.hasOwnProperty;function H6(s){if(!Hb(s))return j6(s);var e=[];for(var n in Object(s))$6.call(s,n)&&n!="constructor"&&e.push(n);return e}const q6=H6;function W6(s){return s!=null&&hr(s.length)&&!Eo(s)}const Mf=W6;function G6(s){return Mf(s)?G1(s):q6(s)}const du=G6;function K6(s,e){return s&&ae(e,du(e),s)}const Q6=K6;function J6(s){var e=[];if(s!=null)for(var n in Object(s))e.push(n);return e}const Y6=J6;var Z6=Object.prototype,X6=Z6.hasOwnProperty;function e7(s){if(!pt(s))return Y6(s);var e=Hb(s),n=[];for(var i in s)i=="constructor"&&(e||!X6.call(s,i))||n.push(i);return n}const t7=e7;function n7(s){return Mf(s)?G1(s,!0):t7(s)}const uc=n7;function r7(s,e){return s&&ae(e,uc(e),s)}const o7=r7;var K1=typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,Q1=K1&&typeof qn=="object"&&qn&&!qn.nodeType&&qn,i7=Q1&&Q1.exports===K1,J1=i7?dr.Buffer:void 0,Y1=J1?J1.allocUnsafe:void 0;function s7(s,e){if(e)return s.slice();var n=s.length,i=Y1?Y1(n):new s.constructor(n);return s.copy(i),i}const Z1=s7;function a7(s,e){var n=-1,i=s.length;for(e||(e=Array(i));++n<i;)e[n]=s[n];return e}const X1=a7;function c7(s,e){for(var n=-1,i=s==null?0:s.length,a=0,l=[];++n<i;){var h=s[n];e(h,n,s)&&(l[a++]=h)}return l}const l7=c7;function u7(){return[]}const eE=u7;var d7=Object.prototype,h7=d7.propertyIsEnumerable,tE=Object.getOwnPropertySymbols,f7=tE?function(s){return s==null?[]:(s=Object(s),l7(tE(s),function(e){return h7.call(s,e)}))}:eE;const qb=f7;function p7(s,e){return ae(s,qb(s),e)}const g7=p7;function m7(s,e){for(var n=-1,i=e.length,a=s.length;++n<i;)s[a+n]=e[n];return s}const nE=m7;var k7=Object.getOwnPropertySymbols,b7=k7?function(s){for(var e=[];s;)nE(e,qb(s)),s=ic(s);return e}:eE;const rE=b7;function w7(s,e){return ae(s,rE(s),e)}const _7=w7;function v7(s,e,n){var i=e(s);return Ft(s)?i:nE(i,n(s))}const oE=v7;function A7(s){return oE(s,du,qb)}const Wb=A7;function C7(s){return oE(s,uc,rE)}const y7=C7;var E7=To(dr,"DataView");const Gb=E7;var x7=To(dr,"Promise");const Kb=x7;var T7=To(dr,"Set");const Qb=T7;var S7=To(dr,"WeakMap");const Jb=S7;var iE="[object Map]",D7="[object Object]",sE="[object Promise]",aE="[object Set]",cE="[object WeakMap]",lE="[object DataView]",I7=xo(Gb),P7=xo(Hs),R7=xo(Kb),B7=xo(Qb),O7=xo(Jb),Ks=Co;(Gb&&Ks(new Gb(new ArrayBuffer(1)))!=lE||Hs&&Ks(new Hs)!=iE||Kb&&Ks(Kb.resolve())!=sE||Qb&&Ks(new Qb)!=aE||Jb&&Ks(new Jb)!=cE)&&(Ks=function(s){var e=Co(s),n=e==D7?s.constructor:void 0,i=n?xo(n):"";if(i)switch(i){case I7:return lE;case P7:return iE;case R7:return sE;case B7:return aE;case O7:return cE}return e});const hu=Ks;var N7=Object.prototype,M7=N7.hasOwnProperty;function V7(s){var e=s.length,n=new s.constructor(e);return e&&typeof s[0]=="string"&&M7.call(s,"index")&&(n.index=s.index,n.input=s.input),n}const L7=V7;var F7=dr.Uint8Array;const Vf=F7;function z7(s){var e=new s.constructor(s.byteLength);return new Vf(e).set(new Vf(s)),e}const Yb=z7;function j7(s,e){var n=e?Yb(s.buffer):s.buffer;return new s.constructor(n,s.byteOffset,s.byteLength)}const U7=j7;var $7=/\w*$/;function H7(s){var e=new s.constructor(s.source,$7.exec(s));return e.lastIndex=s.lastIndex,e}const q7=H7;var uE=Sr?Sr.prototype:void 0,dE=uE?uE.valueOf:void 0;function W7(s){return dE?Object(dE.call(s)):{}}const G7=W7;function K7(s,e){var n=e?Yb(s.buffer):s.buffer;return new s.constructor(n,s.byteOffset,s.length)}const hE=K7;var Q7="[object Boolean]",J7="[object Date]",Y7="[object Map]",Z7="[object Number]",X7="[object RegExp]",eV="[object Set]",tV="[object String]",nV="[object Symbol]",rV="[object ArrayBuffer]",oV="[object DataView]",iV="[object Float32Array]",sV="[object Float64Array]",aV="[object Int8Array]",cV="[object Int16Array]",lV="[object Int32Array]",uV="[object Uint8Array]",dV="[object Uint8ClampedArray]",hV="[object Uint16Array]",fV="[object Uint32Array]";function pV(s,e,n){var i=s.constructor;switch(e){case rV:return Yb(s);case Q7:case J7:return new i(+s);case oV:return U7(s,n);case iV:case sV:case aV:case cV:case lV:case uV:case dV:case hV:case fV:return hE(s,n);case Y7:return new i;case Z7:case tV:return new i(s);case X7:return q7(s);case eV:return new i;case nV:return G7(s)}}const gV=pV;var fE=Object.create,mV=function(){function s(){}return function(e){if(!pt(e))return{};if(fE)return fE(e);s.prototype=e;var n=new s;return s.prototype=void 0,n}}();const kV=mV;function bV(s){return typeof s.constructor=="function"&&!Hb(s)?kV(ic(s)):{}}const pE=bV;var wV="[object Map]";function _V(s){return Yn(s)&&hu(s)==wV}const vV=_V;var gE=lc&&lc.isMap,AV=gE?jb(gE):vV;const CV=AV;var yV="[object Set]";function EV(s){return Yn(s)&&hu(s)==yV}const xV=EV;var mE=lc&&lc.isSet,TV=mE?jb(mE):xV;const SV=TV;var DV=1,IV=2,PV=4,kE="[object Arguments]",RV="[object Array]",BV="[object Boolean]",OV="[object Date]",NV="[object Error]",bE="[object Function]",MV="[object GeneratorFunction]",VV="[object Map]",LV="[object Number]",wE="[object Object]",FV="[object RegExp]",zV="[object Set]",jV="[object String]",UV="[object Symbol]",$V="[object WeakMap]",HV="[object ArrayBuffer]",qV="[object DataView]",WV="[object Float32Array]",GV="[object Float64Array]",KV="[object Int8Array]",QV="[object Int16Array]",JV="[object Int32Array]",YV="[object Uint8Array]",ZV="[object Uint8ClampedArray]",XV="[object Uint16Array]",eL="[object Uint32Array]",dt={};dt[kE]=dt[RV]=dt[HV]=dt[qV]=dt[BV]=dt[OV]=dt[WV]=dt[GV]=dt[KV]=dt[QV]=dt[JV]=dt[VV]=dt[LV]=dt[wE]=dt[FV]=dt[zV]=dt[jV]=dt[UV]=dt[YV]=dt[ZV]=dt[XV]=dt[eL]=!0,dt[NV]=dt[bE]=dt[$V]=!1;function Lf(s,e,n,i,a,l){var h,p=e&DV,g=e&IV,b=e&PV;if(n&&(h=a?n(s,i,a,l):n(s)),h!==void 0)return h;if(!pt(s))return s;var v=Ft(s);if(v){if(h=L7(s),!p)return X1(s,h)}else{var y=hu(s),I=y==bE||y==MV;if(Gs(s))return Z1(s,p);if(y==wE||y==kE||I&&!a){if(h=g||I?{}:pE(s),!p)return g?_7(s,o7(h,s)):g7(s,Q6(h,s))}else{if(!dt[y])return a?s:{};h=gV(s,y,p)}}l||(l=new Io);var V=l.get(s);if(V)return V;l.set(s,h),SV(s)?s.forEach(function(W){h.add(Lf(W,e,n,W,s,l))}):CV(s)&&s.forEach(function(W,ee){h.set(ee,Lf(W,e,n,ee,s,l))});var F=b?g?y7:Wb:g?uc:du,H=v?void 0:F(s);return $i(H||s,function(W,ee){H&&(ee=W,W=s[ee]),K(h,ee,Lf(W,e,n,ee,s,l))}),h}const Zb=Lf;var tL=1,nL=4;function rL(s,e){return e=typeof e=="function"?e:void 0,Zb(s,tL|nL,e)}const Xb=rL;function oL(s){return Yn(s)&&s.nodeType===1&&!Tn(s)}const Qs=oL;class _E{constructor(e,n){this._config={},n&&this.define(vE(n)),e&&this._setObjectToTarget(this._config,e)}set(e,n){this._setToTarget(this._config,e,n)}define(e,n){this._setToTarget(this._config,e,n,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,n,i,a=!1){if(Tn(n)){this._setObjectToTarget(e,n,a);return}const l=n.split(".");n=l.pop();for(const h of l)Tn(e[h])||(e[h]={}),e=e[h];if(Tn(i)){Tn(e[n])||(e[n]={}),e=e[n],this._setObjectToTarget(e,i,a);return}a&&typeof e[n]<"u"||(e[n]=i)}_getFromSource(e,n){const i=n.split(".");n=i.pop();for(const a of i){if(!Tn(e[a])){e=null;break}e=e[a]}return e?vE(e[n]):void 0}_setObjectToTarget(e,n,i){Object.keys(n).forEach(a=>{this._setToTarget(e,a,n[a],i)})}}function vE(s){return Xb(s,iL)}function iL(s){return Qs(s)||typeof s=="function"?s:void 0}function Wi(s){if(s){if(s.defaultView)return s instanceof s.defaultView.Document;if(s.ownerDocument&&s.ownerDocument.defaultView)return s instanceof s.ownerDocument.defaultView.Node}return!1}function Ff(s){const e=Object.prototype.toString.apply(s);return e=="[object Window]"||e=="[object global]"}const AE=ro($e());function ro(s){if(!s)return AE;class e extends s{listenTo(i,a,l,h={}){if(Wi(i)||Ff(i)){const p={capture:!!h.useCapture,passive:!!h.usePassive},g=this._getProxyEmitter(i,p)||new sL(i,p);this.listenTo(g,a,l,h)}else super.listenTo(i,a,l,h)}stopListening(i,a,l){if(Wi(i)||Ff(i)){const h=this._getAllProxyEmitters(i);for(const p of h)this.stopListening(p,a,l)}else super.stopListening(i,a,l)}_getProxyEmitter(i,a){return Ik(this,CE(i,a))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(a=>this._getProxyEmitter(i,a)).filter(a=>!!a)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{ro[s]=AE.prototype[s]});class sL extends $e(){constructor(e,n){super(),Uh(this,CE(e,n)),this._domNode=e,this._options=n}attach(e){if(this._domListeners&&this._domListeners[e])return;const n=this._createDomListener(e);this._domNode.addEventListener(e,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}detach(e){let n;this._domListeners[e]&&(!(n=this._events[e])||!n.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,n,i){this.attach(e),$e().prototype._addEventListener.call(this,e,n,i)}_removeEventListener(e,n){$e().prototype._removeEventListener.call(this,e,n),this.detach(e)}_createDomListener(e){const n=i=>{this.fire(e,i)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,this._options),delete this._domListeners[e]},n}}function aL(s){return s["data-ck-expando"]||(s["data-ck-expando"]=Gt())}function CE(s,e){let n=aL(s);for(const i of Object.keys(e).sort())e[i]&&(n+="-"+i);return n}let ew;try{ew={window,document}}catch{ew={window:{},document:{}}}const ke=ew;function cL(s){const e=[];let n=s;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}function lL(s){return s instanceof HTMLTextAreaElement?s.value:s.innerHTML}function yE(s){const e=s.ownerDocument.defaultView.getComputedStyle(s);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function jt(s){return Object.prototype.toString.call(s)=="[object Text]"}function zf(s){return Object.prototype.toString.apply(s)=="[object Range]"}function EE(s){return!s||!s.parentNode||s.offsetParent===ke.document.body?null:s.offsetParent}const xE=["top","right","bottom","left","width","height"];class Me{constructor(e){const n=zf(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),tw(e)||n)if(n){const i=Me.getDomRangeRects(e);jf(this,Me.getBoundingRect(i))}else jf(this,e.getBoundingClientRect());else if(Ff(e)){const{innerWidth:i,innerHeight:a}=e;jf(this,{top:0,right:i,bottom:a,left:0,width:i,height:a})}else jf(this,e)}clone(){return new Me(this)}moveTo(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}moveBy(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}getIntersection(e){const n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0)return null;{const i=new Me(n);return i._source=this._source,i}}getIntersectionArea(e){const n=this.getIntersection(e);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let n=this.clone();if(TE(e))return n;let i=e,a=e.parentNode||e.commonAncestorContainer,l;for(;a&&!TE(a);){const h=uL(a)==="visible";i instanceof HTMLElement&&SE(i)==="absolute"&&(l=i);const p=SE(a);if(h||l&&(p==="relative"&&h||p!=="relative")){i=a,a=a.parentNode;continue}const g=new Me(a),b=n.getIntersection(g);if(b)b.getArea()<n.getArea()&&(n=b);else return null;i=a,a=a.parentNode}return n}isEqual(e){for(const n of xE)if(this[n]!==e[n])return!1;return!0}contains(e){const n=this.getIntersection(e);return!!(n&&n.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:n}=ke.window,i=this.clone().moveBy(e,n);if(tw(i._source)){const a=EE(i._source);a&&dL(i,a)}return i}excludeScrollbarsAndBorders(){const e=this._source;let n,i,a;if(Ff(e))n=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const l=yE(e);n=e.offsetWidth-e.clientWidth-l.left-l.right,i=e.offsetHeight-e.clientHeight-l.top-l.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,a==="ltr"?this.right-=n:this.left+=n,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const n=[],i=Array.from(e.getClientRects());if(i.length)for(const a of i)n.push(new Me(a));else{let a=e.startContainer;jt(a)&&(a=a.parentNode);const l=new Me(a.getBoundingClientRect());l.right=l.left,l.width=0,n.push(l)}return n}static getBoundingRect(e){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const a of e)i++,n.left=Math.min(n.left,a.left),n.top=Math.min(n.top,a.top),n.right=Math.max(n.right,a.right),n.bottom=Math.max(n.bottom,a.bottom);return i==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new Me(n))}}function jf(s,e){for(const n of xE)s[n]=e[n]}function TE(s){return tw(s)?s===s.ownerDocument.body:!1}function tw(s){return s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.getBoundingClientRect=="function"}function SE(s){return s instanceof HTMLElement?s.ownerDocument.defaultView.getComputedStyle(s).position:"static"}function uL(s){return s instanceof HTMLElement?s.ownerDocument.defaultView.getComputedStyle(s).overflow:"visible"}function dL(s,e){const n=new Me(e),i=yE(e);let a=0,l=0;a-=n.left,l-=n.top,a+=e.scrollLeft,l+=e.scrollTop,a-=i.left,l-=i.top,s.moveBy(a,l)}class _t{constructor(e,n){_t._observerInstance||_t._createObserver(),this._element=e,this._callback=n,_t._addElementCallback(e,n),_t._observerInstance.observe(e)}get element(){return this._element}destroy(){_t._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,n){_t._elementCallbacks||(_t._elementCallbacks=new Map);let i=_t._elementCallbacks.get(e);i||(i=new Set,_t._elementCallbacks.set(e,i)),i.add(n)}static _deleteElementCallback(e,n){const i=_t._getElementCallbacks(e);i&&(i.delete(n),i.size||(_t._elementCallbacks.delete(e),_t._observerInstance.unobserve(e))),_t._elementCallbacks&&!_t._elementCallbacks.size&&(_t._observerInstance=null,_t._elementCallbacks=null)}static _getElementCallbacks(e){return _t._elementCallbacks?_t._elementCallbacks.get(e):null}static _createObserver(){_t._observerInstance=new ke.window.ResizeObserver(e=>{for(const n of e){const i=_t._getElementCallbacks(n.target);if(i)for(const a of i)a(n)}})}}_t._observerInstance=null,_t._elementCallbacks=null;const nw=_t;function DE(s,e){s instanceof HTMLTextAreaElement&&(s.value=e),s.innerHTML=e}function dc(s){return e=>e+s}function Uf(s){let e=0;for(;s.previousSibling;)s=s.previousSibling,e++;return e}function IE(s,e,n){s.insertBefore(n,s.childNodes[e]||null)}function fu(s){return s&&s.nodeType===Node.COMMENT_NODE}function hL(s){try{ke.document.createAttribute(s)}catch{return!1}return!0}function Js(s){return!!(s&&s.getClientRects&&s.getClientRects().length)}function rw({element:s,target:e,positions:n,limiter:i,fitInViewport:a,viewportOffsetConfig:l}){Eo(e)&&(e=e()),Eo(i)&&(i=i());const h=EE(s),p=fL(l),g=new Me(s),b=PE(e,p);let v;if(!b||!p.getIntersection(b))return null;const y={targetRect:b,elementRect:g,positionedElementAncestor:h,viewportRect:p};if(!i&&!a)v=new RE(n[0],y);else{if(i){const I=PE(i,p);I&&(y.limiterRect=I)}v=pL(n,y)}return v}function PE(s,e){const n=new Me(s).getVisible();return n?n.getIntersection(e):null}function fL(s){s=Object.assign({top:0,bottom:0,left:0,right:0},s);const e=new Me(ke.window);return e.top+=s.top,e.height-=s.top,e.bottom-=s.bottom,e.height-=s.bottom,e}function pL(s,e){const{elementRect:n}=e,i=n.getArea(),a=s.map(p=>new RE(p,e)).filter(p=>!!p.name);let l=0,h=null;for(const p of a){const{limiterIntersectionArea:g,viewportIntersectionArea:b}=p;if(g===i)return p;const v=b**2+g**2;v>l&&(l=v,h=p)}return h}class RE{constructor(e,n){const i=e(n.targetRect,n.elementRect,n.viewportRect,n.limiterRect);if(!i)return;const{left:a,top:l,name:h,config:p}=i;this.name=h,this.config=p,this._positioningFunctionCoordinates={left:a,top:l},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}function BE(s){const e=s.parentNode;e&&e.removeChild(s)}function gL({target:s,viewportOffset:e=0,ancestorOffset:n=0,alignToTop:i,forceScroll:a}){const l=ow(s);let h=l,p=null;for(e=bL(e);h;){let g;h==l?g=LE(s):g=LE(p),kL({parent:g,getRect:()=>FE(s,h),alignToTop:i,ancestorOffset:n,forceScroll:a});const b=FE(s,h);if(mL({window:h,rect:b,viewportOffset:e,alignToTop:i,forceScroll:a}),h.parent!=h){if(p=h.frameElement,h=h.parent,!p)return}else h=null}}function mL({window:s,rect:e,alignToTop:n,forceScroll:i,viewportOffset:a}){const l=e.clone().moveBy(0,a.bottom),h=e.clone().moveBy(0,-a.top),p=new Me(s).excludeScrollbarsAndBorders(),g=[h,l],b=n&&i,v=g.every(H=>p.contains(H));let{scrollX:y,scrollY:I}=s;const V=y,F=I;b?I-=p.top-e.top+a.top:v||(NE(h,p)?I-=p.top-e.top+a.top:OE(l,p)&&(n?I+=e.top-p.top-a.top:I+=e.bottom-p.bottom+a.bottom)),v||(ME(e,p)?y-=p.left-e.left+a.left:VE(e,p)&&(y+=e.right-p.right+a.right)),(y!=V||I!==F)&&s.scrollTo(y,I)}function kL({parent:s,getRect:e,alignToTop:n,forceScroll:i,ancestorOffset:a=0,limiterElement:l}){const h=ow(s),p=n&&i;let g,b,v;const y=l||h.document.body;for(;s!=y;)b=e(),g=new Me(s).excludeScrollbarsAndBorders(),v=g.contains(b),p?s.scrollTop-=g.top-b.top+a:v||(NE(b,g)?s.scrollTop-=g.top-b.top+a:OE(b,g)&&(n?s.scrollTop+=b.top-g.top-a:s.scrollTop+=b.bottom-g.bottom+a)),v||(ME(b,g)?s.scrollLeft-=g.left-b.left+a:VE(b,g)&&(s.scrollLeft+=b.right-g.right+a)),s=s.parentNode}function OE(s,e){return s.bottom>e.bottom}function NE(s,e){return s.top<e.top}function ME(s,e){return s.left<e.left}function VE(s,e){return s.right>e.right}function ow(s){return zf(s)?s.startContainer.ownerDocument.defaultView:s.ownerDocument.defaultView}function LE(s){if(zf(s)){let e=s.commonAncestorContainer;return jt(e)&&(e=e.parentNode),e}else return s.parentNode}function FE(s,e){const n=ow(s),i=new Me(s);if(n===e)return i;{let a=n;for(;a!=e;){const l=a.frameElement,h=new Me(l).excludeScrollbarsAndBorders();i.moveBy(h.left,h.top),a=a.parent}}return i}function bL(s){return typeof s=="number"?{top:s,bottom:s,left:s,right:s}:s}const wL={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},_L={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},zE={37:"←",38:"↑",39:"→",40:"↓",9:"⇥"},ze=EL(),vL=Object.fromEntries(Object.entries(ze).map(([s,e])=>{let n;return e in zE?n=zE[e]:n=s.charAt(0).toUpperCase()+s.slice(1),[e,n]}));function hc(s){let e;if(typeof s=="string"){if(e=ze[s.toLowerCase()],!e)throw new N("keyboard-unknown-key",null,{key:s})}else e=s.keyCode+(s.altKey?ze.alt:0)+(s.ctrlKey?ze.ctrl:0)+(s.shiftKey?ze.shift:0)+(s.metaKey?ze.cmd:0);return e}function pu(s){return typeof s=="string"&&(s=xL(s)),s.map(e=>typeof e=="string"?CL(e):e).reduce((e,n)=>n+e,0)}function $f(s){let e=pu(s);return Object.entries(_.isMac||_.isiOS?wL:_L).reduce((a,[l,h])=>(e&ze[l]&&(e&=~ze[l],a+=h),a),"")+(e?vL[e]:"")}function AL(s){return s==ze.arrowright||s==ze.arrowleft||s==ze.arrowup||s==ze.arrowdown}function iw(s,e){const n=e==="ltr";switch(s){case ze.arrowleft:return n?"left":"right";case ze.arrowright:return n?"right":"left";case ze.arrowup:return"up";case ze.arrowdown:return"down"}}function CL(s){if(s.endsWith("!"))return hc(s.slice(0,-1));const e=hc(s);return(_.isMac||_.isiOS)&&e==ze.ctrl?ze.cmd:e}function yL(s,e){const n=iw(s,e);return n==="down"||n==="right"}function EL(){const s={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);s[n.toLowerCase()]=e}for(let e=48;e<=57;e++)s[e-48]=e;for(let e=112;e<=123;e++)s["f"+(e-111)]=e;return Object.assign(s,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),s}function xL(s){return s.split("+").map(e=>e.trim())}function vt(s){return Array.isArray(s)?s:[s]}function TL(s,e,n){(n!==void 0&&!zi(s[e],n)||n===void 0&&!(e in s))&&x(s,e,n)}const sw=TL;function SL(s){return function(e,n,i){for(var a=-1,l=Object(e),h=i(e),p=h.length;p--;){var g=h[s?p:++a];if(n(l[g],g,l)===!1)break}return e}}var DL=SL();const jE=DL;function IL(s){return Yn(s)&&Mf(s)}const PL=IL;function RL(s,e){if(!(e==="constructor"&&typeof s[e]=="function")&&e!="__proto__")return s[e]}const aw=RL;function BL(s){return ae(s,uc(s))}const OL=BL;function NL(s,e,n,i,a,l,h){var p=aw(s,n),g=aw(e,n),b=h.get(g);if(b){sw(s,n,b);return}var v=l?l(p,g,n+"",s,e,h):void 0,y=v===void 0;if(y){var I=Ft(g),V=!I&&Gs(g),F=!I&&!V&&$b(g);v=g,I||V||F?Ft(p)?v=p:PL(p)?v=X1(p):V?(y=!1,v=Z1(g,!0)):F?(y=!1,v=hE(g,!0)):v=[]:Tn(g)||Kt(g)?(v=p,Kt(p)?v=OL(p):(!pt(p)||Eo(p))&&(v=pE(g))):y=!1}y&&(h.set(g,v),a(v,g,i,l,h),h.delete(g)),sw(s,n,v)}const ML=NL;function UE(s,e,n,i,a){s!==e&&jE(e,function(l,h){if(a||(a=new Io),pt(l))ML(s,e,h,n,UE,i,a);else{var p=i?i(aw(s,h),l,h+"",s,e,a):void 0;p===void 0&&(p=l),sw(s,h,p)}},uc)}const VL=UE;function LL(s){return s}const cw=LL;function FL(s,e,n){switch(n.length){case 0:return s.call(e);case 1:return s.call(e,n[0]);case 2:return s.call(e,n[0],n[1]);case 3:return s.call(e,n[0],n[1],n[2])}return s.apply(e,n)}const zL=FL;var $E=Math.max;function jL(s,e,n){return e=$E(e===void 0?s.length-1:e,0),function(){for(var i=arguments,a=-1,l=$E(i.length-e,0),h=Array(l);++a<l;)h[a]=i[e+a];a=-1;for(var p=Array(e+1);++a<e;)p[a]=i[a];return p[e]=n(h),zL(s,this,p)}}const UL=jL;function $L(s){return function(){return s}}const HL=$L;var qL=Hi?function(s,e){return Hi(s,"toString",{configurable:!0,enumerable:!1,value:HL(e),writable:!0})}:cw;const WL=qL;var GL=800,KL=16,QL=Date.now;function JL(s){var e=0,n=0;return function(){var i=QL(),a=KL-(i-n);if(n=i,a>0){if(++e>=GL)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}var YL=JL(WL);const ZL=YL;function XL(s,e){return ZL(UL(s,e,cw),s+"")}const eF=XL;function tF(s,e,n){if(!pt(n))return!1;var i=typeof e;return(i=="number"?Mf(n)&&Ne(e,n.length):i=="string"&&e in n)?zi(n[e],s):!1}const nF=tF;function rF(s){return eF(function(e,n){var i=-1,a=n.length,l=a>1?n[a-1]:void 0,h=a>2?n[2]:void 0;for(l=s.length>3&&typeof l=="function"?(a--,l):void 0,h&&nF(n[0],n[1],h)&&(l=a<3?void 0:l,a=1),e=Object(e);++i<a;){var p=n[i];p&&s(e,p,i,l)}return e})}const HE=rF;var oF=HE(function(s,e,n){VL(s,e,n)});const lw=oF;ke.window.CKEDITOR_TRANSLATIONS||(ke.window.CKEDITOR_TRANSLATIONS={});function iF(s,e,n=1,i){if(typeof n!="number")throw new N("translation-service-quantity-not-a-number",null,{quantity:n});const a=i||ke.window.CKEDITOR_TRANSLATIONS,l=cF(a);l===1&&(s=Object.keys(a)[0]);const h=e.id||e.string;if(l===0||!aF(s,h,a))return n!==1?e.plural:e.string;const p=a[s].dictionary,g=a[s].getPluralForm||(y=>y===1?0:1),b=p[h];if(typeof b=="string")return b;const v=Number(g(n));return b[v]}function sF(s){return Array.isArray(s)?s.reduce((e,n)=>lw(e,n)):s}function aF(s,e,n){return!!n[s]&&!!n[s].dictionary[e]}function cF(s){return Object.keys(s).length}const lF=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function qE(s){return lF.includes(s)?"rtl":"ltr"}class uF{constructor({uiLanguage:e="en",contentLanguage:n,translations:i}={}){this.uiLanguage=e,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=qE(this.uiLanguage),this.contentLanguageDirection=qE(this.contentLanguage),this.translations=sF(i),this.t=(a,l)=>this._t(a,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,n=[]){n=vt(n),typeof e=="string"&&(e={string:e});const a=!!e.plural?n[0]:1,l=iF(this.uiLanguage,e,a,this.translations);return dF(l,n)}}function dF(s,e){return s.replace(/%(\d+)/g,(n,i)=>i<e.length?e[i]:n)}class Nr extends $e(){constructor(e={},n={}){super();const i=jn(e);if(i||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){return this.addMany([e],n)}addMany(e,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new N("collection-add-item-invalid-index",this);let i=0;for(const a of e){const l=this._getItemIdBeforeAdding(a),h=n+i;this._items.splice(h,0,a),this._itemMap.set(l,a),this.fire("add",a,h),i++}return this.fire("change",{added:e,removed:[],index:n}),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else if(typeof e=="number")n=this._items[e];else throw new N("collection-get-invalid-arg",this);return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=this._idProperty,i=e[n];return i&&this._itemMap.has(i)}}getIndex(e){let n;return typeof e=="string"?n=this._itemMap.get(e):n=e,n?this._items.indexOf(n):-1}remove(e){const[n,i]=this._remove(e);return this.fire("change",{added:[],removed:[n],index:i}),n}map(e,n){return this._items.map(e,n)}forEach(e,n){this._items.forEach(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new N("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(i=>new n(i))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(i=>i[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,i=(a,l,h)=>{const p=n._bindToCollection==this,g=n._bindToInternalToExternalMap.get(l);if(p&&g)this._bindToExternalToInternalMap.set(l,g),this._bindToInternalToExternalMap.set(g,l);else{const b=e(l);if(!b){this._skippedIndexesFromExternal.push(h);return}let v=h;for(const y of this._skippedIndexesFromExternal)h>y&&v--;for(const y of n._skippedIndexesFromExternal)v>=y&&v++;this._bindToExternalToInternalMap.set(l,b),this._bindToInternalToExternalMap.set(b,l),this.add(b,v);for(let y=0;y<n._skippedIndexesFromExternal.length;y++)v<=n._skippedIndexesFromExternal[y]&&n._skippedIndexesFromExternal[y]++}};for(const a of n)i(null,a,n.getIndex(a));this.listenTo(n,"add",i),this.listenTo(n,"remove",(a,l,h)=>{const p=this._bindToExternalToInternalMap.get(l);p&&this.remove(p),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,b)=>(h<b&&g.push(b-1),h>b&&g.push(b),g),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let i;if(n in e){if(i=e[n],typeof i!="string")throw new N("collection-add-invalid-id",this);if(this.get(i))throw new N("collection-add-item-already-exists",this)}else e[n]=i=Gt();return i}_remove(e){let n,i,a,l=!1;const h=this._idProperty;if(typeof e=="string"?(i=e,a=this._itemMap.get(i),l=!a,a&&(n=this._items.indexOf(a))):typeof e=="number"?(n=e,a=this._items[n],l=!a,a&&(i=a[h])):(a=e,i=a[h],n=this._items.indexOf(a),l=n==-1||!this._itemMap.get(i)),l)throw new N("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(i);const p=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(p),this.fire("remove",a,n),[a,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function tr(s){const e=s.next();return e.done?null:e.value}class Sn extends ro(tt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new N("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class fr{constructor(){this._listener=new(ro())}listenTo(e){this._listener.listenTo(e,"keydown",(n,i)=>{this._listener.fire("_keydown:"+hc(i),i)})}set(e,n,i={}){const a=pu(e),l=i.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(h,p)=>{n(p,()=>{p.preventDefault(),p.stopPropagation(),h.stop()}),h.return=!0},{priority:l})}press(e){return!!this._listener.fire("_keydown:"+hc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function hF(s){const e=new Map;for(const n in s)e.set(n,s[n]);return e}function li(s){return jn(s)?new Map(s):hF(s)}const fF=1e4;function pF(s,e,n,i){if(Math.max(e.length,s.length)>fF)return s.slice(0,n).concat(e).concat(s.slice(n+i,s.length));{const a=Array.from(s);return a.splice(n,i,...e),a}}function uw(s,e){let n;function i(...a){i.cancel(),n=setTimeout(()=>s(...a),e)}return i.cancel=()=>{clearTimeout(n)},i}function gF(s){function e(y){return y.length>=40&&y.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let n="";try{n=atob(s)}catch{return"INVALID"}const i=n.split("-"),a=i[0],l=i[1];if(!l)return e(s);try{atob(l)}catch{try{if(atob(a),!atob(a).length)return e(s)}catch{return e(s)}}if(a.length<40||a.length>255)return"INVALID";let h="";try{atob(a),h=atob(l)}catch{return"INVALID"}if(h.length!==8)return"INVALID";const p=Number(h.substring(0,4)),g=Number(h.substring(4,6))-1,b=Number(h.substring(6,8)),v=new Date(p,g,b);return v<Zr||isNaN(Number(v))?"INVALID":"VALID"}function mF(s){return!!s&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s)}function kF(s){return!!s&&s.length==1&&/[\ud800-\udbff]/.test(s)}function bF(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}function dw(s,e){return kF(s.charAt(e-1))&&bF(s.charAt(e))}function hw(s,e){return mF(s.charAt(e))}const wF=_F();function WE(s,e){const n=String(s).matchAll(wF);return Array.from(n).some(i=>i.index<e&&e<i.index+i[0].length)}function _F(){const s=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,n="(?:"+s.map(a=>a.source).join("|")+")",i=`${e}|${n}(?:‍${n})*`;return new RegExp(i,"ug")}class re extends tt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",GE,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",GE),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function GE(s){s.return=!1,s.stop()}class He extends tt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",n=>{if(!this.affectsData)return;const i=e.model.document.selection,l=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(n.return=!1,n.stop())},{priority:"highest"}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",KE,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",KE),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function KE(s){s.return=!1,s.stop()}class QE extends He{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const n=this._getFirstEnabledCommand();return!!n&&n.execute(e)}registerChildCommand(e,n={}){oe(this._childCommandsDefinitions,{command:e,priority:n.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:n})=>n.isEnabled);return e&&e.command}}class JE extends $e(){constructor(e,n=[],i=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of n)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,l]of i)this._contextPlugins.set(a,l),this._contextPlugins.set(l,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const n=this._plugins.get(e);if(!n){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new N("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return n}has(e){return this._plugins.has(e)}init(e,n=[],i=[]){const a=this,l=this._context;V(e),H(e);const h=e.filter(pe=>!y(pe,n)),p=[...F(h)];lt(p,i);const g=Oe(p);return Ke(g,"init").then(()=>Ke(g,"afterInit")).then(()=>g);function b(pe){return typeof pe=="function"}function v(pe){return b(pe)&&!!pe.isContextPlugin}function y(pe,Ce){return Ce.some(be=>be===pe||I(pe)===be||I(be)===pe)}function I(pe){return b(pe)?pe.pluginName||pe.name:pe}function V(pe,Ce=new Set){pe.forEach(be=>{b(be)&&(Ce.has(be)||(Ce.add(be),be.pluginName&&!a._availablePlugins.has(be.pluginName)&&a._availablePlugins.set(be.pluginName,be),be.requires&&V(be.requires,Ce)))})}function F(pe,Ce=new Set){return pe.map(be=>b(be)?be:a._availablePlugins.get(be)).reduce((be,mt)=>Ce.has(mt)?be:(Ce.add(mt),mt.requires&&(H(mt.requires,mt),F(mt.requires,Ce).forEach(ha=>be.add(ha))),be.add(mt)),new Set)}function H(pe,Ce=null){pe.map(be=>b(be)?be:a._availablePlugins.get(be)||be).forEach(be=>{W(be,Ce),ee(be,Ce),de(be,Ce)})}function W(pe,Ce){if(!b(pe))throw Ce?new N("plugincollection-soft-required",l,{missingPlugin:pe,requiredBy:I(Ce)}):new N("plugincollection-plugin-not-found",l,{plugin:pe})}function ee(pe,Ce){if(v(Ce)&&!v(pe))throw new N("plugincollection-context-required",l,{plugin:I(pe),requiredBy:I(Ce)})}function de(pe,Ce){if(Ce&&y(pe,n))throw new N("plugincollection-required",l,{plugin:I(pe),requiredBy:I(Ce)})}function Oe(pe){return pe.map(Ce=>{let be=a._contextPlugins.get(Ce);return be=be||new Ce(l),a._add(Ce,be),be})}function Ke(pe,Ce){return pe.reduce((be,mt)=>!mt[Ce]||a._contextPlugins.has(mt)?be:be.then(mt[Ce].bind(mt)),Promise.resolve())}function lt(pe,Ce){for(const be of Ce){if(typeof be!="function")throw new N("plugincollection-replace-plugin-invalid-type",null,{pluginItem:be});const mt=be.pluginName;if(!mt)throw new N("plugincollection-replace-plugin-missing-name",null,{pluginItem:be});if(be.requires&&be.requires.length)throw new N("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:mt});const ha=a._availablePlugins.get(mt);if(!ha)throw new N("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:mt});const uI=pe.indexOf(ha);if(uI===-1){if(a._contextPlugins.has(ha))return;throw new N("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:mt})}if(ha.requires&&ha.requires.length)throw new N("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:mt});pe.splice(uI,1,be),a._availablePlugins.set(mt,be)}}}destroy(){const e=[];for(const[,n]of this)typeof n.destroy=="function"&&!this._contextPlugins.has(n)&&e.push(n.destroy());return Promise.all(e)}_add(e,n){this._plugins.set(e,n);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new N("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,n)}}}class YE{constructor(e){this._contextOwner=null;const{translations:n,...i}=e||{};this.config=new _E(i,this.constructor.defaultConfig);const a=this.constructor.builtinPlugins;this.config.define("plugins",a),this.plugins=new JE(this,a);const l=this.config.get("language")||{};this.locale=new uF({uiLanguage:typeof l=="string"?l:l.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Nr}initPlugins(){const e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[];for(const i of e.concat(n)){if(typeof i!="function")throw new N("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new N("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],n)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,n){if(this._contextOwner)throw new N("context-addeditor-private-context");this.editors.add(e),n&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const n of this.config.names())["plugins","removePlugins","extraPlugins"].includes(n)||(e[n]=this.config.get(n));return e}static create(e){return new Promise(n=>{const i=new this(e);n(i.initPlugins().then(()=>i))})}}class ZE extends tt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var vF=o(5072),ue=o.n(vF),XE=o(1920),fw={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};fw.insert="head",fw.singleton=!0,ue()(XE.A,fw),XE.A.locals;const Hf=new WeakMap;let ex=!1;function AF({view:s,element:e,text:n,isDirectHost:i=!0,keepOnFocus:a=!1}){const l=s.document;Hf.has(l)||(Hf.set(l,new Map),l.registerPostFixer(p=>pw(l,p)),l.on("change:isComposing",()=>{s.change(p=>pw(l,p))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(p,g,b)=>{h(b)}),e.placeholder?h(e.placeholder):n&&h(n),n&&TF();function h(p){Hf.get(l).set(e,{text:p,isDirectHost:i,keepOnFocus:a,hostElement:i?e:null}),s.change(g=>pw(l,g))}}function CF(s,e){return e.hasClass("ck-placeholder")?!1:(s.addClass("ck-placeholder",e),!0)}function yF(s,e){return e.hasClass("ck-placeholder")?(s.removeClass("ck-placeholder",e),!0):!1}function EF(s,e){if(!s.isAttached()||Array.from(s.getChildren()).some(h=>!h.is("uiElement")))return!1;const i=s.document,l=i.selection.anchor;return i.isComposing&&l&&l.parent===s?!1:e||!i.isFocused?!0:!!l&&l.parent!==s}function pw(s,e){const n=Hf.get(s),i=[];let a=!1;for(const[l,h]of n)h.isDirectHost&&(i.push(l),tx(e,l,h)&&(a=!0));for(const[l,h]of n){if(h.isDirectHost)continue;const p=xF(l);p&&(i.includes(p)||(h.hostElement=p,tx(e,l,h)&&(a=!0)))}return a}function tx(s,e,n){const{text:i,isDirectHost:a,hostElement:l}=n;let h=!1;return l.getAttribute("data-placeholder")!==i&&(s.setAttribute("data-placeholder",i,l),h=!0),(a||e.childCount==1)&&EF(l,n.keepOnFocus)?CF(s,l)&&(h=!0):yF(s,l)&&(h=!0),h}function xF(s){if(s.childCount){const e=s.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function TF(){ex||Te("enableplaceholder-deprecated-text-option"),ex=!0}class Ys{is(){throw new Error("is() method is abstract")}}var SF=4;function DF(s){return Zb(s,SF)}const nx=DF;class Zs extends $e(Ys){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new N("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.index),n=n.parent;return e}getAncestors(e={}){const n=[];let i=e.includeSelf?this:this.parent;for(;i;)n[e.parentFirst?"push":"unshift"](i),i=i.parent;return n}getCommonAncestor(e,n={}){const i=this.getAncestors(n),a=e.getAncestors(n);let l=0;for(;i[l]==a[l]&&i[l];)l++;return l===0?null:i[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),i=e.getPath(),a=dn(n,i);switch(a){case"prefix":return!0;case"extension":return!1;default:return n[a]<i[a]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,n){this.fire(`change:${e}`,n),this.parent&&this.parent._fireChange(e,n)}toJSON(){const e=nx(this);return delete e.parent,e}}Zs.prototype.is=function(s){return s==="node"||s==="view:node"};class rt extends Zs{constructor(e,n){super(e),this._textData=n}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof rt?this===e||this.data===e.data:!1}_clone(){return new rt(this.document,this.data)}}rt.prototype.is=function(s){return s==="$text"||s==="view:$text"||s==="text"||s==="view:text"||s==="node"||s==="view:node"};class Ro extends Ys{constructor(e,n,i){if(super(),this.textNode=e,n<0||n>e.data.length)throw new N("view-textproxy-wrong-offsetintext",this);if(i<0||n+i>e.data.length)throw new N("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+i),this.offsetInText=n}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const n=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)n[e.parentFirst?"push":"unshift"](i),i=i.parent;return n}}Ro.prototype.is=function(s){return s==="$textProxy"||s==="view:$textProxy"||s==="textProxy"||s==="view:textProxy"};class oo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const i of this._patterns){const a=rx(n,i);if(a)return{element:n,pattern:i,match:a}}return null}matchAll(...e){const n=[];for(const i of e)for(const a of this._patterns){const l=rx(i,a);l&&n.push({element:i,pattern:a,match:l})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e!="function"&&n&&!(n instanceof RegExp)?n:null}}function rx(s,e){if(typeof e=="function")return e(s);const n={};return e.name&&(n.name=IF(e.name,s.name),!n.name)||e.attributes&&(n.attributes=OF(e.attributes,s),!n.attributes)||e.classes&&(n.classes=NF(e.classes,s),!n.classes)||e.styles&&(n.styles=MF(e.styles,s),!n.styles)?null:n}function IF(s,e){return s instanceof RegExp?!!e.match(s):s===e}function gw(s,e,n){const i=PF(s),a=Array.from(e),l=[];if(i.forEach(([h,p])=>{a.forEach(g=>{RF(h,g)&&BF(p,g,n)&&l.push(g)})}),!(!i.length||l.length<i.length))return l}function PF(s){return Array.isArray(s)?s.map(e=>Tn(e)?((e.key===void 0||e.value===void 0)&&Te("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):Tn(s)?Object.entries(s):[[s,!0]]}function RF(s,e){return s===!0||s===e||s instanceof RegExp&&e.match(s)}function BF(s,e,n){if(s===!0)return!0;const i=n(e);return s===i||s instanceof RegExp&&!!String(i).match(s)}function OF(s,e){const n=new Set(e.getAttributeKeys());return Tn(s)?(s.style!==void 0&&Te("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&Te("matcher-pattern-deprecated-attributes-class-key",s)):(n.delete("style"),n.delete("class")),gw(s,n,i=>e.getAttribute(i))}function NF(s,e){return gw(s,e.getClassNames(),()=>{})}function MF(s,e){return gw(s,e.getStyleNames(!0),n=>e.getStyle(n))}var VF="[object Symbol]";function LF(s){return typeof s=="symbol"||Yn(s)&&Co(s)==VF}const qf=LF;var FF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zF=/^\w*$/;function jF(s,e){if(Ft(s))return!1;var n=typeof s;return n=="number"||n=="symbol"||n=="boolean"||s==null||qf(s)?!0:zF.test(s)||!FF.test(s)||e!=null&&s in Object(e)}const mw=jF;var UF="Expected a function";function kw(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(UF);var n=function(){var i=arguments,a=e?e.apply(this,i):i[0],l=n.cache;if(l.has(a))return l.get(a);var h=s.apply(this,i);return n.cache=l.set(a,h)||l,h};return n.cache=new(kw.Cache||So),n}kw.Cache=So;const $F=kw;var HF=500;function qF(s){var e=$F(s,function(i){return n.size===HF&&n.clear(),i}),n=e.cache;return e}const WF=qF;var GF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KF=/\\(\\)?/g,QF=WF(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(GF,function(n,i,a,l){e.push(a?l.replace(KF,"$1"):i||n)}),e});const JF=QF;function YF(s,e){for(var n=-1,i=s==null?0:s.length,a=Array(i);++n<i;)a[n]=e(s[n],n,s);return a}const ZF=YF;var XF=1/0,ox=Sr?Sr.prototype:void 0,ix=ox?ox.toString:void 0;function sx(s){if(typeof s=="string")return s;if(Ft(s))return ZF(s,sx)+"";if(qf(s))return ix?ix.call(s):"";var e=s+"";return e=="0"&&1/s==-XF?"-0":e}const e9=sx;function t9(s){return s==null?"":e9(s)}const bw=t9;function n9(s,e){return Ft(s)?s:mw(s,e)?[s]:JF(bw(s))}const Wf=n9;function r9(s){var e=s==null?0:s.length;return e?s[e-1]:void 0}const o9=r9;var i9=1/0;function s9(s){if(typeof s=="string"||qf(s))return s;var e=s+"";return e=="0"&&1/s==-i9?"-0":e}const fc=s9;function a9(s,e){e=Wf(e,s);for(var n=0,i=e.length;s!=null&&n<i;)s=s[fc(e[n++])];return n&&n==i?s:void 0}const ww=a9;function c9(s,e,n){var i=-1,a=s.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var l=Array(a);++i<a;)l[i]=s[i+e];return l}const ax=c9;function l9(s,e){return e.length<2?s:ww(s,ax(e,0,-1))}const u9=l9;function d9(s,e){return e=Wf(e,s),s=u9(s,e),s==null||delete s[fc(o9(e))]}const h9=d9;function f9(s,e){return s==null?!0:h9(s,e)}const p9=f9;function g9(s,e,n){var i=s==null?void 0:ww(s,e);return i===void 0?n:i}const gu=g9;function m9(s,e,n,i){if(!pt(s))return s;e=Wf(e,s);for(var a=-1,l=e.length,h=l-1,p=s;p!=null&&++a<l;){var g=fc(e[a]),b=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(a!=h){var v=p[g];b=i?i(v,g,p):void 0,b===void 0&&(b=pt(v)?v:Ne(e[a+1])?[]:{})}K(p,g,b),p=p[g]}return s}const k9=m9;function b9(s,e,n){return s==null?s:k9(s,e,n)}const w9=b9;class _w{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=v9(e);for(const[i,a]of n)this._styleProcessor.toNormalizedForm(i,a,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(i)}set(e,n){if(pt(e))for(const[i,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,a,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){const n=vw(e);p9(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!pt(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const i of n)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const a=n.splice(0,n.length-1).join("."),l=gu(this._styles,a);if(!l)return;!Object.keys(l).length&&this.remove(a)}}class _9{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,n,i){if(pt(n)){Aw(i,vw(e),n);return}if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:l,value:h}=a(n);Aw(i,l,h)}else Aw(i,e,n)}getNormalized(e,n){if(!e)return lw({},n);if(n[e]!==void 0)return n[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return gu(n,i);const a=i(e,n);if(a)return a}return gu(n,vw(e))}getReducedForm(e,n){const i=this.getNormalized(e,n);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const n=Array.from(this._consumables.keys()).filter(a=>{const l=this.getNormalized(a,e);return l&&typeof l=="object"?Object.keys(l).length:l}),i=new Set([...n,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,n){this._normalizers.set(e,n)}setExtractor(e,n){this._extractors.set(e,n)}setReducer(e,n){this._reducers.set(e,n)}setStyleRelation(e,n){this._mapStyleNames(e,n);for(const i of n)this._mapStyleNames(i,[e])}_mapStyleNames(e,n){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...n)}}function v9(s){let e=null,n=0,i=0,a=null;const l=new Map;if(s==="")return l;s.charAt(s.length-1)!=";"&&(s=s+";");for(let h=0;h<s.length;h++){const p=s.charAt(h);if(e===null)switch(p){case":":a||(a=s.substr(n,h-n),i=h+1);break;case'"':case"'":e=p;break;case";":{const g=s.substr(i,h-i);a&&l.set(a.trim(),g.trim()),a=null,n=h+1;break}}else p===e&&(e=null)}return l}function vw(s){return s.replace("-",".")}function Aw(s,e,n){let i=n;pt(n)&&(i=lw({},gu(s,e),n)),w9(s,e,i)}class pr extends Zs{constructor(e,n,i,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=n,this._attrs=A9(i),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");cx(this._classes,l),this._attrs.delete("class")}this._styles=new _w(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const n=this._styles.toString();return n==""?void 0:n}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof pr))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[n,i]of this._attrs)if(!e._attrs.has(n)||e._attrs.get(n)!==i)return!1;for(const n of this._classes)if(!e._classes.has(n))return!1;for(const n of this._styles.getStyleNames())if(!e._styles.has(n)||e._styles.getAsString(n)!==this._styles.getAsString(n))return!1;return!0}hasClass(...e){for(const n of e)if(!this._classes.has(n))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const n of e)if(!this._styles.has(n))return!1;return!0}findAncestor(...e){const n=new oo(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(n.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),n=this._styles.toString(),i=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(n?` style="${n}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const n=[];if(e)for(const a of this.getChildren())n.push(a._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,n);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,n){this._fireChange("children",this);let i=0;const a=C9(this.document,n);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(e,0,l),e++,i++;return i}_removeChildren(e,n=1){this._fireChange("children",this);for(let i=e;i<e+n;i++)this._children[i].parent=null;return this._children.splice(e,n)}_setAttribute(e,n){const i=String(n);this._fireChange("attributes",this),e=="class"?cx(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const n of vt(e))this._classes.add(n)}_removeClass(e){this._fireChange("attributes",this);for(const n of vt(e))this._classes.delete(n)}_setStyle(e,n){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,n)}_removeStyle(e){this._fireChange("attributes",this);for(const n of vt(e))this._styles.remove(n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}}pr.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="view:element"):s==="element"||s==="view:element"||s==="node"||s==="view:node"};function A9(s){const e=li(s);for(const[n,i]of e)i===null?e.delete(n):typeof i!="string"&&e.set(n,String(i));return e}function cx(s,e){const n=e.split(/\s+/);s.clear(),n.forEach(i=>s.add(i))}function C9(s,e){return typeof e=="string"?[new rt(s,e)]:(jn(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new rt(s,n):n instanceof Ro?new rt(s,n.data):n))}class mu extends pr{constructor(e,n,i,a){super(e,n,i,a),this.getFillerOffset=y9}}mu.prototype.is=function(s,e){return e?e===this.name&&(s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};function y9(){const s=[...this.getChildren()],e=s[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of s)if(!n.is("uiElement"))return null;return this.childCount}class Gf extends tt(mu){constructor(e,n,i,a){super(e,n,i,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",l=>l&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Gf.prototype.is=function(s,e){return e?e===this.name&&(s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};const lx=Symbol("rootName");class ux extends Gf{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(lx)}set rootName(e){this._setCustomProperty(lx,e)}set _name(e){this.name=e}}ux.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Xs{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new N("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new N("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=ne._createAt(e.startPosition):this._position=ne._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,i;do i=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(i instanceof rt){if(e.isAtEnd)return this._position=ne._createAfter(i),this._next();a=i.data[e.offset]}else a=i.getChild(e.offset);if(a instanceof pr){if(!this.shallow)e=new ne(a,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",a,n,e,1)}if(a instanceof rt){if(this.singleCharacters)return e=new ne(a,0),this._position=e,this._next();let l=a.data.length,h;return a==this._boundaryEndParent?(l=this.boundaries.end.offset,h=new Ro(a,0,l),e=ne._createAfter(h)):(h=new Ro(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",h,n,e,l)}if(typeof a=="string"){let l;this.singleCharacters?l=1:l=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const h=new Ro(i,e.offset,l);return e.offset+=l,this._position=e,this._formatReturnValue("text",h,n,e,l)}return e=ne._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,n,e)}_previous(){let e=this.position.clone();const n=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(i instanceof rt){if(e.isAtStart)return this._position=ne._createBefore(i),this._previous();a=i.data[e.offset-1]}else a=i.getChild(e.offset-1);if(a instanceof pr)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,n,e,1)):(e=new ne(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,n,e));if(a instanceof rt){if(this.singleCharacters)return e=new ne(a,a.data.length),this._position=e,this._previous();let l=a.data.length,h;if(a==this._boundaryStartParent){const p=this.boundaries.start.offset;h=new Ro(a,p,a.data.length-p),l=h.data.length,e=ne._createBefore(h)}else h=new Ro(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",h,n,e,l)}if(typeof a=="string"){let l;if(this.singleCharacters)l=1;else{const p=i===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-p}e.offset-=l;const h=new Ro(i,e.offset,l);return this._position=e,this._formatReturnValue("text",h,n,e,l)}return e=ne._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,n,e,1)}_formatReturnValue(e,n,i,a,l){return n instanceof Ro&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(a=ne._createAfter(n.textNode),this._position=a):i=ne._createAfter(n.textNode)),n.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(a=ne._createBefore(n.textNode),this._position=a):i=ne._createBefore(n.textNode))),{done:!1,value:{type:e,item:n,previousPosition:i,nextPosition:a,length:l}}}}class ne extends Ys{constructor(e,n){super(),this.parent=e,this.offset=n}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Gf);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const n=ne._createAt(this),i=n.offset+e;return n.offset=i<0?0:i,n}getLastMatchingPosition(e,n={}){n.startPosition=this;const i=new Xs(n);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const n=this.getAncestors(),i=e.getAncestors();let a=0;for(;n[a]==i[a]&&n[a];)a++;return a===0?null:n[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const n=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),i.push(e.offset);const a=dn(n,i);switch(a){case"prefix":return"before";case"extension":return"after";default:return n[a]<i[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Xs(e)}clone(){return new ne(this.parent,this.offset)}static _createAt(e,n){if(e instanceof ne)return new this(e.parent,e.offset);{const i=e;if(n=="end")n=i.is("$text")?i.data.length:i.childCount;else{if(n=="before")return this._createBefore(i);if(n=="after")return this._createAfter(i);if(n!==0&&!n)throw new N("view-createpositionat-offset-required",i)}return new ne(i,n)}}static _createAfter(e){if(e.is("$textProxy"))return new ne(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new N("view-position-after-root",e,{root:e});return new ne(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new ne(e.textNode,e.offsetInText);if(!e.parent)throw new N("view-position-before-root",e,{root:e});return new ne(e.parent,e.index)}}ne.prototype.is=function(s){return s==="position"||s==="view:position"};class Ae extends Ys{constructor(e,n=null){super(),this.start=e.clone(),this.end=n?n.clone():e.clone()}*[Symbol.iterator](){yield*new Xs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Kf,{direction:"backward"}),n=this.end.getLastMatchingPosition(Kf);return e.parent.is("$text")&&e.isAtStart&&(e=ne._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=ne._createAfter(n.parent)),new Ae(e,n)}getTrimmed(){let e=this.start.getLastMatchingPosition(Kf);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ae(e,e);let n=this.end.getLastMatchingPosition(Kf,{direction:"backward"});const i=e.nodeAfter,a=n.nodeBefore;return i&&i.is("$text")&&(e=new ne(i,0)),a&&a.is("$text")&&(n=new ne(a,a.data.length)),new Ae(e,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const i=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return i&&a}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new Ae(this.start,e.start)),this.containsPosition(e.end)&&n.push(new Ae(e.end,this.end))):n.push(this.clone()),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,i=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(i=e.end),new Ae(n,i)}return null}getWalker(e={}){return e.boundaries=this,new Xs(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}clone(){return new Ae(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new Xs(e);for(const i of n)yield i.item}*getPositions(e={}){e.boundaries=this;const n=new Xs(e);yield n.position;for(const i of n)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,n,i,a){return new this(new ne(e,n),new ne(i,a))}static _createFromPositionAndShift(e,n){const i=e,a=e.getShiftedBy(n);return n>0?new this(i,a):new this(a,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const n=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ne._createBefore(e),n)}}Ae.prototype.is=function(s){return s==="range"||s==="view:range"};function Kf(s){return!!(s.item.is("attributeElement")||s.item.is("uiElement"))}class io extends $e(Ys){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?e.clone():null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let i=!1;for(const a of e._ranges)if(n.isEqual(a)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const n=Kl(this.getRanges()),i=Kl(e.getRanges());if(n!=i)return!1;if(n==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let l=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),a.start.isEqual(h.start)&&a.end.isEqual(h.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[n,i,a]=e;if(typeof i=="object"&&(a=i,i=void 0),n===null)this._setRanges([]),this._setFakeOptions(a);else if(n instanceof io||n instanceof Cw)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof Ae)this._setRanges([n],a&&a.backward),this._setFakeOptions(a);else if(n instanceof ne)this._setRanges([new Ae(n)]),this._setFakeOptions(a);else if(n instanceof Zs){const l=!!a&&!!a.backward;let h;if(i===void 0)throw new N("view-selection-setto-required-second-parameter",this);i=="in"?h=Ae._createIn(n):i=="on"?h=Ae._createOn(n):h=new Ae(ne._createAt(n,i)),this._setRanges([h],l),this._setFakeOptions(a)}else if(jn(n))this._setRanges(n,a&&a.backward),this._setFakeOptions(a);else throw new N("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,n){if(this.anchor===null)throw new N("view-selection-setfocus-no-ranges",this);const i=ne._createAt(e,n);if(i.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),i.compareWith(a)=="before"?this._addRange(new Ae(i,a),!0):this._addRange(new Ae(a,i)),this.fire("change")}_setRanges(e,n=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!n}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,n=!1){if(!(e instanceof Ae))throw new N("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!n}_pushRange(e){for(const n of this._ranges)if(e.isIntersecting(n))throw new N("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n});this._ranges.push(new Ae(e.start,e.end))}}io.prototype.is=function(s){return s==="selection"||s==="view:selection"};class Cw extends $e(Ys){constructor(...e){super(),this._selection=new io,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,n){this._selection.setFocus(e,n)}}Cw.prototype.is=function(s){return s==="selection"||s=="documentSelection"||s=="view:selection"||s=="view:documentSelection"};class pc extends Qe{constructor(e,n,i){super(e,n),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const yw=Symbol("bubbling contexts");function Ew(s){class e extends s{fire(i,...a){try{const l=i instanceof Qe?i:new Qe(this,i),h=xw(this);if(!h.size)return;if(ku(l,"capturing",this),gc(h,"$capture",l,...a))return l.return;const p=l.startRange||this.selection.getFirstRange(),g=p?p.getContainedElement():null,b=g?!!dx(h,g):!1;let v=g||E9(p);if(ku(l,"atTarget",v),!b){if(gc(h,"$text",l,...a))return l.return;ku(l,"bubbling",v)}for(;v;){if(v.is("rootElement")){if(gc(h,"$root",l,...a))return l.return}else if(v.is("element")&&gc(h,v.name,l,...a))return l.return;if(gc(h,v,l,...a))return l.return;v=v.parent,ku(l,"bubbling",v)}return ku(l,"bubbling",this),gc(h,"$document",l,...a),l.return}catch(l){N.rethrowUnexpectedError(l,this)}}_addEventListener(i,a,l){const h=vt(l.context||"$document"),p=xw(this);for(const g of h){let b=p.get(g);b||(b=new($e()),p.set(g,b)),this.listenTo(b,i,a,l)}}_removeEventListener(i,a){const l=xw(this);for(const h of l.values())this.stopListening(h,i,a)}}return e}{const s=Ew(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ew[e]=s.prototype[e]})}function ku(s,e,n){s instanceof pc&&(s._eventPhase=e,s._currentTarget=n)}function gc(s,e,n,...i){const a=typeof e=="string"?s.get(e):dx(s,e);return a?(a.fire(n,...i),n.stop.called):!1}function dx(s,e){for(const[n,i]of s)if(typeof n=="function"&&n(e))return i;return null}function xw(s){return s[yw]||(s[yw]=new Map),s[yw]}function E9(s){if(!s)return null;const e=s.start.parent,n=s.end.parent,i=e.getPath(),a=n.getPath();return i.length>a.length?e:n}class Qf extends Ew(tt()){constructor(e){super(),this._postFixers=new Set,this.selection=new Cw,this.roots=new Nr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let n=!1;do for(const i of this._postFixers)if(n=i(e),n)break;while(n)}}const hx=10;class Tw extends pr{constructor(e,n,i,a){super(e,n,i,a),this._priority=hx,this._id=null,this._clonesGroup=null,this.getFillerOffset=x9}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new N("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const n=super._clone(e);return n._priority=this._priority,n._id=this._id,n}}Tw.DEFAULT_PRIORITY=hx;const bu=Tw;Tw.prototype.is=function(s,e){return e?e===this.name&&(s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"):s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};function x9(){if(Sw(this))return null;let s=this.parent;for(;s&&s.is("attributeElement");){if(Sw(s)>1)return null;s=s.parent}return!s||Sw(s)>1?null:this.childCount}function Sw(s){return Array.from(s.getChildren()).filter(e=>!e.is("uiElement")).length}class Dw extends pr{constructor(e,n,i,a){super(e,n,i,a),this.getFillerOffset=T9}_insertChild(e,n){if(n&&(n instanceof Zs||Array.from(n).length>0))throw new N("view-emptyelement-cannot-add",[this,n]);return 0}}Dw.prototype.is=function(s,e){return e?e===this.name&&(s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"):s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};function T9(){return null}class Jf extends pr{constructor(e,n,i,a){super(e,n,i,a),this.getFillerOffset=D9}_insertChild(e,n){if(n&&(n instanceof Zs||Array.from(n).length>0))throw new N("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const i of this.getAttributeKeys())n.setAttribute(i,this.getAttribute(i));return n}}Jf.prototype.is=function(s,e){return e?e===this.name&&(s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"):s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};function S9(s){s.document.on("arrowKey",(e,n)=>I9(e,n,s.domConverter),{priority:"low"})}function D9(){return null}function I9(s,e,n){if(e.keyCode==ze.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),a=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(a||e.shiftKey){const l=i.focusNode,h=i.focusOffset,p=n.domPositionToView(l,h);if(p===null)return;let g=!1;const b=p.getLastMatchingPosition(v=>(v.item.is("uiElement")&&(g=!0),!!(v.item.is("uiElement")||v.item.is("attributeElement"))));if(g){const v=n.viewPositionToDom(b);a?i.collapse(v.parent,v.offset):i.extend(v.parent,v.offset)}}}}class Iw extends pr{constructor(e,n,i,a){super(e,n,i,a),this.getFillerOffset=P9}_insertChild(e,n){if(n&&(n instanceof Zs||Array.from(n).length>0))throw new N("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}Iw.prototype.is=function(s,e){return e?e===this.name&&(s==="rawElement"||s==="view:rawElement"||s==="element"||s==="view:element"):s==="rawElement"||s==="view:rawElement"||s===this.name||s==="view:"+this.name||s==="element"||s==="view:element"||s==="node"||s==="view:node"};function P9(){return null}class ea extends $e(Ys){constructor(e,n){super(),this._children=[],this._customProperties=new Map,this.document=e,n&&this._insertChild(0,n)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,n){this._fireChange("children",this);let i=0;const a=R9(this.document,n);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,i++;return i}_removeChildren(e,n=1){this._fireChange("children",this);for(let i=e;i<e+n;i++)this._children[i].parent=null;return this._children.splice(e,n)}_fireChange(e,n){this.fire("change:"+e,n)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}}ea.prototype.is=function(s){return s==="documentFragment"||s==="view:documentFragment"};function R9(s,e){return typeof e=="string"?[new rt(s,e)]:(jn(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new rt(s,n):n instanceof Ro?new rt(s,n.data):n))}class fx{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,n){this.document.selection._setFocus(e,n)}createDocumentFragment(e){return new ea(this.document,e)}createText(e){return new rt(this.document,e)}createAttributeElement(e,n,i={}){const a=new bu(this.document,e,n);return typeof i.priority=="number"&&(a._priority=i.priority),i.id&&(a._id=i.id),i.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),a}createContainerElement(e,n,i={},a={}){let l=null;Tn(i)?a=i:l=i;const h=new mu(this.document,e,n,l);return a.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),h}createEditableElement(e,n,i={}){const a=new Gf(this.document,e,n);return i.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),a}createEmptyElement(e,n,i={}){const a=new Dw(this.document,e,n);return i.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),a}createUIElement(e,n,i){const a=new Jf(this.document,e,n);return i&&(a.render=i),a}createRawElement(e,n,i,a={}){const l=new Iw(this.document,e,n);return i&&(l.render=i),a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}setAttribute(e,n,i){i._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,i){Tn(e)&&i===void 0?n._setStyle(e):i._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,i){i._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}breakAttributes(e){return e instanceof ne?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const n=e.parent;if(!n.is("containerElement"))throw new N("view-writer-break-non-container-element",this.document);if(!n.parent)throw new N("view-writer-break-root",this.document);if(e.isAtStart)return ne._createBefore(n);if(!e.isAtEnd){const i=n._clone(!1);this.insert(ne._createAfter(n),i);const a=new Ae(e,ne._createAt(n,"end")),l=new ne(i,0);this.move(a,l)}return ne._createAfter(n)}mergeAttributes(e){const n=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const h=i.parent,p=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new ne(h,p))}const a=i.getChild(n-1),l=i.getChild(n);if(!a||!l)return e;if(a.is("$text")&&l.is("$text"))return gx(a,l);if(a.is("attributeElement")&&l.is("attributeElement")&&a.isSimilar(l)){const h=a.childCount;return a._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new ne(a,h))}return e}mergeContainers(e){const n=e.nodeBefore,i=e.nodeAfter;if(!n||!i||!n.is("containerElement")||!i.is("containerElement"))throw new N("view-writer-merge-containers-invalid-position",this.document);const a=n.getChild(n.childCount-1),l=a instanceof rt?ne._createAt(a,"end"):ne._createAt(n,"end");return this.move(Ae._createIn(i),ne._createAt(n,"end")),this.remove(Ae._createOn(i)),l}insert(e,n){n=jn(n)?[...n]:[n],mx(n,this.document);const i=n.reduce((h,p)=>{const g=h[h.length-1],b=!p.is("uiElement");return!g||g.breakAttributes!=b?h.push({breakAttributes:b,nodes:[p]}):g.nodes.push(p),h},[]);let a=null,l=e;for(const{nodes:h,breakAttributes:p}of i){const g=this._insertNodes(l,h,p);a||(a=g.start),l=g.end}return a?new Ae(a,l):new Ae(e)}remove(e){const n=e instanceof Ae?e:Ae._createOn(e);if(wu(n,this.document),n.isCollapsed)return new ea(this.document);const{start:i,end:a}=this._breakAttributesRange(n,!0),l=i.parent,h=a.offset-i.offset,p=l._removeChildren(i.offset,h);for(const b of p)this._removeFromClonedElementsGroup(b);const g=this.mergeAttributes(i);return n.start=g,n.end=g.clone(),new ea(this.document,p)}clear(e,n){wu(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of i){const l=a.item;let h;if(l.is("element")&&n.isSimilar(l))h=Ae._createOn(l);else if(!a.nextPosition.isAfter(e.start)&&l.is("$textProxy")){const p=l.getAncestors().find(g=>g.is("element")&&n.isSimilar(g));p&&(h=Ae._createIn(p))}h&&(h.end.isAfter(e.end)&&(h.end=e.end),h.start.isBefore(e.start)&&(h.start=e.start),this.remove(h))}}move(e,n){let i;if(n.isAfter(e.end)){n=this._breakAttributes(n,!0);const a=n.parent,l=a.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),n.offset+=a.childCount-l}else i=this.remove(e);return this.insert(n,i)}wrap(e,n){if(!(n instanceof bu))throw new N("view-writer-wrap-invalid-attribute",this.document);if(wu(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!B9(i.parent)&&(i=i.getLastMatchingPosition(l=>l.item.is("uiElement"))),i=this._wrapPosition(i,n);const a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new Ae(i)}else return this._wrapRange(e,n)}unwrap(e,n){if(!(n instanceof bu))throw new N("view-writer-unwrap-invalid-attribute",this.document);if(wu(e,this.document),e.isCollapsed)return e;const{start:i,end:a}=this._breakAttributesRange(e,!0),l=i.parent,h=this._unwrapChildren(l,i.offset,a.offset,n),p=this.mergeAttributes(h.start);p.isEqual(h.start)||h.end.offset--;const g=this.mergeAttributes(h.end);return new Ae(p,g)}rename(e,n){const i=new mu(this.document,e,n.getAttributes());return this.insert(ne._createAfter(n),i),this.move(Ae._createIn(n),ne._createAt(i,0)),this.remove(Ae._createOn(n)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,n){return ne._createAt(e,n)}createPositionAfter(e){return ne._createAfter(e)}createPositionBefore(e){return ne._createBefore(e)}createRange(e,n){return new Ae(e,n)}createRangeOn(e){return Ae._createOn(e)}createRangeIn(e){return Ae._createIn(e)}createSelection(...e){return new io(...e)}createSlot(e="children"){if(!this._slotFactory)throw new N("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,n,i){let a;if(i?a=Pw(e):a=e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new N("view-writer-invalid-position-container",this.document);let l;i?l=this._breakAttributes(e,!0):l=e.parent.is("$text")?Rw(e):e;const h=a._insertChild(l.offset,n);for(const v of n)this._addToClonedElementsGroup(v);const p=l.getShiftedBy(h),g=this.mergeAttributes(l);g.isEqual(l)||p.offset--;const b=this.mergeAttributes(p);return new Ae(g,b)}_wrapChildren(e,n,i,a){let l=n;const h=[];for(;l<i;){const g=e.getChild(l),b=g.is("$text"),v=g.is("attributeElement");if(v&&this._wrapAttributeElement(a,g))h.push(new ne(e,l));else if(b||!v||O9(a,g)){const y=a._clone();g._remove(),y._appendChild(g),e._insertChild(l,y),this._addToClonedElementsGroup(y),h.push(new ne(e,l))}else this._wrapChildren(g,0,g.childCount,a);l++}let p=0;for(const g of h){if(g.offset-=p,g.offset==n)continue;this.mergeAttributes(g).isEqual(g)||(p++,i--)}return Ae._createFromParentsAndOffsets(e,n,e,i)}_unwrapChildren(e,n,i,a){let l=n;const h=[];for(;l<i;){const g=e.getChild(l);if(!g.is("attributeElement")){l++;continue}if(g.isSimilar(a)){const b=g.getChildren(),v=g.childCount;g._remove(),e._insertChild(l,b),this._removeFromClonedElementsGroup(g),h.push(new ne(e,l),new ne(e,l+v)),l+=v,i+=v-1;continue}if(this._unwrapAttributeElement(a,g)){h.push(new ne(e,l),new ne(e,l+1)),l++;continue}this._unwrapChildren(g,0,g.childCount,a),l++}let p=0;for(const g of h){if(g.offset-=p,g.offset==n||g.offset==i)continue;this.mergeAttributes(g).isEqual(g)||(p++,i--)}return Ae._createFromParentsAndOffsets(e,n,e,i)}_wrapRange(e,n){const{start:i,end:a}=this._breakAttributesRange(e,!0),l=i.parent,h=this._wrapChildren(l,i.offset,a.offset,n),p=this.mergeAttributes(h.start);p.isEqual(h.start)||h.end.offset--;const g=this.mergeAttributes(h.end);return new Ae(p,g)}_wrapPosition(e,n){if(n.isSimilar(e.parent))return px(e.clone());e.parent.is("$text")&&(e=Rw(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const a=new Ae(e,e.getShiftedBy(1));this.wrap(a,n);const l=new ne(i.parent,i.index);i._remove();const h=l.nodeBefore,p=l.nodeAfter;return h instanceof rt&&p instanceof rt?gx(h,p):px(l)}_wrapAttributeElement(e,n){if(!kx(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&n.hasAttribute(i)&&n.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(n.hasStyle(i)&&n.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||n.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),n);for(const i of e.getStyleNames())n.hasStyle(i)||this.setStyle(i,e.getStyle(i),n);for(const i of e.getClassNames())n.hasClass(i)||this.addClass(i,n);return!0}_unwrapAttributeElement(e,n){if(!kx(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&(!n.hasAttribute(i)||n.getAttribute(i)!==e.getAttribute(i)))return!1;if(!n.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!n.hasStyle(i)||n.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,n);return this.removeClass(Array.from(e.getClassNames()),n),this.removeStyle(Array.from(e.getStyleNames()),n),!0}_breakAttributesRange(e,n=!1){const i=e.start,a=e.end;if(wu(e,this.document),e.isCollapsed){const g=this._breakAttributes(e.start,n);return new Ae(g,g)}const l=this._breakAttributes(a,n),h=l.parent.childCount,p=this._breakAttributes(i,n);return l.offset+=l.parent.childCount-h,new Ae(p,l)}_breakAttributes(e,n=!1){const i=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new N("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new N("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new N("view-writer-cannot-break-raw-element",this.document);if(!n&&a.is("$text")&&Bw(a.parent)||Bw(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Rw(e),n);const l=a.childCount;if(i==l){const h=new ne(a.parent,a.index+1);return this._breakAttributes(h,n)}else if(i===0){const h=new ne(a.parent,a.index);return this._breakAttributes(h,n)}else{const h=a.index+1,p=a._clone();a.parent._insertChild(h,p),this._addToClonedElementsGroup(p);const g=a.childCount-i,b=a._removeChildren(i,g);p._appendChild(b);const v=new ne(a.parent,h);return this._breakAttributes(v,n)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const n=e.id;if(!n)return;let i=this._cloneGroups.get(n);i||(i=new Set,this._cloneGroups.set(n,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const n=e.id;if(!n)return;const i=this._cloneGroups.get(n);i&&i.delete(e)}}function B9(s){return Array.from(s.getChildren()).some(e=>!e.is("uiElement"))}function Pw(s){let e=s.parent;for(;!Bw(e);){if(!e)return;e=e.parent}return e}function O9(s,e){return s.priority<e.priority?!0:s.priority>e.priority?!1:s.getIdentity()<e.getIdentity()}function px(s){const e=s.nodeBefore;if(e&&e.is("$text"))return new ne(e,e.data.length);const n=s.nodeAfter;return n&&n.is("$text")?new ne(n,0):s}function Rw(s){if(s.offset==s.parent.data.length)return new ne(s.parent.parent,s.parent.index+1);if(s.offset===0)return new ne(s.parent.parent,s.parent.index);const e=s.parent.data.slice(s.offset);return s.parent._data=s.parent.data.slice(0,s.offset),s.parent.parent._insertChild(s.parent.index+1,new rt(s.root.document,e)),new ne(s.parent.parent,s.parent.index+1)}function gx(s,e){const n=s.data.length;return s._data+=e.data,e._remove(),new ne(s,n)}const N9=[rt,bu,mu,Dw,Iw,Jf];function mx(s,e){for(const n of s){if(!N9.some(i=>n instanceof i))throw new N("view-writer-insert-invalid-node-type",e);n.is("$text")||mx(n.getChildren(),e)}}function Bw(s){return s&&(s.is("containerElement")||s.is("documentFragment"))}function wu(s,e){const n=Pw(s.start),i=Pw(s.end);if(!n||!i||n!==i)throw new N("view-writer-invalid-range-container",e)}function kx(s,e){return s.id===null&&e.id===null}const bx=s=>s.createTextNode(" "),wx=s=>{const e=s.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},_x=s=>{const e=s.createElement("br");return e.dataset.ckeFiller="true",e},so=7,_u="⁠".repeat(so);function gr(s){return typeof s=="string"?s.substr(0,so)===_u:jt(s)&&s.data.substr(0,so)===_u}function vu(s){return s.data.length==so&&gr(s)}function vx(s){const e=typeof s=="string"?s:s.data;return gr(s)?e.slice(so):e}function M9(s){s.document.on("arrowKey",V9,{priority:"low"})}function V9(s,e){if(e.keyCode==ze.arrowleft){const n=e.domTarget.ownerDocument.defaultView.getSelection();if(n.rangeCount==1&&n.getRangeAt(0).collapsed){const i=n.getRangeAt(0).startContainer,a=n.getRangeAt(0).startOffset;gr(i)&&a<=so&&n.collapse(i,0)}}}var Ax=o(7526),Ow={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ow.insert="head",Ow.singleton=!0,ue()(Ax.A,Ow),Ax.A.locals;class L9 extends tt(){constructor(e,n){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else if(e==="children")this.markedChildren.add(n);else throw new N("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!_.isAndroid)return;let e=null;const n=_.isBlink&&!_.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=ne._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(n)if(e){const i=this.domConverter.viewPositionToDom(e),a=i.parent.ownerDocument;gr(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=Cx(a,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const i=Array.from(n.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(i,a),h=this._findUpdateActions(l,i,a,z9);if(h.indexOf("update")!==-1){const p={equal:0,insert:0,delete:0};for(const g of h)if(g==="update"){const b=p.equal+p.insert,v=p.equal+p.delete,y=e.getChild(b);y&&!y.is("uiElement")&&!y.is("rawElement")&&this._updateElementMappings(y,i[v]),BE(a[b]),p.equal++}else p[g]++}}_updateElementMappings(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?ne._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&jt(n.parent)&&gr(n.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!gr(e))throw new N("view-renderer-filler-was-lost",this);vu(e)?e.remove():e.data=e.data.substr(so),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!F9(n)||i===n.getFillerOffset())return!1;const a=e.nodeBefore,l=e.nodeAfter;return!(a instanceof rt||l instanceof rt||_.isAndroid&&(a||l))}_updateText(e,n){const i=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const h=n.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(l=_u+l),yx(i,l)}_updateAttrs(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const i=Array.from(n.attributes).map(l=>l.name),a=e.getAttributeKeys();for(const l of a)this.domConverter.setDomElementAttribute(n,l,e.getAttribute(l),e);for(const l of i)e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(n,l)}_updateChildren(e,n){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(_.isAndroid){let y=null;for(const I of Array.from(i.childNodes)){if(y&&jt(y)&&jt(I)){i.normalize();break}y=I}}const a=n.inlineFillerPosition,l=i.childNodes,h=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Cx(i.ownerDocument,h,a.offset);const p=this._diffNodeLists(l,h),g=this._findUpdateActions(p,l,h,j9);let b=0;const v=new Set;for(const y of g)y==="delete"?(v.add(l[b]),BE(l[b])):(y==="equal"||y==="update")&&b++;b=0;for(const y of g)y==="insert"?(IE(i,b,h[b]),b++):y==="update"?(yx(l[b],h[b].data),b++):y==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[b])),b++);for(const y of v)y.parentNode||this.domConverter.unbindDomElement(y)}_diffNodeLists(e,n){return e=H9(e,this._fakeSelectionContainer),he(e,n,U9.bind(null,this.domConverter))}_findUpdateActions(e,n,i,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let l=[],h=[],p=[];const g={equal:0,insert:0,delete:0};for(const b of e)b==="insert"?p.push(i[g.equal+g.insert]):b==="delete"?h.push(n[g.equal+g.delete]):(l=l.concat(he(h,p,a).map(v=>v==="equal"?"update":v)),l.push("equal"),h=[],p=[]),g[b]++;return l.concat(he(h,p,a).map(b=>b==="equal"?"update":b))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const n of e.getChildren())this._markDescendantTextToSync(n)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=q9(n));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||" ";const a=n.getSelection(),l=n.createRange();a.removeAllRanges(),l.selectNodeContents(i),a.addRange(l)}_updateDomSelection(e){const n=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(n))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);n.setBaseAndExtent(i.parent,i.offset,a.parent,a.offset),_.isGecko&&$9(a,n)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const n=e&&this.domConverter.domSelectionToView(e);return!(n&&this.selection.isEqual(n)||!this.selection.isCollapsed&&this.selection.isSimilar(n))}_fakeSelectionNeedsUpdate(e){const n=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!n||n.parentElement!==e||i.anchorNode!==n&&!n.contains(i.anchorNode)?!0:n.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const n=e.getSelection();if(n.rangeCount){const i=e.activeElement,a=this.domConverter.mapDomToView(i);i&&a&&n.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function F9(s){if(s.getAttribute("contenteditable")=="false")return!1;const e=s.findAncestor(n=>n.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function Cx(s,e,n){const i=e instanceof Array?e:e.childNodes,a=i[n];if(jt(a))return a.data=_u+a.data,a;{const l=s.createTextNode(_u);return Array.isArray(e)?i.splice(n,0,l):IE(e,n,l),l}}function z9(s,e){return Wi(s)&&Wi(e)&&!jt(s)&&!jt(e)&&!fu(s)&&!fu(e)&&s.tagName.toLowerCase()===e.tagName.toLowerCase()}function j9(s,e){return Wi(s)&&Wi(e)&&jt(s)&&jt(e)}function U9(s,e,n){return e===n?!0:jt(e)&&jt(n)?e.data===n.data:!!(s.isBlockFiller(e)&&s.isBlockFiller(n))}function $9(s,e){const n=s.parent;if(n.nodeType!=Node.ELEMENT_NODE||s.offset!=n.childNodes.length-1)return;const i=n.childNodes[s.offset];i&&i.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function H9(s,e){const n=Array.from(s);return n.length==0||!e||n[n.length-1]==e&&n.pop(),n}function q9(s){const e=s.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function yx(s,e){const n=s.data;if(n==e)return;const i=L(n,e);for(const a of i)a.type==="insert"?s.insertData(a.index,a.values.join("")):s.deleteData(a.index,a.howMany)}const W9=_x(ke.document),G9=bx(ke.document),K9=wx(ke.document),Yf="data-ck-unsafe-attribute-",Ex="data-ck-unsafe-element";class Zf{constructor(e,{blockFillerMode:n,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new oo,this._inlineObjectElementMatcher=new oo,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=i,this.blockFillerMode=n||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ke.document:ke.document.implementation.createHTMLDocument("")}bindFakeSelection(e,n){this._fakeSelectionMapping.set(e,new io(n))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}unbindDomElement(e){const n=this._domToViewMapping.get(e);if(n){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(n);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}shouldRenderAttribute(e,n,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&n.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!n.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,n){if(this.renderingMode==="data"){e.innerHTML=n;return}const i=new DOMParser().parseFromString(n,"text/html"),a=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)a.appendChild(l[0]);const h=i.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),p=[];let g;for(;g=h.nextNode();)p.push(g);for(const b of p){for(const y of b.getAttributeNames())this.setDomElementAttribute(b,y,b.getAttribute(y));const v=b.tagName.toLowerCase();this._shouldRenameElement(v)&&(Sx(v),b.replaceWith(this._createReplacementDomElement(v,b)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,n={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{const i=e;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let a;if(i.is("documentFragment"))a=this._domDocument.createDocumentFragment(),n.bind&&this.bindDocumentFragments(a,i);else{if(i.is("uiElement"))return i.name==="$comment"?a=this._domDocument.createComment(i.getCustomProperty("$rawContent")):a=i.render(this._domDocument,this),n.bind&&this.bindElements(a,i),a;this._shouldRenameElement(i.name)?(Sx(i.name),a=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?a=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):a=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(a,this),n.bind&&this.bindElements(a,i);for(const l of i.getAttributeKeys())this.setDomElementAttribute(a,l,i.getAttribute(l),i)}if(n.withChildren!==!1)for(const l of this.viewChildrenToDom(i,n))a.appendChild(l);return a}}setDomElementAttribute(e,n,i,a){const l=this.shouldRenderAttribute(n,i,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(n);if(l||Te("domconverter-unsafe-attribute-detected",{domElement:e,key:n,value:i}),!hL(n)){Te("domconverter-invalid-attribute-detected",{domElement:e,key:n,value:i});return}e.hasAttribute(n)&&!l?e.removeAttribute(n):e.hasAttribute(Yf+n)&&l&&e.removeAttribute(Yf+n),e.setAttribute(l?n:Yf+n,i)}removeDomElementAttribute(e,n){n!=Ex&&(e.removeAttribute(n),e.removeAttribute(Yf+n))}*viewChildrenToDom(e,n={}){const i=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const l of e.getChildren()){i===a&&(yield this._getBlockFiller());const h=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!tr(l.getAttributes());h&&this.renderingMode=="data"?yield*this.viewChildrenToDom(l,n):(h&&Te("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,n)),a++}i===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const n=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(n.parent,n.offset),a.setEnd(i.parent,i.offset),a}viewPositionToDom(e){const n=e.parent;if(n.is("$text")){const i=this.findCorrespondingDomText(n);if(!i)return null;let a=e.offset;return gr(i)&&(a+=so),{parent:i,offset:a}}else{let i,a,l;if(e.offset===0){if(i=this.mapViewToDom(n),!i)return null;l=i.childNodes[0]}else{const p=e.nodeBefore;if(a=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!a)return null;i=a.parentNode,l=a.nextSibling}if(jt(l)&&gr(l))return{parent:l,offset:so};const h=a?Uf(a)+1:0;return{parent:i,offset:h}}}domToView(e,n={}){const i=[],a=this._domToView(e,n,i),l=a.next().value;return!l||(a.next(),this._processDomInlineNodes(null,i,n),l.is("$text")&&l.data.length==0)?null:l}*domChildrenToView(e,n={},i=[]){for(let a=0;a<e.childNodes.length;a++){const l=e.childNodes[a],h=this._domToView(l,n,i),p=h.next().value;p!==null&&(this._isBlockViewElement(p)&&this._processDomInlineNodes(e,i,n),yield p,h.next())}this._processDomInlineNodes(e,i,n)}domSelectionToView(e){if(Y9(e))return new io([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;jt(a)&&(a=a.parentNode);const l=this.fakeSelectionToView(a);if(l)return l}const n=this.isDomSelectionBackward(e),i=[];for(let a=0;a<e.rangeCount;a++){const l=e.getRangeAt(a),h=this.domRangeToView(l);h&&i.push(h)}return new io(i,{backward:n})}domRangeToView(e){const n=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return n&&i?new Ae(n,i):null}domPositionToView(e,n=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Uf(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return ne._createBefore(i);if(jt(e)){if(vu(e))return this.domPositionToView(e.parentNode,Uf(e));const a=this.findCorrespondingViewText(e);let l=n;return a?(gr(e)&&(l-=so,l=l<0?0:l),new ne(a,l)):null}else{if(n===0){const a=this.mapDomToView(e);if(a)return new ne(a,0)}else{const a=e.childNodes[n-1];if(jt(a)&&vu(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,Uf(a));const l=jt(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(l&&l.parent)return new ne(l.parent,l.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(vu(e))return null;const n=this.getHostViewElement(e);if(n)return n;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const a=this.mapDomToView(i);if(a){const l=a.nextSibling;return l instanceof rt?l:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const l=a.getChild(0);return l instanceof rt?l:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const n=e.previousSibling;return n&&this.mapViewToDom(n)?this.mapViewToDom(n).nextSibling:!n&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const n=this.mapViewToDom(e);if(n&&n.ownerDocument.activeElement!==n){const{scrollX:i,scrollY:a}=ke.window,l=[];xx(n,h=>{const{scrollLeft:p,scrollTop:g}=h;l.push([p,g])}),n.focus(),xx(n,h=>{const[p,g]=l.shift();h.scrollLeft=p,h.scrollTop=g}),ke.window.scrollTo(i,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const n=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(n);i&&i.rangeCount>0&&n.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(W9):e.tagName==="BR"&&Tx(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(K9)||J9(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const n=this._domDocument.createRange();try{n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=n.collapsed;return n.detach(),i}getHostViewElement(e){const n=cL(e);for(n.pop();n.length;){const i=n.pop(),a=this._domToViewMapping.get(i);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return bx(this._domDocument);case"markedNbsp":return wx(this._domDocument);case"br":return _x(this._domDocument)}}_isDomSelectionPositionCorrect(e,n){if(jt(e)&&gr(e)&&n<so||this.isElement(e)&&gr(e.childNodes[n]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(e,n,i){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(fu(e)&&n.skipComments)return null;if(jt(e)){if(vu(e))return null;{const l=e.data;if(l==="")return null;const h=new rt(this.document,l);return i.push(h),h}}else{let l=this.mapDomToView(e);if(l)return this._isInlineObjectElement(l)&&i.push(l),l;if(this.isDocumentFragment(e))l=new ea(this.document),n.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,n),n.bind&&this.bindElements(e,l);const p=e.attributes;if(p)for(let g=p.length,b=0;b<g;b++)l._setAttribute(p[b].name,p[b].value);if(this._isViewElementWithRawContent(l,n))return l._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(l)||i.push(l),l;if(fu(e))return l._setCustomProperty("$rawContent",e.data),l}yield l;const h=[];if(n.withChildren!==!1)for(const p of this.domChildrenToView(e,n,h))l._appendChild(p);if(this._isInlineObjectElement(l))i.push(l);else for(const p of h)i.push(p)}}_processDomInlineNodes(e,n,i){if(!n.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let l=0;l<n.length;l++){const h=n[l];if(!h.is("$text")){a=!1;continue}let p,g=!1;if(Q9(h,this.preElements))p=vx(h.data);else{p=h.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(p.charAt(p.length-1));const b=l>0?n[l-1]:null,v=l+1<n.length?n[l+1]:null,y=!b||b.is("element")&&b.name=="br"||a,I=v?!1:!gr(h.data);i.withChildren!==!1&&(y&&(p=p.replace(/^ /,"")),I&&(p=p.replace(/ $/,""))),p=vx(p),p=p.replace(/ \u00A0/g,"  ");const V=v&&v.is("element")&&v.name!="br",F=v&&v.is("$text")&&v.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(p)||!v||V||F)&&(p=p.replace(/\u00A0$/," ")),(y||b&&b.is("element")&&b.name!="br")&&(p=p.replace(/^\u00A0/," "))}p.length==0&&h.parent?(h._remove(),n.splice(l,1),l--):(h._data=p,a=g)}n.length=0}_processDataFromViewText(e){let n=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return n;if(n.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(n=" "+n.substr(1))}if(n.charAt(n.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),a=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(n.charAt(n.length-2)==" "||!i||a)&&(n=n.substr(0,n.length-1)+" ")}return n.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const n=this._processDataFromViewText(e);return n.charAt(n.length-1)==" "}_getTouchingInlineViewNode(e,n){const i=new Xs({startPosition:n?ne._createAfter(e):ne._createBefore(e),direction:n?"forward":"backward"});for(const a of i){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,n){if(fu(e))return new Jf(this.document,"$comment");const i=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new pr(this.document,i)}_isViewElementWithRawContent(e,n){return n.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const n=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(n)}_createReplacementDomElement(e,n){const i=this._domDocument.createElement("span");if(i.setAttribute(Ex,e),n){for(;n.firstChild;)i.appendChild(n.firstChild);for(const a of n.getAttributeNames())i.setAttribute(a,n.getAttribute(a))}return i}}function Q9(s,e){return s.getAncestors().some(n=>n.is("element")&&e.includes(n.name))}function xx(s,e){let n=s;for(;n;)e(n),n=n.parentElement}function J9(s,e){return s.isEqualNode(G9)&&Tx(s,e)&&s.parentNode.childNodes.length===1}function Tx(s,e){const n=s.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function Sx(s){s==="script"&&Te("domconverter-unsafe-script-element-detected"),s==="style"&&Te("domconverter-unsafe-style-element-detected")}function Y9(s){if(!_.isGecko||!s.rangeCount)return!1;const e=s.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class ui extends ro(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Z9=HE(function(s,e){ae(e,uc(e),s)});const Dx=Z9;class mc{constructor(e,n,i){this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,Dx(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Gi extends ui{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(a,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,n,i){this.isEnabled&&this.document.fire(e,new mc(this.view,n,i))}}class X9 extends Gi{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const n={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return hc(this)}};this.fire(e.type,e,n)}}var e8=function(){return dr.Date.now()};const Nw=e8;var t8=/\s/;function n8(s){for(var e=s.length;e--&&t8.test(s.charAt(e)););return e}const r8=n8;var o8=/^\s+/;function i8(s){return s&&s.slice(0,r8(s)+1).replace(o8,"")}const s8=i8;var Ix=NaN,a8=/^[-+]0x[0-9a-f]+$/i,c8=/^0b[01]+$/i,l8=/^0o[0-7]+$/i,u8=parseInt;function d8(s){if(typeof s=="number")return s;if(qf(s))return Ix;if(pt(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=pt(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=s8(s);var n=c8.test(s);return n||l8.test(s)?u8(s.slice(2),n?2:8):a8.test(s)?Ix:+s}const Px=d8;var h8="Expected a function",f8=Math.max,p8=Math.min;function g8(s,e,n){var i,a,l,h,p,g,b=0,v=!1,y=!1,I=!0;if(typeof s!="function")throw new TypeError(h8);e=Px(e)||0,pt(n)&&(v=!!n.leading,y="maxWait"in n,l=y?f8(Px(n.maxWait)||0,e):l,I="trailing"in n?!!n.trailing:I);function V(pe){var Ce=i,be=a;return i=a=void 0,b=pe,h=s.apply(be,Ce),h}function F(pe){return b=pe,p=setTimeout(ee,e),v?V(pe):h}function H(pe){var Ce=pe-g,be=pe-b,mt=e-Ce;return y?p8(mt,l-be):mt}function W(pe){var Ce=pe-g,be=pe-b;return g===void 0||Ce>=e||Ce<0||y&&be>=l}function ee(){var pe=Nw();if(W(pe))return de(pe);p=setTimeout(ee,H(pe))}function de(pe){return p=void 0,I&&i?V(pe):(i=a=void 0,h)}function Oe(){p!==void 0&&clearTimeout(p),b=0,i=g=a=p=void 0}function Ke(){return p===void 0?h:de(Nw())}function lt(){var pe=Nw(),Ce=W(pe);if(i=arguments,a=this,g=pe,Ce){if(p===void 0)return F(g);if(y)return clearTimeout(p),p=setTimeout(ee,e),V(g)}return p===void 0&&(p=setTimeout(ee,e)),h}return lt.cancel=Oe,lt.flush=Ke,lt}const kc=g8;class m8 extends ui{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=kc(n=>{this.document.fire("selectionChangeDone",n)},200)}observe(){const e=this.document;e.on("arrowKey",(n,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(n,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const n=this.document.selection,i=new io(n.getRanges(),{backward:n.isBackward,fake:!1});(e==ze.arrowleft||e==ze.arrowup)&&i.setTo(i.getFirstPosition()),(e==ze.arrowright||e==ze.arrowdown)&&i.setTo(i.getLastPosition());const a={oldSelection:n,newSelection:i,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}var k8="__lodash_hash_undefined__";function b8(s){return this.__data__.set(s,k8),this}const w8=b8;function _8(s){return this.__data__.has(s)}const v8=_8;function Xf(s){var e=-1,n=s==null?0:s.length;for(this.__data__=new So;++e<n;)this.add(s[e])}Xf.prototype.add=Xf.prototype.push=w8,Xf.prototype.has=v8;const A8=Xf;function C8(s,e){for(var n=-1,i=s==null?0:s.length;++n<i;)if(e(s[n],n,s))return!0;return!1}const y8=C8;function E8(s,e){return s.has(e)}const x8=E8;var T8=1,S8=2;function D8(s,e,n,i,a,l){var h=n&T8,p=s.length,g=e.length;if(p!=g&&!(h&&g>p))return!1;var b=l.get(s),v=l.get(e);if(b&&v)return b==e&&v==s;var y=-1,I=!0,V=n&S8?new A8:void 0;for(l.set(s,e),l.set(e,s);++y<p;){var F=s[y],H=e[y];if(i)var W=h?i(H,F,y,e,s,l):i(F,H,y,s,e,l);if(W!==void 0){if(W)continue;I=!1;break}if(V){if(!y8(e,function(ee,de){if(!x8(V,de)&&(F===ee||a(F,ee,n,i,l)))return V.push(de)})){I=!1;break}}else if(!(F===H||a(F,H,n,i,l))){I=!1;break}}return l.delete(s),l.delete(e),I}const Rx=D8;function I8(s){var e=-1,n=Array(s.size);return s.forEach(function(i,a){n[++e]=[a,i]}),n}const P8=I8;function R8(s){var e=-1,n=Array(s.size);return s.forEach(function(i){n[++e]=i}),n}const B8=R8;var O8=1,N8=2,M8="[object Boolean]",V8="[object Date]",L8="[object Error]",F8="[object Map]",z8="[object Number]",j8="[object RegExp]",U8="[object Set]",$8="[object String]",H8="[object Symbol]",q8="[object ArrayBuffer]",W8="[object DataView]",Bx=Sr?Sr.prototype:void 0,Mw=Bx?Bx.valueOf:void 0;function G8(s,e,n,i,a,l,h){switch(n){case W8:if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case q8:return!(s.byteLength!=e.byteLength||!l(new Vf(s),new Vf(e)));case M8:case V8:case z8:return zi(+s,+e);case L8:return s.name==e.name&&s.message==e.message;case j8:case $8:return s==e+"";case F8:var p=P8;case U8:var g=i&O8;if(p||(p=B8),s.size!=e.size&&!g)return!1;var b=h.get(s);if(b)return b==e;i|=N8,h.set(s,e);var v=Rx(p(s),p(e),i,a,l,h);return h.delete(s),v;case H8:if(Mw)return Mw.call(s)==Mw.call(e)}return!1}const K8=G8;var Q8=1,J8=Object.prototype,Y8=J8.hasOwnProperty;function Z8(s,e,n,i,a,l){var h=n&Q8,p=Wb(s),g=p.length,b=Wb(e),v=b.length;if(g!=v&&!h)return!1;for(var y=g;y--;){var I=p[y];if(!(h?I in e:Y8.call(e,I)))return!1}var V=l.get(s),F=l.get(e);if(V&&F)return V==e&&F==s;var H=!0;l.set(s,e),l.set(e,s);for(var W=h;++y<g;){I=p[y];var ee=s[I],de=e[I];if(i)var Oe=h?i(de,ee,I,e,s,l):i(ee,de,I,s,e,l);if(!(Oe===void 0?ee===de||a(ee,de,n,i,l):Oe)){H=!1;break}W||(W=I=="constructor")}if(H&&!W){var Ke=s.constructor,lt=e.constructor;Ke!=lt&&"constructor"in s&&"constructor"in e&&!(typeof Ke=="function"&&Ke instanceof Ke&&typeof lt=="function"&&lt instanceof lt)&&(H=!1)}return l.delete(s),l.delete(e),H}const X8=Z8;var ez=1,Ox="[object Arguments]",Nx="[object Array]",ep="[object Object]",tz=Object.prototype,Mx=tz.hasOwnProperty;function nz(s,e,n,i,a,l){var h=Ft(s),p=Ft(e),g=h?Nx:hu(s),b=p?Nx:hu(e);g=g==Ox?ep:g,b=b==Ox?ep:b;var v=g==ep,y=b==ep,I=g==b;if(I&&Gs(s)){if(!Gs(e))return!1;h=!0,v=!1}if(I&&!v)return l||(l=new Io),h||$b(s)?Rx(s,e,n,i,a,l):K8(s,e,g,n,i,a,l);if(!(n&ez)){var V=v&&Mx.call(s,"__wrapped__"),F=y&&Mx.call(e,"__wrapped__");if(V||F){var H=V?s.value():s,W=F?e.value():e;return l||(l=new Io),a(H,W,n,i,l)}}return I?(l||(l=new Io),X8(s,e,n,i,a,l)):!1}const rz=nz;function Vx(s,e,n,i,a){return s===e?!0:s==null||e==null||!Yn(s)&&!Yn(e)?s!==s&&e!==e:rz(s,e,n,i,Vx,a)}const tp=Vx;function oz(s,e,n){n=typeof n=="function"?n:void 0;var i=n?n(s,e):void 0;return i===void 0?tp(s,e,void 0,n):!!i}const iz=oz;class Lx extends ui{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const n=this.domConverter,i=new Set,a=new Set;for(const h of e){const p=n.mapDomToView(h.target);p&&(p.is("uiElement")||p.is("rawElement")||h.type==="childList"&&!this._isBogusBrMutation(h)&&a.add(p))}for(const h of e){const p=n.mapDomToView(h.target);if(!(p&&(p.is("uiElement")||p.is("rawElement")))&&h.type==="characterData"){const g=n.findCorrespondingViewText(h.target);g&&!a.has(g.parent)?i.add(g):!g&&gr(h.target)&&a.add(n.mapDomToView(h.target.parentNode))}}let l=!1;for(const h of i)l=!0,this.renderer.markToSync("text",h);for(const h of a){const p=n.mapViewToDom(h),g=Array.from(h.getChildren()),b=Array.from(n.domChildrenToView(p,{withChildren:!1}));iz(g,b,sz)||(l=!0,this.renderer.markToSync("children",h))}l&&this.view.forceRender()}_isBogusBrMutation(e){let n=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(n=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),n&&n.is("element","br")}}function sz(s,e){if(!Array.isArray(s))return s===e?!0:s.is("$text")&&e.is("$text")?s.data===e.data:!1}class np extends Gi{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const n=this.document;n.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),n.on("blur",(i,a)=>{const l=n.selection.editableElement;(l===null||l===a.target)&&(n.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class az extends ui{constructor(e){super(e),this.mutationObserver=e.getObserver(Lx),this.focusObserver=e.getObserver(np),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=kc(n=>{this.document.fire("selectionChangeDone",n)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=kc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const n=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,n),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",a,{priority:"highest",useCapture:!0}),!this._documents.has(n)&&(this.listenTo(n,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",(l,h)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(h,n),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(n))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,n){if(!this.isEnabled)return;const i=n.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(i);if(a.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(a)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(a))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:a,domSelection:i};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class cz extends Gi{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const n=this.document;n.on("compositionstart",()=>{n.isComposing=!0},{priority:"low"}),n.on("compositionend",()=>{n.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Fx{constructor(e,n={}){this._files=n.cacheFiles?zx(e):null,this._native=e}get files(){return this._files||(this._files=zx(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,n){this._native.setData(e,n)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,n,i){this._native.setDragImage(e,n,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function zx(s){const e=Array.from(s.files||[]),n=Array.from(s.items||[]);return e.length?e:n.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class lz extends Gi{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const n=e.getTargetRanges(),i=this.view,a=i.document;let l=null,h=null,p=[];if(e.dataTransfer&&(l=new Fx(e.dataTransfer)),e.data!==null?h=e.data:l&&(h=l.getData("text/plain")),a.selection.isFake)p=Array.from(a.selection.getRanges());else if(n.length)p=n.map(g=>{const b=i.domConverter.domPositionToView(g.startContainer,g.startOffset),v=i.domConverter.domPositionToView(g.endContainer,g.endOffset);if(b)return i.createRange(b,v);if(v)return i.createRange(v)}).filter(g=>!!g);else if(_.isAndroid){const g=e.target.ownerDocument.defaultView.getSelection();p=Array.from(i.domConverter.domSelectionToView(g).getRanges())}if(_.isAndroid&&e.inputType=="insertCompositionText"&&h&&h.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(p[0].end)]});return}if(e.inputType=="insertText"&&h&&h.includes(`
`)){const g=h.split(/\n{1,2}/g);let b=p;for(let v=0;v<g.length;v++){const y=g[v];y!=""&&(this.fire(e.type,e,{data:y,dataTransfer:l,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing}),b=[a.selection.getFirstRange()]),v+1<g.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:b}),b=[a.selection.getFirstRange()])}return}this.fire(e.type,e,{data:h,dataTransfer:l,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing})}}class uz extends ui{constructor(e){super(e),this.document.on("keydown",(n,i)=>{if(this.isEnabled&&AL(i.keyCode)){const a=new pc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(a,i),a.stop.called&&n.stop()}})}observe(){}stopObserving(){}}class dz extends ui{constructor(e){super(e);const n=this.document;n.on("keydown",(i,a)=>{if(!this.isEnabled||a.keyCode!=ze.tab||a.ctrlKey)return;const l=new pc(n,"tab",n.selection.getFirstRange());n.fire(l,a),l.stop.called&&i.stop()})}observe(){}stopObserving(){}}var hz=1,fz=4;function pz(s){return Zb(s,hz|fz)}const Ki=pz;class gz extends tt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Qf(e),this.domConverter=new Zf(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new L9(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new fx(this.document),this.addObserver(Lx),this.addObserver(np),this.addObserver(az),this.addObserver(X9),this.addObserver(m8),this.addObserver(cz),this.addObserver(uz),this.addObserver(lz),this.addObserver(dz),M9(this),S9(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(n,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,n="main"){const i=this.document.getRoot(n);i._name=e.tagName.toLowerCase();const a={};for(const{name:h,value:p}of Array.from(e.attributes))a[h]=p,h==="class"?this._writer.addClass(p.split(" "),i):this._writer.setAttribute(h,p,i);this._initialDomRootAttributes.set(e,a);const l=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};l(),this.domRoots.set(n,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(h,p)=>this._renderer.markToSync("children",p)),i.on("change:attributes",(h,p)=>this._renderer.markToSync("attributes",p)),i.on("change:text",(h,p)=>this._renderer.markToSync("text",p)),i.on("change:isReadOnly",()=>this.change(l)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(e,n)}detachDomRoot(e){const n=this.domRoots.get(e);Array.from(n.attributes).forEach(({name:a})=>n.removeAttribute(a));const i=this._initialDomRootAttributes.get(n);for(const a in i)n.setAttribute(a,i[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n);for(const a of this._observers.values())a.stopObserving(n)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);for(const[i,a]of this.domRoots)n.observe(a,i);return n.enable(),n}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:n,viewportOffset:i=20,ancestorOffset:a=20}={}){const l=this.document.selection.getFirstRange();if(!l)return;const h=Ki({alignToTop:e,forceScroll:n,viewportOffset:i,ancestorOffset:a});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const p={target:this.domConverter.viewRangeToDom(l),viewportOffset:i,ancestorOffset:a,alignToTop:e,forceScroll:n};this.fire("scrollToTheSelection",p,h),gL(p)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new N("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(n){N.rethrowUnexpectedError(n,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(np).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,n){return ne._createAt(e,n)}createPositionAfter(e){return ne._createAfter(e)}createPositionBefore(e){return ne._createBefore(e)}createRange(e,n){return new Ae(e,n)}createRangeOn(e){return Ae._createOn(e)}createRangeIn(e){return Ae._createIn(e)}createSelection(...e){return new io(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Qi{is(){throw new Error("is() method is abstract")}}class ta extends Qi{constructor(e){super(),this.parent=null,this._attrs=li(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}getAncestors(e={}){const n=[];let i=e.includeSelf?this:this.parent;for(;i;)n[e.parentFirst?"push":"unshift"](i),i=i.parent;return n}getCommonAncestor(e,n={}){const i=this.getAncestors(n),a=e.getAncestors(n);let l=0;for(;i[l]==a[l]&&i[l];)l++;return l===0?null:i[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),i=e.getPath(),a=dn(n,i);switch(a){case"prefix":return!0;case"extension":return!1;default:return n[a]<i[a]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((n,i)=>(n[i[0]]=i[1],n),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,n){this._attrs.set(e,n)}_setAttributesTo(e){this._attrs=li(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}ta.prototype.is=function(s){return s==="node"||s==="model:node"};class Au{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,n)=>e+n.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const n=this._nodes.indexOf(e);return n==-1?null:n}getNodeStartOffset(e){const n=this.getNodeIndex(e);return n===null?null:this._nodes.slice(0,n).reduce((i,a)=>i+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new N("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){let n=0;for(const i of this._nodes){if(e>=n&&e<n+i.offsetSize)return this.getNodeIndex(i);n+=i.offsetSize}if(n!=e)throw new N("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,n){for(const i of n)if(!(i instanceof ta))throw new N("model-nodelist-insertnodes-not-node",this);this._nodes=pF(this._nodes,Array.from(n),e,0)}_removeNodes(e,n=1){return this._nodes.splice(e,n)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class ot extends ta{constructor(e,n){super(n),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new ot(this.data,this.getAttributes())}static fromJSON(e){return new ot(e.data,e.attributes)}}ot.prototype.is=function(s){return s==="$text"||s==="model:$text"||s==="text"||s==="model:text"||s==="node"||s==="model:node"};class ao extends Qi{constructor(e,n,i){if(super(),this.textNode=e,n<0||n>e.offsetSize)throw new N("model-textproxy-wrong-offsetintext",this);if(i<0||n+i>e.offsetSize)throw new N("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+i),this.offsetInText=n}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const n=[];let i=e.includeSelf?this:this.parent;for(;i;)n[e.parentFirst?"push":"unshift"](i),i=i.parent;return n}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ao.prototype.is=function(s){return s==="$textProxy"||s==="model:$textProxy"||s==="textProxy"||s==="model:textProxy"};class it extends ta{constructor(e,n,i){super(n),this._children=new Au,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let n=this;for(const i of e)n=n.getChild(n.offsetToIndex(i));return n}findAncestor(e,n={}){let i=n.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new it(this.name,this.getAttributes(),n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const i=mz(n);for(const a of i)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,n=1){const i=this._children._removeNodes(e,n);for(const a of i)a.parent=null;return i}static fromJSON(e){let n;if(e.children){n=[];for(const i of e.children)i.name?n.push(it.fromJSON(i)):n.push(ot.fromJSON(i))}return new it(e.name,e.attributes,n)}}it.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="model:element"):s==="element"||s==="model:element"||s==="node"||s==="model:node"};function mz(s){return typeof s=="string"?[new ot(s)]:(jn(s)||(s=[s]),Array.from(s).map(e=>typeof e=="string"?new ot(e):e instanceof ao?new ot(e.data,e.getAttributes()):e))}class di{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new N("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new N("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=G._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,i,a,l;do a=this.position,l=this._visitedParent,{done:n,value:i}=this.next();while(!n&&e(i));n||(this._position=a,this._visitedParent=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),i=this._visitedParent;if(i.parent===null&&n.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Cu(n,i),l=a||jx(n,i,a);if(l instanceof it){if(!this.shallow)n.path.push(0),this._visitedParent=l;else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,na("elementStart",l,e,n,1)}if(l instanceof ot){let h;if(this.singleCharacters)h=1;else{let b=l.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),h=b-n.offset}const p=n.offset-l.startOffset,g=new ao(l,p,h);return n.offset+=h,this._position=n,na("text",g,e,n,h)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():na("elementEnd",i,e,n)}_previous(){const e=this.position,n=this.position.clone(),i=this._visitedParent;if(i.parent===null&&n.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=n.parent,l=Cu(n,a),h=l||Ux(n,a,l);if(h instanceof it)return n.offset--,this.shallow?(this._position=n,na("elementStart",h,e,n,1)):(n.path.push(h.maxOffset),this._position=n,this._visitedParent=h,this.ignoreElementEnd?this._previous():na("elementEnd",h,e,n));if(h instanceof ot){let p;if(this.singleCharacters)p=1;else{let v=h.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>v&&(v=this.boundaries.start.offset),p=n.offset-v}const g=n.offset-h.startOffset,b=new ao(h,g-p,p);return n.offset-=p,this._position=n,na("text",b,e,n,p)}return n.path.pop(),this._position=n,this._visitedParent=i.parent,na("elementStart",i,e,n,1)}}function na(s,e,n,i,a){return{done:!1,value:{type:s,item:e,previousPosition:n,nextPosition:i,length:a}}}class G extends Qi{constructor(e,n,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new N("model-position-root-invalid",e);if(!(n instanceof Array)||n.length===0)throw new N("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[...e.getPath(),...n],e=e.root),this.root=e,this.path=n,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChild(e.offsetToIndex(this.path[n])),!e)throw new N("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new N("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Cu(this,this.parent)}get nodeAfter(){const e=this.parent;return jx(this,e,Cu(this,e))}get nodeBefore(){const e=this.parent;return Ux(this,e,Cu(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const n=dn(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}getLastMatchingPosition(e,n={}){n.startPosition=this;const i=new di(n);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const n=this.parent;return n.is("element")?n.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const n=dn(this.path,e.path),i=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,i)}getCommonAncestor(e){const n=this.getAncestors(),i=e.getAncestors();let a=0;for(;n[a]==i[a]&&n[a];)a++;return a===0?null:n[a-1]}getShiftedBy(e){const n=this.clone(),i=n.offset+e;return n.offset=i<0?0:i,n}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const n=Math.min(this.path.length,e.path.length);for(let i=0;i<n;i++){const a=this.path[i]-e.path[i];if(a<-1||a>1)return!1;if(a===1)return $x(e,this,i);if(a===-1)return $x(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Vw(this.path,n):Vw(e.path,n)}hasSameParentAs(e){if(this.root!==e.root)return!1;const n=this.getParentPath(),i=e.getParentPath();return dn(n,i)=="same"}getTransformedByOperation(e){let n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=G._createAt(this);break}return n}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const n=e.movedRange,i=n.containsPosition(this)||n.start.isEqual(this);let a;return i?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?a=G._createAt(e.deletionPosition):a=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,n){const i=G._createAt(this);if(this.root!=e.root)return i;if(dn(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;i.offset-=n}}else if(dn(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+n>this.path[a])return null;i.path[a]-=n}}return i}_getTransformedByInsertion(e,n){const i=G._createAt(this);if(this.root!=e.root)return i;if(dn(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=n);else if(dn(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(i.path[a]+=n)}return i}_getTransformedByMove(e,n,i){if(n=n._getTransformedByDeletion(e,i),e.isEqual(n))return G._createAt(this);const a=this._getTransformedByDeletion(e,i);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):a._getTransformedByInsertion(n,i)}_getCombined(e,n){const i=e.path.length-1,a=G._createAt(n);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[i]-e.offset,a.path=[...a.path,...this.path.slice(i+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,n,i="toNone"){if(e instanceof G)return new G(e.root,e.path,e.stickiness);{const a=e;if(n=="end")n=a.maxOffset;else{if(n=="before")return this._createBefore(a,i);if(n=="after")return this._createAfter(a,i);if(n!==0&&!n)throw new N("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new N("model-position-parent-incorrect",[this,e]);const l=a.getPath();return l.push(n),new this(a.root,l,i)}}static _createAfter(e,n){if(!e.parent)throw new N("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}static _createBefore(e,n){if(!e.parent)throw new N("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}static fromJSON(e,n){if(e.root==="$graveyard"){const i=new G(n.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!n.getRoot(e.root))throw new N("model-position-fromjson-no-root",n,{rootName:e.root});return new G(n.getRoot(e.root),e.path,e.stickiness)}}G.prototype.is=function(s){return s==="position"||s==="model:position"};function Cu(s,e){const n=e.getChild(e.offsetToIndex(s.offset));return n&&n.is("$text")&&n.startOffset<s.offset?n:null}function jx(s,e,n){return n!==null?null:e.getChild(e.offsetToIndex(s.offset))}function Ux(s,e,n){return n!==null?null:e.getChild(e.offsetToIndex(s.offset)-1)}function $x(s,e,n){return!(n+1===s.path.length||!Vw(e.path,n+1)||!kz(s,n+1))}function Vw(s,e){for(;e<s.length;){if(s[e]!==0)return!1;e++}return!0}function kz(s,e){let n=s.parent,i=s.path.length-1,a=0;for(;i>=e;){if(s.path[i]+a!==n.maxOffset)return!1;a=1,i--,n=n.parent}return!0}class U extends Qi{constructor(e,n){super(),this.start=G._createAt(e),this.end=n?G._createAt(n):G._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new di({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),n=this.end.getParentPath();return dn(e,n)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const i=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return i&&a}containsItem(e){const n=G._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new U(this.start,e.start)),this.containsPosition(e.end)&&n.push(new U(e.end,this.end))):n.push(new U(this.start,this.end)),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,i=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(i=e.end),new U(n,i)}return null}getJoined(e,n=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=n?this.end.isTouching(e.start):this.end.isEqual(e.start):i=n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let a=this.start,l=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(l)&&(l=e.end),new U(a,l)}getMinimalFlatRanges(){const e=[],n=this.start.getCommonPath(this.end).length,i=G._createAt(this.start);let a=i.parent;for(;i.path.length>n+1;){const l=a.maxOffset-i.offset;l!==0&&e.push(new U(i,i.getShiftedBy(l))),i.path=i.path.slice(0,-1),i.offset++,a=a.parent}for(;i.path.length<=this.end.path.length;){const l=this.end.path[i.path.length-1],h=l-i.offset;h!==0&&e.push(new U(i,i.getShiftedBy(h))),i.offset=l,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new di(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new di(e);for(const i of n)yield i.item}*getPositions(e={}){e.boundaries=this;const n=new di(e);yield n.position;for(const i of n)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new U(this.start,this.end)]}getTransformedByOperations(e){const n=[new U(this.start,this.end)];for(const i of e)for(let a=0;a<n.length;a++){const l=n[a].getTransformedByOperation(i);n.splice(a,1,...l),a+=l.length-1}for(let i=0;i<n.length;i++){const a=n[i];for(let l=i+1;l<n.length;l++){const h=n[l];(a.containsRange(h)||h.containsRange(a)||a.isEqual(h))&&n.splice(l,1)}}return n}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,n=!1){return this._getTransformedByInsertion(e.position,e.howMany,n)}_getTransformedByMoveOperation(e,n=!1){const i=e.sourcePosition,a=e.howMany,l=e.targetPosition;return this._getTransformedByMove(i,l,a,n)}_getTransformedBySplitOperation(e){const n=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new U(n,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new U(this.start);let n=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(n=G._createAt(i),n.offset=0):(e.deletionPosition.isEqual(n)||(i=e.deletionPosition),n=e.targetPosition),new U(n,i)):new U(n,i)}_getTransformedByInsertion(e,n,i=!1){if(i&&this.containsPosition(e))return[new U(this.start,e),new U(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{const a=new U(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,n),a.end=a.end._getTransformedByInsertion(e,n),[a]}}_getTransformedByMove(e,n,i,a=!1){if(this.isCollapsed){const y=this.start._getTransformedByMove(e,n,i);return[new U(y)]}const l=U._createFromPositionAndShift(e,i),h=n._getTransformedByDeletion(e,i);if(this.containsPosition(n)&&!a&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const y=this.start._getTransformedByMove(e,n,i),I=this.end._getTransformedByMove(e,n,i);return[new U(y,I)]}let p;const g=this.getDifference(l);let b=null;const v=this.getIntersection(l);if(g.length==1?b=new U(g[0].start._getTransformedByDeletion(e,i),g[0].end._getTransformedByDeletion(e,i)):g.length==2&&(b=new U(this.start,this.end._getTransformedByDeletion(e,i))),b?p=b._getTransformedByInsertion(h,i,v!==null||a):p=[],v){const y=new U(v.start._getCombined(l.start,h),v.end._getCombined(l.start,h));p.length==2?p.splice(1,0,y):p.push(y)}return p}_getTransformedByDeletion(e,n){let i=this.start._getTransformedByDeletion(e,n),a=this.end._getTransformedByDeletion(e,n);return i==null&&a==null?null:(i==null&&(i=e),a==null&&(a=e),new U(i,a))}static _createFromPositionAndShift(e,n){const i=e,a=e.getShiftedBy(n);return n>0?new this(i,a):new this(a,i)}static _createIn(e){return new this(G._createAt(e,0),G._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(G._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new N("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const n=e[0];e.sort((l,h)=>l.start.isAfter(h.start)?1:-1);const i=e.indexOf(n),a=new this(n.start,n.end);if(i>0)for(let l=i-1;e[l].end.isEqual(a.start);l++)a.start=G._createAt(e[l].start);for(let l=i+1;l<e.length&&e[l].start.isEqual(a.end);l++)a.end=G._createAt(e[l].end);return a}static fromJSON(e,n){return new this(G.fromJSON(e.start,n),G.fromJSON(e.end,n))}}U.prototype.is=function(s){return s==="range"||s==="model:range"};class Hx extends $e(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,n)=>{if(n.viewPosition)return;const i=this._modelToViewMapping.get(n.modelPosition.parent);if(!i)throw new N("mapping-model-position-view-parent-not-found",this,{modelPosition:n.modelPosition});n.viewPosition=this.findPositionIn(i,n.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,n)=>{if(n.modelPosition)return;const i=this.findMappedViewAncestor(n.viewPosition),a=this._viewToModelMapping.get(i),l=this._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,i);n.modelPosition=G._createAt(a,l)},{priority:"low"})}bindElements(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}unbindViewElement(e,n={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);n.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)}bindElementToMarker(e,n){const i=this._markerNameToElements.get(n)||new Set;i.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(n),this._markerNameToElements.set(n,i),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,n){const i=this._markerNameToElements.get(n);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(n));const a=this._elementToMarkerNames.get(e);a&&(a.delete(n),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,n]of this._deferredBindingRemovals)e.root==n&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new U(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ae(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}toViewPosition(e,n={}){const i={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const n=this._markerNameToElements.get(e);if(!n)return null;const i=new Set;for(const a of n)if(a.is("attributeElement"))for(const l of a.getElementsWithSameId())i.add(l);else i.add(a);return i}registerViewToModelLength(e,n){this._viewToModelLengthCallbacks.set(e,n)}findMappedViewAncestor(e){let n=e.parent;for(;!this._viewToModelMapping.has(n);)n=n.parent;return n}_toModelOffset(e,n,i){if(i!=e){const l=this._toModelOffset(e.parent,e.index,i),h=this._toModelOffset(e,n,e);return l+h}if(e.is("$text"))return n;let a=0;for(let l=0;l<n;l++)a+=this.getModelLength(e.getChild(l));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let n=0;for(const i of e.getChildren())n+=this.getModelLength(i);return n}}findPositionIn(e,n){let i,a=0,l=0,h=0;if(e.is("$text"))return new ne(e,n);for(;l<n;)i=e.getChild(h),a=this.getModelLength(i),l+=a,h++;return l==n?this._moveViewPositionToTextNode(new ne(e,h)):this.findPositionIn(i,n-(l-a))}_moveViewPositionToTextNode(e){const n=e.nodeBefore,i=e.nodeAfter;return n instanceof rt?new ne(n,n.data.length):i instanceof rt?new ne(i,0):e}}class bz{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,n){n=rp(n),e instanceof ao&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(n,!0)}consume(e,n){return n=rp(n),e instanceof ao&&(e=this._getSymbolForTextProxy(e)),this.test(e,n)?(this._consumable.get(e).set(n,!1),!0):!1}test(e,n){n=rp(n),e instanceof ao&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const a=i.get(n);return a===void 0?null:a}revert(e,n){n=rp(n),e instanceof ao&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,n);return i===!1?(this._consumable.get(e).set(n,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const n=[];for(const[i,a]of this._consumable)for(const[l,h]of a){const p=l.split(":")[0];h&&e==p&&n.push({event:l,item:i.name||i.description})}if(n.length)throw new N("conversion-model-consumable-not-consumed",null,{items:n})}_getSymbolForTextProxy(e){let n=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const a=i.get(e.endOffset);a&&(n=a.get(e.parent))}return n||(n=this._addSymbolForTextProxy(e)),n}_addSymbolForTextProxy(e){const n=e.startOffset,i=e.endOffset,a=e.parent,l=Symbol("$textProxy:"+e.data);let h,p;return h=this._textProxyRegistry.get(n),h||(h=new Map,this._textProxyRegistry.set(n,h)),p=h.get(i),p||(p=new Map,h.set(i,p)),p.set(a,l),l}}function rp(s){const e=s.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?s:e.length>1?e[0]+":"+e[1]:e[0]}class qx extends $e(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,n,i){const a=this._createConversionApi(i,e.getRefreshedItems());for(const h of e.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,a);const l=this._reduceChanges(e.getChanges());for(const h of l)h.type==="insert"?this._convertInsert(U._createFromPositionAndShift(h.position,h.length),a):h.type==="reinsert"?this._convertReinsert(U._createFromPositionAndShift(h.position,h.length),a):h.type==="remove"?this._convertRemove(h.position,h.length,h.name,a):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const h of a.mapper.flushUnboundMarkerNames()){const p=n.get(h).getRange();this._convertMarkerRemove(h,p,a),this._convertMarkerAdd(h,p,a)}for(const h of e.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,n,i,a={}){const l=this._createConversionApi(i,void 0,a);this._convertInsert(e,l);for(const[h,p]of n)this._convertMarkerAdd(h,p,l);l.consumable.verifyAllConsumed("insert")}convertSelection(e,n,i){const a=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},a);const l=e.getFirstPosition().root;if(!a.mapper.toViewElement(l))return;const h=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,h),this.fire("selection",{selection:e},a),!!e.isCollapsed){for(const p of h)if(a.consumable.test(e,"addMarker:"+p.name)){const g=p.getRange();if(!wz(e.getFirstPosition(),p,a.mapper))continue;const b={item:e,markerName:p.name,markerRange:g};this.fire(`addMarker:${p.name}`,b,a)}for(const p of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+p)){const g={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};this.fire(`attribute:${p}:$text`,g,a)}}}_convertInsert(e,n,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(n.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(Wx))this._testAndFire("insert",a,n)}_convertRemove(e,n,i,a){this.fire(`remove:${i}`,{position:e,length:n},a)}_convertAttribute(e,n,i,a,l){this._addConsumablesForRange(l.consumable,e,`attribute:${n}`);for(const h of e){const p={item:h.item,range:U._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:n,attributeOldValue:i,attributeNewValue:a};this._testAndFire(`attribute:${n}`,p,l)}}_convertReinsert(e,n){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(n.consumable,i);for(const a of i.map(Wx))this._testAndFire("insert",{...a,reconversion:!0},n)}_convertMarkerAdd(e,n,i){if(n.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(i.consumable.add(n,a),this.fire(a,{markerName:e,markerRange:n},i),!!i.consumable.consume(n,a)){this._addConsumablesForRange(i.consumable,n,a);for(const l of n.getItems()){if(!i.consumable.test(l,a))continue;const h={item:l,range:U._createOn(l),markerName:e,markerRange:n};this.fire(a,h,i)}}}_convertMarkerRemove(e,n,i){n.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:n},i)}_reduceChanges(e){const n={changes:e};return this.fire("reduceChanges",n),n.changes}_addConsumablesForInsert(e,n){for(const i of n){const a=i.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const l of a.getAttributeKeys())e.add(a,"attribute:"+l)}}return e}_addConsumablesForRange(e,n,i){for(const a of n.getItems())e.add(a,i);return e}_addConsumablesForSelection(e,n,i){e.add(n,"selection");for(const a of i)e.add(n,"addMarker:"+a.name);for(const a of n.getAttributeKeys())e.add(n,"attribute:"+a);return e}_testAndFire(e,n,i){const a=_z(e,n),l=n.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(n.item):n.item,h=this._firedEventsMap.get(i),p=h.get(l);if(!p)h.set(l,new Set([a]));else if(!p.has(a))p.add(a);else return;this.fire(a,n,i)}_testAndFireAddAttributes(e,n){const i={item:e,range:U._createOn(e)};for(const a of i.item.getAttributeKeys())i.attributeKey=a,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(a),this._testAndFire(`attribute:${a}`,i,n)}_createConversionApi(e,n=new Set,i={}){const a={...this._conversionApi,consumable:new bz,writer:e,options:i,convertItem:l=>this._convertInsert(U._createOn(l),a),convertChildren:l=>this._convertInsert(U._createIn(l),a,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,a),canReuseView:l=>!n.has(a.mapper.toModelElement(l))};return this._firedEventsMap.set(a,new Map),a}}function wz(s,e,n){const i=e.getRange(),a=Array.from(s.getAncestors());return a.shift(),a.reverse(),!a.some(h=>{if(i.containsItem(h))return!!n.toViewElement(h).getCustomProperty("addHighlight")})}function _z(s,e){const n=e.item.is("element")?e.item.name:"$text";return`${s}:${n}`}function Wx(s){const e=s.item,n=U._createFromPositionAndShift(s.previousPosition,s.length);return{item:e,range:n}}class mr extends $e(Qi){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let i=!1;for(const a of e._ranges)if(n.isEqual(a)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new U(e.start,e.end)}getFirstRange(){let e=null;for(const n of this._ranges)(!e||n.start.isBefore(e.start))&&(e=n);return e?new U(e.start,e.end):null}getLastRange(){let e=null;for(const n of this._ranges)(!e||n.end.isAfter(e.end))&&(e=n);return e?new U(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[n,i,a]=e;if(typeof i=="object"&&(a=i,i=void 0),n===null)this._setRanges([]);else if(n instanceof mr)this._setRanges(n.getRanges(),n.isBackward);else if(n&&typeof n.getRanges=="function")this._setRanges(n.getRanges(),n.isBackward);else if(n instanceof U)this._setRanges([n],!!a&&!!a.backward);else if(n instanceof G)this._setRanges([new U(n)]);else if(n instanceof ta){const l=!!a&&!!a.backward;let h;if(i=="in")h=U._createIn(n);else if(i=="on")h=U._createOn(n);else if(i!==void 0)h=new U(G._createAt(n,i));else throw new N("model-selection-setto-required-second-parameter",[this,n]);this._setRanges([h],l)}else if(jn(n))this._setRanges(n,a&&!!a.backward);else throw new N("model-selection-setto-not-selectable",[this,n])}_setRanges(e,n=!1){const i=Array.from(e),a=i.some(l=>{if(!(l instanceof U))throw new N("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(h=>!h.isEqual(l))});i.length===this._ranges.length&&!a||(this._replaceAllRanges(i),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}setFocus(e,n){if(this.anchor===null)throw new N("model-selection-setfocus-no-ranges",[this,e]);const i=G._createAt(e,n);if(i.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(a)=="before"?(this._pushRange(new U(i,a)),this._lastRangeBackward=!0):(this._pushRange(new U(a,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const n of this.getRanges()){const i=Kx(n.start,e);Az(i,n)&&(yield i);for(const l of n.getWalker()){const h=l.item;l.type=="elementEnd"&&vz(h,e,n)&&(yield h)}const a=Kx(n.end,e);Cz(a,n)&&(yield a)}}containsEntireContent(e=this.anchor.root){const n=G._createAt(e,0),i=G._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new U(e.start,e.end))}_checkRange(e){for(let n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new N("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}_replaceAllRanges(e){this._removeAllRanges();for(const n of e)this._pushRange(n)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}mr.prototype.is=function(s){return s==="selection"||s==="model:selection"};function Gx(s,e){return e.has(s)?!1:(e.add(s),s.root.document.model.schema.isBlock(s)&&!!s.parent)}function vz(s,e,n){return Gx(s,e)&&Lw(s,n)}function Kx(s,e){const i=s.parent.root.document.model.schema,a=s.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const h=a.find(p=>l?!1:(l=i.isLimit(p),!l&&Gx(p,e)));return a.forEach(p=>e.add(p)),h}function Lw(s,e){const n=yz(s);return n?!e.containsRange(U._createOn(n),!0):!0}function Az(s,e){return s?e.isCollapsed||s.isEmpty?!0:e.start.isTouching(G._createAt(s,s.maxOffset))?!1:Lw(s,e):!1}function Cz(s,e){return s?e.isCollapsed||s.isEmpty?!0:e.end.isTouching(G._createAt(s,0))?!1:Lw(s,e):!1}function yz(s){const e=s.root.document.model.schema;let n=s.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}class Mr extends $e(U){constructor(e,n){super(e,n),Ez.call(this)}detach(){this.stopListening()}toRange(){return new U(this.start,this.end)}static fromRange(e){return new Mr(e.start,e.end)}}Mr.prototype.is=function(s){return s==="liveRange"||s==="model:liveRange"||s=="range"||s==="model:range"};function Ez(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const n=e[0];n.isDocumentOperation&&xz.call(this,n)},{priority:"low"})}function xz(s){const e=this.getTransformedByOperation(s),n=U._createFromRanges(e),i=!n.isEqual(this),a=Tz(this,s);let l=null;if(i){n.root.rootName=="$graveyard"&&(s.type=="remove"?l=s.sourcePosition:l=s.deletionPosition);const h=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",h,{deletionPosition:l})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:l})}function Tz(s,e){switch(e.type){case"insert":return s.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return s.containsPosition(e.sourcePosition)||s.start.isEqual(e.sourcePosition)||s.containsPosition(e.targetPosition);case"split":return s.containsPosition(e.splitPosition)||s.containsPosition(e.insertionPosition)}return!1}const yu="selection:";class co extends $e(Qi){constructor(e){super(),this._selection=new Sz(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,n){this._selection.setFocus(e,n)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,n){this._selection.setAttribute(e,n)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return yu+e}static _isStoreAttributeKey(e){return e.startsWith(yu)}}co.prototype.is=function(s){return s==="selection"||s=="model:selection"||s=="documentSelection"||s=="model:documentSelection"};class Sz extends mr{constructor(e){super(),this.markers=new Nr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(n,i)=>{const a=i[0];!a.isDocumentOperation||a.type=="marker"||a.type=="rename"||a.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(n,i,a,l)=>{this._updateMarker(i,l)}),this.listenTo(this._document,"change",(n,i)=>{Dz(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,n){super.setFocus(e,n),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,n){if(this._setAttribute(e,n)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}overrideGravity(){const e=Gt();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new N("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const n=this._prepareRange(e);n&&this._ranges.push(n)}_validateSelectionRanges(e){for(const n of e)if(!this._document._validateSelectionRange(n))throw new N("document-selection-wrong-position",this,{range:n})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const n=Mr.fromRange(e);return n.on("change:range",(i,a,l)=>{if(this._hasChangedRange=!0,n.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const h=this._ranges.indexOf(n);this._ranges.splice(h,1),n.detach()}}),n}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let n=!1;for(const a of this._model.markers){const l=a.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const h=a.getRange();for(const p of this.getRanges())h.containsRange(p,!p.isCollapsed)&&e.push(a)}const i=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),n=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),n=!0);n&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,n){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let a=!1;const l=Array.from(this.markers),h=this.markers.has(e);if(!n)h&&(this.markers.remove(e),a=!0);else{let p=!1;for(const g of this.getRanges())if(n.containsRange(g,!g.isCollapsed)){p=!0;break}p&&!h?(this.markers.add(e),a=!0):!p&&h&&(this.markers.remove(e),a=!0)}a&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(e){const n=li(this._getSurroundingAttributes()),i=li(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,h]of this._attributePriority)h=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(n);const a=[];for(const[l,h]of this.getAttributes())(!i.has(l)||i.get(l)!==h)&&a.push(l);for(const[l]of i)this.hasAttribute(l)||a.push(l);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,n,i=!0){const a=i?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===n?!1:(this._attrs.set(e,n),this._attributePriority.set(e,a),!0)}_removeAttribute(e,n=!0){const i=n?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const n=new Set;for(const[i,a]of this.getAttributes())e.get(i)!==a&&this._removeAttribute(i,!1);for(const[i,a]of e)this._setAttribute(i,a,!1)&&n.add(i);return n}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const n of e.getAttributeKeys())n.startsWith(yu)&&(yield[n.substr(yu.length),e.getAttribute(n)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),n=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=Eu(a,n)),i||(i=Eu(l,n)),!this.isGravityOverridden&&!i){let h=a;for(;h&&!i;)h=h.previousSibling,i=Eu(h,n)}if(!i){let h=l;for(;h&&!i;)h=h.nextSibling,i=Eu(h,n)}i||(i=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const l of a){if(l.item.is("element")&&n.isObject(l.item)){i=Eu(l.item,n);break}if(l.type=="text"){i=l.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const n=this._model.schema.getNearestSelectionRange(e);n&&this._pushRange(n)}}function Eu(s,e){if(!s)return null;if(s instanceof ao||s instanceof ot)return s.getAttributes();if(!e.isInline(s))return null;if(!e.isObject(s))return[];const n=[];for(const[i,a]of s.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&n.push([i,a]);return n}function Dz(s,e){const n=s.document.differ;for(const i of n.getChanges()){if(i.type!="insert")continue;const a=i.position.parent;i.length===a.maxOffset&&s.enqueueChange(e,h=>{const p=Array.from(a.getAttributeKeys()).filter(g=>g.startsWith(yu));for(const g of p)h.removeAttribute(g,a)})}}class Qx{constructor(e){this._dispatchers=e}add(e){for(const n of this._dispatchers)e(n);return this}}class Iz extends Qx{elementToElement(e){return this.add(Kz(e))}elementToStructure(e){return this.add(Qz(e))}attributeToElement(e){return this.add(Jz(e))}attributeToAttribute(e){return this.add(Yz(e))}markerToElement(e){return this.add(Zz(e))}markerToHighlight(e){return this.add(ej(e))}markerToData(e){return this.add(Xz(e))}}function Jx(){return(s,e,n)=>{if(!n.consumable.consume(e.item,s.name))return;const i=n.writer,a=n.mapper.toViewPosition(e.range.start),l=i.createText(e.item.data);i.insert(a,l)}}function Yx(){return(s,e,n)=>{n.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&n.convertChildren(e.item)}}function Pz(){return(s,e,n)=>{const i=n.mapper.toViewPosition(e.position),a=e.position.getShiftedBy(e.length),l=n.mapper.toViewPosition(a,{isPhantom:!0}),h=n.writer.createRange(i,l),p=n.writer.remove(h.getTrimmed());for(const g of n.writer.createRangeIn(p).getItems())n.mapper.unbindViewElement(g,{defer:!0})}}function Zx(s,e){const n=s.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),typeof e.priority=="number"&&(n._priority=e.priority),n._id=e.id,n}function Rz(){return(s,e,n)=>{const i=e.selection;if(i.isCollapsed||!n.consumable.consume(i,"selection"))return;const a=[];for(const l of i.getRanges())a.push(n.mapper.toViewRange(l));n.writer.setSelection(a,{backward:i.isBackward})}}function Bz(){return(s,e,n)=>{const i=e.selection;if(!i.isCollapsed||!n.consumable.consume(i,"selection"))return;const a=n.writer,l=i.getFirstPosition(),h=n.mapper.toViewPosition(l),p=a.breakAttributes(h);a.setSelection(p)}}function Oz(){return(s,e,n)=>{const i=n.writer,a=i.document.selection;for(const l of a.getRanges())l.isCollapsed&&l.end.parent.isAttached()&&n.writer.mergeAttributes(l.start);i.setSelection(null)}}function Nz(s){return(e,n,i)=>{if(!i.consumable.test(n.item,e.name))return;const a=s(n.attributeOldValue,i,n),l=s(n.attributeNewValue,i,n);if(!a&&!l)return;i.consumable.consume(n.item,e.name);const h=i.writer,p=h.document.selection;if(n.item instanceof mr||n.item instanceof co)h.wrap(p.getFirstRange(),l);else{let g=i.mapper.toViewRange(n.range);n.attributeOldValue!==null&&a&&(g=h.unwrap(g,a)),n.attributeNewValue!==null&&l&&h.wrap(g,l)}}}function Mz(s,e=aj){return(n,i,a)=>{if(!e(i.item,a.consumable,{preflight:!0}))return;const l=s(i.item,a,i);if(!l)return;e(i.item,a.consumable);const h=a.mapper.toViewPosition(i.range.start);a.mapper.bindElements(i.item,l),a.writer.insert(h,l),a.convertAttributes(i.item),i2(l,i.item.getChildren(),a,{reconversion:i.reconversion})}}function Vz(s,e){return(n,i,a)=>{if(!e(i.item,a.consumable,{preflight:!0}))return;const l=new Map;a.writer._registerSlotFactory(rj(i.item,l,a));const h=s(i.item,a,i);if(a.writer._clearSlotFactory(),!h)return;oj(i.item,l,a),e(i.item,a.consumable);const p=a.mapper.toViewPosition(i.range.start);a.mapper.bindElements(i.item,h),a.writer.insert(p,h),a.convertAttributes(i.item),ij(h,l,a,{reconversion:i.reconversion})}}function Lz(s){return(e,n,i)=>{n.isOpening=!0;const a=s(n,i);n.isOpening=!1;const l=s(n,i);if(!a||!l)return;const h=n.markerRange;if(h.isCollapsed&&!i.consumable.consume(h,e.name))return;for(const b of h)if(!i.consumable.consume(b.item,e.name))return;const p=i.mapper,g=i.writer;g.insert(p.toViewPosition(h.start),a),i.mapper.bindElementToMarker(a,n.markerName),h.isCollapsed||(g.insert(p.toViewPosition(h.end),l),i.mapper.bindElementToMarker(l,n.markerName)),e.stop()}}function Fz(){return(s,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const a of i)n.mapper.unbindElementFromMarkerName(a,e.markerName),n.writer.clear(n.writer.createRangeOn(a),a);n.writer.clearClonedElementsGroup(e.markerName),s.stop()}}}function zz(s){return(e,n,i)=>{const a=s(n.markerName,i);if(!a)return;const l=n.markerRange;i.consumable.consume(l,e.name)&&(Xx(l,!1,i,n,a),Xx(l,!0,i,n,a),e.stop())}}function Xx(s,e,n,i,a){const l=e?s.start:s.end,h=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,p=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(h||p){let b,v;e&&h||!e&&!p?(b=h,v=!0):(b=p,v=!1);const y=n.mapper.toViewElement(b);if(y){jz(y,e,v,n,i,a);return}}const g=n.mapper.toViewPosition(l);Uz(g,e,n,i,a)}function jz(s,e,n,i,a,l){const h=`data-${l.group}-${e?"start":"end"}-${n?"before":"after"}`,p=s.hasAttribute(h)?s.getAttribute(h).split(","):[];p.unshift(l.name),i.writer.setAttribute(h,p.join(","),s),i.mapper.bindElementToMarker(s,a.markerName)}function Uz(s,e,n,i,a){const l=`${a.group}-${e?"start":"end"}`,h=a.name?{name:a.name}:null,p=n.writer.createUIElement(l,h);n.writer.insert(s,p),n.mapper.bindElementToMarker(p,i.markerName)}function $z(s){return(e,n,i)=>{const a=s(n.markerName,i);if(!a)return;const l=i.mapper.markerNameToElements(n.markerName);if(!l)return;for(const p of l)i.mapper.unbindElementFromMarkerName(p,n.markerName),p.is("containerElement")?(h(`data-${a.group}-start-before`,p),h(`data-${a.group}-start-after`,p),h(`data-${a.group}-end-before`,p),h(`data-${a.group}-end-after`,p)):i.writer.clear(i.writer.createRangeOn(p),p);i.writer.clearClonedElementsGroup(n.markerName),e.stop();function h(p,g){if(g.hasAttribute(p)){const b=new Set(g.getAttribute(p).split(","));b.delete(a.name),b.size==0?i.writer.removeAttribute(p,g):i.writer.setAttribute(p,Array.from(b).join(","),g)}}}}function Hz(s){return(e,n,i)=>{if(!i.consumable.test(n.item,e.name))return;const a=s(n.attributeOldValue,i,n),l=s(n.attributeNewValue,i,n);if(!a&&!l)return;i.consumable.consume(n.item,e.name);const h=i.mapper.toViewElement(n.item),p=i.writer;if(!h)throw new N("conversion-attribute-to-attribute-on-text",i.dispatcher,n);if(n.attributeOldValue!==null&&a)if(a.key=="class"){const g=typeof a.value=="string"?a.value.split(/\s+/):a.value;for(const b of g)p.removeClass(b,h)}else if(a.key=="style")if(typeof a.value=="string"){const g=new _w(p.document.stylesProcessor);g.setTo(a.value);for(const[b]of g.getStylesEntries())p.removeStyle(b,h)}else{const g=Object.keys(a.value);for(const b of g)p.removeStyle(b,h)}else p.removeAttribute(a.key,h);if(n.attributeNewValue!==null&&l)if(l.key=="class"){const g=typeof l.value=="string"?l.value.split(/\s+/):l.value;for(const b of g)p.addClass(b,h)}else if(l.key=="style")if(typeof l.value=="string"){const g=new _w(p.document.stylesProcessor);g.setTo(l.value);for(const[b,v]of g.getStylesEntries())p.setStyle(b,v,h)}else{const g=Object.keys(l.value);for(const b of g)p.setStyle(b,l.value[b],h)}else p.setAttribute(l.key,l.value,h)}}function qz(s){return(e,n,i)=>{if(!n.item||!(n.item instanceof mr||n.item instanceof co)&&!n.item.is("$textProxy"))return;const a=Fw(s,n,i);if(!a||!i.consumable.consume(n.item,e.name))return;const l=i.writer,h=Zx(l,a),p=l.document.selection;if(n.item instanceof mr||n.item instanceof co)l.wrap(p.getFirstRange(),h);else{const g=i.mapper.toViewRange(n.range),b=l.wrap(g,h);for(const v of b.getItems())if(v.is("attributeElement")&&v.isSimilar(h)){i.mapper.bindElementToMarker(v,n.markerName);break}}}}function Wz(s){return(e,n,i)=>{if(!n.item||!(n.item instanceof it))return;const a=Fw(s,n,i);if(!a||!i.consumable.test(n.item,e.name))return;const l=i.mapper.toViewElement(n.item);if(l&&l.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const p of U._createIn(n.item))i.consumable.consume(p.item,e.name);l.getCustomProperty("addHighlight")(l,a,i.writer),i.mapper.bindElementToMarker(l,n.markerName)}}}function Gz(s){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const a=Fw(s,n,i);if(!a)return;const l=Zx(i.writer,a),h=i.mapper.markerNameToElements(n.markerName);if(h){for(const p of h)i.mapper.unbindElementFromMarkerName(p,n.markerName),p.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(p),l):p.getCustomProperty("removeHighlight")(p,a.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}function Kz(s){const e=e2(s.model),n=xu(s.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,Mz(n,o2(e)),{priority:s.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",r2(e),{priority:"low"})}}function Qz(s){const e=e2(s.model),n=xu(s.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new N("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,Vz(n,o2(e)),{priority:s.converterPriority||"normal"}),i.on("reduceChanges",r2(e),{priority:"low"})}}function Jz(s){s=Ki(s);let e=s.model;typeof e=="string"&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const a of e.values)s.view[a]=xu(s.view[a],"attribute");else s.view=xu(s.view,"attribute");const i=t2(s);return a=>{a.on(n,Nz(i),{priority:s.converterPriority||"normal"})}}function Yz(s){s=Ki(s);let e=s.model;typeof e=="string"&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const a of e.values)s.view[a]=n2(s.view[a]);else s.view=n2(s.view);const i=t2(s);return a=>{a.on(n,Hz(i),{priority:s.converterPriority||"normal"})}}function Zz(s){const e=xu(s.view,"ui");return n=>{n.on(`addMarker:${s.model}`,Lz(e),{priority:s.converterPriority||"normal"}),n.on(`removeMarker:${s.model}`,Fz(),{priority:s.converterPriority||"normal"})}}function Xz(s){s=Ki(s);const e=s.model;let n=s.view;return n||(n=i=>({group:e,name:i.substr(s.model.length+1)})),i=>{i.on(`addMarker:${e}`,zz(n),{priority:s.converterPriority||"normal"}),i.on(`removeMarker:${e}`,$z(n),{priority:s.converterPriority||"normal"})}}function ej(s){return e=>{e.on(`addMarker:${s.model}`,qz(s.view),{priority:s.converterPriority||"normal"}),e.on(`addMarker:${s.model}`,Wz(s.view),{priority:s.converterPriority||"normal"}),e.on(`removeMarker:${s.model}`,Gz(s.view),{priority:s.converterPriority||"normal"})}}function e2(s){return typeof s=="string"&&(s={name:s}),{name:s.name,attributes:s.attributes?vt(s.attributes):[],children:!!s.children}}function xu(s,e){return typeof s=="function"?s:(n,i)=>tj(s,i,e)}function tj(s,e,n){typeof s=="string"&&(s={name:s});let i;const a=e.writer,l=Object.assign({},s.attributes);if(n=="container")i=a.createContainerElement(s.name,l);else if(n=="attribute"){const h={priority:s.priority||bu.DEFAULT_PRIORITY};i=a.createAttributeElement(s.name,l,h)}else i=a.createUIElement(s.name,l);if(s.styles){const h=Object.keys(s.styles);for(const p of h)a.setStyle(p,s.styles[p],i)}if(s.classes){const h=s.classes;if(typeof h=="string")a.addClass(h,i);else for(const p of h)a.addClass(p,i)}return i}function t2(s){return s.model.values?(e,n,i)=>{const a=s.view[e];return a?a(e,n,i):null}:s.view}function n2(s){return typeof s=="string"?e=>({key:s,value:e}):typeof s=="object"?s.value?()=>s:e=>({key:s.key,value:e}):s}function Fw(s,e,n){const i=typeof s=="function"?s(e,n):s;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function nj(s){return(e,n)=>{if(!e.is("element",s.name))return!1;if(n.type=="attribute"){if(s.attributes.includes(n.attributeKey))return!0}else if(s.children)return!0;return!1}}function r2(s){const e=nj(s);return(n,i)=>{const a=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const l of i.changes){const h=l.type=="attribute"?l.range.start.nodeAfter:l.position.parent;if(!h||!e(h,l)){a.push(l);continue}if(!i.reconvertedElements.has(h)){i.reconvertedElements.add(h);const p=G._createBefore(h);let g=a.length;for(let b=a.length-1;b>=0;b--){const v=a[b],I=(v.type=="attribute"?v.range.start:v.position).compareWith(p);if(I=="before"||v.type=="remove"&&I=="same")break;g=b}a.splice(g,0,{type:"remove",name:h.name,position:p,length:1},{type:"reinsert",name:h.name,position:p,length:1})}}i.changes=a}}function o2(s){return(e,n,i={})=>{const a=["insert"];for(const l of s.attributes)e.hasAttribute(l)&&a.push(`attribute:${l}`);return a.every(l=>n.test(e,l))?(i.preflight||a.forEach(l=>n.consume(e,l)),!0):!1}}function rj(s,e,n){return(i,a)=>{const l=i.createContainerElement("$slot");let h=null;if(a==="children")h=Array.from(s.getChildren());else if(typeof a=="function")h=Array.from(s.getChildren()).filter(p=>a(p));else throw new N("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:a});return e.set(l,h),l}}function oj(s,e,n){const i=Array.from(e.values()).flat(),a=new Set(i);if(a.size!=i.length)throw new N("conversion-slot-filter-overlap",n.dispatcher,{element:s});if(a.size!=s.childCount)throw new N("conversion-slot-filter-incomplete",n.dispatcher,{element:s})}function ij(s,e,n,i){n.mapper.on("modelToViewPosition",h,{priority:"highest"});let a=null,l=null;for([a,l]of e)i2(s,l,n,i),n.writer.move(n.writer.createRangeIn(a),n.writer.createPositionBefore(a)),n.writer.remove(a);n.mapper.off("modelToViewPosition",h);function h(p,g){const b=g.modelPosition.nodeAfter,v=l.indexOf(b);v<0||(g.viewPosition=g.mapper.findPositionIn(a,v))}}function i2(s,e,n,i){for(const a of e)sj(s.root,a,n,i)||n.convertItem(a)}function sj(s,e,n,i){const{writer:a,mapper:l}=n;if(!i.reconversion)return!1;const h=l.toViewElement(e);return!h||h.root==s||!n.canReuseView(h)?!1:(a.move(a.createRangeOn(h),l.toViewPosition(G._createBefore(e))),!0)}function aj(s,e,{preflight:n}={}){return n?e.test(s,"insert"):e.consume(s,"insert")}function s2(s){const{schema:e,document:n}=s.model;for(const i of n.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return s.insertElement("paragraph",i),!0;return!1}function a2(s,e,n){const i=n.createContext(s);return!(!n.checkChild(i,"paragraph")||!n.checkChild(i.push("paragraph"),e))}function c2(s,e){const n=e.createElement("paragraph");return e.insert(n,s),e.createPositionAt(n,0)}class cj extends Qx{elementToElement(e){return this.add(u2(e))}elementToAttribute(e){return this.add(dj(e))}attributeToAttribute(e){return this.add(hj(e))}elementToMarker(e){return this.add(fj(e))}dataToMarker(e){return this.add(pj(e))}}function l2(){return(s,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:a}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=a}}}function lj(){return(s,e,{schema:n,consumable:i,writer:a})=>{let l=e.modelCursor;if(!i.test(e.viewItem))return;if(!n.checkChild(l,"$text")){if(!a2(l,"$text",n)||e.viewItem.data.trim().length==0)return;const p=l.nodeBefore;l=c2(l,a),p&&p.is("element","$marker")&&(a.move(a.createRangeOn(p),l),l=a.createPositionAfter(p))}i.consume(e.viewItem);const h=a.createText(e.viewItem.data);a.insert(h,l),e.modelRange=a.createRange(l,l.getShiftedBy(h.offsetSize)),e.modelCursor=e.modelRange.end}}function uj(s,e){return(n,i)=>{const a=i.newSelection,l=[];for(const p of a.getRanges())l.push(e.toModelRange(p));const h=s.createSelection(l,{backward:a.isBackward});h.isEqual(s.document.selection)||s.change(p=>{p.setSelection(h)})}}function u2(s){s=Ki(s);const e=jw(s),n=zw(s.view),i=n?`element:${n}`:"element";return a=>{a.on(i,e,{priority:s.converterPriority||"normal"})}}function dj(s){s=Ki(s),d2(s);const e=h2(s,!1),n=zw(s.view),i=n?`element:${n}`:"element";return a=>{a.on(i,e,{priority:s.converterPriority||"low"})}}function hj(s){s=Ki(s);let e=null;(typeof s.view=="string"||s.view.key)&&(e=kj(s)),d2(s,e);const n=h2(s,!0);return i=>{i.on("element",n,{priority:s.converterPriority||"low"})}}function fj(s){const e=_j(s.model);return u2({...s,model:e})}function pj(s){s=Ki(s),s.model||(s.model=a=>a?s.view+":"+a:s.view);const e={view:s.view,model:s.model},n=jw(f2(e,"start")),i=jw(f2(e,"end"));return a=>{a.on(`element:${s.view}-start`,n,{priority:s.converterPriority||"normal"}),a.on(`element:${s.view}-end`,i,{priority:s.converterPriority||"normal"});const l=zn.low,h=zn.highest,p=zn.get(s.converterPriority)/h;a.on("element",gj(e),{priority:l+p})}}function gj(s){return(e,n,i)=>{const a=`data-${s.view}`;if(!i.consumable.test(n.viewItem,{attributes:a+"-end-after"})&&!i.consumable.test(n.viewItem,{attributes:a+"-start-after"})&&!i.consumable.test(n.viewItem,{attributes:a+"-end-before"})&&!i.consumable.test(n.viewItem,{attributes:a+"-start-before"}))return;n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:a+"-end-after"})&&l(n.modelRange.end,n.viewItem.getAttribute(a+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:a+"-start-after"})&&l(n.modelRange.end,n.viewItem.getAttribute(a+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:a+"-end-before"})&&l(n.modelRange.start,n.viewItem.getAttribute(a+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:a+"-start-before"})&&l(n.modelRange.start,n.viewItem.getAttribute(a+"-start-before").split(","));function l(h,p){for(const g of p){const b=s.model(g,i),v=i.writer.createElement("$marker",{"data-name":b});i.writer.insert(v,h),n.modelCursor.isEqual(h)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(h,1),n.modelRange=n.modelRange._getTransformedByInsertion(h,1)[0]}}}}function zw(s){return typeof s=="string"?s:typeof s=="object"&&typeof s.name=="string"?s.name:null}function jw(s){const e=new oo(s.view);return(n,i,a)=>{const l=e.match(i.viewItem);if(!l)return;const h=l.match;if(h.name=!0,!a.consumable.test(i.viewItem,h))return;const p=mj(s.model,i.viewItem,a);p&&a.safeInsert(p,i.modelCursor)&&(a.consumable.consume(i.viewItem,h),a.convertChildren(i.viewItem,p),a.updateConversionResult(p,i))}}function mj(s,e,n){return s instanceof Function?s(e,n):n.writer.createElement(s)}function kj(s){typeof s.view=="string"&&(s.view={key:s.view});const e=s.view.key,n=typeof s.view.value>"u"?/[\s\S]*/:s.view.value;let i;return e=="class"||e=="style"?i={[e=="class"?"classes":"styles"]:n}:i={attributes:{[e]:n}},s.view.name&&(i.name=s.view.name),s.view=i,e}function d2(s,e=null){const n=e===null?!0:l=>l.getAttribute(e),i=typeof s.model!="object"?s.model:s.model.key,a=typeof s.model!="object"||typeof s.model.value>"u"?n:s.model.value;s.model={key:i,value:a}}function h2(s,e){const n=new oo(s.view);return(i,a,l)=>{if(!a.modelRange&&e)return;const h=n.match(a.viewItem);if(!h||(bj(s.view,a.viewItem)?h.match.name=!0:delete h.match.name,!l.consumable.test(a.viewItem,h.match)))return;const p=s.model.key,g=typeof s.model.value=="function"?s.model.value(a.viewItem,l):s.model.value;if(g===null)return;a.modelRange||Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor)),wj(a.modelRange,{key:p,value:g},e,l)&&(l.consumable.test(a.viewItem,{name:!0})&&(h.match.name=!0),l.consumable.consume(a.viewItem,h.match))}}function bj(s,e){const n=typeof s=="function"?s(e):s;return typeof n=="object"&&!zw(n)?!1:!n.classes&&!n.attributes&&!n.styles}function wj(s,e,n,i){let a=!1;for(const l of Array.from(s.getItems({shallow:n})))i.schema.checkAttribute(l,e.key)&&(a=!0,!l.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,l));return a}function _j(s){return(e,n)=>{const i=typeof s=="string"?s:s(e,n);return n.writer.createElement("$marker",{"data-name":i})}}function f2(s,e){const n=(i,a)=>{const l=i.getAttribute("name"),h=s.model(l,a);return a.writer.createElement("$marker",{"data-name":h})};return{view:`${s.view}-${e}`,model:n}}function vj(s){s.document.registerPostFixer(e=>Aj(e,s))}function Aj(s,e){const n=e.document.selection,i=e.schema,a=[];let l=!1;for(const h of n.getRanges()){const p=p2(h,i);p&&!p.isEqual(h)?(a.push(p),l=!0):a.push(h)}return l&&s.setSelection(xj(a),{backward:n.isBackward}),!1}function p2(s,e){return s.isCollapsed?Cj(s,e):yj(s,e)}function Cj(s,e){const n=s.start,i=e.getNearestSelectionRange(n);if(!i){const l=n.getAncestors().reverse().find(h=>e.isObject(h));return l?U._createOn(l):null}if(!i.isCollapsed)return i;const a=i.start;return n.isEqual(a)?null:new U(a)}function yj(s,e){const{start:n,end:i}=s,a=e.checkChild(n,"$text"),l=e.checkChild(i,"$text"),h=e.getLimitElement(n),p=e.getLimitElement(i);if(h===p){if(a&&l)return null;if(Ej(n,i,e)){const y=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),V=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),F=y?y.start:n,H=V?V.end:i;return new U(F,H)}}const g=h&&!h.is("rootElement"),b=p&&!p.is("rootElement");if(g||b){const v=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,y=g&&(!v||!m2(n.nodeAfter,e)),I=b&&(!v||!m2(i.nodeBefore,e));let V=n,F=i;return y&&(V=G._createBefore(g2(h,e))),I&&(F=G._createAfter(g2(p,e))),new U(V,F)}return null}function g2(s,e){let n=s,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function Ej(s,e,n){const i=s.nodeAfter&&!n.isLimit(s.nodeAfter)||n.checkChild(s,"$text"),a=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||a}function xj(s){const e=[...s],n=new Set;let i=1;for(;i<e.length;){const l=e[i],h=e.slice(0,i);for(const[p,g]of h.entries())if(!n.has(p)){if(l.isEqual(g))n.add(p);else if(l.isIntersecting(g)){n.add(p),n.add(i);const b=l.getJoined(g);e.push(b)}}i++}return e.filter((l,h)=>!n.has(h))}function m2(s,e){return s&&e.isSelectable(s)}class Tj extends tt(){constructor(e,n){super(),this.model=e,this.view=new gz(n),this.mapper=new Hx,this.downcastDispatcher=new qx({mapper:this.mapper,schema:e.schema});const i=this.model.document,a=i.selection,l=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(h=>{this.downcastDispatcher.convertChanges(i.differ,l,h),this.downcastDispatcher.convertSelection(a,l,h)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",uj(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",Sj(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Jx(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Yx(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Pz(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",Oz()),this.downcastDispatcher.on("selection",Rz(),{priority:"low"}),this.downcastDispatcher.on("selection",Bz(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(h=>{if(h.rootName=="$graveyard")return null;const p=new ux(this.view.document,h.name);return p.rootName=h.rootName,this.mapper.bindElements(h,p),p})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const n=typeof e=="string"?e:e.name,i=this.model.markers.get(n);if(!i)throw new N("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function Sj(s,e,n){return(i,a)=>{if(!(n.document.isComposing&&!_.isAndroid))for(let l=0;l<a.targetRanges.length;l++){const h=a.targetRanges[l],p=s.toModelRange(h),g=p2(p,e);!g||g.isEqual(p)||(a.targetRanges[l]=s.toViewRange(g))}}}class Tu{constructor(){this._consumables=new Map}add(e,n){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new Dj(e),this._consumables.set(e,i)),i.add(n)}test(e,n){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(n)}consume(e,n){return this.test(e,n)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(n),!0):!1}revert(e,n){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(n))}static consumablesFromElement(e){const n={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const h of i)h=="style"||h=="class"||n.attributes.push(h);const a=e.getClassNames();for(const h of a)n.classes.push(h);const l=e.getStyleNames();for(const h of l)n.styles.push(h);return n}static createFrom(e,n){if(n||(n=new Tu),e.is("$text"))return n.add(e),n;e.is("element")&&n.add(e,Tu.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);for(const i of e.getChildren())n=Tu.createFrom(i,n);return n}}const op=["attributes","classes","styles"];class Dj{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const n of op)n in e&&this._add(n,e[n])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const n of op)if(n in e){const i=this._test(n,e[n]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const n of op)n in e&&this._consume(n,e[n])}revert(e){e.name&&(this._canConsumeName=!0);for(const n of op)n in e&&this._revert(n,e[n])}_add(e,n){const i=vt(n),a=this._consumables[e];for(const l of i){if(e==="attributes"&&(l==="class"||l==="style"))throw new N("viewconsumable-invalid-attribute",this);if(a.set(l,!0),e==="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(h,!0)}}_test(e,n){const i=vt(n),a=this._consumables[e];for(const l of i)if(e==="attributes"&&(l==="class"||l==="style")){const h=l=="class"?"classes":"styles",p=this._test(h,[...this._consumables[h].keys()]);if(p!==!0)return p}else{const h=a.get(l);if(h===void 0)return null;if(!h)return!1}return!0}_consume(e,n){const i=vt(n),a=this._consumables[e];for(const l of i)if(e==="attributes"&&(l==="class"||l==="style")){const h=l=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}else if(a.set(l,!1),e=="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(h,!1)}_revert(e,n){const i=vt(n),a=this._consumables[e];for(const l of i)if(e==="attributes"&&(l==="class"||l==="style")){const h=l=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}else a.get(l)===!1&&a.set(l,!0)}}class Ij extends tt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,n)=>{n[0]=new ra(n[0])},{priority:"highest"}),this.on("checkChild",(e,n)=>{n[0]=new ra(n[0]),n[1]=this.getDefinition(n[1])},{priority:"highest"})}register(e,n){if(this._sourceDefinitions[e])throw new N("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}extend(e,n){if(!this._sourceDefinitions[e])throw new N("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let n;return typeof e=="string"?n=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?n="$text":n=e.name,this.getDefinitions()[n]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const n=this.getDefinition(e);return!!(n&&n.isBlock)}isLimit(e){const n=this.getDefinition(e);return n?!!(n.isLimit||n.isObject):!1}isObject(e){const n=this.getDefinition(e);return n?!!(n.isObject||n.isLimit&&n.isSelectable&&n.isContent):!1}isInline(e){const n=this.getDefinition(e);return!!(n&&n.isInline)}isSelectable(e){const n=this.getDefinition(e);return n?!!(n.isSelectable||n.isObject):!1}isContent(e){const n=this.getDefinition(e);return n?!!(n.isContent||n.isObject):!1}checkChild(e,n){return n?this._checkContextMatch(n,e):!1}checkAttribute(e,n){const i=this.getDefinition(e.last);return i?i.allowAttributes.includes(n):!1}checkMerge(e,n){if(e instanceof G){const i=e.nodeBefore,a=e.nodeAfter;if(!(i instanceof it))throw new N("schema-check-merge-no-element-before",this);if(!(a instanceof it))throw new N("schema-check-merge-no-element-after",this);return this.checkMerge(i,a)}for(const i of n.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(n,[i,a])=>{if(!a)return;const l=e(i,a);typeof l=="boolean"&&(n.stop(),n.return=l)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(n,[i,a])=>{const l=e(i,a);typeof l=="boolean"&&(n.stop(),n.return=l)},{priority:"high"})}setAttributeProperties(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let n;for(e instanceof G?n=e.parent:n=(e instanceof U?[e]:Array.from(e.getRanges())).reduce((a,l)=>{const h=l.getCommonAncestor();return a?a.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}checkAttributeInSelection(e,n){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new ot("",e.getAttributes())];return this.checkAttribute(a,n)}else{const i=e.getRanges();for(const a of i)for(const l of a)if(this.checkAttribute(l.item,n))return!0}return!1}*getValidRanges(e,n){e=Wj(e);for(const i of e)yield*this._getValidRangesForRange(i,n)}getNearestSelectionRange(e,n="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new U(e);let i,a;const l=e.getAncestors().reverse().find(h=>this.isLimit(h))||e.root;(n=="both"||n=="backward")&&(i=new di({boundaries:U._createIn(l),startPosition:e,direction:"backward"})),(n=="both"||n=="forward")&&(a=new di({boundaries:U._createIn(l),startPosition:e}));for(const h of qj(i,a)){const p=h.walker==i?"elementEnd":"elementStart",g=h.value;if(g.type==p&&this.isObject(g.item))return U._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new U(g.nextPosition)}return null}findAllowedParent(e,n){let i=e.parent;for(;i;){if(this.checkChild(i,n))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,n,i){const a=i.model;for(const[l,h]of Object.entries(n))a.schema.checkAttribute(e,l)&&i.setAttribute(l,h,e)}removeDisallowedAttributes(e,n){for(const i of e)if(i.is("$text"))k2(this,i,n);else{const l=U._createIn(i).getPositions();for(const h of l){const p=h.nodeBefore||h.parent;k2(this,p,n)}}}getAttributesWithProperty(e,n,i){const a={};for(const[l,h]of e.getAttributes()){const p=this.getAttributeProperties(l);p[n]!==void 0&&(i===void 0||i===p[n])&&(a[l]=h)}return a}createContext(e){return new ra(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},n=this._sourceDefinitions,i=Object.keys(n);for(const a of i)e[a]=Pj(n[a],a);for(const a of i)Rj(e,a);for(const a of i)Bj(e,a);for(const a of i)Oj(e,a);for(const a of i)Nj(e,a),Mj(e,a);for(const a of i)Vj(e,a),Lj(e,a),Fj(e,a);this._compiledDefinitions=e}_checkContextMatch(e,n,i=n.length-1){const a=n.getItem(i);if(e.allowIn.includes(a.name)){if(i==0)return!0;{const l=this.getDefinition(a);return this._checkContextMatch(l,n,i-1)}}else return!1}*_getValidRangesForRange(e,n){let i=e.start,a=e.start;for(const l of e.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(U._createIn(l),n)),this.checkAttribute(l,n)||(i.isEqual(a)||(yield new U(i,a)),i=G._createAfter(l)),a=G._createAfter(l);i.isEqual(a)||(yield new U(i,a))}findOptimalInsertionRange(e,n){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return n=="before"||n=="after"?new U(G._createAt(i,n)):U._createOn(i);const a=tr(e.getSelectedBlocks());if(!a)return new U(e.focus);if(a.isEmpty)return new U(G._createAt(a,0));const l=G._createAfter(a);return e.focus.isTouching(l)?new U(l):new U(G._createBefore(a))}}class ra{constructor(e){if(e instanceof ra)return e;let n;typeof e=="string"?n=[e]:Array.isArray(e)?n=e:n=e.getAncestors({includeSelf:!0}),this._items=n.map(Hj)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const n=new ra([e]);return n._items=[...this._items,...n._items],n}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Pj(s,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return zj(s,n),oa(s,n,"allowIn"),oa(s,n,"allowContentOf"),oa(s,n,"allowWhere"),oa(s,n,"allowAttributes"),oa(s,n,"allowAttributesOf"),oa(s,n,"allowChildren"),oa(s,n,"inheritTypesFrom"),jj(s,n),n}function Rj(s,e){const n=s[e];for(const i of n.allowChildren){const a=s[i];a&&a.allowIn.push(e)}n.allowChildren.length=0}function Bj(s,e){for(const n of s[e].allowContentOf)s[n]&&Uj(s,n).forEach(a=>{a.allowIn.push(e)});delete s[e].allowContentOf}function Oj(s,e){for(const n of s[e].allowWhere){const i=s[n];if(i){const a=i.allowIn;s[e].allowIn.push(...a)}}delete s[e].allowWhere}function Nj(s,e){for(const n of s[e].allowAttributesOf){const i=s[n];if(i){const a=i.allowAttributes;s[e].allowAttributes.push(...a)}}delete s[e].allowAttributesOf}function Mj(s,e){const n=s[e];for(const i of n.inheritTypesFrom){const a=s[i];if(a){const l=Object.keys(a).filter(h=>h.startsWith("is"));for(const h of l)h in n||(n[h]=a[h])}}delete n.inheritTypesFrom}function Vj(s,e){const n=s[e],i=n.allowIn.filter(a=>s[a]);n.allowIn=Array.from(new Set(i))}function Lj(s,e){const n=s[e];for(const i of n.allowIn)s[i].allowChildren.push(e)}function Fj(s,e){const n=s[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function zj(s,e){for(const n of s){const i=Object.keys(n).filter(a=>a.startsWith("is"));for(const a of i)e[a]=!!n[a]}}function oa(s,e,n){for(const i of s){const a=i[n];typeof a=="string"?e[n].push(a):Array.isArray(a)&&e[n].push(...a)}}function jj(s,e){for(const n of s){const i=n.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}function Uj(s,e){const n=s[e];return $j(s).filter(i=>i.allowIn.includes(n.name))}function $j(s){return Object.keys(s).map(e=>s[e])}function Hj(s){return typeof s=="string"||s.is("documentFragment")?{name:typeof s=="string"?s:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:s.is("element")?s.name:"$text",*getAttributeKeys(){yield*s.getAttributeKeys()},getAttribute(e){return s.getAttribute(e)}}}function*qj(s,e){let n=!1;for(;!n;){if(n=!0,s){const i=s.next();i.done||(n=!1,yield{walker:s,value:i.value})}if(e){const i=e.next();i.done||(n=!1,yield{walker:e,value:i.value})}}}function*Wj(s){for(const e of s)yield*e.getMinimalFlatRanges()}function k2(s,e,n){for(const i of e.getAttributeKeys())s.checkAttribute(e,i)||n.removeAttribute(i,e)}class Gj extends $e(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(n,i)=>this._convertItem(n,i),convertChildren:(n,i)=>this._convertChildren(n,i),safeInsert:(n,i)=>this._safeInsert(n,i),updateConversionResult:(n,i)=>this._updateConversionResult(n,i),splitToAllowedParent:(n,i)=>this._splitToAllowedParent(n,i),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)}}convert(e,n,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=Qj(i,n),this.conversionApi.writer=n,this.conversionApi.consumable=Tu.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),l=n.createDocumentFragment();if(a){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))n.append(h,l);l.markers=Kj(l,n)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(e,n){const i={viewItem:e,modelCursor:n,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof U))throw new N("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,n){let i=n.is("position")?n:G._createAt(n,0);const a=new U(i);for(const l of Array.from(e.getChildren())){const h=this._convertItem(l,i);h.modelRange instanceof U&&(a.end=h.modelRange.end,i=h.modelCursor)}return{modelRange:a,modelCursor:i}}_safeInsert(e,n){const i=this._splitToAllowedParent(e,n);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,n){const i=this._getSplitParts(e),a=this.conversionApi.writer;n.modelRange||(n.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(i[i.length-1])));const l=this._cursorParents.get(e);l?n.modelCursor=a.createPositionAt(l,0):n.modelCursor=n.modelRange.end}_splitToAllowedParent(e,n){const{schema:i,writer:a}=this.conversionApi;let l=i.findAllowedParent(n,e);if(l){if(l===n.parent)return{position:n};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return a2(n,e,i)?{position:c2(n,a)}:null;const h=this.conversionApi.writer.split(n,l),p=[];for(const b of h.range.getWalker())if(b.type=="elementEnd")p.push(b.item);else{const v=p.pop(),y=b.item;this._registerSplitPair(v,y)}const g=h.range.end.parent;return this._cursorParents.set(e,g),{position:h.position,cursorParent:g}}_registerSplitPair(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(n,i),i.push(n)}_getSplitParts(e){let n;return this._splitParts.has(e)?n=this._splitParts.get(e):n=[e],n}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const n of this._splitParts.keys())n.isEmpty&&!this._emptyElementsToKeep.has(n)&&(this.conversionApi.writer.remove(n),this._splitParts.delete(n),e=!0);e&&this._removeEmptyElements()}}function Kj(s,e){const n=new Set,i=new Map,a=U._createIn(s).getItems();for(const l of a)l.is("element","$marker")&&n.add(l);for(const l of n){const h=l.getAttribute("data-name"),p=e.createPositionBefore(l);i.has(h)?i.get(h).end=p.clone():i.set(h,new U(p.clone())),e.remove(l)}return i}function Qj(s,e){let n;for(const i of new ra(s)){const a={};for(const h of i.getAttributeKeys())a[h]=i.getAttribute(h);const l=e.createElement(i.name,a);n&&e.insert(l,n),n=G._createAt(l,0)}return n}class Jj{getHtml(e){const i=ke.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class Yj{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Zf(e,{renderingMode:"data"}),this.htmlWriter=new Jj}toData(e){const n=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(n)}toView(e){const n=this._toDom(e);return this.domConverter.domToView(n,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const n=this.domParser.parseFromString(e,"text/html"),i=n.createDocumentFragment(),a=n.body.childNodes;for(;a.length>0;)i.appendChild(a[0]);return i}}class Zj extends $e(){constructor(e,n){super(),this.model=e,this.mapper=new Hx,this.downcastDispatcher=new qx({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",Jx(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Yx(),{priority:"lowest"}),this.upcastDispatcher=new Gj({schema:e.schema}),this.viewDocument=new Qf(n),this.stylesProcessor=n,this.htmlProcessor=new Yj(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new fx(this.viewDocument),this.upcastDispatcher.on("text",lj(),{priority:"lowest"}),this.upcastDispatcher.on("element",l2(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",l2(),{priority:"lowest"}),tt().prototype.decorate.call(this,"init"),tt().prototype.decorate.call(this,"set"),tt().prototype.decorate.call(this,"get"),tt().prototype.decorate.call(this,"toView"),tt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},s2)},{priority:"lowest"})}get(e={}){const{rootName:n="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([n]))throw new N("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(n);return a.isAttached()||Te("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(a,{ignoreWhitespaces:!0})?"":this.stringify(a,e)}stringify(e,n={}){const i=this.toView(e,n);return this.processor.toData(i)}toView(e,n={}){const i=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const l=U._createIn(e),h=new ea(i);this.mapper.bindElements(e,h);const p=e.is("documentFragment")?e.markers:Xj(e);return this.downcastDispatcher.convert(l,p,a,n),h}init(e){if(this.model.document.version)throw new N("datacontroller-init-document-not-empty",this);let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new N("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const a of Object.keys(n)){const l=this.model.document.getRoot(a);i.insert(this.parse(n[a],l),l,0)}}),Promise.resolve()}set(e,n={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new N("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(i)){const h=this.model.document.getRoot(l);a.remove(a.createRangeIn(h)),a.insert(this.parse(i[l],h),h,0)}})}parse(e,n="$root"){const i=this.processor.toView(e);return this.toModel(i,n)}toModel(e,n="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const n of e)if(!this.model.document.getRoot(n))return!1;return!0}}function Xj(s){const e=[],n=s.root.document;if(!n)return new Map;const i=U._createIn(s);for(const a of n.model.markers){const l=a.getRange(),h=l.isCollapsed,p=l.start.isEqual(i.start)||l.end.isEqual(i.end);if(h&&p)e.push([a.name,l]);else{const g=i.getIntersection(l);g&&e.push([a.name,g])}}return e.sort(([a,l],[h,p])=>{if(l.end.compareWith(p.start)!=="after")return 1;if(l.start.compareWith(p.end)!=="before")return-1;switch(l.start.compareWith(p.start)){case"before":return 1;case"after":return-1;default:switch(l.end.compareWith(p.end)){case"before":return 1;case"after":return-1;default:return h.localeCompare(a)}}}),new Map(e)}class eU{constructor(e,n){this._helpers=new Map,this._downcast=vt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=vt(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,n){const i=this._downcast.includes(n);if(!this._upcast.includes(n)&&!i)throw new N("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[n],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new N("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:n,view:i}of Uw(e))this.for("upcast").elementToElement({model:n,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:n,view:i}of Uw(e))this.for("upcast").elementToAttribute({view:i,model:n,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:n,view:i}of Uw(e))this.for("upcast").attributeToAttribute({view:i,model:n})}_createConversionHelpers({name:e,dispatchers:n,isDowncast:i}){if(this._helpers.has(e))throw new N("conversion-group-exists",this);const a=i?new Iz(n):new cj(n);this._helpers.set(e,a)}}function*Uw(s){if(s.model.values)for(const e of s.model.values){const n={key:s.model.key,value:e},i=s.view[e],a=s.upcastAlso?s.upcastAlso[e]:void 0;yield*b2(n,i,a)}else yield*b2(s.model,s.view,s.upcastAlso)}function*b2(s,e,n){if(yield{model:s,view:e},n)for(const i of vt(n))yield{model:s,view:i}}class kr{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}function $w(s,e){const n=_2(e),i=n.reduce((h,p)=>h+p.offsetSize,0),a=s.parent;Iu(s);const l=s.index;return a._insertChild(l,n),Du(a,l+n.length),Du(a,l),new U(s,s.getShiftedBy(i))}function w2(s){if(!s.isFlat)throw new N("operation-utils-remove-range-not-flat",this);const e=s.start.parent;Iu(s.start),Iu(s.end);const n=e._removeChildren(s.start.index,s.end.index-s.start.index);return Du(e,s.start.index),n}function Su(s,e){if(!s.isFlat)throw new N("operation-utils-move-range-not-flat",this);const n=w2(s);return e=e._getTransformedByDeletion(s.start,s.end.offset-s.start.offset),$w(e,n)}function tU(s,e,n){Iu(s.start),Iu(s.end);for(const i of s.getItems({shallow:!0})){const a=i.is("$textProxy")?i.textNode:i;n!==null?a._setAttribute(e,n):a._removeAttribute(e),Du(a.parent,a.index)}Du(s.end.parent,s.end.index)}function _2(s){const e=[];function n(i){if(typeof i=="string")e.push(new ot(i));else if(i instanceof ao)e.push(new ot(i.data,i.getAttributes()));else if(i instanceof ta)e.push(i);else if(jn(i))for(const a of i)n(a)}n(s);for(let i=1;i<e.length;i++){const a=e[i],l=e[i-1];a instanceof ot&&l instanceof ot&&v2(a,l)&&(e.splice(i-1,2,new ot(l.data+a.data,l.getAttributes())),i--)}return e}function Du(s,e){const n=s.getChild(e-1),i=s.getChild(e);if(n&&i&&n.is("$text")&&i.is("$text")&&v2(n,i)){const a=new ot(n.data+i.data,n.getAttributes());s._removeChildren(e-1,2),s._insertChild(e-1,a)}}function Iu(s){const e=s.textNode,n=s.parent;if(e){const i=s.offset-e.startOffset,a=e.index;n._removeChildren(a,1);const l=new ot(e.data.substr(0,i),e.getAttributes()),h=new ot(e.data.substr(i),e.getAttributes());n._insertChild(a,[l,h])}}function v2(s,e){const n=s.getAttributes(),i=e.getAttributes();for(const a of n){if(a[1]!==e.getAttribute(a[0]))return!1;i.next()}return i.next().done}class qe extends kr{constructor(e,n,i,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=n,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[U._createFromPositionAndShift(this.sourcePosition,this.howMany),U._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new qe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new qe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent,i=this.sourcePosition.offset,a=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new N("move-operation-nodes-do-not-exist",this);if(e===n&&i<a&&a<i+this.howMany)throw new N("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&dn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=i&&this.targetPosition.path[l]<i+this.howMany)throw new N("move-operation-node-into-itself",this)}}_execute(){Su(U._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,n){const i=G.fromJSON(e.sourcePosition,n),a=G.fromJSON(e.targetPosition,n);return new this(i,e.howMany,a,e.baseVersion)}}class en extends kr{constructor(e,n,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Au(_2(n)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Au([...this.nodes].map(i=>i._clone(!0))),n=new en(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}getReversed(){const e=this.position.root.document.graveyard,n=new G(e,[0]);return new qe(this.position,this.nodes.maxOffset,n,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new N("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Au([...e].map(n=>n._clone(!0))),$w(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,n){const i=[];for(const l of e.nodes)l.name?i.push(it.fromJSON(l)):i.push(ot.fromJSON(l));const a=new en(G.fromJSON(e.position,n),i,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class st extends kr{constructor(e,n,i,a,l){super(l),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=n,this.insertionPosition=i,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new G(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new U(this.splitPosition,e)}get affectedSelectable(){const e=[U._createFromPositionAndShift(this.splitPosition,0),U._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(U._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new st(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,n=new G(e,[0]);return new Pt(this.moveTargetPosition,this.howMany,this.splitPosition,n,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,n=this.splitPosition.offset;if(!e||e.maxOffset<n)throw new N("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new N("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new N("split-operation-graveyard-position-invalid",this)}else throw new N("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Su(U._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();$w(this.insertionPosition,i)}const n=new U(G._createAt(e,this.splitPosition.offset),G._createAt(e,e.maxOffset));Su(n,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const n=e.path.slice(0,-1);return n[n.length-1]++,new G(e.root,n,"toPrevious")}static fromJSON(e,n){const i=G.fromJSON(e.splitPosition,n),a=G.fromJSON(e.insertionPosition,n),l=e.graveyardPosition?G.fromJSON(e.graveyardPosition,n):null;return new this(i,e.howMany,a,l,e.baseVersion)}}class Pt extends kr{constructor(e,n,i,a,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=n,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new G(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new U(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[U._createOn(e),U._createFromPositionAndShift(this.targetPosition,0),U._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Pt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),n=this.sourcePosition.path.slice(0,-1),i=new G(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new st(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent;if(e.parent)if(n.parent){if(this.howMany!=e.maxOffset)throw new N("merge-operation-how-many-invalid",this)}else throw new N("merge-operation-target-position-invalid",this);else throw new N("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,n=U._createIn(e);Su(n,this.targetPosition),Su(U._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,n){const i=G.fromJSON(e.sourcePosition,n),a=G.fromJSON(e.targetPosition,n),l=G.fromJSON(e.graveyardPosition,n);return new this(i,e.howMany,a,l,e.baseVersion)}}class nr extends kr{constructor(e,n,i,a,l,h){super(h),this.name=e,this.oldRange=n?n.clone():null,this.newRange=i?i.clone():null,this.affectsData=l,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new nr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new nr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,n){return new nr(e.name,e.oldRange?U.fromJSON(e.oldRange,n):null,e.newRange?U.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}}function nU(s,e){return tp(s,e)}const A2=nU;class Vt extends kr{constructor(e,n,i,a,l){super(l),this.range=e.clone(),this.key=n,this.oldValue=i===void 0?null:i,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Vt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Vt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new N("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!A2(e.getAttribute(this.key),this.oldValue))throw new N("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new N("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){A2(this.oldValue,this.newValue)||tU(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,n){return new Vt(U.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ut extends kr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Ut(this.baseVersion)}getReversed(){return new Ut(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class rr extends kr{constructor(e,n,i,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=n,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new rr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new rr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof it){if(e.name!==this.oldName)throw new N("rename-operation-wrong-name",this)}else throw new N("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,n){return new rr(G.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}}class hi extends kr{constructor(e,n,i,a,l){super(l),this.root=e,this.key=n,this.oldValue=i===void 0?null:i,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new hi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new hi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new N("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new N("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new N("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,n){if(!n.getRoot(e.root))throw new N("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new hi(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Bo extends kr{constructor(e,n,i,a,l){if(super(l),this.rootName=e,this.elementName=n,this.isAdd=i,this._document=a,!this._document.getRoot(this.rootName)){const h=this._document.createRoot(this.elementName,this.rootName);h._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Bo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Bo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,n){return new Bo(e.rootName,e.elementName,e.isAdd,n,e.baseVersion)}}const Vr={};Vr[Vt.className]=Vt,Vr[en.className]=en,Vr[nr.className]=nr,Vr[qe.className]=qe,Vr[Ut.className]=Ut,Vr[kr.className]=kr,Vr[rr.className]=rr,Vr[hi.className]=hi,Vr[Bo.className]=Bo,Vr[st.className]=st,Vr[Pt.className]=Pt;class rU{static fromJSON(e,n){return Vr[e.__className].fromJSON(e,n)}}const Hw=new Map;function je(s,e,n){let i=Hw.get(s);i||(i=new Map,Hw.set(s,i)),i.set(e,n)}function oU(s,e){const n=Hw.get(s);return n&&n.has(e)?n.get(e):iU}function iU(s){return[s]}function C2(s,e,n={}){const i=oU(s.constructor,e.constructor);try{return s=s.clone(),i(s,e,n)}catch(a){throw a}}function sU(s,e,n){s=s.slice(),e=e.slice();const i=new aU(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(s),i.setOriginalOperations(e);const a=i.originalOperations;if(s.length==0||e.length==0)return{operationsA:s,operationsB:e,originalOperations:a};const l=new WeakMap;for(const g of s)l.set(g,0);const h={nextBaseVersionA:s[s.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:s.length,originalOperationsBCount:e.length};let p=0;for(;p<s.length;){const g=s[p],b=l.get(g);if(b==e.length){p++;continue}const v=e[b],y=C2(g,v,i.getContext(g,v,!0)),I=C2(v,g,i.getContext(v,g,!1));i.updateRelation(g,v),i.setOriginalOperations(y,g),i.setOriginalOperations(I,v);for(const V of y)l.set(V,b+I.length);s.splice(p,1,...y),e.splice(b,1,...I)}if(n.padWithNoOps){const g=s.length-h.originalOperationsACount,b=e.length-h.originalOperationsBCount;E2(s,b-g),E2(e,g-b)}return y2(s,h.nextBaseVersionB),y2(e,h.nextBaseVersionA),{operationsA:s,operationsB:e,originalOperations:a}}class aU{constructor(e,n,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,n=null){const i=n?this.originalOperations.get(n):null;for(const a of e)this.originalOperations.set(a,i||a)}updateRelation(e,n){if(e instanceof qe)n instanceof Pt?e.targetPosition.isEqual(n.sourcePosition)||n.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,n,"insertAtSource"):e.targetPosition.isEqual(n.deletionPosition)?this._setRelation(e,n,"insertBetween"):e.targetPosition.isAfter(n.sourcePosition)&&this._setRelation(e,n,"moveTargetAfter"):n instanceof qe&&(e.targetPosition.isEqual(n.sourcePosition)||e.targetPosition.isBefore(n.sourcePosition)?this._setRelation(e,n,"insertBefore"):this._setRelation(e,n,"insertAfter"));else if(e instanceof st){if(n instanceof Pt)e.splitPosition.isBefore(n.sourcePosition)&&this._setRelation(e,n,"splitBefore");else if(n instanceof qe)if(e.splitPosition.isEqual(n.sourcePosition)||e.splitPosition.isBefore(n.sourcePosition))this._setRelation(e,n,"splitBefore");else{const i=U._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.splitPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.splitPosition)){const a=i.end.offset-e.splitPosition.offset,l=e.splitPosition.offset-i.start.offset;this._setRelation(e,n,{howMany:a,offset:l})}}}else if(e instanceof Pt)n instanceof Pt?(e.targetPosition.isEqual(n.sourcePosition)||this._setRelation(e,n,"mergeTargetNotMoved"),e.sourcePosition.isEqual(n.targetPosition)&&this._setRelation(e,n,"mergeSourceNotMoved"),e.sourcePosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeSameElement")):n instanceof st?e.sourcePosition.isEqual(n.splitPosition)&&this._setRelation(e,n,"splitAtSource"):n instanceof qe&&n.howMany>0&&(e.sourcePosition.isEqual(n.sourcePosition.getShiftedBy(n.howMany))&&this._setRelation(e,n,"mergeSourceAffected"),e.targetPosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeTargetWasBefore"));else if(e instanceof nr){const i=e.newRange;if(!i)return;if(n instanceof qe){const a=U._createFromPositionAndShift(n.sourcePosition,n.howMany),l=a.containsPosition(i.start)||a.start.isEqual(i.start),h=a.containsPosition(i.end)||a.end.isEqual(i.end);(l||h)&&!a.containsRange(i)&&this._setRelation(e,n,{side:l?"left":"right",path:l?i.start.path.slice():i.end.path.slice()})}else if(n instanceof Pt){const a=i.start.isEqual(n.targetPosition),l=i.start.isEqual(n.deletionPosition),h=i.end.isEqual(n.deletionPosition),p=i.end.isEqual(n.sourcePosition);(a||l||h||p)&&this._setRelation(e,n,{wasInLeftElement:a,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:h,wasInRightElement:p})}}}getContext(e,n,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(n),abRelation:this._useRelations?this._getRelation(e,n):null,baRelation:this._useRelations?this._getRelation(n,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const n=this.originalOperations.get(e);return n.wasUndone||this._history.isUndoneOperation(n)}_getRelation(e,n){const i=this.originalOperations.get(n),a=this._history.getUndoneOperation(i);if(!a)return null;const l=this.originalOperations.get(e),h=this._relations.get(l);return h&&h.get(a)||null}_setRelation(e,n,i){const a=this.originalOperations.get(e),l=this.originalOperations.get(n);let h=this._relations.get(a);h||(h=new Map,this._relations.set(a,h)),h.set(l,i)}}function y2(s,e){for(const n of s)n.baseVersion=e++}function E2(s,e){for(let n=0;n<e;n++)s.push(new Ut(0))}je(Vt,Vt,(s,e,n)=>{if(s.key===e.key&&s.range.start.hasSameParentAs(e.range.start)){const i=s.range.getDifference(e.range).map(l=>new Vt(l,s.key,s.oldValue,s.newValue,0)),a=s.range.getIntersection(e.range);return a&&n.aIsStrong&&i.push(new Vt(a,e.key,e.newValue,s.newValue,0)),i.length==0?[new Ut(0)]:i}else return[s]}),je(Vt,en,(s,e)=>{if(s.range.start.hasSameParentAs(e.position)&&s.range.containsPosition(e.position)){const i=s.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new Vt(a,s.key,s.oldValue,s.newValue,s.baseVersion));if(e.shouldReceiveAttributes){const a=x2(e,s.key,s.oldValue);a&&i.unshift(a)}return i}return s.range=s.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[s]});function x2(s,e,n){const a=s.nodes.getNode(0).getAttribute(e);if(a==n)return null;const l=new U(s.position,s.position.getShiftedBy(s.howMany));return new Vt(l,e,a,n,0)}je(Vt,Pt,(s,e)=>{const n=[];s.range.start.hasSameParentAs(e.deletionPosition)&&(s.range.containsPosition(e.deletionPosition)||s.range.start.isEqual(e.deletionPosition))&&n.push(U._createFromPositionAndShift(e.graveyardPosition,1));const i=s.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(a=>new Vt(a,s.key,s.oldValue,s.newValue,s.baseVersion))}),je(Vt,qe,(s,e)=>cU(s.range,e).map(i=>new Vt(i,s.key,s.oldValue,s.newValue,s.baseVersion)));function cU(s,e){const n=U._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,a=[];n.containsRange(s,!0)?i=s:s.start.hasSameParentAs(n.start)?(a=s.getDifference(n),i=s.getIntersection(n)):a=[s];const l=[];for(let h of a){h=h._getTransformedByDeletion(e.sourcePosition,e.howMany);const p=e.getMovedRangeStart(),g=h.start.hasSameParentAs(p),b=h._getTransformedByInsertion(p,e.howMany,g);l.push(...b)}return i&&l.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),l}je(Vt,st,(s,e)=>{if(s.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.range.end.offset++,[s];if(s.range.start.hasSameParentAs(e.splitPosition)&&s.range.containsPosition(e.splitPosition)){const n=s.clone();return n.range=new U(e.moveTargetPosition.clone(),s.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),s.range.end=e.splitPosition.clone(),s.range.end.stickiness="toPrevious",[s,n]}return s.range=s.range._getTransformedBySplitOperation(e),[s]}),je(en,Vt,(s,e)=>{const n=[s];if(s.shouldReceiveAttributes&&s.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(s.position)){const i=x2(s,e.key,e.newValue);i&&n.push(i)}return n}),je(en,en,(s,e,n)=>s.position.isEqual(e.position)&&n.aIsStrong?[s]:(s.position=s.position._getTransformedByInsertOperation(e),[s])),je(en,qe,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),je(en,st,(s,e)=>(s.position=s.position._getTransformedBySplitOperation(e),[s])),je(en,Pt,(s,e)=>(s.position=s.position._getTransformedByMergeOperation(e),[s])),je(nr,en,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByInsertOperation(e)[0]),s.newRange&&(s.newRange=s.newRange._getTransformedByInsertOperation(e)[0]),[s])),je(nr,nr,(s,e,n)=>{if(s.name==e.name)if(n.aIsStrong)s.oldRange=e.newRange?e.newRange.clone():null;else return[new Ut(0)];return[s]}),je(nr,Pt,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByMergeOperation(e)),s.newRange&&(s.newRange=s.newRange._getTransformedByMergeOperation(e)),[s])),je(nr,qe,(s,e,n)=>{if(s.oldRange&&(s.oldRange=U._createFromRanges(s.oldRange._getTransformedByMoveOperation(e))),s.newRange){if(n.abRelation){const i=U._createFromRanges(s.newRange._getTransformedByMoveOperation(e));if(n.abRelation.side=="left"&&e.targetPosition.isEqual(s.newRange.start))return s.newRange.end=i.end,s.newRange.start.path=n.abRelation.path,[s];if(n.abRelation.side=="right"&&e.targetPosition.isEqual(s.newRange.end))return s.newRange.start=i.start,s.newRange.end.path=n.abRelation.path,[s]}s.newRange=U._createFromRanges(s.newRange._getTransformedByMoveOperation(e))}return[s]}),je(nr,st,(s,e,n)=>{if(s.oldRange&&(s.oldRange=s.oldRange._getTransformedBySplitOperation(e)),s.newRange){if(n.abRelation){const i=s.newRange._getTransformedBySplitOperation(e);return s.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?s.newRange.start=G._createAt(e.insertionPosition):s.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(s.newRange.start=G._createAt(e.moveTargetPosition)),s.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?s.newRange.end=G._createAt(e.moveTargetPosition):s.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?s.newRange.end=G._createAt(e.insertionPosition):s.newRange.end=i.end,[s]}s.newRange=s.newRange._getTransformedBySplitOperation(e)}return[s]}),je(Pt,en,(s,e)=>(s.sourcePosition.hasSameParentAs(e.position)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByInsertOperation(e),s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e),[s])),je(Pt,Pt,(s,e,n)=>{if(s.sourcePosition.isEqual(e.sourcePosition)&&s.targetPosition.isEqual(e.targetPosition))if(n.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),s.sourcePosition=new G(e.graveyardPosition.root,i),s.howMany=0,[s]}else return[new Ut(0)];if(s.sourcePosition.isEqual(e.sourcePosition)&&!s.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const i=s.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!i||!(i&&!a)&&n.aIsStrong){const g=e.targetPosition._getTransformedByMergeOperation(e),b=s.targetPosition._getTransformedByMergeOperation(e);return[new qe(g,s.howMany,b,0)]}else return[new Ut(0)]}return s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMergeOperation(e),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),(!s.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong)&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),je(Pt,qe,(s,e,n)=>{const i=U._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&s.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(s.sourcePosition)?[new Ut(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(s.sourcePosition)?s.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(s.sourcePosition)&&n.abRelation=="mergeSourceAffected"?s.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(s.targetPosition)?(s.targetPosition.stickiness="toNone",s.howMany-=e.howMany):e.targetPosition.isEqual(s.targetPosition)&&n.abRelation=="mergeTargetWasBefore"?(s.targetPosition.stickiness="toPrevious",s.howMany+=e.howMany):(s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition.hasSameParentAs(e.sourcePosition)&&(s.howMany-=e.howMany)),s.sourcePosition=s.sourcePosition._getTransformedByMoveOperation(e),s.targetPosition=s.targetPosition._getTransformedByMoveOperation(e),s.sourcePosition.stickiness="toPrevious",s.targetPosition.stickiness="toNext",s.graveyardPosition.isEqual(e.targetPosition)||(s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)),[s])}),je(Pt,st,(s,e,n)=>{if(e.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),s.deletionPosition.isEqual(e.graveyardPosition)&&(s.howMany=e.howMany)),s.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,a=e.graveyardPosition&&s.deletionPosition.isEqual(e.graveyardPosition);if(i||a||n.abRelation=="mergeTargetNotMoved")return s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),[s]}if(s.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return s.howMany=0,s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s];if(n.abRelation=="mergeSameElement"||s.sourcePosition.offset>0)return s.sourcePosition=e.moveTargetPosition.clone(),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}return s.sourcePosition.hasSameParentAs(e.splitPosition)&&(s.howMany=e.splitPosition.offset),s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}),je(qe,en,(s,e)=>{const i=U._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByInsertOperation(e,!1)[0];return s.sourcePosition=i.start,s.howMany=i.end.offset-i.start.offset,s.targetPosition.isEqual(e.position)||(s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e)),[s]}),je(qe,qe,(s,e,n)=>{const i=U._createFromPositionAndShift(s.sourcePosition,s.howMany),a=U._createFromPositionAndShift(e.sourcePosition,e.howMany);let l=n.aIsStrong,h=!n.aIsStrong;n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?h=!0:(n.abRelation=="insertAfter"||n.baRelation=="insertBefore")&&(h=!1);let p;if(s.targetPosition.isEqual(e.targetPosition)&&h?p=s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):p=s.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),T2(s,e)&&T2(e,s))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(a,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),bc([i],p);if(a.containsPosition(s.targetPosition)&&a.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),bc([i],p);const v=dn(s.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(v=="prefix"||v=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),bc([i],p);s.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove?l=!0:s.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&(l=!1);const y=[],I=i.getDifference(a);for(const F of I){F.start=F.start._getTransformedByDeletion(e.sourcePosition,e.howMany),F.end=F.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const H=dn(F.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",W=F._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,H);y.push(...W)}const V=i.getIntersection(a);return V!==null&&l&&(V.start=V.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),V.end=V.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.length===0?y.push(V):y.length==1?a.start.isBefore(i.start)||a.start.isEqual(i.start)?y.unshift(V):y.push(V):y.splice(1,0,V)),y.length===0?[new Ut(s.baseVersion)]:bc(y,p)}),je(qe,st,(s,e,n)=>{let i=s.targetPosition.clone();(!s.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter")&&(i=s.targetPosition._getTransformedBySplitOperation(e));const a=U._createFromPositionAndShift(s.sourcePosition,s.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.howMany++,s.targetPosition=i,[s];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let p=new U(e.splitPosition,a.end);p=p._getTransformedBySplitOperation(e);const g=[new U(a.start,e.splitPosition),p];return bc(g,i)}s.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),s.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(i=s.targetPosition);const h=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const p=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);s.howMany>1&&p&&!n.aWasUndone&&h.push(U._createFromPositionAndShift(e.insertionPosition,1))}return bc(h,i)}),je(qe,Pt,(s,e,n)=>{const i=U._createFromPositionAndShift(s.sourcePosition,s.howMany);if(e.deletionPosition.hasSameParentAs(s.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(s.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const h=[];let p=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);s.howMany>1&&(h.push(new qe(s.sourcePosition,s.howMany-1,s.targetPosition,0)),p=p._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1),g=g._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1));const b=e.deletionPosition._getCombined(s.sourcePosition,s.targetPosition),v=new qe(p,1,b,0),y=v.getMovedRangeStart().path.slice();y.push(0);const I=new G(v.targetPosition.root,y);g=g._getTransformedByMove(p,b,1);const V=new qe(g,e.howMany,I,0);return h.push(v),h.push(V),h}}else if(s.howMany==1)return n.bWasUndone?(s.sourcePosition=e.graveyardPosition.clone(),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]):[new Ut(0)]}const l=U._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByMergeOperation(e);return s.sourcePosition=l.start,s.howMany=l.end.offset-l.start.offset,s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]}),je(rr,en,(s,e)=>(s.position=s.position._getTransformedByInsertOperation(e),[s])),je(rr,Pt,(s,e)=>s.position.isEqual(e.deletionPosition)?(s.position=e.graveyardPosition.clone(),s.position.stickiness="toNext",[s]):(s.position=s.position._getTransformedByMergeOperation(e),[s])),je(rr,qe,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),je(rr,rr,(s,e,n)=>{if(s.position.isEqual(e.position))if(n.aIsStrong)s.oldName=e.newName;else return[new Ut(0)];return[s]}),je(rr,st,(s,e)=>{const n=s.position.path,i=e.splitPosition.getParentPath();if(dn(n,i)=="same"&&!e.graveyardPosition){const a=new rr(s.position.getShiftedBy(1),s.oldName,s.newName,0);return[s,a]}return s.position=s.position._getTransformedBySplitOperation(e),[s]}),je(hi,hi,(s,e,n)=>{if(s.root===e.root&&s.key===e.key){if(!n.aIsStrong||s.newValue===e.newValue)return[new Ut(0)];s.oldValue=e.newValue}return[s]}),je(Bo,Bo,(s,e)=>s.rootName===e.rootName&&s.isAdd===e.isAdd?[new Ut(0)]:[s]),je(st,en,(s,e)=>(s.splitPosition.hasSameParentAs(e.position)&&s.splitPosition.offset<e.position.offset&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByInsertOperation(e),s.insertionPosition=s.insertionPosition._getTransformedByInsertOperation(e),[s])),je(st,Pt,(s,e,n)=>{if(!s.graveyardPosition&&!n.bWasUndone&&s.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const a=new G(e.graveyardPosition.root,i),l=st.getInsertionPosition(new G(e.graveyardPosition.root,i)),h=new st(a,0,l,null,0);return s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=st.getInsertionPosition(s.splitPosition),s.graveyardPosition=h.insertionPosition.clone(),s.graveyardPosition.stickiness="toNext",[h,s]}return s.splitPosition.hasSameParentAs(e.deletionPosition)&&!s.splitPosition.isAfter(e.deletionPosition)&&s.howMany--,s.splitPosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=st.getInsertionPosition(s.splitPosition),s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),je(st,qe,(s,e,n)=>{const i=U._createFromPositionAndShift(e.sourcePosition,e.howMany);if(s.graveyardPosition){const l=i.start.isEqual(s.graveyardPosition)||i.containsPosition(s.graveyardPosition);if(!n.bWasUndone&&l){const h=s.splitPosition._getTransformedByMoveOperation(e),p=s.graveyardPosition._getTransformedByMoveOperation(e),g=p.path.slice();g.push(0);const b=new G(p.root,g);return[new qe(h,s.howMany,b,0)]}s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)}const a=s.splitPosition.isEqual(e.targetPosition);if(a&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return s.howMany+=e.howMany,s.splitPosition=s.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),s.insertionPosition=st.getInsertionPosition(s.splitPosition),[s];if(a&&n.abRelation&&n.abRelation.howMany){const{howMany:l,offset:h}=n.abRelation;return s.howMany+=l,s.splitPosition=s.splitPosition.getShiftedBy(h),[s]}if(s.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(s.splitPosition)){const l=e.howMany-(s.splitPosition.offset-e.sourcePosition.offset);return s.howMany-=l,s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany),s.splitPosition=e.sourcePosition.clone(),s.insertionPosition=st.getInsertionPosition(s.splitPosition),[s]}return e.sourcePosition.isEqual(e.targetPosition)||(s.splitPosition.hasSameParentAs(e.sourcePosition)&&s.splitPosition.offset<=e.sourcePosition.offset&&(s.howMany-=e.howMany),s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany)),s.splitPosition.stickiness="toNone",s.splitPosition=s.splitPosition._getTransformedByMoveOperation(e),s.splitPosition.stickiness="toNext",s.graveyardPosition?s.insertionPosition=s.insertionPosition._getTransformedByMoveOperation(e):s.insertionPosition=st.getInsertionPosition(s.splitPosition),[s]}),je(st,st,(s,e,n)=>{if(s.splitPosition.isEqual(e.splitPosition)){if(!s.graveyardPosition&&!e.graveyardPosition)return[new Ut(0)];if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition))return[new Ut(0)];if(n.abRelation=="splitBefore")return s.howMany=0,s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e),[s]}if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition)){const i=s.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!i||!(i&&!a)&&n.aIsStrong){const g=[];return e.howMany&&g.push(new qe(e.moveTargetPosition,e.howMany,e.splitPosition,0)),s.howMany&&g.push(new qe(s.splitPosition,s.howMany,s.moveTargetPosition,0)),g}else return[new Ut(0)]}if(s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e)),s.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return s.howMany++,[s];if(e.splitPosition.isEqual(s.insertionPosition)&&n.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const a=new G(e.insertionPosition.root,i),l=new qe(s.insertionPosition,1,a,0);return[s,l]}return s.splitPosition.hasSameParentAs(e.splitPosition)&&s.splitPosition.offset<e.splitPosition.offset&&(s.howMany-=e.howMany),s.splitPosition=s.splitPosition._getTransformedBySplitOperation(e),s.insertionPosition=st.getInsertionPosition(s.splitPosition),[s]});function T2(s,e){return s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function bc(s,e){const n=[];for(let i=0;i<s.length;i++){const a=s[i],l=new qe(a.start,a.end.offset-a.start.offset,e,0);n.push(l);for(let h=i+1;h<s.length;h++)s[h]=s[h]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];e=e._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return n}class or extends $e(G){constructor(e,n,i="toNone"){if(super(e,n,i),!this.root.is("rootElement"))throw new N("model-liveposition-root-not-rootelement",e);lU.call(this)}detach(){this.stopListening()}toPosition(){return new G(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}or.prototype.is=function(s){return s==="livePosition"||s==="model:livePosition"||s=="position"||s==="model:position"};function lU(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const n=e[0];n.isDocumentOperation&&uU.call(this,n)},{priority:"low"})}function uU(s){const e=this.getTransformedByOperation(s);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}class wc{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Te("batch-constructor-deprecated-string-type"));const{isUndoable:n=!0,isLocal:i=!0,isUndo:a=!1,isTyping:l=!1}=e;this.operations=[],this.isUndoable=n,this.isLocal=i,this.isUndo=a,this.isTyping=l}get type(){return Te("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class dU{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const n=e;switch(n.type){case"insert":{if(this._isInInsertedElement(n.position.parent))return;this._markInsert(n.position.parent,n.position.offset,n.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of n.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(n.sourcePosition.isEqual(n.targetPosition)||n.sourcePosition.getShiftedBy(n.howMany).isEqual(n.targetPosition))return;const i=this._isInInsertedElement(n.sourcePosition.parent),a=this._isInInsertedElement(n.targetPosition.parent);i||this._markRemove(n.sourcePosition.parent,n.sourcePosition.offset,n.howMany),a||this._markInsert(n.targetPosition.parent,n.getMovedRangeStart().offset,n.howMany);break}case"rename":{if(this._isInInsertedElement(n.position.parent))return;this._markRemove(n.position.parent,n.position.offset,1),this._markInsert(n.position.parent,n.position.offset,1);const i=U._createFromPositionAndShift(n.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(i)){const l=a.getData();this.bufferMarkerChange(a.name,l,l)}break}case"split":{const i=n.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,n.splitPosition.offset,n.howMany),this._isInInsertedElement(n.insertionPosition.parent)||this._markInsert(n.insertionPosition.parent,n.insertionPosition.offset,1),n.graveyardPosition&&this._markRemove(n.graveyardPosition.parent,n.graveyardPosition.offset,1);break}case"merge":{const i=n.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const a=n.graveyardPosition.parent;this._markInsert(a,n.graveyardPosition.offset,1);const l=n.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,n.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=n.affectedSelectable;if(!i._isLoaded||i.isAttached()==n.isAdd)return;this._bufferRootStateChange(n.rootName,n.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!n.root._isLoaded)return;const i=n.root.rootName;this._bufferRootAttributeChange(i,n.key,n.oldValue,n.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,n,i){n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=i:(a={newMarkerData:i,oldMarkerData:n},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[n,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:n,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[n,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:n,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,n])=>({name:e,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:n}of this._changedMarkers.values()){if(e.affectsData!==n.affectsData)return!0;if(e.affectsData){const i=e.range&&!n.range,a=!e.range&&n.range,l=e.range&&n.range&&!e.range.isEqual(n.range);if(i||a||l)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let n=[];for(const i of this._changesInElement.keys()){const a=this._changesInElement.get(i).sort((v,y)=>v.offset===y.offset?v.type!=y.type?v.type=="remove"?-1:1:0:v.offset<y.offset?-1:1),l=this._elementSnapshots.get(i),h=S2(i.getChildren()),p=hU(l.length,a);let g=0,b=0;for(const v of p)if(v==="i")n.push(this._getInsertDiff(i,g,h[g])),g++;else if(v==="r")n.push(this._getRemoveDiff(i,g,l[b])),b++;else if(v==="a"){const y=h[g].attributes,I=l[b].attributes;let V;if(h[g].name=="$text")V=new U(G._createAt(i,g),G._createAt(i,g+1));else{const F=i.offsetToIndex(g);V=new U(G._createAt(i,g),G._createAt(i.getChild(F),0))}n.push(...this._getAttributesDiff(V,I,y)),g++,b++}else g++,b++}n.sort((i,a)=>i.position.root!=a.position.root?i.position.root.rootName<a.position.root.rootName?-1:1:i.position.isEqual(a.position)?i.changeCount-a.changeCount:i.position.isBefore(a.position)?-1:1);for(let i=1,a=0;i<n.length;i++){const l=n[a],h=n[i],p=l.type=="remove"&&h.type=="remove"&&l.name=="$text"&&h.name=="$text"&&l.position.isEqual(h.position),g=l.type=="insert"&&h.type=="insert"&&l.name=="$text"&&h.name=="$text"&&l.position.parent==h.position.parent&&l.position.offset+l.length==h.position.offset,b=l.type=="attribute"&&h.type=="attribute"&&l.position.parent==h.position.parent&&l.range.isFlat&&h.range.isFlat&&l.position.offset+l.length==h.position.offset&&l.attributeKey==h.attributeKey&&l.attributeOldValue==h.attributeOldValue&&l.attributeNewValue==h.attributeNewValue;p||g||b?(l.length++,b&&(l.range.end=l.range.end.getShiftedBy(1)),n[i]=null):a=i}n=n.filter(i=>i);for(const i of n)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=n,this._cachedChanges=n.filter(fU),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const n={...e};return n.state!==void 0&&delete n.attributes,n})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,n){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:n?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=n?"attached":"detached"}_bufferRootAttributeChange(e,n,i,a){const l=this._changedRoots.get(e)||{name:e},h=l.attributes||{};if(h[n]){const p=h[n];a===p.oldValue?delete h[n]:p.newValue=a}else h[n]={oldValue:i,newValue:a};Object.entries(h).length===0?(delete l.attributes,l.state===void 0&&this._changedRoots.delete(e)):(l.attributes=h,this._changedRoots.set(e,l))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const n=U._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(n)){const a=i.getData();this.bufferMarkerChange(i.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const i=n.getData();this.bufferMarkerChange(n.name,{...i,range:null},i)}}}_markInsert(e,n,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:n,howMany:i,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,n,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:n,howMany:i,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,n,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,n)}_markChange(e,n){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(n,i),i.push(n);for(let a=0;a<i.length;a++)i[a].howMany<1&&(i.splice(a,1),a--)}_getChangesForElement(e){let n;return this._changesInElement.has(e)?n=this._changesInElement.get(e):(n=[],this._changesInElement.set(e,n)),n}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,S2(e.getChildren()))}_handleChange(e,n){e.nodesToHandle=e.howMany;for(const i of n){const a=e.offset+e.howMany,l=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<l&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<l){const h=i.howMany;i.howMany=e.offset-i.offset,n.unshift({type:"attribute",offset:a,howMany:h-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(a<=i.offset)i.offset-=e.howMany;else if(a<=l)if(e.offset<i.offset){const h=a-i.offset;i.offset=e.offset,i.howMany-=h,e.nodesToHandle-=h}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<l){const h=l-e.offset;i.howMany-=h,e.nodesToHandle-=h}}if(i.type=="remove"&&(a<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(a<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const h=a-i.offset;i.offset=e.offset,i.howMany-=h}else if(e.offset<l)if(a<=l){const h=i.howMany;i.howMany=e.offset-i.offset;const p=h-i.howMany-e.nodesToHandle;n.unshift({type:"attribute",offset:e.offset,howMany:p,count:this._changeCount++})}else i.howMany-=l-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&a>i.offset){if(a>l){const h={type:"attribute",offset:l,howMany:a-l,count:this._changeCount++};this._handleChange(h,n),n.push(h)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<l&&(a>l?(e.nodesToHandle=a-l,e.offset=l):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&a>i.offset){const h={type:"attribute",offset:i.offset,howMany:a-i.offset,count:this._changeCount++};this._handleChange(h,n),n.push(h),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&a<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&a>=l&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,n,i){return{type:"insert",position:G._createAt(e,n),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getRemoveDiff(e,n,i){return{type:"remove",position:G._createAt(e,n),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getAttributesDiff(e,n,i){const a=[];i=new Map(i);for(const[l,h]of n){const p=i.has(l)?i.get(l):null;p!==h&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:h,attributeNewValue:p,changeCount:this._changeCount++}),i.delete(l)}for(const[l,h]of i)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const n=e.parent;if(!n)return!1;const i=this._changesInElement.get(n),a=e.startOffset;if(i){for(const l of i)if(l.type=="insert"&&a>=l.offset&&a<l.offset+l.howMany)return!0}return this._isInInsertedElement(n)}_removeAllNestedChanges(e,n,i){const a=new U(G._createAt(e,n),G._createAt(e,n+i));for(const l of a.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function S2(s){const e=[];for(const n of s)if(n.is("$text"))for(let i=0;i<n.data.length;i++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes()),element:n});return e}function hU(s,e){const n=[];let i=0,a=0;for(const l of e){if(l.offset>i){for(let h=0;h<l.offset-i;h++)n.push("e");a+=l.offset-i}if(l.type=="insert"){for(let h=0;h<l.howMany;h++)n.push("i");i=l.offset+l.howMany}else if(l.type=="remove"){for(let h=0;h<l.howMany;h++)n.push("r");i=l.offset,a+=l.howMany}else n.push(..."a".repeat(l.howMany).split("")),i=l.offset+l.howMany,a+=l.howMany}if(a<s)for(let l=0;l<s-a-i;l++)n.push("e");return n}function fU(s){const e="position"in s&&s.position.root.rootName=="$graveyard",n="range"in s&&s.range.root.rootName=="$graveyard";return!e&&!n}class pU{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new N("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,n=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let a=n-1;for(const[p,g]of this._gaps)e>p&&e<g&&(e=g),a>p&&a<g&&(a=p-1);if(a<i.baseVersion||e>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(e);l===void 0&&(l=0);let h=this._baseVersionToOperationIndex.get(a);return h===void 0&&(h=this._operations.length-1),this._operations.slice(l,h+1)}getOperation(e){const n=this._baseVersionToOperationIndex.get(e);if(n!==void 0)return this._operations[n]}setOperationAsUndone(e,n){this._undoPairs.set(n,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ip extends it{constructor(e,n,i="main"){super(n),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}ip.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"):s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"||s==="node"||s==="model:node"};const D2="$graveyard";class gU extends $e(){constructor(e){super(),this.model=e,this.history=new pU,this.selection=new co(this),this.roots=new Nr({idProperty:"rootName"}),this.differ=new dU(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",D2),this.listenTo(e,"applyOperation",(n,i)=>{const a=i[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(n,i)=>{const a=i[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(n,i,a,l,h)=>{const p={...i.getData(),range:l};this.differ.bufferMarkerChange(i.name,h,p),a===null&&i.on("change",(g,b)=>{const v=i.getData();this.differ.bufferMarkerChange(i.name,{...v,range:b},v)})}),this.registerPostFixer(n=>{let i=!1;for(const a of this.roots)!a.isAttached()&&!a.isEmpty&&(n.remove(n.createRangeIn(a)),i=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(n.removeMarker(a),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(D2)}createRoot(e="$root",n="main"){if(this.roots.get(n))throw new N("model-document-createroot-name-exists",this,{name:n});const i=new ip(this,e,n);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(n=>n.rootName)}getRoots(e=!1){return this.roots.filter(n=>n!=this.graveyard&&(e||n.isAttached())&&n._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=nx(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),n=this.model,i=n.schema,a=n.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(a)||n.createRange(a)}_validateSelectionRange(e){return I2(e.start)&&I2(e.end)}_callPostFixers(e){let n=!1;do for(const i of this._postFixers)if(this.selection.refresh(),n=i(e),n)break;while(n)}}function I2(s){const e=s.textNode;if(e){const n=e.data,i=s.offset-e.startOffset;return!dw(n,i)&&!hw(n,i)}return!0}class mU extends $e(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const n=e instanceof _c?e.name:e;return this._markers.has(n)}get(e){return this._markers.get(e)||null}_set(e,n,i=!1,a=!1){const l=e instanceof _c?e.name:e;if(l.includes(","))throw new N("markercollection-incorrect-marker-name",this);const h=this._markers.get(l);if(h){const b=h.getData(),v=h.getRange();let y=!1;return v.isEqual(n)||(h._attachLiveRange(Mr.fromRange(n)),y=!0),i!=h.managedUsingOperations&&(h._managedUsingOperations=i,y=!0),typeof a=="boolean"&&a!=h.affectsData&&(h._affectsData=a,y=!0),y&&this.fire(`update:${l}`,h,v,n,b),h}const p=Mr.fromRange(n),g=new _c(l,p,i,a);return this._markers.set(l,g),this.fire(`update:${l}`,g,null,n,{...g.getData(),range:null}),g}_remove(e){const n=e instanceof _c?e.name:e,i=this._markers.get(n);return i?(this._markers.delete(n),this.fire(`update:${n}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const n=e instanceof _c?e.name:e,i=this._markers.get(n);if(!i)throw new N("markercollection-refresh-marker-not-exists",this);const a=i.getRange();this.fire(`update:${n}`,i,a,a,i.getData())}*getMarkersAtPosition(e){for(const n of this)n.getRange().containsPosition(e)&&(yield n)}*getMarkersIntersectingRange(e){for(const n of this)n.getRange().getIntersection(e)!==null&&(yield n)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const n of this._markers.values())n.name.startsWith(e+":")&&(yield n)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class _c extends $e(Qi){constructor(e,n,i,a){super(),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=i,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_c.prototype.is=function(s){return s==="marker"||s==="model:marker"};class kU extends kr{constructor(e,n){super(null),this.sourcePosition=e.clone(),this.howMany=n}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new N("detach-operation-on-document-node",this)}_execute(){w2(U._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fi extends Qi{constructor(e){super(),this.markers=new Map,this._children=new Au,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let n=this;for(const i of e)n=n.getChild(n.offsetToIndex(i));return n}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}static fromJSON(e){const n=[];for(const i of e)i.name?n.push(it.fromJSON(i)):n.push(ot.fromJSON(i));return new fi(n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const i=bU(n);for(const a of i)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,n=1){const i=this._children._removeNodes(e,n);for(const a of i)a.parent=null;return i}}fi.prototype.is=function(s){return s==="documentFragment"||s==="model:documentFragment"};function bU(s){return typeof s=="string"?[new ot(s)]:(jn(s)||(s=[s]),Array.from(s).map(e=>typeof e=="string"?new ot(e):e instanceof ao?new ot(e.data,e.getAttributes()):e))}class wU{constructor(e,n){this.model=e,this.batch=n}createText(e,n){return new ot(e,n)}createElement(e,n){return new it(e,n)}createDocumentFragment(){return new fi}cloneElement(e,n=!0){return e._clone(n)}insert(e,n,i=0){if(this._assertWriterUsedCorrectly(),e instanceof ot&&e.data=="")return;const a=G._createAt(n,i);if(e.parent)if(B2(e.root,a.root)){this.move(U._createOn(e),a);return}else{if(e.root.document)throw new N("model-writer-insert-forbidden-move",this);this.remove(e)}const l=a.root.document?a.root.document.version:null,h=new en(a,e,l);if(e instanceof ot&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),e instanceof fi)for(const[p,g]of e.markers){const b=G._createAt(g.root,0),y={range:new U(g.start._getCombined(b,a),g.end._getCombined(b,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(p)?this.updateMarker(p,y):this.addMarker(p,y)}}insertText(e,n,i,a){n instanceof fi||n instanceof it||n instanceof G?this.insert(this.createText(e),n,i):this.insert(this.createText(e,n),i,a)}insertElement(e,n,i,a){n instanceof fi||n instanceof it||n instanceof G?this.insert(this.createElement(e),n,i):this.insert(this.createElement(e,n),i,a)}append(e,n){this.insert(e,n,"end")}appendText(e,n,i){n instanceof fi||n instanceof it?this.insert(this.createText(e),n,"end"):this.insert(this.createText(e,n),i,"end")}appendElement(e,n,i){n instanceof fi||n instanceof it?this.insert(this.createElement(e),n,"end"):this.insert(this.createElement(e,n),i,"end")}setAttribute(e,n,i){if(this._assertWriterUsedCorrectly(),i instanceof U){const a=i.getMinimalFlatRanges();for(const l of a)P2(this,e,n,l)}else R2(this,e,n,i)}setAttributes(e,n){for(const[i,a]of li(e))this.setAttribute(i,a,n)}removeAttribute(e,n){if(this._assertWriterUsedCorrectly(),n instanceof U){const i=n.getMinimalFlatRanges();for(const a of i)P2(this,e,null,a)}else R2(this,e,null,n)}clearAttributes(e){this._assertWriterUsedCorrectly();const n=i=>{for(const a of i.getAttributeKeys())this.removeAttribute(a,i)};if(!(e instanceof U))n(e);else for(const i of e.getItems())n(i)}move(e,n,i){if(this._assertWriterUsedCorrectly(),!(e instanceof U))throw new N("writer-move-invalid-range",this);if(!e.isFlat)throw new N("writer-move-range-not-flat",this);const a=G._createAt(n,i);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!B2(e.root,a.root))throw new N("writer-move-different-document",this);const l=e.root.document?e.root.document.version:null,h=new qe(e.start,e.end.offset-e.start.offset,a,l);this.batch.addOperation(h),this.model.applyOperation(h)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof U?e:U._createOn(e)).getMinimalFlatRanges().reverse();for(const a of i)this._addOperationForAffectedMarkers("move",a),_U(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const n=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(n instanceof it))throw new N("writer-merge-no-element-before",this);if(!(i instanceof it))throw new N("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,n,i){return this.model.createPositionFromPath(e,n,i)}createPositionAt(e,n){return this.model.createPositionAt(e,n)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,n){return this.model.createRange(e,n)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const n=e.nodeBefore,i=e.nodeAfter;this.move(U._createIn(i),G._createAt(n,"end")),this.remove(i)}_merge(e){const n=G._createAt(e.nodeBefore,"end"),i=G._createAt(e.nodeAfter,0),a=e.root.document.graveyard,l=new G(a,[0]),h=e.root.document.version,p=new Pt(i,e.nodeAfter.maxOffset,n,l,h);this.batch.addOperation(p),this.model.applyOperation(p)}rename(e,n){if(this._assertWriterUsedCorrectly(),!(e instanceof it))throw new N("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,a=new rr(G._createBefore(e),e.name,n,i);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,n){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new N("writer-split-element-no-parent",this);if(n||(n=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(n))throw new N("writer-split-invalid-limit-element",this);let a,l;do{const h=i.root.document?i.root.document.version:null,p=i.maxOffset-e.offset,g=st.getInsertionPosition(e),b=new st(e,p,g,null,h);this.batch.addOperation(b),this.model.applyOperation(b),!a&&!l&&(a=i,l=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==n);return{position:e,range:new U(G._createAt(a,"end"),G._createAt(l,0))}}wrap(e,n){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new N("writer-wrap-range-not-flat",this);const i=n instanceof it?n:new it(n);if(i.childCount>0)throw new N("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new N("writer-wrap-element-attached",this);this.insert(i,e.start);const a=new U(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,G._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new N("writer-unwrap-element-no-parent",this);this.move(U._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,n){if(this._assertWriterUsedCorrectly(),!n||typeof n.usingOperation!="boolean")throw new N("writer-addmarker-no-usingoperation",this);const i=n.usingOperation,a=n.range,l=n.affectsData===void 0?!1:n.affectsData;if(this.model.markers.has(e))throw new N("writer-addmarker-marker-exists",this);if(!a)throw new N("writer-addmarker-no-range",this);return i?(Pu(this,e,null,a,l),this.model.markers.get(e)):this.model.markers._set(e,a,i,l)}updateMarker(e,n){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,a=this.model.markers.get(i);if(!a)throw new N("writer-updatemarker-marker-not-exists",this);if(!n){Te("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(a);return}const l=typeof n.usingOperation=="boolean",h=typeof n.affectsData=="boolean",p=h?n.affectsData:a.affectsData;if(!l&&!n.range&&!h)throw new N("writer-updatemarker-wrong-options",this);const g=a.getRange(),b=n.range?n.range:g;if(l&&n.usingOperation!==a.managedUsingOperations){n.usingOperation?Pu(this,i,null,b,p):(Pu(this,i,g,null,p),this.model.markers._set(i,b,void 0,p));return}a.managedUsingOperations?Pu(this,i,g,b,p):this.model.markers._set(i,b,void 0,p)}removeMarker(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name;if(!this.model.markers.has(n))throw new N("writer-removemarker-no-marker",this);const i=this.model.markers.get(n);if(!i.managedUsingOperations){this.model.markers._remove(n);return}const a=i.getRange();Pu(this,n,a,null,i.affectsData)}addRoot(e,n="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new N("writer-addroot-root-exists",this);const a=this.model.document,l=new Bo(e,n,!0,a,a.version);return this.batch.addOperation(l),this.model.applyOperation(l),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?this.model.document.getRoot(e):e;if(!n||!n.isAttached())throw new N("writer-detachroot-no-root",this);for(const l of this.model.markers)l.getRange().root===n&&this.removeMarker(l);for(const l of n.getAttributeKeys())this.removeAttribute(l,n);this.remove(this.createRangeIn(n));const i=this.model.document,a=new Bo(n.rootName,n.name,!1,i,i.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,n)}setSelectionAttribute(e,n){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,n);else for(const[i,a]of li(e))this._setSelectionAttribute(i,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const n of e)this._removeSelectionAttribute(n)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const a=co._getStoreAttributeKey(e);this.setAttribute(a,n,i.anchor.parent)}i._setAttribute(e,n)}_removeSelectionAttribute(e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=co._getStoreAttributeKey(e);this.removeAttribute(i,n.anchor.parent)}n._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new N("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,n){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const a=i.getRange();let l=!1;if(e==="move"){const h=n;l=h.containsPosition(a.start)||h.start.isEqual(a.start)||h.containsPosition(a.end)||h.end.isEqual(a.end)}else{const h=n,p=h.nodeBefore,g=h.nodeAfter,b=a.start.parent==p&&a.start.isAtEnd,v=a.end.parent==g&&a.end.offset==0,y=a.end.nodeAfter==g,I=a.start.nodeAfter==g;l=b||v||y||I}l&&this.updateMarker(i.name,{range:a})}}}function P2(s,e,n,i){const a=s.model,l=a.document;let h=i.start,p,g,b;for(const y of i.getWalker({shallow:!0}))b=y.item.getAttribute(e),p&&g!=b&&(g!=n&&v(),h=p),p=y.nextPosition,g=b;p instanceof G&&p!=h&&g!=n&&v();function v(){const y=new U(h,p),I=y.root.document?l.version:null,V=new Vt(y,e,g,n,I);s.batch.addOperation(V),a.applyOperation(V)}}function R2(s,e,n,i){const a=s.model,l=a.document,h=i.getAttribute(e);let p,g;if(h!=n){if(i.root===i){const v=i.document?l.version:null;g=new hi(i,e,h,n,v)}else{p=new U(G._createBefore(i),s.createPositionAfter(i));const v=p.root.document?l.version:null;g=new Vt(p,e,h,n,v)}s.batch.addOperation(g),a.applyOperation(g)}}function Pu(s,e,n,i,a){const l=s.model,h=l.document,p=new nr(e,n,i,l.markers,!!a,h.version);s.batch.addOperation(p),l.applyOperation(p)}function _U(s,e,n,i){let a;if(s.root.document){const l=i.document,h=new G(l.graveyard,[0]);a=new qe(s,e,h,l.version)}else a=new kU(s,e);n.addOperation(a),i.applyOperation(a)}function B2(s,e){return s===e||s instanceof ip&&e instanceof ip}function vU(s,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const a=s.schema;s.change(l=>{if(!n.doNotResetEntireContent&&IU(a,e)){DU(l,e);return}const h={};if(!n.doNotAutoparagraph){const b=e.getSelectedElement();b&&Object.assign(h,a.getAttributesWithProperty(b,"copyOnReplace",!0))}const[p,g]=AU(i);p.isTouching(g)||l.remove(l.createRange(p,g)),n.leaveUnmerged||(yU(l,p,g),a.removeDisallowedAttributes(p.parent.getChildren(),l)),V2(l,e,p),!n.doNotAutoparagraph&&TU(a,p)&&M2(l,p,e,h),p.detach(),g.detach()})}function AU(s){const e=s.root.document.model,n=s.start;let i=s.end;if(e.hasContent(s,{ignoreMarkers:!0})){const a=CU(i);if(a&&i.isTouching(e.createPositionAt(a,0))){const l=e.createSelection(s);e.modifySelection(l,{direction:"backward"});const h=l.getLastPosition(),p=e.createRange(h,i);e.hasContent(p,{ignoreMarkers:!0})||(i=h)}}return[or.fromPosition(n,"toPrevious"),or.fromPosition(i,"toNext")]}function CU(s){const e=s.parent,n=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const a of i){if(n.isLimit(a))return null;if(n.isBlock(a))return a}}function yU(s,e,n){const i=s.model;if(!qw(s.model.schema,e,n))return;const[a,l]=xU(e,n);!a||!l||(!i.hasContent(a,{ignoreMarkers:!0})&&i.hasContent(l,{ignoreMarkers:!0})?N2(s,e,n,a.parent):O2(s,e,n,a.parent))}function O2(s,e,n,i){const a=e.parent,l=n.parent;if(!(a==i||l==i)){for(e=s.createPositionAfter(a),n=s.createPositionBefore(l),n.isEqual(e)||s.insert(l,e),s.merge(e);n.parent.isEmpty;){const h=n.parent;n=s.createPositionBefore(h),s.remove(h)}qw(s.model.schema,e,n)&&O2(s,e,n,i)}}function N2(s,e,n,i){const a=e.parent,l=n.parent;if(!(a==i||l==i)){for(e=s.createPositionAfter(a),n=s.createPositionBefore(l),n.isEqual(e)||s.insert(a,n);e.parent.isEmpty;){const h=e.parent;e=s.createPositionBefore(h),s.remove(h)}n=s.createPositionBefore(l),EU(s,n),qw(s.model.schema,e,n)&&N2(s,e,n,i)}}function EU(s,e){const n=e.nodeBefore,i=e.nodeAfter;n.name!=i.name&&s.rename(n,i.name),s.clearAttributes(n),s.setAttributes(Object.fromEntries(i.getAttributes()),n),s.merge(e)}function qw(s,e,n){const i=e.parent,a=n.parent;return i==a||s.isLimit(i)||s.isLimit(a)?!1:SU(e,n,s)}function xU(s,e){const n=s.getAncestors(),i=e.getAncestors();let a=0;for(;n[a]&&n[a]==i[a];)a++;return[n[a],i[a]]}function TU(s,e){const n=s.checkChild(e,"$text"),i=s.checkChild(e,"paragraph");return!n&&i}function SU(s,e,n){const i=new U(s,e);for(const a of i.getWalker())if(n.isLimit(a.item))return!1;return!0}function M2(s,e,n,i={}){const a=s.createElement("paragraph");s.model.schema.setAllowedAttributes(a,i,s),s.insert(a,e),V2(s,n,s.createPositionAt(a,0))}function DU(s,e){const n=s.model.schema.getLimitElement(e);s.remove(s.createRangeIn(n)),M2(s,s.createPositionAt(n,0),e)}function IU(s,e){const n=s.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:s.checkChild(n,"paragraph")}function V2(s,e,n){e instanceof co?s.setSelection(n):e.setTo(n)}function PU(s,e){return s.change(n=>{const i=n.createDocumentFragment(),a=e.getFirstRange();if(!a||a.isCollapsed)return i;const l=a.start.root,h=a.start.getCommonPath(a.end),p=l.getNodeByPath(h);let g;a.start.parent==a.end.parent?g=a:g=n.createRange(n.createPositionAt(p,a.start.path[h.length]),n.createPositionAt(p,a.end.path[h.length]+1));const b=g.end.offset-g.start.offset;for(const v of g.getItems({shallow:!0}))v.is("$textProxy")?n.appendText(v.data,v.getAttributes(),i):n.append(n.cloneElement(v,!0),i);if(g!=a){const v=a._getTransformedByMove(g.start,n.createPositionAt(i,0),b)[0],y=n.createRange(n.createPositionAt(i,0),v.start),I=n.createRange(v.end,n.createPositionAt(i,"end"));L2(I,n),L2(y,n)}return i})}function L2(s,e){const n=[];Array.from(s.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(s.start)||i.start.isEqual(s.start))&&(i.end.isBefore(s.end)||i.end.isEqual(s.end))).forEach(i=>{n.push(i.start.parent),e.remove(i)}),n.forEach(i=>{let a=i;for(;a.parent&&a.isEmpty;){const l=e.createRangeOn(a);a=a.parent,e.remove(l)}})}function RU(s,e,n){return s.change(i=>{const a=n||s.document.selection;a.isCollapsed||s.deleteContent(a,{doNotAutoparagraph:!0});const l=new BU(s,i,a.anchor),h=[];let p;if(e.is("documentFragment")){if(e.markers.size){const v=[];for(const[y,I]of e.markers){const{start:V,end:F}=I,H=V.isEqual(F);v.push({position:V,name:y,isCollapsed:H},{position:F,name:y,isCollapsed:H})}v.sort(({position:y},{position:I})=>y.isBefore(I)?1:-1);for(const{position:y,name:I,isCollapsed:V}of v){let F=null,H=null;const W=y.parent===e&&y.isAtStart,ee=y.parent===e&&y.isAtEnd;!W&&!ee?(F=i.createElement("$marker"),i.insert(F,y)):V&&(H=W?"start":"end"),h.push({name:I,element:F,collapsed:H})}}p=e.getChildren()}else p=[e];l.handleNodes(p);let g=l.getSelectionRange();if(e.is("documentFragment")&&h.length){const v=g?Mr.fromRange(g):null,y={};for(let I=h.length-1;I>=0;I--){const{name:V,element:F,collapsed:H}=h[I],W=!y[V];if(W&&(y[V]=[]),F){const ee=i.createPositionAt(F,"before");y[V].push(ee),i.remove(F)}else{const ee=l.getAffectedRange();if(!ee){H&&y[V].push(l.position);continue}H?y[V].push(ee[H]):y[V].push(W?ee.start:ee.end)}}for(const[I,[V,F]]of Object.entries(y))V&&F&&V.root===F.root&&V.root.document&&i.addMarker(I,{usingOperation:!0,affectsData:!0,range:new U(V,F)});v&&(g=v.toRange(),v.detach())}g&&(a instanceof co?i.setSelection(g):a.setTo(g));const b=l.getAffectedRange()||s.createRange(a.anchor);return l.destroy(),b})}class BU{constructor(e,n,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=n,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const n of Array.from(e))this._handleNode(n);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const n=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(n)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new N("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?U._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new U(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let n=this._checkAndAutoParagraphToAllowedPosition(e);if(!n&&(n=this._checkAndSplitToAllowedPosition(e),!n)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=or.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new N("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=or.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=or.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof it)||!this._canMergeLeft(e))return;const n=or._createBefore(e);n.stickiness="toNext";const i=or.fromPosition(this.position,"toNext");this._affectedStart.isEqual(n)&&(this._affectedStart.detach(),this._affectedStart=or._createAt(n.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=or._createAt(n.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof it)||!this._canMergeRight(e))return;const n=or._createAfter(e);if(n.stickiness="toNext",!this.position.isEqual(n))throw new N("insertcontent-invalid-insertion-position",this);this.position=G._createAt(n.nodeBefore,"end");const i=or.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(n)&&(this._affectedEnd.detach(),this._affectedEnd=or._createAt(n.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=or._createAt(n.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_canMergeLeft(e){const n=e.previousSibling;return n instanceof it&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e){const n=e.nextSibling;return n instanceof it&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e){const n=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,n)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const n=this.writer.createElement("paragraph");return this.writer.insert(n,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=n,this.position=this.writer.createPositionAt(n,0),!0}_checkAndSplitToAllowedPosition(e){const n=this._getAllowedIn(this.position.parent,e);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===n&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,n){return this.schema.checkChild(e,n)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,n)}}function OU(s,e,n,i={}){if(!s.schema.isObject(e))throw new N("insertobject-element-not-an-object",s,{object:e});const a=n||s.document.selection;let l=a;i.findOptimalPosition&&s.schema.isBlock(e)&&(l=s.createSelection(s.schema.findOptimalInsertionRange(a,i.findOptimalPosition)));const h=tr(a.getSelectedBlocks()),p={};return h&&Object.assign(p,s.schema.getAttributesWithProperty(h,"copyOnReplace",!0)),s.change(g=>{l.isCollapsed||s.deleteContent(l,{doNotAutoparagraph:!0});let b=e;const v=l.anchor.parent;!s.schema.checkChild(v,e)&&s.schema.checkChild(v,"paragraph")&&s.schema.checkChild("paragraph",e)&&(b=g.createElement("paragraph"),g.insert(e,b)),s.schema.setAllowedAttributes(b,p,g);const y=s.insertContent(b,l);return y.isCollapsed||i.setSelection&&NU(g,e,i.setSelection,p),y})}function NU(s,e,n,i){const a=s.model;if(n=="on"){s.setSelection(e,"on");return}if(n!="after")throw new N("insertobject-invalid-place-parameter-value",a);let l=e.nextSibling;if(a.schema.isInline(e)){s.setSelection(e,"after");return}!(l&&a.schema.checkChild(l,"$text"))&&a.schema.checkChild(e.parent,"paragraph")&&(l=s.createElement("paragraph"),a.schema.setAllowedAttributes(l,i,s),a.insertContent(l,s.createPositionAfter(e))),l&&s.setSelection(l,0)}const MU=' ,.?!:;"-()';function VU(s,e,n={}){const i=s.schema,a=n.direction!="backward",l=n.unit?n.unit:"character",h=!!n.treatEmojiAsSingleUnit,p=e.focus,g=new di({boundaries:jU(p,a),singleCharacters:!0,direction:a?"forward":"backward"}),b={walker:g,schema:i,isForward:a,unit:l,treatEmojiAsSingleUnit:h};let v;for(;v=g.next();){if(v.done)return;const y=LU(b,v.value);if(y){e instanceof co?s.change(I=>{I.setSelectionFocus(y)}):e.setFocus(y);return}}}function LU(s,e){const{isForward:n,walker:i,unit:a,schema:l,treatEmojiAsSingleUnit:h}=s,{type:p,item:g,nextPosition:b}=e;if(p=="text")return s.unit==="word"?zU(i,n):FU(i,a,h);if(p==(n?"elementStart":"elementEnd")){if(l.isSelectable(g))return G._createAt(g,n?"after":"before");if(l.checkChild(b,"$text"))return b}else{if(l.isLimit(g)){i.skip(()=>!0);return}if(l.checkChild(b,"$text"))return b}}function FU(s,e,n){const i=s.position.textNode;if(i){const a=i.data;let l=s.position.offset-i.startOffset;for(;dw(a,l)||e=="character"&&hw(a,l)||n&&WE(a,l);)s.next(),l=s.position.offset-i.startOffset}return s.position}function zU(s,e){let n=s.position.textNode;for(n||(n=e?s.position.nodeAfter:s.position.nodeBefore);n&&n.is("$text");){const i=s.position.offset-n.startOffset;if($U(n,i,e))n=e?s.position.nodeAfter:s.position.nodeBefore;else{if(UU(n.data,i,e))break;s.next()}}return s.position}function jU(s,e){const n=s.root,i=G._createAt(n,e?"end":0);return e?new U(s,i):new U(i,s)}function UU(s,e,n){const i=e+(n?0:-1);return MU.includes(s.charAt(i))}function $U(s,e,n){return e===(n?s.offsetSize:0)}class HU extends tt(){constructor(){super(),this.markers=new mU,this.document=new gU(this),this.schema=new Ij,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,n)=>{n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,n)=>{if(n.name==="$marker")return!0}),vj(this),this.document.registerPostFixer(s2),this.on("insertContent",(e,[n,i])=>{e.return=RU(this,n,i)}),this.on("insertObject",(e,[n,i,a])=>{e.return=OU(this,n,i,a)}),this.on("canEditAt",e=>{const n=!this.document.isReadOnly;e.return=n,n||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new wc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){N.rethrowUnexpectedError(n,this)}}enqueueChange(e,n){try{e?typeof e=="function"?(n=e,e=new wc):e instanceof wc||(e=new wc(e)):e=new wc,this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){N.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,n,i,...a){const l=Ww(n,i);return this.fire("insertContent",[e,l,i,...a])}insertObject(e,n,i,a,...l){const h=Ww(n,i);return this.fire("insertObject",[e,h,a,a,...l])}deleteContent(e,n){vU(this,e,n)}modifySelection(e,n){VU(this,e,n)}getSelectedContent(e){return PU(this,e)}hasContent(e,n={}){const i=e instanceof U?e:U._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:l=!1}=n;if(!l){for(const h of this.markers.getMarkersIntersectingRange(i))if(h.affectsData)return!0}for(const h of i.getItems())if(this.schema.isContent(h))if(h.is("$textProxy"))if(a){if(h.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const n=Ww(e);return this.fire("canEditAt",[n])}createPositionFromPath(e,n,i){return new G(e,n,i)}createPositionAt(e,n){return G._createAt(e,n)}createPositionAfter(e){return G._createAfter(e)}createPositionBefore(e){return G._createBefore(e)}createRange(e,n){return new U(e,n)}createRangeIn(e){return U._createIn(e)}createRangeOn(e){return U._createOn(e)}createSelection(...e){return new mr(...e)}createBatch(e){return new wc(e)}createOperationFromJSON(e){return rU.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const n=this._pendingChanges[0].batch;this._currentWriter=new wU(this,n);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Ww(s,e){if(s)return s instanceof mr||s instanceof co?s:s instanceof ta?e||e===0?new mr(s,e):s.is("rootElement")?new mr(s,"in"):new mr(s,"on"):new mr(s)}class qU extends Gi{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Gw extends Gi{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class vc{constructor(e){this.document=e}createDocumentFragment(e){return new ea(this.document,e)}createElement(e,n,i){return new pr(this.document,e,n,i)}createText(e){return new rt(this.document,e)}clone(e,n=!1){return e._clone(n)}appendChild(e,n){return n._appendChild(e)}insertChild(e,n,i){return i._insertChild(e,n)}removeChildren(e,n,i){return i._removeChildren(e,n)}remove(e){const n=e.parent;return n?this.removeChildren(n.getChildIndex(e),1,n):[]}replace(e,n){const i=e.parent;if(i){const a=i.getChildIndex(e);return this.removeChildren(a,1,i),this.insertChild(a,n,i),!0}return!1}unwrapElement(e){const n=e.parent;if(n){const i=n.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),n)}}rename(e,n){const i=new pr(this.document,e,n.getAttributes(),n.getChildren());return this.replace(n,i)?i:null}setAttribute(e,n,i){i._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,i){Tn(e)&&i===void 0?n._setStyle(e):i._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,i){i._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}createPositionAt(e,n){return ne._createAt(e,n)}createPositionAfter(e){return ne._createAfter(e)}createPositionBefore(e){return ne._createBefore(e)}createRange(e,n){return new Ae(e,n)}createRangeOn(e){return Ae._createOn(e)}createRangeIn(e){return Ae._createIn(e)}createSelection(...e){return new io(...e)}}const WU=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function GU(s){return WU.test(s)}const KU=/^[+-]?[0-9]*([.][0-9]+)?%$/;function QU(s){return KU.test(s)}class JU{constructor(){this._commands=new Map}add(e,n){this._commands.set(e,n)}get(e){return this._commands.get(e)}execute(e,...n){const i=this.get(e);if(!i)throw new N("commandcollection-command-not-found",this,{commandName:e});return i.execute(...n)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class YU extends fr{constructor(e){super(),this.editor=e}set(e,n,i={}){if(typeof n=="string"){const a=n;n=(l,h)=>{this.editor.execute(a),h()}}super.set(e,n,i)}}const Kw="contentEditing",F2="common";class ZU{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const n=e.locale.t;this.addKeystrokeInfoCategory({id:Kw,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button"),keystroke:[["Enter"],["Space"]]}]}]})}addKeystrokeInfoCategory({id:e,label:n,description:i,groups:a}){this.keystrokeInfos.set(e,{id:e,label:n,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:F2}),a&&a.forEach(l=>{this.addKeystrokeInfoGroup({categoryId:e,...l})})}addKeystrokeInfoGroup({categoryId:e=Kw,id:n,label:i,keystrokes:a}){const l=this.keystrokeInfos.get(e);if(!l)throw new N("accessibility-unknown-keystroke-info-category",this._editor,{groupId:n,categoryId:e});l.groups.set(n,{id:n,label:i,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=Kw,groupId:n=F2,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new N("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});const a=this.keystrokeInfos.get(e);if(!a.groups.has(n))throw new N("accessibility-unknown-keystroke-info-group",this._editor,{groupId:n,categoryId:e,keystrokes:i});a.groups.get(n).keystrokes.push(...i)}}class XU extends tt(){constructor(e={}){super();const n=this.constructor,{translations:i,...a}=n.defaultConfig||{},{translations:l=i,...h}=e,p=e.language||a.language;this._context=e.context||new YE({language:p,translations:l}),this._context._addEditor(this,!e.context);const g=Array.from(n.builtinPlugins||[]);this.config=new _E(h,a),this.config.define("plugins",g),this.config.define(this._context._getEditorConfig()),this.plugins=new JE(this,g,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new JU,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new HU,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const b=new _9;this.data=new Zj(this.model,b),this.editing=new Tj(this.model,b),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new eU([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new YU(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new ZU(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new N("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,n=e.get("plugins"),i=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],l=e.get("substitutePlugins")||[];return this.plugins.init(n.concat(a),i,l)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(n=>this.once("ready",n))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...n){try{return this.commands.execute(e,...n)}catch(i){N.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function e$(s){if(!Eo(s.updateSourceElement))throw new N("attachtoform-missing-elementapi-interface",s);const e=s.sourceElement;if(t$(e)&&e.form){let n;const i=e.form,a=()=>s.updateSourceElement();Eo(i.submit)&&(n=i.submit,i.submit=()=>{a(),n.apply(i)}),i.addEventListener("submit",a),s.on("destroy",()=>{i.removeEventListener("submit",a),n&&(i.submit=n)})}}function t$(s){return!!s&&s.tagName.toLowerCase()==="textarea"}function Qw(s){class e extends s{updateSourceElement(i){if(!this.sourceElement)throw new N("editor-missing-sourceelement",this);const a=this.config.get("updateSourceElementOnDestroy"),l=this.sourceElement instanceof HTMLTextAreaElement;if(!a&&!l){DE(this.sourceElement,"");return}const h=typeof i=="string"?i:this.data.get();DE(this.sourceElement,h)}}return e}Qw.updateSourceElement=Qw(Object).prototype.updateSourceElement;const Re={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};class Oo extends Nr{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(n,i,a)=>{this._renderViewIntoCollectionParent(i,a)}),this.on("remove",(n,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!n$(e))throw new N("ui-viewcollection-delegate-wrong-events",this);return{to:n=>{for(const i of this)for(const a of e)i.delegate(a).to(n);this.on("add",(i,a)=>{for(const l of e)a.delegate(l).to(n)}),this.on("remove",(i,a)=>{for(const l of e)a.stopDelegating(l,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}remove(e){return super.remove(e)}}function n$(s){return s.every(e=>typeof e=="string")}const r$="http://www.w3.org/1999/xhtml";class Lr extends $e(){constructor(e){super(),Object.assign(this,$2(U2(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=Q2(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new N("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(n){if(n.children)for(const i of n.children)ap(i)?yield i:Jw(i)&&(yield*e(i))}yield*e(this)}static bind(e,n){return{to(i,a){return new o$({eventNameOrFunction:i,attribute:i,observable:e,emitter:n,callback:a})},if(i,a,l){return new z2({observable:e,emitter:n,attribute:i,valueIfTrue:a,callback:l})}}}static extend(e,n){if(e._isRendered)throw new N("template-extend-render",[this,e]);G2(e,$2(U2(n)))}_renderNode(e){let n;if(e.node?n=this.tag&&this.text:n=this.tag?this.text:!this.text,n)throw new N("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||r$,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),sp(this.text)?this._bindToObservable({schema:this.text,updater:s$(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){if(!this.attributes)return;const n=e.node,i=e.revertData;for(const a in this.attributes){const l=n.getAttribute(a),h=this.attributes[a];i&&(i.attributes[a]=l);const p=K2(h)?h[0].ns:null;if(sp(h)){const g=K2(h)?h[0].value:h;i&&J2(a)&&g.unshift(l),this._bindToObservable({schema:g,updater:a$(n,a,p),data:e})}else if(a=="style"&&typeof h[0]!="string")this._renderStyleAttribute(h[0],e);else{i&&l&&J2(a)&&h.unshift(l);const g=h.map(b=>b&&(b.value||b)).reduce((b,v)=>b.concat(v),[]).reduce(q2,"");Ac(g)||n.setAttributeNS(p,a,g)}}}_renderStyleAttribute(e,n){const i=n.node;for(const a in e){const l=e[a];sp(l)?this._bindToObservable({schema:[l],updater:c$(i,a),data:n}):i.style[a]=l}}_renderElementChildren(e){const n=e.node,i=e.intoFragment?document.createDocumentFragment():n,a=e.isApplying;let l=0;for(const h of this.children)if(Yw(h)){if(!a){h.setParent(n);for(const p of h)i.appendChild(p.element)}}else if(ap(h))a||(h.isRendered||h.render(),i.appendChild(h.element));else if(Wi(h))i.appendChild(h);else if(a){const p=e.revertData,g=Q2();p.children.push(g),h._renderNode({intoFragment:!1,node:i.childNodes[l++],isApplying:!0,revertData:g})}else i.appendChild(h.render());e.intoFragment&&n.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const i=this.eventListeners[n].map(a=>{const[l,h]=n.split("@");return a.activateDomEventListener(l,h,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:n,data:i}){const a=i.revertData;j2(e,n,i);const l=e.filter(h=>!Ac(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(e,n,i));a&&a.bindings.push(l)}_revertTemplateFromNode(e,n){for(const a of n.bindings)for(const l of a)l();if(n.text){e.textContent=n.text;return}const i=e;for(const a in n.attributes){const l=n.attributes[a];l===null?i.removeAttribute(a):i.setAttribute(a,l)}for(let a=0;a<n.children.length;++a)this._revertTemplateFromNode(i.childNodes[a],n.children[a])}}class Ru{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}activateAttributeListener(e,n,i){const a=()=>j2(e,n,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class o$ extends Ru{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,n,i){const a=(l,h)=>{(!n||h.target.matches(n))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(i.node,e,a),()=>{this.emitter.stopListening(i.node,e,a)}}}class z2 extends Ru{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const n=super.getValue(e);return Ac(n)?!1:this.valueIfTrue||!0}}function sp(s){return s?(s.value&&(s=s.value),Array.isArray(s)?s.some(sp):s instanceof Ru):!1}function i$(s,e){return s.map(n=>n instanceof Ru?n.getValue(e):n)}function j2(s,e,{node:n}){const i=i$(s,n);let a;s.length==1&&s[0]instanceof z2?a=i[0]:a=i.reduce(q2,""),Ac(a)?e.remove():e.set(a)}function s$(s){return{set(e){s.textContent=e},remove(){s.textContent=""}}}function a$(s,e,n){return{set(i){s.setAttributeNS(n,e,i)},remove(){s.removeAttributeNS(n,e)}}}function c$(s,e){return{set(n){s.style[e]=n},remove(){s.style[e]=null}}}function U2(s){return Xb(s,n=>{if(n&&(n instanceof Ru||Jw(n)||ap(n)||Yw(n)))return n})}function $2(s){if(typeof s=="string"?s=d$(s):s.text&&h$(s),s.on&&(s.eventListeners=u$(s.on),delete s.on),!s.text){s.attributes&&l$(s.attributes);const e=[];if(s.children)if(Yw(s.children))e.push(s.children);else for(const n of s.children)Jw(n)||ap(n)||Wi(n)?e.push(n):e.push(new Lr(n));s.children=e}return s}function l$(s){for(const e in s)s[e].value&&(s[e].value=vt(s[e].value)),H2(s,e)}function u$(s){for(const e in s)H2(s,e);return s}function d$(s){return{text:[s]}}function h$(s){s.text=vt(s.text)}function H2(s,e){s[e]=vt(s[e])}function q2(s,e){return Ac(e)?s:Ac(s)?e:`${s} ${e}`}function W2(s,e){for(const n in e)s[n]?s[n].push(...e[n]):s[n]=e[n]}function G2(s,e){if(e.attributes&&(s.attributes||(s.attributes={}),W2(s.attributes,e.attributes)),e.eventListeners&&(s.eventListeners||(s.eventListeners={}),W2(s.eventListeners,e.eventListeners)),e.text&&s.text.push(...e.text),e.children&&e.children.length){if(s.children.length!=e.children.length)throw new N("ui-template-extend-children-mismatch",s);let n=0;for(const i of e.children)G2(s.children[n++],i)}}function Ac(s){return!s&&s!==0}function ap(s){return s instanceof we}function Jw(s){return s instanceof Lr}function Yw(s){return s instanceof Oo}function K2(s){return pt(s[0])&&s[0].ns}function Q2(){return{children:[],bindings:[],attributes:{}}}function J2(s){return s=="class"||s=="style"}var Y2=o(7718),Zw={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zw.insert="head",Zw.singleton=!0,ue()(Y2.A,Zw),Y2.A.locals;class we extends ro(tt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Nr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Lr.bind(this,this)}createCollection(e){const n=new Oo(e);return this._viewCollections.add(n),n}registerChild(e){jn(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){jn(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new Lr(e)}extendTemplate(e){Lr.extend(this.template,e)}render(){if(this.isRendered)throw new N("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var Z2=o(3475),Xw={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xw.insert="head",Xw.singleton=!0,ue()(Z2.A,Xw),Z2.A.locals;class Bu extends we{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Gt()}`;const n=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:n.to("for")},children:[{text:n.to("text")}]})}}class f$ extends we{constructor(e,n){super(e);const i=e.t,a=new Bu;a.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[Zn(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(n.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(n=>{const i=[Zn(document,"h3",{},n.label),...Array.from(n.groups.values()).map(a=>this._createGroup(a)).flat()];return n.description&&i.splice(1,0,Zn(document,"p",{},n.description)),Zn(document,"section",{},i)})}_createGroup(e){const n=e.keystrokes.sort((a,l)=>a.label.localeCompare(l.label)).map(a=>this._createGroupRow(a)).flat(),i=[Zn(document,"dl",{},n)];return e.label&&i.unshift(Zn(document,"h4",{},e.label)),i}_createGroupRow(e){const n=this.locale.t,i=Zn(document,"dt"),a=Zn(document,"dd"),l=g$(e.keystroke),h=[];for(const p of l)h.push(p.map(p$).join(""));return i.innerHTML=e.label,a.innerHTML=h.join(", ")+(e.mayRequireFn&&_.isMac?` ${n("(may require <kbd>Fn</kbd>)")}`:""),[i,a]}}function p$(s){return $f(s).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function g$(s){return typeof s=="string"?[[s]]:typeof s[0]=="string"?[s]:s}const X2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var eT=o(1353),e_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};e_.insert="head",e_.singleton=!0,ue()(eT.A,e_),eT.A.locals;class m$ extends re{constructor(){super(...arguments),this.contentView=null}static get requires(){return[pi]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,n=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",i=>{const a=new Je(i);return a.set({label:n("Accessibility help"),tooltip:!0,withText:!1,keystroke:"Alt+0",icon:X2}),a.on("execute",()=>this._showDialog()),a}),e.keystrokes.set("Alt+0",(i,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_setupRootLabels(){const e=this.editor,n=e.editing.view,i=e.t;e.ui.on("ready",()=>{n.change(l=>{for(const h of n.document.roots)a(l,h)}),e.on("addRoot",(l,h)=>{const p=e.editing.view.document.getRoot(h.rootName);n.change(g=>a(g,p))},{priority:"low"})});function a(l,h){const g=`${h.getAttribute("aria-label")}. ${i("Press %0 for help.",[$f("Alt+0")])}`;l.setAttribute("aria-label",g,h)}}_showDialog(){const e=this.editor,n=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new f$(e.locale,e.accessibility.keystrokeInfos)),n.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:X2,hasCloseButton:!0,content:this.contentView})}}class k$ extends Oo{constructor(e,n=[]){super(n),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Lr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Zn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var tT=o(2191),t_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};t_.insert="head",t_.singleton=!0,ue()(tT.A,t_),tT.A.locals;class cp extends we{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const n=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=n.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:a,value:l}of Array.from(n.attributes))cp.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,l);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;n.childNodes.length>0;)this.element.appendChild(n.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}cp.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];const Cc=cp;class b$ extends we{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var nT=o(8941),n_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};n_.insert="head",n_.singleton=!0,ue()(nT.A,n_),nT.A.locals;class Je extends we{constructor(e,n=new b$){super(e),this._focusDelayed=null;const i=this.bindTemplate,a=Gt();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(n),this.iconView=new Cc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",h=>!h),i.if("isVisible","ck-hidden",h=>!h),i.to("isOn",h=>h?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",h=>h||"button"),tabindex:i.to("tabindex"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,h=>!h),"aria-pressed":i.to("isOn",h=>this.isToggleable?String(!!h):!1),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=uw(()=>this.focus(),0)),l.on.mousedown=i.to(()=>{this._focusDelayed()}),l.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new we;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",n=>$f(n))}]}),e}_getTooltipString(e,n,i){return e?typeof e=="string"?e:(i&&(i=$f(i)),e instanceof Function?e(n,i):`${n}${i?` (${i})`:""}`):""}}var rT=o(8613),r_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};r_.insert="head",r_.singleton=!0,ue()(rT.A,r_),rT.A.locals;class lp extends Je{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new we;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}const oT='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var iT=o(3283),o_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};o_.insert="head",o_.singleton=!0,ue()(iT.A,o_),iT.A.locals;function w$(s,e){const n=s.t,i={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return e.map(a=>{const l=i[a.label];return l&&l!=a.label&&(a.label=l),a})}function _$(s){return s.map(v$).filter(e=>!!e)}function v$(s){return typeof s=="string"?{model:s,label:s,hasBorder:!1,view:{name:"span",styles:{color:s}}}:{model:s.color,label:s.label||s.color,hasBorder:s.hasBorder===void 0?!1:s.hasBorder,view:{name:"span",styles:{color:`${s.color}`}}}}const A$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class sT extends Je{constructor(e){super(e);const n=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=A$,this.extendTemplate({attributes:{style:{backgroundColor:n.to("color")},class:["ck","ck-color-grid__tile",n.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var aT=o(4239),i_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};i_.insert="head",i_.singleton=!0,ue()(aT.A,i_),aT.A.locals;class cT extends we{constructor(e,n){super(e);const i=n&&n.colorDefinitions?n.colorDefinitions:[];this.columns=n&&n.columns?n.columns:5;const a={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Sn,this.keystrokes=new fr,this.items.on("add",(l,h)=>{h.isOn=h.color===this.selectedColor}),i.forEach(l=>{const h=new sT;h.set({color:l.color,label:l.label,tooltip:!0,hasBorder:l.options.hasBorder}),h.on("execute",()=>{this.fire("execute",{value:l.color,hasBorder:l.options.hasBorder,label:l.label})}),this.items.add(h)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:a}}),this.on("change:selectedColor",(l,h,p)=>{for(const g of this.items)g.isOn=g.color===p})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,n)=>{this.focusTracker.add(n.element)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element),m({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var lT=o(8156);const uT=C$;var dT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function C$(s){var e,n=[],i=1,a;if(typeof s=="string")if(lT[s])n=lT[s].slice(),a="rgb";else if(s==="transparent")i=0,a="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(s)){var l=s.slice(1),h=l.length,p=h<=4;i=1,p?(n=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],h===4&&(i=parseInt(l[3]+l[3],16)/255)):(n=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],h===8&&(i=parseInt(l[6]+l[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),a="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(s)){var g=e[1],b=g==="rgb",l=g.replace(/a$/,"");a=l;var h=l==="cmyk"?4:l==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(I,V){if(/%$/.test(I))return V===h?parseFloat(I)/100:l==="rgb"?parseFloat(I)*255/100:parseFloat(I);if(l[V]==="h"){if(/deg$/.test(I))return parseFloat(I);if(dT[I]!==void 0)return dT[I]}return parseFloat(I)}),g===l&&n.push(1),i=b||n[h]===void 0?1:n[h],n=n.slice(0,h)}else s.length>10&&/[0-9](?:\s|\/)/.test(s)&&(n=s.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),a=s.match(/([a-z])/gi).join("").toLowerCase());else isNaN(s)?Array.isArray(s)||s.length?(n=[s[0],s[1],s[2]],a="rgb",i=s.length===4?s[3]:1):s instanceof Object&&(s.r!=null||s.red!=null||s.R!=null?(a="rgb",n=[s.r||s.red||s.R||0,s.g||s.green||s.G||0,s.b||s.blue||s.B||0]):(a="hsl",n=[s.h||s.hue||s.H||0,s.s||s.saturation||s.S||0,s.l||s.lightness||s.L||s.b||s.brightness]),i=s.a||s.alpha||s.opacity||1,s.opacity!=null&&(i/=100)):(a="rgb",n=[s>>>16,(s&65280)>>>8,s&255]);return{space:a,values:n,alpha:i}}var y$=o(734),hT=o.t(y$,2);function fT(s,e){if(!s)return"";const n=pT(s);if(!n)return"";if(n.space===e)return s;if(!S$(n))return"";const a=hT[n.space][e];if(!a)return"";const l=a(n.space==="hex"?n.hexValue:n.values);return T$(l,e)}function E$(s){if(!s)return"";const e=pT(s);return e?e.space==="hex"?e.hexValue:fT(s,"hex"):"#000"}function x$(s,e){customElements.get(s)===void 0&&customElements.define(s,e)}function T$(s,e){switch(e){case"hex":return`#${s}`;case"rgb":return`rgb( ${s[0]}, ${s[1]}, ${s[2]} )`;case"hsl":return`hsl( ${s[0]}, ${s[1]}%, ${s[2]}% )`;case"hwb":return`hwb( ${s[0]}, ${s[1]}, ${s[2]} )`;case"lab":return`lab( ${s[0]}% ${s[1]} ${s[2]} )`;case"lch":return`lch( ${s[0]}% ${s[1]} ${s[2]} )`;default:return""}}function pT(s){if(s.startsWith("#")){const n=uT(s);return{space:"hex",values:n.values,hexValue:s,alpha:n.alpha}}const e=uT(s);return e.space?e:null}function S$(s){return Object.keys(hT).includes(s.space)}var gT=o(2828),s_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};s_.insert="head",s_.singleton=!0,ue()(gT.A,s_),gT.A.locals;class a_ extends we{constructor(e,n){super(e);const i=`ck-labeled-field-view-${Gt()}`,a=`ck-labeled-field-view-status-${Gt()}`;this.fieldView=n(this,i,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,p)=>h||p);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",h=>!h),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const n=new Bu(this.locale);return n.for=e,n.bind("text").to(this,"label"),n}_createStatusView(e){const n=new we(this.locale),i=this.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",a=>!a)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),n}focus(e){this.fieldView.focus(e)}}class D$ extends we{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Sn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById")},on:{input:n.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,n,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=I$(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function I$(s){return!s.value}var mT=o(4071),c_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};c_.insert="head",c_.singleton=!0,ue()(mT.A,c_),mT.A.locals;class P$ extends D${constructor(e){super(e),this.set("inputMode","text");const n=this.bindTemplate;this.extendTemplate({attributes:{inputmode:n.to("inputMode")}})}}class R$ extends P${constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var kT=o(4097),l_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};l_.insert="head",l_.singleton=!0,ue()(kT.A,l_),kT.A.locals;class B$ extends we{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",i=>`ck-dropdown__panel_${i}`),n.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:n.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Te("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var bT=o(1887),u_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};u_.insert="head",u_.singleton=!0,ue()(bT.A,u_),bT.A.locals;class yc extends we{constructor(e,n,i){super(e);const a=this.bindTemplate;this.buttonView=n,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fr,this.focusTracker=new Sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",l=>!l)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,i,a)=>{if(a)if(this.panelPosition==="auto"){const l=yc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(n,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(n,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(n,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:n,southEast:i,southWest:a,northEast:l,northWest:h,southMiddleEast:p,southMiddleWest:g,northMiddleEast:b,northMiddleWest:v}=yc.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,a,p,g,e,l,h,b,v,n]:[a,i,g,p,e,h,l,v,b,n]}}yc.defaultPanelPositions={south:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/2,name:"s"}),southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,e)=>({top:s.bottom,left:s.left-e.width+s.width,name:"sw"}),southMiddleEast:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/4,name:"sme"}),southMiddleWest:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)*3/4,name:"smw"}),north:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/2,name:"n"}),northEast:(s,e)=>({top:s.top-e.height,left:s.left,name:"ne"}),northWest:(s,e)=>({top:s.top-e.height,left:s.left-e.width+s.width,name:"nw"}),northMiddleEast:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/4,name:"nme"}),northMiddleWest:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)*3/4,name:"nmw"})},yc._getOptimalPosition=rw;const O$=yc;class N$ extends Je{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Cc;return e.content=oT,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class No extends $e(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const n in e.actions){let i=e.actions[n];typeof i=="string"&&(i=[i]);for(const a of i)e.keystrokeHandler.set(a,(l,h)=>{this[n](),h()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(d_)||null}get last(){return this.focusables.filter(d_).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((n,i)=>{const a=n.element===this.focusTracker.focusedElement;return a&&(e=i),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,n){e&&this.focusTracker.focusedElement!==e.element&&e.focus(n)}_getDomFocusableItem(e){const n=this.focusables.length;if(!n)return null;const i=this.current;if(i===null)return this[e===1?"first":"last"];let a=this.focusables.get(i),l=(i+n+e)%n;do{const h=this.focusables.get(l);if(d_(h)){a=h;break}l=(l+n+e)%n}while(l!==i);return a}}function d_(s){return Ou(s)&&Js(s.element)}function Ou(s){return"focus"in s&&typeof s.focus=="function"}function M$(s){return Ou(s)&&"focusCycler"in s&&s.focusCycler instanceof No}class wT extends we{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class V$ extends we{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function L$(s){return s.bindTemplate.to(e=>{e.target===s.element&&e.preventDefault()})}function _T(s){if(Array.isArray(s))return{items:s,removeItems:[]};const e={items:[],removeItems:[]};return s?{...e,...s}:e}var vT=o(9423),h_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};h_.insert="head",h_.singleton=!0,ue()(vT.A,h_),vT.A.locals;const{threeVerticalDots:AT}=Re,F$={alignLeft:Re.alignLeft,bold:Re.bold,importExport:Re.importExport,paragraph:Re.paragraph,plus:Re.plus,text:Re.text,threeVerticalDots:Re.threeVerticalDots,pilcrow:Re.pilcrow,dragIndicator:Re.dragIndicator};class f_ extends we{constructor(e,n){super(e);const i=this.bindTemplate,a=this.t;this.options=n||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Sn,this.keystrokes=new fr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new z$(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l=e.uiLanguageDirection==="rtl";this._focusCycler=new No({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:L$(this)}}),this._behavior=this.options.shouldGroupWhenFull?new U$(this):new j$(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,n)=>{this.focusTracker.add(n.element)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,n,i){this.items.addMany(this._buildItemsFromConfig(e,n,i))}_buildItemsFromConfig(e,n,i){const a=_T(e),l=i||a.removeItems;return this._cleanItemsConfiguration(a.items,n,l).map(p=>pt(p)?this._createNestedToolbarDropdown(p,n,l):p==="|"?new wT:p==="-"?new V$:n.create(p)).filter(p=>!!p)}_cleanItemsConfiguration(e,n,i){const a=e.filter((l,h,p)=>l==="|"?!0:i.indexOf(l)!==-1?!1:l==="-"?this.options.shouldGroupWhenFull?(Te("toolbarview-line-break-ignored-when-grouping-items",p),!1):!0:!pt(l)&&!n.has(l)?(Te("toolbarview-item-unavailable",{item:l}),!1):!0);return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const n=h=>h!=="-"&&h!=="|",i=e.length,a=e.findIndex(n);if(a===-1)return[];const l=i-e.slice().reverse().findIndex(n);return e.slice(a,l).filter((h,p,g)=>n(h)?!0:!(p>0&&g[p-1]===h))}_createNestedToolbarDropdown(e,n,i){let{label:a,icon:l,items:h,tooltip:p=!0,withText:g=!1}=e;if(h=this._cleanItemsConfiguration(h,n,i),!h.length)return null;const b=this.locale,v=Mo(b);return a||Te("toolbarview-nested-toolbar-dropdown-missing-label",e),v.class="ck-toolbar__nested-toolbar-dropdown",v.buttonView.set({label:a,tooltip:p,withText:!!g}),l!==!1?v.buttonView.icon=F$[l]||l||AT:v.buttonView.withText=!0,b_(v,()=>v.toolbarView._buildItemsFromConfig(h,n,i)),v}}class z$ extends we{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class j${constructor(e){const n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>Ou(i)?i:null),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class U${constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(n=>n),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(n,i)=>{const a=i.index,l=Array.from(i.added);for(const h of i.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(h):this.ungroupedItems.remove(h);for(let h=a;h<a+l.length;h++){const p=l[h-a];h>this.ungroupedItems.length?this.groupedItems.add(p,h-this.ungroupedItems.length):this.ungroupedItems.add(p,h)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Js(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let n;for(;this._areItemsOverflowing;)this._groupLastItem(),n=!0;if(!n&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,n=this.viewLocale.uiLanguageDirection,i=new Me(e.lastChild),a=new Me(e);if(!this.cachedPadding){const l=ke.window.getComputedStyle(e),h=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(l[h])}return n==="ltr"?i.right>a.right-this.cachedPadding:i.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new nw(this.viewElement,n=>{(!e||e!==n.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=n.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new wT),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,n=e.t,i=Mo(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",b_(i,this.groupedItems),i.buttonView.set({label:n("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:AT}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Ou(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class up extends we{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",n.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class CT extends we{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class dp extends we{constructor(e,n=new Bu){super(e);const i=this.bindTemplate,a=new ET(e);this.set({label:"",isVisible:!0}),this.labelView=n,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:n.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}focus(){if(this.items){const e=this.items.find(n=>!(n instanceof CT));e&&e.focus()}}}var yT=o(8753),p_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};p_.insert="head",p_.singleton=!0,ue()(yT.A,p_),yT.A.locals;class ET extends we{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const n=this.bindTemplate;this.focusables=new Oo,this.items=this.createCollection(),this.focusTracker=new Sn,this.keystrokes=new fr,this._focusCycler=new No({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:n.to("role"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof dp?this._registerFocusableItemsGroup(e):e instanceof up&&this._registerFocusableListItem(e);this.items.on("change",(e,n)=>{for(const i of n.removed)i instanceof dp?this._deregisterFocusableItemsGroup(i):i instanceof up&&this._deregisterFocusableListItem(i);for(const i of Array.from(n.added).reverse())i instanceof dp?this._registerFocusableItemsGroup(i,n.index):this._registerFocusableListItem(i,n.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,n){this.focusTracker.add(e.element),this.focusables.add(e,n)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(n,i)=>{for(const a of i.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(i.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,n){Array.from(e.items).forEach((a,l)=>{const h=typeof n<"u"?n+l:void 0;this._registerFocusableListItem(a,h)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const n of e.items)this._deregisterFocusableListItem(n);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var xT=o(4890),g_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};g_.insert="head",g_.singleton=!0,ue()(xT.A,g_),xT.A.locals;class TT extends we{constructor(e,n){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(n),this.arrowView=this._createArrowView(),this.keystrokes=new fr,this.focusTracker=new Sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,n)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",(e,n)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),n())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const n=e||new Je;return e||n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const e=new Je,n=e.bindTemplate;return e.icon=oT,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":n.to("isOn"),"aria-haspopup":!0,"aria-expanded":n.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var ST=o(9432),m_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};m_.insert="head",m_.singleton=!0,ue()(ST.A,m_),ST.A.locals;var DT=o(6571),k_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};k_.insert="head",k_.singleton=!0,ue()(DT.A,k_),DT.A.locals;function Mo(s,e=N$){const n=typeof e=="function"?new e(s):e,i=new B$(s),a=new O$(s,n,i);return n.bind("isEnabled").to(a),n instanceof TT?n.arrowView.bind("isOn").to(a,"isOpen"):n.bind("isOn").to(a,"isOpen"),$$(a),a}function b_(s,e,n={}){s.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),s.isOpen?IT(s,e,n):s.once("change:isOpen",()=>IT(s,e,n),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&w_(s,()=>s.toolbarView.items.find(i=>i.isOn))}function IT(s,e,n){const i=s.locale,a=i.t,l=s.toolbarView=new f_(i),h=typeof e=="function"?e():e;l.ariaLabel=n.ariaLabel||a("Dropdown toolbar"),n.maxWidth&&(l.maxWidth=n.maxWidth),n.class&&(l.class=n.class),n.isCompact&&(l.isCompact=n.isCompact),n.isVertical&&(l.isVertical=!0),h instanceof Oo?l.items.bindTo(h).using(p=>p):l.items.addMany(h),s.panelView.children.add(l),l.items.delegate("execute").to(s)}function hp(s,e,n={}){s.isOpen?PT(s,e,n):s.once("change:isOpen",()=>PT(s,e,n),{priority:"highest"}),w_(s,()=>s.listView.items.find(i=>i instanceof up?i.children.first.isOn:!1))}function PT(s,e,n){const i=s.locale,a=s.listView=new ET(i),l=typeof e=="function"?e():e;a.ariaLabel=n.ariaLabel,a.role=n.role,RT(s,a.items,l,i),s.panelView.children.add(a),a.items.delegate("execute").to(s)}function w_(s,e){s.on("change:isOpen",()=>{if(!s.isOpen)return;const n=e();n&&(typeof n.focus=="function"?n.focus():Te("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:zn.low-10})}function $$(s){H$(s),q$(s),W$(s),G$(s),K$(s),Q$(s)}function H$(s){s.on("render",()=>{u({emitter:s,activator:()=>s.isOpen,callback:()=>{s.isOpen=!1},contextElements:()=>[s.element,...s.focusTracker._elements]})})}function q$(s){s.on("execute",e=>{e.source instanceof lp||(s.isOpen=!1)})}function W$(s){s.focusTracker.on("change:isFocused",(e,n,i)=>{s.isOpen&&!i&&(s.isOpen=!1)})}function G$(s){s.keystrokes.set("arrowdown",(e,n)=>{s.isOpen&&(s.panelView.focus(),n())}),s.keystrokes.set("arrowup",(e,n)=>{s.isOpen&&(s.panelView.focusLast(),n())})}function K$(s){s.on("change:isOpen",(e,n,i)=>{if(i)return;const a=s.panelView.element;a&&a.contains(ke.document.activeElement)&&s.buttonView.focus()})}function Q$(s){s.on("change:isOpen",(e,n,i)=>{i&&s.panelView.focus()},{priority:"low"})}function RT(s,e,n,i){e.bindTo(n).using(a=>{if(a.type==="separator")return new CT(i);if(a.type==="group"){const l=new dp(i);return l.set({label:a.label}),RT(s,l.items,a.items,i),l.items.delegate("execute").to(s),l}else if(a.type==="button"||a.type==="switchbutton"){const l=new up(i);let h;return a.type==="button"?(h=new Je(i),h.extendTemplate({attributes:{"aria-checked":h.bindTemplate.to("isOn")}})):h=new lp(i),h.bind(...Object.keys(a.model)).to(a.model),h.delegate("execute").to(l),l.children.add(h),l}return null})}const __=(s,e,n)=>{const i=new R$(s.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isReadOnly").to(s,"isEnabled",a=>!a),i.bind("hasError").to(s,"errorText",a=>!!a),i.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(i),i},Nu=(s,e=0,n=1)=>s>n?n:s<e?e:s,gn=(s,e=0,n=Math.pow(10,e))=>Math.round(n*s)/n,J$=s=>tH(v_(s)),v_=s=>(s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?gn(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?gn(parseInt(s.substring(6,8),16)/255,2):1}),Y$=s=>eH(X$(s)),Z$=({h:s,s:e,v:n,a:i})=>{const a=(200-e)*n/100;return{h:gn(s),s:gn(a>0&&a<200?e*n/100/(a<=100?a:200-a)*100:0),l:gn(a/2),a:gn(i,2)}},A_=s=>{const{h:e,s:n,l:i}=Z$(s);return`hsl(${e}, ${n}%, ${i}%)`},X$=({h:s,s:e,v:n,a:i})=>{s=s/360*6,e=e/100,n=n/100;const a=Math.floor(s),l=n*(1-e),h=n*(1-(s-a)*e),p=n*(1-(1-s+a)*e),g=a%6;return{r:gn([n,h,l,l,p,n][g]*255),g:gn([p,n,n,h,l,l][g]*255),b:gn([l,l,p,n,n,h][g]*255),a:gn(i,2)}},fp=s=>{const e=s.toString(16);return e.length<2?"0"+e:e},eH=({r:s,g:e,b:n,a:i})=>{const a=i<1?fp(gn(i*255)):"";return"#"+fp(s)+fp(e)+fp(n)+a},tH=({r:s,g:e,b:n,a:i})=>{const a=Math.max(s,e,n),l=a-Math.min(s,e,n),h=l?a===s?(e-n)/l:a===e?2+(n-s)/l:4+(s-e)/l:0;return{h:gn(60*(h<0?h+6:h)),s:gn(a?l/a*100:0),v:gn(a/255*100),a:i}},BT=(s,e)=>{if(s===e)return!0;for(const n in s)if(s[n]!==e[n])return!1;return!0},nH=(s,e)=>s.toLowerCase()===e.toLowerCase()?!0:BT(v_(s),v_(e)),OT={},NT=s=>{let e=OT[s];return e||(e=document.createElement("template"),e.innerHTML=s,OT[s]=e),e},C_=(s,e,n)=>{s.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))};let Ec=!1;const y_=s=>"touches"in s,rH=s=>Ec&&!y_(s)?!1:(Ec||(Ec=y_(s)),!0),MT=(s,e)=>{const n=y_(e)?e.touches[0]:e,i=s.el.getBoundingClientRect();C_(s.el,"move",s.getMove({x:Nu((n.pageX-(i.left+window.pageXOffset))/i.width),y:Nu((n.pageY-(i.top+window.pageYOffset))/i.height)}))},oH=(s,e)=>{const n=e.keyCode;n>40||s.xy&&n<37||n<33||(e.preventDefault(),C_(s.el,"move",s.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};class VT{constructor(e,n,i,a){const l=NT(`<div role="slider" tabindex="0" part="${n}" ${i}><div part="${n}-pointer"></div></div>`);e.appendChild(l.content.cloneNode(!0));const h=e.querySelector(`[part=${n}]`);h.addEventListener("mousedown",this),h.addEventListener("touchstart",this),h.addEventListener("keydown",this),this.el=h,this.xy=a,this.nodes=[h.firstChild,h]}set dragging(e){const n=e?document.addEventListener:document.removeEventListener;n(Ec?"touchmove":"mousemove",this),n(Ec?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!rH(e)||!Ec&&e.button!=0)return;this.el.focus(),MT(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),MT(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":oH(this,e);break}}style(e){e.forEach((n,i)=>{for(const a in n)this.nodes[i].style.setProperty(a,n[a])})}}class iH extends VT{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:A_({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${gn(e)}`)}getMove(e,n){return{h:n?Nu(this.h+e.x*360,0,360):360*e.x}}}class sH extends VT{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:A_(e)},{"background-color":A_({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${gn(e.s)}%, Brightness ${gn(e.v)}%`)}getMove(e,n){return{s:n?Nu(this.hsva.s+e.x*100,0,100):e.x*100,v:n?Nu(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const aH=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',cH="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",lH="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",pp=Symbol("same"),E_=Symbol("color"),LT=Symbol("hsva"),x_=Symbol("update"),FT=Symbol("parts"),zT=Symbol("css"),jT=Symbol("sliders");class uH extends HTMLElement{static get observedAttributes(){return["color"]}get[zT](){return[aH,cH,lH]}get[jT](){return[sH,iH]}get color(){return this[E_]}set color(e){if(!this[pp](e)){const n=this.colorModel.toHsva(e);this[x_](n),this[E_]=e}}constructor(){super();const e=NT(`<style>${this[zT].join("")}</style>`),n=this.attachShadow({mode:"open"});n.appendChild(e.content.cloneNode(!0)),n.addEventListener("move",this),this[FT]=this[jT].map(i=>new i(n))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,n,i){const a=this.colorModel.fromAttr(i);this[pp](a)||(this.color=a)}handleEvent(e){const n=this[LT],i={...n,...e.detail};this[x_](i);let a;!BT(i,n)&&!this[pp](a=this.colorModel.fromHsva(i))&&(this[E_]=a,C_(this,"color-changed",{value:a}))}[pp](e){return this.color&&this.colorModel.equal(e,this.color)}[x_](e){this[LT]=e,this[FT].forEach(n=>n.update(e))}}const dH={defaultColor:"#000",toHsva:J$,fromHsva:({h:s,s:e,v:n})=>Y$({h:s,s:e,v:n,a:1}),equal:nH,fromAttr:s=>s};class hH extends uH{get colorModel(){return dH}}var UT=o(3019),T_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};T_.insert="head",T_.singleton=!0,ue()(UT.A,T_),UT.A.locals;const fH=150;class pH extends we{constructor(e,n={}){super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const i=this.createCollection();n.hideInput||i.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:i}),this._config=n,this._debounceColorPickerEvent=kc(a=>{this.set("color",a),this.fire("colorSelected",{color:this.color})},fH,{leading:!0}),this.on("set:color",(a,l,h)=>{a.return=fT(h,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=S_(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),S_(this.color)!=S_(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),x$("hex-color-picker",hH),this.picker=ke.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const n=e.detail.value;this._debounceColorPickerEvent(n)})}focus(){!this._config.hideInput&&(_.isGecko||_.isiOS||_.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const i=[...this.picker.shadowRoot.children].filter(a=>a.getAttribute("role")==="slider").map(a=>new gH(a));this.slidersView=this.createCollection(),i.forEach(a=>{this.slidersView.add(a)})}_createInputRow(){const e=new mH,n=this._createColorInput();return new kH(this.locale,[e,n])}_createColorInput(){const e=new a_(this.locale,__),{t:n}=this.locale;return e.set({label:n("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",i=>e.isFocused?e.fieldView.value:i.startsWith("#")?i.substring(1):i),e.fieldView.on("input",()=>{const i=e.fieldView.element.value;if(i){const a=i.trim(),l=a.startsWith("#")?a.substring(1):a;[3,4,6,8].includes(l.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(l)&&this._debounceColorPickerEvent("#"+l)}}),e}}function S_(s){let e=E$(s);return e||(e="#000"),e.length===4&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class gH extends we{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class mH extends we{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class kH extends we{constructor(e,n){super(e),this.children=this.createCollection(n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class bH extends tt(Nr){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(e,n){return this.find(i=>i.color===e.color)?this:super.add(e,n)}hasColor(e){return!!this.find(n=>n.color===e)}}const{eraser:wH,colorPalette:_H}=Re;class vH extends we{constructor(e,{colors:n,columns:i,removeButtonLabel:a,documentColorsLabel:l,documentColorsCount:h,colorPickerLabel:p,focusTracker:g,focusables:b}){super(e);const v=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=g,this.items=this.createCollection(),this.colorDefinitions=n,this.columns=i,this.documentColors=new bH,this.documentColorsCount=h,this._focusables=b,this._removeButtonLabel=a,this._colorPickerLabel=p,this._documentColorsLabel=l,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",v.if("isVisible","ck-hidden",y=>!y)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,n){const i=e.document,a=this.documentColorsCount;this.documentColors.clear();for(const l of i.getRoots()){const h=e.createRangeIn(l);for(const p of h.getItems())if(p.is("$textProxy")&&p.hasAttribute(n)&&(this._addColorToDocumentColors(p.getAttribute(n)),this.documentColors.length>=a))return}}updateSelectedColors(){const e=this.documentColorsGrid,n=this.staticColorsGrid,i=this.selectedColor;n.selectedColor=i,e&&(e.selectedColor=i)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=Lr.bind(this.documentColors,this.documentColors),n=new Bu(this.locale);n.text=this._documentColorsLabel,n.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(n),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new Je,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:_H,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new Je;return e.set({withText:!0,icon:wH,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new cT(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(n,i)=>{this.fire("execute",{value:i.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=Lr.bind(this.documentColors,this.documentColors),n=new cT(this.locale,{columns:this.columns});return n.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),n.items.bindTo(this.documentColors).using(i=>{const a=new sT;return a.set({color:i.color,hasBorder:i.options&&i.options.hasBorder}),i.label&&a.set({label:i.label,tooltip:!0}),a.on("execute",()=>{this.fire("execute",{value:i.color,source:"documentColorsGrid"})}),a}),this.documentColors.on("change:isEmpty",(i,a,l)=>{l&&(n.selectedColor=null)}),n}_addColorToDocumentColors(e){const n=this.colorDefinitions.find(i=>i.color===e);n?this.documentColors.add(Object.assign({},n)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class AH extends we{constructor(e,{focusTracker:n,focusables:i,keystrokes:a,colorPickerViewConfig:l}){super(e),this.items=this.createCollection(),this.focusTracker=n,this.keystrokes=a,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=i,this._colorPickerViewConfig=l;const h=this.bindTemplate,{saveButtonView:p,cancelButtonView:g}=this._createActionButtons();this.saveButtonView=p,this.cancelButtonView=g,this.actionBarView=this._createActionBarView({saveButtonView:p,cancelButtonView:g}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",h.if("isVisible","ck-hidden",b=>!b)]},children:this.items})}render(){super.render();const e=new pH(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(n,i,a)=>{e.color=a}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=n=>n.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const n of this.colorPickerView.slidersView)this.focusTracker.add(n.element),this._focusables.add(n);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:n}){const i=new we,a=this.createCollection();return a.add(e),a.add(n),i.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:a}),i}_createActionButtons(){const e=this.locale,n=e.t,i=new Je(e),a=new Je(e);return i.set({icon:Re.check,class:"ck-button-save",type:"button",withText:!1,label:n("Accept")}),a.set({icon:Re.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:n("Cancel")}),i.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),a.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:i,cancelButtonView:a}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,n)=>{this.fire("execute",{value:n.color,source:"colorPicker"}),this.set("selectedColor",n.color)})}}var $T=o(2927),D_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};D_.insert="head",D_.singleton=!0,ue()($T.A,D_),$T.A.locals;class CH extends we{constructor(e,{colors:n,columns:i,removeButtonLabel:a,documentColorsLabel:l,documentColorsCount:h,colorPickerLabel:p,colorPickerViewConfig:g}){super(e),this.items=this.createCollection(),this.focusTracker=new Sn,this.keystrokes=new fr,this._focusables=new Oo,this._colorPickerViewConfig=g,this._focusCycler=new No({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new vH(e,{colors:n,columns:i,removeButtonLabel:a,documentColorsLabel:l,documentColorsCount:h,colorPickerLabel:p,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new AH(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:g}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(b,v,y)=>{this.colorGridsFragmentView.set("selectedColor",y),this.colorPickerFragmentView.set("selectedColor",y)}),this.colorGridsFragmentView.on("change:selectedColor",(b,v,y)=>{this.set("selectedColor",y)}),this.colorPickerFragmentView.on("change:selectedColor",(b,v,y)=>{this.set("selectedColor",y)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,n){this.colorGridsFragmentView.updateDocumentColors(e,n)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class yH{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,n){this._components.set(I_(e),{callback:n,originalName:e})}create(e){if(!this.has(e))throw new N("componentfactory-item-missing",this,{name:e});return this._components.get(I_(e)).callback(this.editor.locale)}has(e){return this._components.has(I_(e))}}function I_(s){return String(s).toLowerCase()}var HT=o(8379),P_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};P_.insert="head",P_.singleton=!0,ue()(HT.A,P_),HT.A.locals;class EH extends we{constructor(e,n={}){super(e);const i=this.bindTemplate;this.set("label",n.label||""),this.set("class",n.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),n.icon&&(this.iconView=new Cc,this.iconView.content=n.icon,this.children.add(this.iconView));const a=new we(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(a)}}function xH(s){class e extends s{constructor(...i){super(...i),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(ke.document,"mouseup",this._onDragEndBound),this.listenTo(ke.document,"touchend",this._onDragEndBound),this.listenTo(ke.document,"mousemove",this._onDragBound),this.listenTo(ke.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(ke.document,"mouseup",this._onDragEndBound),this.stopListening(ke.document,"touchend",this._onDragEndBound),this.stopListening(ke.document,"mousemove",this._onDragBound),this.stopListening(ke.document,"touchmove",this._onDragBound)}_onDragStart(i,a){if(!this._isHandleElementPressed(a))return;this._attachDragListeners();let l=0,h=0;a instanceof MouseEvent?(l=a.clientX,h=a.clientY):(l=a.touches[0].clientX,h=a.touches[0].clientY),this._lastDraggingCoordinates={x:l,y:h},this.isDragging=!0}_onDrag(i,a){if(!this.isDragging){this._detachDragListeners();return}let l=0,h=0;a instanceof MouseEvent?(l=a.clientX,h=a.clientY):(l=a.touches[0].clientX,h=a.touches[0].clientY),a.preventDefault(),this.fire("drag",{deltaX:Math.round(l-this._lastDraggingCoordinates.x),deltaY:Math.round(h-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:l,y:h}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return e}var qT=o(7748),R_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};R_.insert="head",R_.singleton=!0,ue()(qT.A,R_),qT.A.locals;class TH extends we{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new fr,this._focusTracker=new Sn,this._focusables=new Oo,this.focusCycler=new No({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const n of e){const i=new Je(this.locale);let a;i.on("execute",()=>n.onExecute()),n.onCreate&&n.onCreate(i);for(a in n)a!="onExecute"&&a!="onCreate"&&i.set(a,n[a]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class SH extends we{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var WT=o(7197),B_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};B_.insert="head",B_.singleton=!0,ue()(WT.A,B_),WT.A.locals;const lo={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},GT=dc("px");class gp extends xH(we){constructor(e,{getCurrentDomRoot:n,getViewportOffset:i}){super(e),this.wasMoved=!1;const a=this.bindTemplate,l=e.t;this.set("className",""),this.set("ariaLabel",l("Editor dialog")),this.set("isModal",!1),this.set("position",lo.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new fr,this.focusTracker=new Sn,this._focusables=new Oo,this._focusCycler=new No({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",a.if("isModal","ck-dialog-overlay__transparent",h=>!h),a.if("_isVisible","ck-hidden",h=>!h)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",a.to("className")],role:"dialog","aria-label":a.to("ariaLabel"),style:{top:a.to("_top",h=>GT(h)),left:a.to("_left",h=>GT(h)),visibility:a.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(e,{deltaX:n,deltaY:i})=>{this.wasMoved=!0,this.moveBy(n,i)}),this.listenTo(ke.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(ke.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,n,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:n,hasCloseButton:i=!0,content:a,actionButtons:l}){n&&(this.headerView=new EH(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),a&&(a instanceof we&&(a=[a]),this.contentView=new SH(this.locale),this.contentView.children.addMany(a),this.parts.add(this.contentView)),l&&(this.actionsView=new TH(this.locale),this.actionsView.setButtons(l),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,n){const i=this._getViewportRect(),a=this._getDialogRect();e+a.width>i.right&&(e=i.right-a.width),e<i.left&&(e=i.left),n<i.top&&(n=i.top),this._moveTo(e,n)}_moveTo(e,n){this._left=e,this._top=n}moveBy(e,n){this.moveTo(this._left+e,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let n=this.position,i;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(e):n=lo.SCREEN_CENTER;const a=gp.defaultOffset,l=this._getDialogRect();switch(n){case lo.EDITOR_TOP_SIDE:{if(i){const h=this.locale.contentLanguageDirection==="ltr"?i.right-l.width-a:i.left+a;this.moveTo(h,i.top+a)}else this._moveOffScreen();break}case lo.EDITOR_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-l.width/2),Math.round(i.top+i.height/2-l.height/2)):this._moveOffScreen();break}case lo.SCREEN_CENTER:{this.moveTo(Math.round((e.width-l.width)/2),Math.round((e.height-l.height)/2));break}case lo.EDITOR_TOP_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-l.width/2),i.top+a):this._moveOffScreen();break}case lo.EDITOR_BOTTOM_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-l.width/2),i.bottom-l.height-a):this._moveOffScreen();break}case lo.EDITOR_ABOVE_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-l.width/2),i.top-l.height-a):this._moveOffScreen();break}case lo.EDITOR_BELOW_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-l.width/2),i.bottom+a):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let n=new Me(this._getCurrentDomRoot()).getVisible();if(n){if(n=e.getIntersection(n),!n)return null}else return null;return n}_getDialogRect(){return new Me(this.element.firstElementChild)}_getViewportRect(){return DH(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const n of this.contentView.children)Ou(n)&&e.push(n);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element),M$(n)&&(this.listenTo(n.focusCycler,"forwardCycle",i=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}),this.listenTo(n.focusCycler,"backwardCycle",i=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}))})}_createCloseButton(){const e=new Je(this.locale),n=this.locale.t;return e.set({label:n("Close"),tooltip:!0,icon:Re.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}gp.defaultOffset=15;const O_=gp;function DH(s){s=Object.assign({top:0,bottom:0,left:0,right:0},s);const e=new Me(ke.window);return e.top+=s.top,e.height-=s.top,e.bottom-=s.bottom,e.height-=s.bottom,e.left+=s.left,e.right-=s.right,e.width-=s.left+s.right,e}class pi extends re{static get pluginName(){return"Dialog"}constructor(e){super(e);const n=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:n("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",(e,n)=>{this._show(n)}),this.on("show",(e,n)=>{n.onShow&&n.onShow(this)},{priority:"low"}),this.on("hide",()=>{pi._visibleDialogPlugin&&pi._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(n,i)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const n=e.document.differ.getChangedRoots();for(const i of n)i.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:n,title:i,hasCloseButton:a=!0,content:l,actionButtons:h,className:p,isModal:g,position:b,onHide:v}){const y=this.editor;this.view=new O_(y.locale,{getCurrentDomRoot:()=>y.editing.view.getDomRoot(y.model.document.selection.anchor.root.rootName),getViewportOffset:()=>y.ui.viewportOffset});const I=this.view;I.on("close",()=>{this.hide()}),y.ui.view.body.add(I),y.ui.focusTracker.add(I.element),y.keystrokes.listenTo(I.element),b||(b=g?lo.SCREEN_CENTER:lo.EDITOR_CENTER),I.set({position:b,_isVisible:!0,className:p,isModal:g}),I.setupParts({icon:n,title:i,hasCloseButton:a,content:l,actionButtons:h}),this.id=e,v&&(this._onHide=v),this.isOpen=!0,pi._visibleDialogPlugin=this}hide(){pi._visibleDialogPlugin&&pi._visibleDialogPlugin.fire(`hide:${pi._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,n=this.view;n.contentView&&n.contentView.reset(),e.ui.view.body.remove(n),e.ui.focusTracker.remove(n.element),e.keystrokes.stopListening(n.element),n.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,pi._visibleDialogPlugin=null}}var KT=o(9316),N_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};N_.insert="head",N_.singleton=!0,ue()(KT.A,N_),KT.A.locals;const QT=dc("px"),JT=ke.document.body,IH={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Fr extends we{constructor(e){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",i=>`ck-balloon-panel_${i}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",QT),left:n.to("left",QT)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const n=Fr.defaultPositions,i=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:JT,fitInViewport:!0},e),a=Fr._getOptimalPosition(i)||IH,l=parseInt(a.left),h=parseInt(a.top),p=a.name,g=a.config||{},{withArrow:b=!0}=g;this.top=h,this.left=l,this.position=p,this.withArrow=b}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const n=M_(e.target),i=e.limiter?M_(e.limiter):JT;this.listenTo(ke.document,"scroll",(a,l)=>{const h=l.target,p=n&&h.contains(n),g=i&&h.contains(i);(p||g||!n||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(ke.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ke.document,"scroll"),this.stopListening(ke.window,"resize")}}Fr.arrowSideOffset=25,Fr.arrowHeightOffset=10,Fr.stickyVerticalOffset=20,Fr._getOptimalPosition=rw,Fr.defaultPositions=YT();const Mu=Fr;function M_(s){return Qs(s)?s:zf(s)?s.commonAncestorContainer:typeof s=="function"?M_(s()):null}function YT(s={}){const{sideOffset:e=Fr.arrowSideOffset,heightOffset:n=Fr.arrowHeightOffset,stickyVerticalOffset:i=Fr.stickyVerticalOffset,config:a}=s;return{northWestArrowSouthWest:(p,g)=>({top:l(p,g),left:p.left-e,name:"arrow_sw",...a&&{config:a}}),northWestArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.left-g.width*.25-e,name:"arrow_smw",...a&&{config:a}}),northWestArrowSouth:(p,g)=>({top:l(p,g),left:p.left-g.width/2,name:"arrow_s",...a&&{config:a}}),northWestArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.left-g.width*.75+e,name:"arrow_sme",...a&&{config:a}}),northWestArrowSouthEast:(p,g)=>({top:l(p,g),left:p.left-g.width+e,name:"arrow_se",...a&&{config:a}}),northArrowSouthWest:(p,g)=>({top:l(p,g),left:p.left+p.width/2-e,name:"arrow_sw",...a&&{config:a}}),northArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width*.25-e,name:"arrow_smw",...a&&{config:a}}),northArrowSouth:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width/2,name:"arrow_s",...a&&{config:a}}),northArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width*.75+e,name:"arrow_sme",...a&&{config:a}}),northArrowSouthEast:(p,g)=>({top:l(p,g),left:p.left+p.width/2-g.width+e,name:"arrow_se",...a&&{config:a}}),northEastArrowSouthWest:(p,g)=>({top:l(p,g),left:p.right-e,name:"arrow_sw",...a&&{config:a}}),northEastArrowSouthMiddleWest:(p,g)=>({top:l(p,g),left:p.right-g.width*.25-e,name:"arrow_smw",...a&&{config:a}}),northEastArrowSouth:(p,g)=>({top:l(p,g),left:p.right-g.width/2,name:"arrow_s",...a&&{config:a}}),northEastArrowSouthMiddleEast:(p,g)=>({top:l(p,g),left:p.right-g.width*.75+e,name:"arrow_sme",...a&&{config:a}}),northEastArrowSouthEast:(p,g)=>({top:l(p,g),left:p.right-g.width+e,name:"arrow_se",...a&&{config:a}}),southWestArrowNorthWest:p=>({top:h(p),left:p.left-e,name:"arrow_nw",...a&&{config:a}}),southWestArrowNorthMiddleWest:(p,g)=>({top:h(p),left:p.left-g.width*.25-e,name:"arrow_nmw",...a&&{config:a}}),southWestArrowNorth:(p,g)=>({top:h(p),left:p.left-g.width/2,name:"arrow_n",...a&&{config:a}}),southWestArrowNorthMiddleEast:(p,g)=>({top:h(p),left:p.left-g.width*.75+e,name:"arrow_nme",...a&&{config:a}}),southWestArrowNorthEast:(p,g)=>({top:h(p),left:p.left-g.width+e,name:"arrow_ne",...a&&{config:a}}),southArrowNorthWest:p=>({top:h(p),left:p.left+p.width/2-e,name:"arrow_nw",...a&&{config:a}}),southArrowNorthMiddleWest:(p,g)=>({top:h(p),left:p.left+p.width/2-g.width*.25-e,name:"arrow_nmw",...a&&{config:a}}),southArrowNorth:(p,g)=>({top:h(p),left:p.left+p.width/2-g.width/2,name:"arrow_n",...a&&{config:a}}),southArrowNorthMiddleEast:(p,g)=>({top:h(p),left:p.left+p.width/2-g.width*.75+e,name:"arrow_nme",...a&&{config:a}}),southArrowNorthEast:(p,g)=>({top:h(p),left:p.left+p.width/2-g.width+e,name:"arrow_ne",...a&&{config:a}}),southEastArrowNorthWest:p=>({top:h(p),left:p.right-e,name:"arrow_nw",...a&&{config:a}}),southEastArrowNorthMiddleWest:(p,g)=>({top:h(p),left:p.right-g.width*.25-e,name:"arrow_nmw",...a&&{config:a}}),southEastArrowNorth:(p,g)=>({top:h(p),left:p.right-g.width/2,name:"arrow_n",...a&&{config:a}}),southEastArrowNorthMiddleEast:(p,g)=>({top:h(p),left:p.right-g.width*.75+e,name:"arrow_nme",...a&&{config:a}}),southEastArrowNorthEast:(p,g)=>({top:h(p),left:p.right-g.width+e,name:"arrow_ne",...a&&{config:a}}),westArrowEast:(p,g)=>({top:p.top+p.height/2-g.height/2,left:p.left-g.width-n,name:"arrow_e",...a&&{config:a}}),eastArrowWest:(p,g)=>({top:p.top+p.height/2-g.height/2,left:p.right+n,name:"arrow_w",...a&&{config:a}}),viewportStickyNorth:(p,g,b,v)=>{const y=v||b;return!p.getIntersection(y)||y.height-p.height>i?null:{top:y.top+i,left:p.left+p.width/2-g.width/2,name:"arrowless",config:{withArrow:!1,...a}}}};function l(p,g){return p.top-g.height-n}function h(p){return p.bottom+n}}var ZT=o(3935),V_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};V_.insert="head",V_.singleton=!0,ue()(ZT.A,V_),ZT.A.locals;const XT="ck-tooltip";class tn extends ro(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,tn._editors.add(e),tn._instance)return tn._instance;tn._instance=this,this.tooltipTextView=new we(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Mu(e.locale),this.balloonPanelView.class=XT,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=RH(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=kc(this._pinTooltip,600),this.listenTo(ke.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const n=e.ui.view&&e.ui.view.body;tn._editors.delete(e),this.stopListening(e.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),tn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),tn._instance=null)}static getPositioningFunctions(e){const n=tn.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:n}){const i=L_(n);i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,eS(i)))}_onLeaveOrBlur(e,{target:n,relatedTarget:i}){if(e.name==="mouseleave"){if(!Qs(n)||this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const a=L_(n),l=L_(i);a&&a!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:n,position:i,cssClass:a}){const l=tr(tn._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:e,positions:tn.getPositioningFunctions(i)}),this._resizeObserver=new nw(e,()=>{Js(e)||this._unpinTooltip()}),this._mutationObserver.attach(e),this.balloonPanelView.class=[XT,a].filter(h=>h).join(" ");for(const h of tn._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of tn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){const e=eS(this._currentElementWithTooltip);if(!Js(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:tn.getPositioningFunctions(e.position)})}}tn.defaultBalloonPositions=YT({heightOffset:5,sideOffset:13}),tn._editors=new Set,tn._instance=null;const PH=tn;function L_(s){return Qs(s)?s.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function eS(s){return{text:s.dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}}function RH(s){const e=new MutationObserver(()=>{s()});return{attach(n){e.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}var BH="Expected a function";function OH(s,e,n){var i=!0,a=!0;if(typeof s!="function")throw new TypeError(BH);return pt(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),kc(s,e,{leading:i,maxWait:e,trailing:a})}const mp=OH,NH=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,MH=53,VH=10,LH=50,FH=350,zH="Powered by";class jH extends ro(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=mp(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;!e.config.get("ui.poweredBy.forceVisible")&&gF(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,a,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,a,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,n=this._balloonView=new Mu,i=nS(e),a=new UH(e.locale,i.label);n.content.add(a),n.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(n),e.ui.focusTracker.add(n.element),this._balloonView=n}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=$H(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,n=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!n||!i){this._lastFocusedEditableElement=null;return}const a=Array.from(e.ui.getEditableElementsNames()).map(l=>e.ui.getEditableElement(l));a.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=a[0]}}class UH extends we{constructor(e,n){super(e);const i=new Cc,a=this.bindTemplate;i.set({content:NH,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:MH+"px",height:VH+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...n?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[n]}]:[],i],on:{dragstart:a.to(l=>l.preventDefault())}}]})}}function $H(s,e){const n=nS(s),i=n.side==="right"?HH(e,n):qH(e,n);return{target:e,positions:[i]}}function HH(s,e){return tS(s,e,(n,i)=>n.left+n.width-i.width-e.horizontalOffset)}function qH(s,e){return tS(s,e,n=>n.left+e.horizontalOffset)}function tS(s,e,n){return(i,a)=>{const l=new Me(s);if(l.width<FH||l.height<LH)return null;let h;e.position==="inside"?h=l.bottom-a.height:h=l.bottom-a.height/2,h-=e.verticalOffset;const p=n(l,a),b=i.clone().moveTo(p,h).getIntersection(a.clone().moveTo(p,h)).getVisible();return!b||b.getArea()<a.getArea()?null:{top:h,left:p,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function nS(s){const e=s.config.get("ui.poweredBy"),n=e&&e.position||"border";return{position:n,label:zH,verticalOffset:n==="inside"?5:0,horizontalOffset:5,side:s.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}var rS=o(1587),F_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};F_.insert="head",F_.singleton=!0,ue()(rS.A,F_),rS.A.locals;const oS={POLITE:"polite",ASSERTIVE:"assertive"};class WH{constructor(e){this.editor=e}announce(e,n,i=oS.POLITE){const a=this.editor;this.view||(this.view=new GH(a.locale),a.ui.view.body.add(this.view));let l=this.view.regionViews.find(h=>h.regionName===e);l||(l=new KH(this.view.locale),this.view.regionViews.add(l)),l.set({regionName:e,text:n,politeness:i})}}class GH extends we{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class KH extends we{constructor(e){super(e);const n=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",oS.POLITE),this.setTemplate({tag:"div",attributes:{role:"region","data-region":n.to("regionName"),"aria-live":n.to("politeness")},children:[{text:n.to("text")}]})}}class QH extends tt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const n=e.editing.view;this.editor=e,this.componentFactory=new yH(e),this.focusTracker=new Sn,this.tooltipManager=new PH(e),this.poweredBy=new jH(e),this.ariaLiveAnnouncer=new WH(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(n.document,"layoutChanged",this.update.bind(this)),this.listenTo(n,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor),this.focusTracker.add(n);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(n)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const n=this._editableElementsMap.get(e);n&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(n),this.focusTracker.remove(n),n.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,n={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,n=e.config.get("ui.viewportOffset");if(n)return n;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor,n=e.editing.view;let i,a;e.keystrokes.set("Alt+F10",(l,h)=>{const p=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(p)&&!Array.from(n.domRoots.values()).includes(p)&&(i=p);const g=this._getCurrentFocusedToolbarDefinition();(!g||!a)&&(a=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<a.length;b++){const v=a.shift();if(a.push(v),v!==g&&this._focusFocusableCandidateToolbar(v)){g&&g.options.afterBlur&&g.options.afterBlur();break}}h()}),e.keystrokes.set("Esc",(l,h)=>{const p=this._getCurrentFocusedToolbarDefinition();p&&(i?(i.focus(),i=null):e.editing.view.focus(),p.options.afterBlur&&p.options.afterBlur(),h())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const n of this._focusableToolbarDefinitions){const{toolbarView:i,options:a}=n;(Js(i.element)||a.beforeFocus)&&e.push(n)}return e.sort((n,i)=>iS(n)-iS(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:n,options:{beforeFocus:i}}=e;return i&&i(),Js(n.element)?(n.focus(),!0):!1}_handleScrollToTheSelection(e,n){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};n.viewportOffset.top+=i.top,n.viewportOffset.bottom+=i.bottom,n.viewportOffset.left+=i.left,n.viewportOffset.right+=i.right}}function iS(s){const{toolbarView:e,options:n}=s;let i=10;return Js(e.element)&&i--,n.isContextual&&i--,i}var sS=o(5931),z_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};z_.insert="head",z_.singleton=!0,ue()(sS.A,z_),sS.A.locals;class JH extends we{constructor(e){super(e),this.body=new k$(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class YH extends JH{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,n=new Bu;return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{class:"ck-voice-label"}}),n}}class ZH extends we{constructor(e,n,i){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=n}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):n(this);function n(a){e.change(l=>{const h=e.document.getRoot(a.name);l.addClass(a.isFocused?"ck-focused":"ck-blurred",h),l.removeClass(a.isFocused?"ck-blurred":"ck-focused",h)})}function i(a){e.once("change:isRenderingInProgress",(l,h,p)=>{p?i(a):n(a)})}}}class XH extends ZH{constructor(e,n,i,a={}){super(e,n,i);const l=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(n=>{const i=e.document.getRoot(this.name);n.setAttribute("aria-label",this._generateLabel(this),i)})}}class kp extends tt(){constructor(e,n){super(),n&&Dx(this,n),e&&this.set(e)}}var aS=o(6841),j_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};j_.insert="head",j_.singleton=!0,ue()(aS.A,j_),aS.A.locals;var cS=o(726),U_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};U_.insert="head",U_.singleton=!0,ue()(cS.A,U_),cS.A.locals;const bp=dc("px");class $_ extends re{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const n=this.editor.editing.view,a=n.document.selection.editableElement;return a?n.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new N("contextualballoon-add-view-exist",[this,e]);const n=e.stackId||"main";if(!this._idToStack.has(n)){this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(n);return}const i=this._idToStack.get(n);e.singleViewMode&&this.showStack(n),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new N("contextualballoon-remove-view-not-exist",[this,e]);const n=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(n.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(n.values())[n.size-2])),n.size===1?(this._idToStack.delete(this._getStackId(n)),this._numberOfStacks=this._idToStack.size):n.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const n=this._idToStack.get(e);if(!n)throw new N("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==n&&this._showView(Array.from(n.values()).pop())}_createPanelView(){this._view=new Mu(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)+1;e[n]||(n=0),this.showStack(this._getStackId(e[n]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)-1;e[n]||(n=e.length-1),this.showStack(this._getStackId(e[n]))}_createRotatorView(){const e=new eq(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,a)=>!a&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,a)=>{if(a<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return n("%0 of %1",[l,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new tq(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(n,i)=>!i&&n>=2?Math.min(n-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:n="",withArrow:i=!0,singleViewMode:a=!1}){this.view.class=n,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class eq extends we{constructor(e){super(e);const n=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Sn,this.buttonPrevView=this._createButtonView(n("Previous"),Re.previousArrow),this.buttonNextView=this._createButtonView(n("Next"),Re.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,n){const i=new Je(this.locale);return i.set({label:e,icon:n,tooltip:!0}),i}}class tq extends we{constructor(e,n){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=n,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:i.to("top",bp),left:i.to("left",bp),width:i.to("width",bp),height:i.to("height",bp)}},children:this.content}),this.on("change:numberOfPanels",(a,l,h,p)=>{h>p?this._addPanels(h-p):this._removePanels(p-h),this.updatePosition()})}_addPanels(e){for(;e--;){const n=new we;n.setTemplate({tag:"div"}),this.content.add(n),this.registerChild(n)}}_removePanels(e){for(;e--;){const n=this.content.last;this.content.remove(n),this.deregisterChild(n),n.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:n}=this._balloonPanelView,{width:i,height:a}=new Me(this._balloonPanelView.element);Object.assign(this,{top:e,left:n,width:i,height:a})}}}var lS=o(8016),H_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};H_.insert="head",H_.singleton=!0,ue()(lS.A,H_),lS.A.locals;const xc=dc("px");class nq extends we{constructor(e){super(e);const n=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Lr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",i=>i?"block":"none"),height:n.to("isSticky",i=>i?xc(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Lr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",i=>i?xc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:n.to("_stickyTopOffset",i=>i&&xc(i)),bottom:n.to("_stickyBottomOffset",i=>i&&xc(i)),marginLeft:n.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(ke.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Me(this.limiterElement);let n=e.getVisible();if(n){const i=new Me(ke.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,n=n.getIntersection(i)}if(n&&e.top<n.top){const i=n.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>n.bottom){const a=Math.max(e.bottom-n.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=xc(-ke.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=xc(-ke.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Me(this.contentPanelElement)}}class rq extends a_{constructor(e,n){const i=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:__},n);super(e,a.creator),this.label=n.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new Cc,this.iconView.content=Re.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Je(e),this.resetButtonView.set({label:i("Clear"),icon:Re.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",l=>!l),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class oq extends we{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",n=>!n)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class iq extends we{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new No({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var uS=/[\\^$.*+?()[\]{}|]/g,sq=RegExp(uS.source);function aq(s){return s=bw(s),s&&sq.test(s)?s.replace(uS,"\\$&"):s}const dS=aq;var hS=o(9381),q_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};q_.insert="head",q_.singleton=!0,ue()(hS.A,q_),hS.A.locals;class cq extends we{constructor(e,n){super(e),this._config=n,this.filteredView=n.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Sn,this.keystrokes=new fr,this.resultsView=new iq(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),n.infoView&&n.infoView.instance?this.infoView=n.infoView.instance:(this.infoView=new oq,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new No({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:a,totalItemsCount:l})=>{this.resultsCount=a,this.totalItemsCount=l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",n.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=n=>n.stopPropagation();for(const n of this.focusableChildren)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const n=e?new RegExp(dS(e),"ig"):null,i=this.filteredView.filter(n);this.fire("search",{query:e,...i})}_createSearchTextQueryView(){const e=new rq(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,n=this.infoView;this.on("search",(a,l)=>{if(l.resultsCount)n.set({isVisible:!1});else{const h=this._config.infoView&&this._config.infoView.text;let p,g;l.totalItemsCount?h&&h.notFound?(p=h.notFound.primary,g=h.notFound.secondary):(p=e("No results found"),g=""):h&&h.noSearchableItems?(p=h.noSearchableItems.primary,g=h.noSearchableItems.secondary):(p=e("No searchable items"),g=""),n.set({primaryText:i(p,l),secondaryText:i(g,l),isVisible:!0})}});function i(a,{query:l,resultsCount:h,totalItemsCount:p}){return typeof a=="function"?a(l,h,p):a}}}var fS=o(5169),W_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};W_.insert="head",W_.singleton=!0,ue()(fS.A,W_),fS.A.locals;class Vu extends cq{constructor(e,n){super(e,n),this._config=n;const i=dc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",l=>!l),a.to("_position",l=>`ck-search__results_${l}`)],style:{width:a.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(l,h,p)=>{this._updateResultsVisibility(),p?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,h)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,h())}),this.listenTo(ke.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:h})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=h,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Me(this.queryView.fieldView.element).width;const e=Vu._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Vu.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=e}}Vu.defaultResultsPositions=[s=>({top:s.bottom,left:s.left,name:"s"}),(s,e)=>({top:s.top-e.height,left:s.left,name:"n"})],Vu._getOptimalPosition=rw;var pS=o(2859),G_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};G_.insert="head",G_.singleton=!0,ue()(pS.A,G_),pS.A.locals;var gS=o(6047),K_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};K_.insert="head",K_.singleton=!0,ue()(gS.A,K_),gS.A.locals;var mS=o(8604),Q_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Q_.insert="head",Q_.singleton=!0,ue()(mS.A,Q_),mS.A.locals;class lq extends QH{constructor(e,n){super(e),this.view=n,this._toolbarConfig=_T(e.config.get("toolbar")),this._elementReplacer=new Vk,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const n=this.editor,i=this.view,a=n.editing.view,l=i.editable,h=a.document.getRoot();l.name=h.rootName,i.render();const p=l.element;this.setEditableElement(l.name,p),i.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(p),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:n})=>n||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,n=e.editing.view,i=n.document.getRoot(),a=e.sourceElement;let l;const h=e.config.get("placeholder");h&&(l=typeof h=="string"?h:h[this.view.editable.name]),!l&&a&&a.tagName.toLowerCase()==="textarea"&&(l=a.getAttribute("placeholder")),l&&(i.placeholder=l),AF({view:n,element:i,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,n,i){const a=this.view.stickyPanel;if(a.isSticky){const l=new Me(a.element).height;n.viewportOffset.top+=l}else{const l=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(a,"change:isSticky",l),setTimeout(()=>{this.stopListening(a,"change:isSticky",l)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,n=this.editor.plugins.get("Dialog");n.on("show",()=>{const i=n.view;i.on("moveTo",(a,l)=>{if(!e.isSticky||i.wasMoved)return;const h=new Me(e.contentPanelElement);l[1]<h.bottom+O_.defaultOffset&&(l[1]=h.bottom+O_.defaultOffset)},{priority:"high"})},{priority:"low"})}}var kS=o(3394),J_={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};J_.insert="head",J_.singleton=!0,ue()(kS.A,J_),kS.A.locals;class uq extends YH{constructor(e,n,i={}){super(e),this.stickyPanel=new nq(e),this.toolbar=new f_(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),this.editable=new XH(e,n)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class bS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const i="error"in n?n.error:n.reason;i instanceof Error&&this._handleError(i,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)}off(e,n){this._listeners[e]=this._listeners[e].filter(i=>i!==n)}_fire(e,...n){const i=this._listeners[e]||[];for(const a of i)a.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,n){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Y_(s,e=new Set){const n=[s],i=new Set;let a=0;for(;n.length>a;){const l=n[a++];if(!(i.has(l)||!dq(l)||e.has(l)))if(i.add(l),Symbol.iterator in l)try{for(const h of l)n.push(h)}catch{}else for(const h in l)h!=="defaultValue"&&n.push(l[h])}return i}function dq(s){const e=Object.prototype.toString.call(s),n=typeof s;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||s===void 0||s===null||s._watchdogExcluded||s instanceof EventTarget||s instanceof Event)}function wS(s,e,n=new Set){if(s===e&&hq(s))return!0;const i=Y_(s,n),a=Y_(e,n);for(const l of i)if(a.has(l))return!0;return!1}function hq(s){return typeof s=="object"&&s!==null}class _S extends bS{constructor(e,n={}){super(n),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=mp(this._save.bind(this),typeof n.saveInterval=="number"?n.saveInterval:5e3),e&&(this._creator=(i,a)=>e.create(i,a)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],i=this._config.rootsAttributes||{},a={};for(const[h,p]of Object.entries(this._data.roots))p.isLoaded?(e[h]="",a[h]=i[h]||{}):n.push(h);const l={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:a,_watchdogInitialData:this._data};return delete l.initialData,l.extraPlugins.push(fq),this._initUsingData?this.create(e,l,l.context):Qs(this._elementOrData)?this.create(this._elementOrData,l,l.context):this.create(this._editables,l,l.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(n)||{},this._config.context=i,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:i}=e,a=i.has("CommentsRepository")&&i.get("CommentsRepository"),l=i.has("TrackChanges")&&i.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(p=>{h.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of e.model.markers)p._affectsData&&(h.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return a&&(h.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),l&&(h.suggestions=JSON.stringify(l.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(n);i&&(e[n]=i)}return e}_isErrorComingFromThisItem(e){return wS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Xb(e,(n,i)=>{if(Qs(n)||i==="context")return n})}}class fq{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,n){if("name"in n){const i=e.createElement(n.name,n.attributes);if(n.children)for(const a of n.children)i._appendChild(this._createNode(e,a));return i}else return e.createText(n.data,n.attributes)}_restoreEditorData(e){const n=this.editor;Object.entries(this._data.roots).forEach(([i,{content:a,attributes:l}])=>{const h=JSON.parse(a),p=JSON.parse(l),g=n.model.document.getRoot(i);for(const[b,v]of p)e.setAttribute(b,v,g);for(const b of h){const v=this._createNode(e,b);e.insert(v,g,"end")}}),Object.entries(this._data.markers).forEach(([i,a])=>{const{document:l}=n.model,{rangeJSON:{start:h,end:p},...g}=a,b=l.getRoot(h.root),v=e.createPositionFromPath(b,h.path,h.stickiness),y=e.createPositionFromPath(b,p.path,p.stickiness),I=e.createRange(v,y);e.addMarker(i,{range:I,...g})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);e.forEach(i=>{const a=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(i.threadId)&&l.getCommentThread(i.threadId).remove(),l.addCommentThread({channelId:a,...i})}),n.forEach(i=>{const a=this.editor.plugins.get("TrackChangesEditing");if(a.hasSuggestion(i.id)){const l=a.getSuggestion(i.id);l.attributes=i.attributes}else a.addSuggestionData(i)})}}const Lu=Symbol("MainQueueId");class pq extends bS{constructor(e,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new gq,this._watchdogConfig=n,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Lu,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const n=vS(e);return Promise.all(n.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return a=new _S(null,this._watchdogConfig),a.setCreator(i.creator),a._setExcludedProperties(this._contextProps),i.destructor&&a.setDestructor(i.destructor),this._watchdogs.set(i.id,a),a.on("error",(l,{error:h,causesRestart:p})=>{this._fire("itemError",{itemId:i.id,error:h}),p&&this._actionQueues.enqueue(i.id,()=>new Promise(g=>{const b=()=>{a.off("restart",b),this._fire("itemRestart",{itemId:i.id}),g()};a.on("restart",b)}))}),a.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const n=vS(e);return Promise.all(n.map(i=>this._actionQueues.enqueue(i,()=>{const a=this._getWatchdog(i);return this._watchdogs.delete(i),a.destroy()})))}destroy(){return this._actionQueues.enqueue(Lu,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Lu,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Y_(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const n=this._watchdogs.get(e);if(!n)throw new Error(`Item with the given id was not registered: ${e}.`);return n}_isErrorComingFromThisItem(e){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(e))return!1;return wS(this._context,e.context)}}class gq{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,n){const i=e===Lu;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Lu),this._queues.get(e)])).then(n),h=l.catch(()=>{});return this._queues.set(e,h),l.finally(()=>{this._activeActions--,this._queues.get(e)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function vS(s){return Array.isArray(s)?s:[s]}class wp extends Qw(XU){constructor(e,n={}){if(!_p(e)&&n.initialData!==void 0)throw new N("editor-create-initial-data",null);super(n),this.config.get("initialData")===void 0&&this.config.set("initialData",kq(e)),_p(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=new uq(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i});this.ui=new lq(this,a),e$(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,n={}){return new Promise(i=>{const a=new this(e,n);i(a.initPlugins().then(()=>a.ui.init(_p(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}wp.Context=YE,wp.EditorWatchdog=_S,wp.ContextWatchdog=pq;const mq=wp;function kq(s){return _p(s)?lL(s):s}function _p(s){return Qs(s)}const Z_=["left","right","center","justify"];function AS(s){return Z_.includes(s)}function CS(s,e){return e.contentLanguageDirection=="rtl"?s==="right":s==="left"}function yS(s){const e=s.map(i=>{let a;return typeof i=="string"?a={name:i}:a=i,a}).filter(i=>{const a=Z_.includes(i.name);return a||Te("alignment-config-name-not-recognized",{option:i}),a}),n=e.filter(i=>!!i.className).length;if(n&&n<e.length)throw new N("alignment-config-classnames-are-missing",{configuredOptions:s});return e.forEach((i,a,l)=>{const h=l.slice(a+1);if(h.some(g=>g.name==i.name))throw new N("alignment-config-name-already-defined",{option:i,configuredOptions:s});if(i.className&&h.some(b=>b.className==i.className))throw new N("alignment-config-classname-already-defined",{option:i,configuredOptions:s})}),e}const X_="alignment";class bq extends He{refresh(){const n=this.editor.locale,i=tr(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=n.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const n=this.editor,i=n.locale,a=n.model,l=a.document,h=e.value;a.change(p=>{const g=Array.from(l.selection.getSelectedBlocks()).filter(y=>this._canBeAligned(y)),b=g[0].getAttribute("alignment");CS(h,i)||b===h||!h?wq(g,p):_q(g,p,h)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,X_)}}function wq(s,e){for(const n of s)e.removeAttribute(X_,n)}function _q(s,e,n){for(const i of s)e.setAttribute(X_,n,i)}class vq extends re{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:Z_.map(n=>({name:n}))})}init(){const e=this.editor,n=e.locale,i=e.model.schema,l=yS(e.config.get("alignment.options")).filter(b=>AS(b.name)&&!CS(b.name,n)),h=l.some(b=>!!b.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),h?e.conversion.attributeToAttribute(Eq(l)):e.conversion.for("downcast").attributeToAttribute(Aq(l));const p=Cq(l);for(const b of p)e.conversion.for("upcast").attributeToAttribute(b);const g=yq(l);for(const b of g)e.conversion.for("upcast").attributeToAttribute(b);e.commands.add("alignment",new bq(e))}}function Aq(s){const e={};for(const{name:i}of s)e[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:s.map(i=>i.name)},view:e}}function Cq(s){const e=[];for(const{name:n}of s)e.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}});return e}function yq(s){const e=[];for(const{name:n}of s)e.push({view:{key:"align",value:n},model:{key:"alignment",value:n}});return e}function Eq(s){const e={};for(const i of s)e[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:s.map(i=>i.name)},view:e}}const vp=new Map([["left",Re.alignLeft],["right",Re.alignRight],["center",Re.alignCenter],["justify",Re.alignJustify]]);class xq extends re{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,n=e.ui.componentFactory,i=e.t,a=yS(e.config.get("alignment.options"));a.map(l=>l.name).filter(AS).forEach(l=>this._addButton(l)),n.add("alignment",l=>{const h=Mo(l);b_(h,()=>a.map(b=>n.create(`alignment:${b.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:i("Text alignment toolbar")}),h.buttonView.set({label:i("Text alignment"),tooltip:!0}),h.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const p=l.contentLanguageDirection==="rtl"?vp.get("right"):vp.get("left"),g=e.commands.get("alignment");return h.buttonView.bind("icon").to(g,"value",b=>vp.get(b)||p),h.bind("isEnabled").to(g,"isEnabled"),this.listenTo(h,"execute",()=>{e.editing.view.focus()}),h})}_addButton(e){const n=this.editor;n.ui.componentFactory.add(`alignment:${e}`,i=>{const a=n.commands.get("alignment"),l=new Je(i);return l.set({label:this.localizedOptionTitles[e],icon:vp.get(e),tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(a),l.bind("isOn").to(a,"value",h=>h===e),this.listenTo(l,"execute",()=>{n.execute("alignment",{value:e}),n.editing.view.focus()}),l})}}class Tq extends re{static get requires(){return[vq,xq]}static get pluginName(){return"Alignment"}}class ES{constructor(e,n=20){this._batch=null,this.model=e,this._size=0,this.limit=n,this._isLocked=!1,this._changeCallback=(i,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class Sq extends He{constructor(e,n){super(e),this._buffer=new ES(e.model,n),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const n=this.editor.model,i=n.document,a=e.text||"",l=a.length;let h=i.selection;if(e.selection?h=e.selection:e.range&&(h=n.createSelection(e.range)),!n.canEditAt(h))return;const p=e.resultRange;n.enqueueChange(this._buffer.batch,g=>{this._buffer.lock();const b=Array.from(i.selection.getAttributes());n.deleteContent(h),a&&n.insertContent(g.createText(a,b),h),p?g.setSelection(p):h.is("documentSelection")||g.setSelection(h),this._buffer.unlock(),this._buffer.input(l)})}}const xS=["insertText","insertReplacementText"];class Dq extends ui{constructor(e){super(e),this.focusObserver=e.getObserver(np),_.isAndroid&&xS.push("insertCompositionText");const n=e.document;n.on("beforeinput",(i,a)=>{if(!this.isEnabled)return;const{data:l,targetRanges:h,inputType:p,domEvent:g}=a;if(!xS.includes(p))return;this.focusObserver.flush();const b=new Qe(n,"insertText");n.fire(b,new mc(e,g,{text:l,selection:e.createSelection(h)})),b.stop.called&&i.stop()}),n.on("compositionend",(i,{data:a,domEvent:l})=>{!this.isEnabled||_.isAndroid||a&&n.fire("insertText",new mc(e,l,{text:a,selection:n.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class TS extends re{static get pluginName(){return"Input"}init(){const e=this.editor,n=e.model,i=e.editing.view,a=n.document.selection;i.addObserver(Dq);const l=new Sq(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(i.document,"insertText",(h,p)=>{i.document.isComposing||p.preventDefault();const{text:g,selection:b,resultRange:v}=p,y=Array.from(b.getRanges()).map(F=>e.editing.mapper.toModelRange(F));let I=g;if(_.isAndroid){const F=Array.from(y[0].getItems()).reduce((H,W)=>H+(W.is("$textProxy")?W.data:""),"");F&&(F.length<=I.length?I.startsWith(F)&&(I=I.substring(F.length),y[0].start=y[0].start.getShiftedBy(F.length)):F.startsWith(I)&&(y[0].start=y[0].start.getShiftedBy(I.length),I=""))}const V={text:I,selection:n.createSelection(y)};v&&(V.resultRange=e.editing.mapper.toModelRange(v)),e.execute("insertText",V),i.scrollToTheSelection()}),_.isAndroid?this.listenTo(i.document,"keydown",(h,p)=>{a.isCollapsed||p.keyCode!=229||!i.document.isComposing||SS(n,l)}):this.listenTo(i.document,"compositionstart",()=>{a.isCollapsed||SS(n,l)})}}function SS(s,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),s.enqueueChange(n.batch,()=>{s.deleteContent(s.document.selection)}),n.unlock()}class DS extends He{constructor(e,n){super(e),this.direction=n,this._buffer=new ES(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const n=this.editor.model,i=n.document;n.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const l=a.createSelection(e.selection||i.selection);if(!n.canEditAt(l))return;const h=e.sequence||1,p=l.isCollapsed;if(l.isCollapsed&&n.modifySelection(l,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h)){this._replaceEntireContentWithParagraph(a);return}if(this._shouldReplaceFirstBlockWithParagraph(l,h)){this.editor.execute("paragraph",{selection:l});return}if(l.isCollapsed)return;let g=0;l.getFirstRange().getMinimalFlatRanges().forEach(b=>{g+=Kl(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(l,{doNotResetEntireContent:p,direction:this.direction}),this._buffer.input(g),a.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const n=this.editor.model,a=n.document.selection,l=n.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(l))||!n.schema.checkChild(l,"paragraph"))return!1;const p=l.getChild(0);return!(p&&p.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const n=this.editor.model,a=n.document.selection,l=n.schema.getLimitElement(a),h=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(h,l),e.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(e,n){const i=this.editor.model;if(n>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),l=i.schema.getLimitElement(a),h=l.getChild(0);return!(a.parent!=h||!e.containsEntireContent(h)||!i.schema.checkChild(l,"paragraph")||h.name=="paragraph")}}const Iq="character",IS="word",Pq="codePoint",Ji="selection",Tc="backward",Fu="forward",PS={deleteContent:{unit:Ji,direction:Tc},deleteContentBackward:{unit:Pq,direction:Tc},deleteWordBackward:{unit:IS,direction:Tc},deleteHardLineBackward:{unit:Ji,direction:Tc},deleteSoftLineBackward:{unit:Ji,direction:Tc},deleteContentForward:{unit:Iq,direction:Fu},deleteWordForward:{unit:IS,direction:Fu},deleteHardLineForward:{unit:Ji,direction:Fu},deleteSoftLineForward:{unit:Ji,direction:Fu}};class Rq extends ui{constructor(e){super(e);const n=e.document;let i=0;n.on("keydown",()=>{i++}),n.on("keyup",()=>{i=0}),n.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;const{targetRanges:h,domEvent:p,inputType:g}=l,b=PS[g];if(!b)return;const v={direction:b.direction,unit:b.unit,sequence:i};v.unit==Ji&&(v.selectionToRemove=e.createSelection(h[0])),g==="deleteContentBackward"&&(_.isAndroid&&(v.sequence=1),Oq(h)&&(v.unit=Ji,v.selectionToRemove=e.createSelection(h)));const y=new pc(n,"delete",h[0]);n.fire(y,new mc(e,p,v)),y.stop.called&&a.stop()}),_.isBlink&&Bq(this)}observe(){}stopObserving(){}}function Bq(s){const e=s.view,n=e.document;let i=null,a=!1;n.on("keydown",(p,{keyCode:g})=>{i=g,a=!1}),n.on("keyup",(p,{keyCode:g,domEvent:b})=>{const v=n.selection,y=s.isEnabled&&g==i&&l(g)&&!v.isCollapsed&&!a;if(i=null,y){const I=v.getFirstRange(),V=new pc(n,"delete",I),F={unit:Ji,direction:h(g),selectionToRemove:v};n.fire(V,new mc(e,b,F))}}),n.on("beforeinput",(p,{inputType:g})=>{const b=PS[g];l(i)&&b&&b.direction==h(i)&&(a=!0)},{priority:"high"}),n.on("beforeinput",(p,{inputType:g,data:b})=>{i==ze.delete&&g=="insertText"&&b==""&&p.stop()},{priority:"high"});function l(p){return p==ze.backspace||p==ze.delete}function h(p){return p==ze.backspace?Tc:Fu}}function Oq(s){if(s.length!=1||s[0].isCollapsed)return!1;const e=s[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:i}of e){if(!i.parent.is("$text"))n++;else{const a=i.parent.data,l=i.offset;if(dw(a,l)||hw(a,l)||WE(a,l))continue;n++}if(n>1)return!0}return!1}class ia extends re{static get pluginName(){return"Delete"}init(){const e=this.editor,n=e.editing.view,i=n.document,a=e.model.document;n.addObserver(Rq),this._undoOnBackspace=!1;const l=new DS(e,"forward");e.commands.add("deleteForward",l),e.commands.add("forwardDelete",l),e.commands.add("delete",new DS(e,"backward")),this.listenTo(i,"delete",(h,p)=>{i.isComposing||p.preventDefault();const{direction:g,sequence:b,selectionToRemove:v,unit:y}=p,I=g==="forward"?"deleteForward":"delete",V={sequence:b};if(y=="selection"){const F=Array.from(v.getRanges()).map(H=>e.editing.mapper.toModelRange(H));V.selection=e.model.createSelection(F)}else V.unit=y;e.execute(I,V),n.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(h,p)=>{this._undoOnBackspace&&p.direction=="backward"&&p.sequence==1&&p.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),p.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Nq extends re{static get requires(){return[TS,ia]}static get pluginName(){return"Typing"}}function RS(s,e){let n=s.start;return{text:Array.from(s.getWalker({ignoreElementEnd:!1})).reduce((a,{item:l})=>l.is("$text")||l.is("$textProxy")?a+l.data:(n=e.createPositionAfter(l),""),""),range:e.createRange(n,s.end)}}class BS extends tt(){constructor(e,n){super(),this.model=e,this.testCallback=n,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(i,{directChange:a})=>{if(a){if(!n.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(n,"change:data",(i,a)=>{a.isUndo||!a.isLocal||this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,n={}){const i=this.model,l=i.document.selection,h=i.createRange(i.createPositionAt(l.focus.parent,0),l.focus),{text:p,range:g}=RS(h,i),b=this.testCallback(p);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const v=Object.assign(n,{text:p,range:g});typeof b=="object"&&Object.assign(v,b),this.fire(`matched:${e}`,v)}}}class OS extends re{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,n=e.model,i=e.editing.view,a=e.locale,l=n.document.selection;this.listenTo(i.document,"arrowKey",(h,p)=>{if(!l.isCollapsed||p.shiftKey||p.altKey||p.ctrlKey)return;const g=p.keyCode==ze.arrowright,b=p.keyCode==ze.arrowleft;if(!g&&!b)return;const v=a.contentLanguageDirection;let y=!1;v==="ltr"&&g||v==="rtl"&&b?y=this._handleForwardMovement(p):y=this._handleBackwardMovement(p),y===!0&&h.stop()},{context:"$text",priority:"highest"}),this.listenTo(l,"change:range",(h,p)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!p.directChange&&zr(l.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const n=this.attributes,i=this.editor.model,a=i.document.selection,l=a.getFirstPosition();return this._isGravityOverridden||l.isAtStart&&gi(a,n)?!1:zr(l,n)?(ju(e),gi(a,n)&&zr(l,n,!0)?zu(i,n):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const n=this.attributes,i=this.editor.model,a=i.document.selection,l=a.getFirstPosition();return this._isGravityOverridden?(ju(e),this._restoreGravity(),zr(l,n,!0)?zu(i,n):Ap(i,n,l),!0):l.isAtStart?gi(a,n)?(ju(e),Ap(i,n,l),!0):!1:!gi(a,n)&&zr(l,n,!0)?(ju(e),Ap(i,n,l),!0):NS(l,n)?l.isAtEnd&&!gi(a,n)&&zr(l,n)?(ju(e),Ap(i,n,l),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,n=e.model,i=n.document.selection,a=e.editing.view.document;e.editing.view.addObserver(Gw);let l=!1;this.listenTo(a,"mousedown",()=>{l=!0}),this.listenTo(a,"selectionChange",()=>{const h=this.attributes;if(!l||(l=!1,!i.isCollapsed)||!gi(i,h))return;const p=i.getFirstPosition();zr(p,h)&&(p.isAtStart||zr(p,h,!0)?zu(n,h):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection,a=this.attributes;this.listenTo(n,"insertContent",()=>{const l=i.getFirstPosition();gi(i,a)&&zr(l,a)&&zu(n,a)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,n=e.model,i=n.document.selection,a=e.editing.view;let l=!1,h=!1;this.listenTo(a.document,"delete",(p,g)=>{l=g.direction==="backward"},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{if(!l)return;const p=i.getFirstPosition();h=gi(i,this.attributes)&&!NS(p,this.attributes)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{l&&(l=!1,!h&&e.model.enqueueChange(()=>{const p=i.getFirstPosition();gi(i,this.attributes)&&zr(p,this.attributes)&&(p.isAtStart||zr(p,this.attributes,!0)?zu(n,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function gi(s,e){for(const n of e)if(s.hasAttribute(n))return!0;return!1}function Ap(s,e,n){const i=n.nodeBefore;s.change(a=>{if(i){const l=[],h=s.schema.isObject(i)&&s.schema.isInline(i);for(const[p,g]of i.getAttributes())s.schema.checkAttribute("$text",p)&&(!h||s.schema.getAttributeProperties(p).copyFromObject!==!1)&&l.push([p,g]);a.setSelectionAttribute(l)}else a.removeSelectionAttribute(e)})}function zu(s,e){s.change(n=>{n.removeSelectionAttribute(e)})}function ju(s){s.preventDefault()}function NS(s,e){const n=s.getShiftedBy(-1);return zr(n,e)}function zr(s,e,n=!1){const{nodeBefore:i,nodeAfter:a}=s;for(const l of e){const h=i?i.getAttribute(l):void 0,p=a?a.getAttribute(l):void 0;if(!(n&&(h===void 0||p===void 0))&&p!==h)return!0}return!1}const MS={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Sc('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Sc("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Sc("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Sc('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Sc('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Sc("'"),to:[null,"‚",null,"’"]}},VS={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Mq=["symbols","mathematical","typography","quotes"];class Vq extends re{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:Mq}})}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,n=e.model,i=e.plugins.get("Delete"),a=jq(e.config.get("typing.transformations")),l=p=>{for(const g of a)if(g.from.test(p))return{normalizedTransformation:g}},h=new BS(e.model,l);h.on("matched:data",(p,g)=>{if(!g.batch.isTyping)return;const{from:b,to:v}=g.normalizedTransformation,y=b.exec(g.text),I=v(y.slice(1)),V=g.range;let F=y.index;n.enqueueChange(H=>{for(let W=1;W<y.length;W++){const ee=y[W],de=I[W-1];if(de==null){F+=ee.length;continue}const Oe=V.start.getShiftedBy(F),Ke=n.createRange(Oe,Oe.getShiftedBy(ee.length)),lt=zq(Oe);n.insertContent(H.createText(de,lt),Ke),F+=de.length}n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),h.bind("isEnabled").to(this)}}function Lq(s){return typeof s=="string"?new RegExp(`(${dS(s)})$`):s}function Fq(s){return typeof s=="string"?()=>[s]:s instanceof Array?()=>s:s}function zq(s){return(s.textNode?s.textNode:s.nodeAfter).getAttributes()}function Sc(s){return new RegExp(`(^|\\s)(${s})([^${s}]*)(${s})$`)}function jq(s){const e=s.extra||[],n=s.remove||[],i=l=>!n.includes(l),a=s.include.concat(e).filter(i);return Uq(a).filter(i).map(l=>typeof l=="string"&&MS[l]?MS[l]:l).filter(l=>typeof l=="object").map(l=>({from:Lq(l.from),to:Fq(l.to)}))}function Uq(s){const e=new Set;for(const n of s)if(typeof n=="string"&&VS[n])for(const i of VS[n])e.add(i);else e.add(n);return Array.from(e)}function Cp(s,e,n,i){return i.createRange(LS(s,e,n,!0,i),LS(s,e,n,!1,i))}function LS(s,e,n,i,a){let l=s.textNode||(i?s.nodeBefore:s.nodeAfter),h=null;for(;l&&l.getAttribute(e)==n;)h=l,l=i?l.previousSibling:l.nextSibling;return h?a.createPositionAt(h,i?"before":"after"):s}function $q(s,e,n,i){const a=s.editing.view,l=new Set;a.document.registerPostFixer(h=>{const p=s.model.document.selection;let g=!1;if(p.hasAttribute(e)){const b=Cp(p.getFirstPosition(),e,p.getAttribute(e),s.model),v=s.editing.mapper.toViewRange(b);for(const y of v.getItems())y.is("element",n)&&!y.hasClass(i)&&(h.addClass(i,y),l.add(y),g=!0)}return g}),s.conversion.for("editingDowncast").add(h=>{h.on("insert",p,{priority:"highest"}),h.on("remove",p,{priority:"highest"}),h.on("attribute",p,{priority:"highest"}),h.on("selection",p,{priority:"highest"});function p(){a.change(g=>{for(const b of l.values())g.removeClass(i,b),l.delete(b)})}})}function Yi(s,e,n,i){let a,l=null;typeof i=="function"?a=i:(l=s.commands.get(i),a=()=>{s.execute(i)}),s.model.document.on("change:data",(h,p)=>{if(l&&!l.isEnabled||!e.isEnabled)return;const g=tr(s.model.document.selection.getRanges());if(!g.isCollapsed||p.isUndo||!p.isLocal)return;const b=Array.from(s.model.document.differ.getChanges()),v=b[0];if(b.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const y=v.position.parent;if(y.is("element","codeBlock")||y.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||l&&l.value===!0)return;const I=y.getChild(0),V=s.model.createRangeOn(I);if(!V.containsRange(g)&&!g.end.isEqual(V.end))return;const F=n.exec(I.data.substr(0,g.end.offset));F&&s.model.enqueueChange(H=>{const W=H.createPositionAt(y,0),ee=H.createPositionAt(y,F[0].length),de=new Mr(W,ee);if(a({match:F})!==!1){H.remove(de);const Ke=s.model.document.selection.getFirstRange(),lt=H.createRangeIn(y);y.isEmpty&&!lt.isEqual(Ke)&&!lt.containsRange(Ke,!0)&&H.remove(y)}de.detach(),s.model.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})})})}function Dc(s,e,n,i){let a,l;n instanceof RegExp?a=n:l=n,l=l||(h=>{let p;const g=[],b=[];for(;(p=a.exec(h))!==null&&!(p&&p.length<4);){let{index:v,1:y,2:I,3:V}=p;const F=y+I+V;v+=p[0].length-F.length;const H=[v,v+y.length],W=[v+y.length+I.length,v+y.length+I.length+V.length];g.push(H),g.push(W),b.push([v+y.length,v+y.length+I.length])}return{remove:g,format:b}}),s.model.document.on("change:data",(h,p)=>{if(p.isUndo||!p.isLocal||!e.isEnabled)return;const g=s.model,b=g.document.selection;if(!b.isCollapsed)return;const v=Array.from(g.document.differ.getChanges()),y=v[0];if(v.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const I=b.focus,V=I.parent,{text:F,range:H}=Hq(g.createRange(g.createPositionAt(V,0),I),g),W=l(F),ee=FS(H.start,W.format,g),de=FS(H.start,W.remove,g);ee.length&&de.length&&g.enqueueChange(Oe=>{if(i(Oe,ee)!==!1){for(const lt of de.reverse())Oe.remove(lt);g.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})}})})}function FS(s,e,n){return e.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>n.createRange(s.getShiftedBy(i[0]),s.getShiftedBy(i[1])))}function Hq(s,e){let n=s.start;return{text:Array.from(s.getItems()).reduce((a,l)=>!(l.is("$text")||l.is("$textProxy"))||l.getAttribute("code")?(n=e.createPositionAfter(l),""):a+l.data,""),range:e.createRange(n,s.end)}}class qq extends re{static get requires(){return[ia]}static get pluginName(){return"Autoformat"}afterInit(){const e=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Yi(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Yi(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Yi(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Yi(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const n=yp(this.editor,"bold");Dc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Dc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(e.get("italic")){const n=yp(this.editor,"italic");Dc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Dc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(e.get("code")){const n=yp(this.editor,"code");Dc(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(e.get("strikethrough")){const n=yp(this.editor,"strikethrough");Dc(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const i=n[7],a=new RegExp(`^(#{${i}})\\s$`);Yi(this.editor,this,a,()=>{if(!e.isEnabled||e.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Yi(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,n=e.model.document.selection;e.commands.get("codeBlock")&&Yi(e,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Yi(this.editor,this,/^---$/,"horizontalLine")}}function yp(s,e){return(n,i)=>{if(!s.commands.get(e).isEnabled)return!1;const l=s.model.schema.getValidRanges(i,e);for(const h of l)n.setAttribute(e,!0,h);n.removeSelectionAttribute(e)}}class zS extends He{constructor(e,n){super(e),this.attributeKey=n}refresh(){const e=this.editor.model,n=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(n.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,a=n.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;n.change(h=>{if(a.isCollapsed)l?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const p=n.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of p)l?h.setAttribute(this.attributeKey,l,g):h.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,n=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const a of i.getRanges())for(const l of a.getItems())if(n.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const Ic="bold";class Wq extends re{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,n=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Ic}),e.model.schema.setAttributeProperties(Ic,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ic,view:"strong",upcastAlso:["b",i=>{const a=i.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ic,new zS(e,Ic)),e.keystrokes.set("CTRL+B",Ic),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Bold text"),keystroke:"CTRL+B"}]})}}const ev="bold";class Gq extends re{static get pluginName(){return"BoldUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add(ev,i=>{const a=e.commands.get(ev),l=new Je(i);return l.set({label:n("Bold"),icon:Re.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(ev),e.editing.view.focus()}),l})}}class Kq extends re{static get requires(){return[Wq,Gq]}static get pluginName(){return"Bold"}}var jS=o(2165),tv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tv.insert="head",tv.singleton=!0,ue()(jS.A,tv),jS.A.locals;const Pc="italic";class Qq extends re{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,n=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Pc}),e.model.schema.setAttributeProperties(Pc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Pc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Pc,new zS(e,Pc)),e.keystrokes.set("CTRL+I",Pc),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Italic text"),keystroke:"CTRL+I"}]})}}const Jq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',nv="italic";class Yq extends re{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add(nv,i=>{const a=e.commands.get(nv),l=new Je(i);return l.set({label:n("Italic"),icon:Jq,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute(nv),e.editing.view.focus()}),l})}}class Zq extends re{static get requires(){return[Qq,Yq]}static get pluginName(){return"Italic"}}function*US(s,e){for(const n of e)n&&s.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class Xq extends He{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const n=this.editor.model,i=n.document.selection,a=n.schema,l=i.isCollapsed,h=i.getFirstRange(),p=h.start.parent,g=h.end.parent;if(a.isLimit(p)||a.isLimit(g))return!l&&p==g&&n.deleteContent(i),!1;if(l){const b=US(e.model.schema,i.getAttributes());return $S(e,h.start),e.setSelectionAttribute(b),!0}else{const b=!(h.start.isAtStart&&h.end.isAtEnd),v=p==g;if(n.deleteContent(i,{leaveUnmerged:b}),b){if(v)return $S(e,i.focus),!0;e.setSelection(g,0)}}return!1}}function $S(s,e){s.split(e),s.setSelection(e.parent.nextSibling,0)}const eW={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class HS extends ui{constructor(e){super(e);const n=this.document;let i=!1;n.on("keydown",(a,l)=>{i=l.shiftKey}),n.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;let h=l.inputType;_.isSafari&&i&&h=="insertParagraph"&&(h="insertLineBreak");const p=l.domEvent,g=eW[h];if(!g)return;const b=new pc(n,"enter",l.targetRanges[0]);n.fire(b,new mc(e,p,{isSoft:g.isSoft})),b.stop.called&&a.stop()})}observe(){}stopObserving(){}}class Ep extends re{static get pluginName(){return"Enter"}init(){const e=this.editor,n=e.editing.view,i=n.document,a=this.editor.t;n.addObserver(HS),e.commands.add("enter",new Xq(e)),this.listenTo(i,"enter",(l,h)=>{i.isComposing||h.preventDefault(),!h.isSoft&&(e.execute("enter"),n.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class tW extends He{execute(){const e=this.editor.model,n=e.document;e.change(i=>{rW(e,i,n.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,n=e.document;this.isEnabled=nW(e.schema,n.selection)}}function nW(s,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!s.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),a=i.start.parent,l=i.end.parent;return!((rv(a,s)||rv(l,s))&&a!==l)}function rW(s,e,n){const i=n.isCollapsed,a=n.getFirstRange(),l=a.start.parent,h=a.end.parent,p=l==h;if(i){const g=US(s.schema,n.getAttributes());qS(s,e,a.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(g)}else{const g=!(a.start.isAtStart&&a.end.isAtEnd);s.deleteContent(n,{leaveUnmerged:g}),p?qS(s,e,n.focus):g&&e.setSelection(h,0)}}function qS(s,e,n){const i=e.createElement("softBreak");s.insertContent(i,n),e.setSelection(i,"after")}function rv(s,e){return s.is("rootElement")?!1:e.isLimit(s)||rv(s.parent,e)}class oW extends re{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,n=e.model.schema,i=e.conversion,a=e.editing.view,l=a.document,h=this.editor.t;n.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:g})=>g.createEmptyElement("br")}),a.addObserver(HS),e.commands.add("shiftEnter",new tW(e)),this.listenTo(l,"enter",(p,g)=>{l.isComposing||g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:h("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class iW extends He{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,i=n.schema,a=n.document.selection,l=Array.from(a.getSelectedBlocks()),h=e.forceValue===void 0?!this.value:e.forceValue;n.change(p=>{if(!h)this._removeQuote(p,l.filter(xp));else{const g=l.filter(b=>xp(b)||GS(i,b));this._applyQuote(p,g)}})}_getValue(){const e=this.editor.model.document.selection,n=tr(e.getSelectedBlocks());return!!(n&&xp(n))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,n=this.editor.model.schema,i=tr(e.getSelectedBlocks());return i?GS(n,i):!1}_removeQuote(e,n){WS(e,n).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){e.unwrap(i.start.parent);return}if(i.start.isAtStart){const l=e.createPositionBefore(i.start.parent);e.move(i,l);return}i.end.isAtEnd||e.split(i.end);const a=e.createPositionAfter(i.end.parent);e.move(i,a)})}_applyQuote(e,n){const i=[];WS(e,n).reverse().forEach(a=>{let l=xp(a.start);l||(l=e.createElement("blockQuote"),e.wrap(a,l)),i.push(l)}),i.reverse().reduce((a,l)=>a.nextSibling==l?(e.merge(e.createPositionAfter(a)),a):l)}}function xp(s){return s.parent.name=="blockQuote"?s.parent:null}function WS(s,e){let n,i=0;const a=[];for(;i<e.length;){const l=e[i],h=e[i+1];n||(n=s.createPositionBefore(l)),(!h||l.nextSibling!=h)&&(a.push(s.createRange(n,s.createPositionAfter(l))),n=null),i++}return a}function GS(s,e){const n=s.checkChild(e.parent,"blockQuote"),i=s.checkChild(["$root","blockQuote"],e);return n&&i}class sW extends re{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ep,ia]}init(){const e=this.editor,n=e.model.schema;e.commands.add("blockQuote",new iW(e)),n.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(h=>{const p=e.model.document.differ.getChanges();for(const g of p)if(g.type=="insert"){const b=g.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0;if(b.is("element","blockQuote")&&!n.checkChild(g.position,b))return h.unwrap(b),!0;if(b.is("element")){const v=h.createRangeIn(b);for(const y of v.getItems())if(y.is("element","blockQuote")&&!n.checkChild(h.createPositionBefore(y),y))return h.unwrap(y),!0}}else if(g.type=="remove"){const b=g.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0}return!1});const i=this.editor.editing.view.document,a=e.model.document.selection,l=e.commands.get("blockQuote");this.listenTo(i,"enter",(h,p)=>{if(!a.isCollapsed||!l.value)return;a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(h,p)=>{if(p.direction!="backward"||!a.isCollapsed||!l.value)return;const g=a.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),h.stop())},{context:"blockquote"})}}var KS=o(9394),ov={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ov.insert="head",ov.singleton=!0,ue()(KS.A,ov),KS.A.locals;class aW extends re{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add("blockQuote",i=>{const a=e.commands.get("blockQuote"),l=new Je(i);return l.set({label:n("Block quote"),icon:Re.quote,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(l,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),l})}}class cW extends re{static get requires(){return[sW,aW]}static get pluginName(){return"BlockQuote"}}const lW={autoRefresh:!0},QS=36e5;class iv extends tt(){constructor(e,n={}){if(super(),!e)throw new N("token-missing-token-url",this);n.initValue&&this._validateTokenValue(n.initValue),this.set("value",n.initValue),typeof e=="function"?this._refresh=e:this._refresh=()=>uW(e),this._options={...lW,...n}}init(){return new Promise((e,n)=>{if(!this.value){this.refreshToken().then(e).catch(n);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const n=typeof e=="string",i=!/^".*"$/.test(e),a=n&&e.split(".").length===3;if(!(i&&a))throw new N("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:n}=JSON.parse(atob(e));return n?Math.floor((n*1e3-Date.now())/2):QS}catch{return QS}}static create(e,n={}){return new iv(e,n).init()}}function uW(s){return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",s),i.addEventListener("load",()=>{const a=i.status,l=i.response;return a<200||a>299?n(new N("token-cannot-download-new-token",null)):e(l)}),i.addEventListener("error",()=>n(new Error("Network Error"))),i.addEventListener("abort",()=>n(new Error("Abort"))),i.send()})}const sv=/^data:(\S*?);base64,/;class dW extends $e(){constructor(e,n,i){if(super(),!e)throw new N("fileuploader-missing-file",null);if(!n)throw new N("fileuploader-missing-token",null);if(!i)throw new N("fileuploader-missing-api-address",null);this.file=fW(e)?hW(e):e,this._token=n,this._apiAddress=i}onProgress(e){return this.on("progress",(n,i)=>e(i)),this}onError(e){return this.once("error",(n,i)=>e(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,n=i=>()=>this.fire("error",i);e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),e.addEventListener("load",()=>{const i=e.status,a=e.response;if(i<200||i>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,n=this.xhr;return e.append("file",this.file),new Promise((i,a)=>{n.addEventListener("load",()=>{const l=n.status,h=n.response;return l<200||l>299?h.message?a(new N("fileuploader-uploading-data-failed",this,{message:h.message})):a(h.error):i(h)}),n.addEventListener("error",()=>a(new Error("Network Error"))),n.addEventListener("abort",()=>a(new Error("Abort"))),n.send(e)})}}function hW(s,e=512){try{const n=s.match(sv)[1],i=atob(s.replace(sv,"")),a=[];for(let l=0;l<i.length;l+=e){const h=i.slice(l,l+e),p=new Array(h.length);for(let g=0;g<h.length;g++)p[g]=h.charCodeAt(g);a.push(new Uint8Array(p))}return new Blob(a,{type:n})}catch{throw new N("fileuploader-decoding-image-data-error",null)}}function fW(s){if(typeof s!="string")return!1;const e=s.match(sv);return!!(e&&e.length)}class pW{constructor(e,n){if(!e)throw new N("uploadgateway-missing-token",null);if(!n)throw new N("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=n}upload(e){return new dW(e,this._token,this._apiAddress)}}class gW extends ZE{static get pluginName(){return"CloudServicesCore"}createToken(e,n){return new iv(e,n)}createUploadGateway(e,n){return new pW(e,n)}}class mW extends ZE{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[gW]}async init(){const n=this.context.config.get("cloudServices")||{};for(const[a,l]of Object.entries(n))this[a]=l;if(!this.tokenUrl){this.token=null;return}const i=this.context.plugins.get("CloudServicesCore");this.token=await i.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const i=await this.context.plugins.get("CloudServicesCore").createToken(e).init();return this._tokens.set(e,i),i}getTokenFor(e){const n=this._tokens.get(e);if(!n)throw new N("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}class Uu extends Gi{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const n=this.document;this.listenTo(n,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(n,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(n,"dragover",i("dragging"),{priority:"low"});function i(a){return(l,h)=>{h.preventDefault();const p=h.dropRange?[h.dropRange]:null,g=new Qe(n,a);n.fire(g,{dataTransfer:h.dataTransfer,method:l.name,targetRanges:p,target:h.target,domEvent:h.domEvent}),g.stop.called&&h.stopPropagation()}}}onDomEvent(e){const n="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",a={dataTransfer:new Fx(n,{cacheFiles:i})};(e.type=="drop"||e.type=="dragover")&&(a.dropRange=kW(this.view,e)),this.fire(e.type,e,a)}}function kW(s,e){const n=e.target.ownerDocument,i=e.clientX,a=e.clientY;let l;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,a)?l=n.caretRangeFromPoint(i,a):e.rangeParent&&(l=n.createRange(),l.setStart(e.rangeParent,e.rangeOffset),l.collapse(!0)),l?s.domConverter.domRangeToView(l):null}function bW(s){return s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(s.includes("</p><p>")||s.includes("<br>"))&&(s=`<p>${s}</p>`),s}function wW(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,n)=>n.length==1?" ":n).replace(/<!--[\s\S]*?-->/g,"")}const JS=["figcaption","li"],YS=["ol","ul"];function ZS(s){if(s.is("$text")||s.is("$textProxy"))return s.data;if(s.is("element","img")&&s.hasAttribute("alt"))return s.getAttribute("alt");if(s.is("element","br"))return`
`;let e="",n=null;for(const i of s.getChildren())e+=_W(i,n)+ZS(i),n=i;return e}function _W(s,e){return e?s.is("element","li")&&!s.isEmpty&&s.getChild(0).is("containerElement")||YS.includes(s.name)&&YS.includes(e.name)?`

`:!s.is("containerElement")&&!e.is("containerElement")?"":JS.includes(s.name)||JS.includes(e.name)?`
`:`

`:""}function vW(s,e){return s&&jE(s,e,du)}const AW=vW;var CW=1,yW=2;function EW(s,e,n,i){var a=n.length,l=a,h=!i;if(s==null)return!l;for(s=Object(s);a--;){var p=n[a];if(h&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++a<l;){p=n[a];var g=p[0],b=s[g],v=p[1];if(h&&p[2]){if(b===void 0&&!(g in s))return!1}else{var y=new Io;if(i)var I=i(b,v,g,s,e,y);if(!(I===void 0?tp(v,b,CW|yW,i,y):I))return!1}}return!0}const xW=EW;function TW(s){return s===s&&!pt(s)}const XS=TW;function SW(s){for(var e=du(s),n=e.length;n--;){var i=e[n],a=s[i];e[n]=[i,a,XS(a)]}return e}const DW=SW;function IW(s,e){return function(n){return n==null?!1:n[s]===e&&(e!==void 0||s in Object(n))}}const e5=IW;function PW(s){var e=DW(s);return e.length==1&&e[0][2]?e5(e[0][0],e[0][1]):function(n){return n===s||xW(n,s,e)}}const RW=PW;function BW(s,e){return s!=null&&e in Object(s)}const OW=BW;function NW(s,e,n){e=Wf(e,s);for(var i=-1,a=e.length,l=!1;++i<a;){var h=fc(e[i]);if(!(l=s!=null&&n(s,h)))break;s=s[h]}return l||++i!=a?l:(a=s==null?0:s.length,!!a&&hr(a)&&Ne(h,a)&&(Ft(s)||Kt(s)))}const MW=NW;function VW(s,e){return s!=null&&MW(s,e,OW)}const LW=VW;var FW=1,zW=2;function jW(s,e){return mw(s)&&XS(e)?e5(fc(s),e):function(n){var i=gu(n,s);return i===void 0&&i===e?LW(n,s):tp(e,i,FW|zW)}}const UW=jW;function $W(s){return function(e){return e==null?void 0:e[s]}}const HW=$W;function qW(s){return function(e){return ww(e,s)}}const WW=qW;function GW(s){return mw(s)?HW(fc(s)):WW(s)}const KW=GW;function QW(s){return typeof s=="function"?s:s==null?cw:typeof s=="object"?Ft(s)?UW(s[0],s[1]):RW(s):KW(s)}const JW=QW;function YW(s,e){var n={};return e=JW(e),AW(s,function(i,a,l){x(n,a,e(i,a,l))}),n}const ZW=YW;class $u extends re{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,n){const i=Array.isArray(n)?n:this._mapRestrictionPresetToActions(n);i.length&&this._markersToCopy.set(e,i)}_mapRestrictionPresetToActions(e){switch(e){case"always":return["copy","cut","dragstart"];case"default":return["cut","dragstart"];case"never":return[];default:return[]}}_copySelectedFragmentWithMarkers(e,n,i=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const l=a.model.document.selection;a.setSelection(n);const h=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),p=i(a),g=this._removeFakeMarkersInsideElement(a,p);for(const[b,v]of Object.entries(h)){g[b]||(g[b]=a.createRangeIn(p));for(const y of v)a.remove(y)}p.markers.clear();for(const[b,v]of Object.entries(g))p.markers.set(b,v);return a.setSelection(l),p})}_pasteMarkersIntoTransformedElement(e,n){const i=this._getCopyableMarkersFromRangeMap(e);return this.editor.model.change(a=>{const l=this._insertFakeMarkersElements(a,i),h=n(a),p=this._removeFakeMarkersInsideElement(a,h);for(const g of Object.values(l).flat())a.remove(g);for(const[g,b]of Object.entries(p)){const v=a.model.markers.has(g)?this._getUniqueMarkerName(g):g;a.addMarker(v,{usingOperation:!0,affectsData:!0,range:b})}return h})}_forceMarkersCopy(e,n){const i=this._markersToCopy.get(e);this._markersToCopy.set(e,this._mapRestrictionPresetToActions("always")),n(),i?this._markersToCopy.set(e,i):this._markersToCopy.delete(e)}_canPerformMarkerClipboardAction(e,n){const[i]=e.split(":");return n?(this._markersToCopy.get(i)||[]).includes(n):this._markersToCopy.has(i)}_setUniqueMarkerNamesInFragment(e){const n=Array.from(e.markers);e.markers.clear();for(const[i,a]of n){const l=this._canPerformMarkerClipboardAction(i,null)?this._getUniqueMarkerName(i):i;e.markers.set(l,a)}}_insertFakeMarkersIntoSelection(e,n,i){const a=this._getCopyableMarkersFromSelection(e,n,i);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,n,i){return Array.from(n.getRanges()).flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a))).filter(a=>this._canPerformMarkerClipboardAction(a.name,i)).map(a=>({name:a.name,range:a.getRange()}))}_getCopyableMarkersFromRangeMap(e,n=null){return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).map(([a,l])=>({name:a,range:l})).filter(a=>this._canPerformMarkerClipboardAction(a.name,n))}_insertFakeMarkersElements(e,n){const i={},a=n.flatMap(l=>{const{start:h,end:p}=l.range;return[{position:h,marker:l,type:"start"},{position:p,marker:l,type:"end"}]}).sort(({position:l},{position:h})=>l.isBefore(h)?1:-1);for(const{position:l,marker:h,type:p}of a){const g=e.createElement("$marker",{"data-name":h.name,"data-type":p});i[h.name]||(i[h.name]=[]),i[h.name].push(g),e.insert(g,l)}return i}_removeFakeMarkersInsideElement(e,n){const a=this._getAllFakeMarkersFromElement(e,n).reduce((l,h)=>{const p=h.markerElement&&e.createPositionBefore(h.markerElement);let g=l[h.name];return g&&g.start&&g.end&&(l[this._getUniqueMarkerName(h.name)]=l[h.name],g=null),l[h.name]={...g,[h.type]:p},h.markerElement&&e.remove(h.markerElement),l},{});return ZW(a,l=>new U(l.start||e.createPositionFromPath(n,[0]),l.end||e.createPositionAt(n,"end")))}_getAllFakeMarkersFromElement(e,n){const i=Array.from(e.createRangeIn(n)).flatMap(({item:h})=>{if(!h.is("element","$marker"))return[];const p=h.getAttribute("data-name"),g=h.getAttribute("data-type");return[{markerElement:h,name:p,type:g}]}),a=[],l=[];for(const h of i)h.type==="end"&&(i.some(g=>g.name===h.name&&g.type==="start")||a.push({markerElement:null,name:h.name,type:"start"})),h.type==="start"&&(i.some(g=>g.name===h.name&&g.type==="end")||l.unshift({markerElement:null,name:h.name,type:"end"}));return[...a,...i,...l]}_getUniqueMarkerName(e){const n=e.split(":"),i=Gt().substring(1,6);return n.length===3?`${n.slice(0,2).join(":")}:${i}`:`${n.join(":")}:${i}`}}class mi extends re{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[$u]}init(){this.editor.editing.view.addObserver(Uu),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,n,i){const l=this.editor.plugins.get("ClipboardMarkersUtils")._copySelectedFragmentWithMarkers(i,n);this.fire("outputTransformation",{dataTransfer:e,content:l,method:i})}_setupPasteDrop(){const e=this.editor,n=e.model,i=e.editing.view,a=i.document,l=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(h,p)=>{p.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&h.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(h,p)=>{const g=p.dataTransfer;let b;if(p.content)b=p.content;else{let y="";g.getData("text/html")?y=wW(g.getData("text/html")):g.getData("text/plain")&&(y=bW(g.getData("text/plain"))),b=this.editor.data.htmlProcessor.toView(y)}const v=new Qe(this,"inputTransformation");this.fire(v,{content:b,dataTransfer:g,targetRanges:p.targetRanges,method:p.method}),v.stop.called&&h.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,p)=>{if(p.content.isEmpty)return;const b=this.editor.data.toModel(p.content,"$clipboardHolder");b.childCount!=0&&(h.stop(),n.change(()=>{this.fire("contentInsertion",{content:b,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,p)=>{l._setUniqueMarkerNamesInFragment(p.content)},{priority:"highest"}),this.listenTo(this,"contentInsertion",(h,p)=>{p.resultRange=n.insertContent(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,n=e.model.document,a=e.editing.view.document,l=(h,p)=>{const g=p.dataTransfer;p.preventDefault(),this._fireOutputTransformationEvent(g,n.selection,h.name)};this.listenTo(a,"copy",l,{priority:"low"}),this.listenTo(a,"cut",(h,p)=>{e.model.canEditAt(e.model.document.selection)?l(h,p):p.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(h,p)=>{const g=e.data.toView(p.content);a.fire("clipboardOutput",{dataTransfer:p.dataTransfer,content:g,method:p.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(h,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",ZS(p.content))),p.method=="cut"&&e.model.deleteContent(n.selection)},{priority:"low"})}}class XW extends $e(){constructor(){super(...arguments),this._stack=[]}add(e,n){const i=this._stack,a=i[0];this._insertDescriptor(e);const l=i[0];a!==l&&!av(a,l)&&this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:n})}remove(e,n){const i=this._stack,a=i[0];this._removeDescriptor(e);const l=i[0];a!==l&&!av(a,l)&&this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:n})}_insertDescriptor(e){const n=this._stack,i=n.findIndex(l=>l.id===e.id);if(av(e,n[i]))return;i>-1&&n.splice(i,1);let a=0;for(;n[a]&&eG(n[a],e);)a++;n.splice(a,0,e)}_removeDescriptor(e){const n=this._stack,i=n.findIndex(a=>a.id===e);i>-1&&n.splice(i,1)}}function av(s,e){return s&&e&&s.priority==e.priority&&Tp(s.classes)==Tp(e.classes)}function eG(s,e){return s.priority>e.priority?!0:s.priority<e.priority?!1:Tp(s.classes)>Tp(e.classes)}function Tp(s){return Array.isArray(s)?s.sort().join(","):s}const tG='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',nG="ck-widget",t5="ck-widget_selected";function nn(s){return s.is("element")?!!s.getCustomProperty("widget"):!1}function n5(s,e,n={}){if(!s.is("containerElement"))throw new N("widget-to-widget-wrong-element-type",null,{element:s});return e.setAttribute("contenteditable","false",s),e.addClass(nG,s),e.setCustomProperty("widget",!0,s),s.getFillerOffset=lG,e.setCustomProperty("widgetLabel",[],s),n.label&&iG(s,n.label),n.hasSelectionHandle&&uG(s,e),r5(s,e),s}function rG(s,e,n){if(e.classes&&n.addClass(vt(e.classes),s),e.attributes)for(const i in e.attributes)n.setAttribute(i,e.attributes[i],s)}function oG(s,e,n){if(e.classes&&n.removeClass(vt(e.classes),s),e.attributes)for(const i in e.attributes)n.removeAttribute(i,s)}function r5(s,e,n=rG,i=oG){const a=new XW;a.on("change:top",(p,g)=>{g.oldDescriptor&&i(s,g.oldDescriptor,g.writer),g.newDescriptor&&n(s,g.newDescriptor,g.writer)});const l=(p,g,b)=>a.add(g,b),h=(p,g,b)=>a.remove(g,b);e.setCustomProperty("addHighlight",l,s),e.setCustomProperty("removeHighlight",h,s)}function iG(s,e){s.getCustomProperty("widgetLabel").push(e)}function sG(s){return s.getCustomProperty("widgetLabel").reduce((n,i)=>typeof i=="function"?n?n+". "+i():i():n?n+". "+i:i,"")}function aG(s,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],s),e.setAttribute("role","textbox",s),n.label&&e.setAttribute("aria-label",n.label,s),e.setAttribute("contenteditable",s.isReadOnly?"false":"true",s),s.on("change:isReadOnly",(i,a,l)=>{e.setAttribute("contenteditable",l?"false":"true",s)}),s.on("change:isFocused",(i,a,l)=>{l?e.addClass("ck-editor__nested-editable_focused",s):e.removeClass("ck-editor__nested-editable_focused",s)}),r5(s,e),s}function cG(s,e){const n=s.getSelectedElement();if(n){const i=Zi(s);if(i)return e.createRange(e.createPositionAt(n,i))}return e.schema.findOptimalInsertionRange(s)}function lG(){return null}function uG(s,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const a=this.toDomElement(i),l=new Cc;return l.set("content",tG),l.render(),a.appendChild(l.element),a});e.insert(e.createPositionAt(s,0),n),e.addClass(["ck-widget_with-selection-handle"],s)}const ki="widget-type-around";function sa(s,e,n){return!!s&&nn(s)&&!n.isInline(e)}function dG(s){return s.closest(".ck-widget__type-around__button")}function hG(s){return s.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function fG(s,e){const n=s.closest(".ck-widget");return e.mapDomToView(n)}function Zi(s){return s.getAttribute(ki)}const pG='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var o5=o(698),cv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};cv.insert="head",cv.singleton=!0,ue()(o5.A,cv),o5.A.locals;const i5=["before","after"],gG=new DOMParser().parseFromString(pG,"image/svg+xml").firstChild,s5="ck-widget__type-around_disabled";class mG extends re{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ep,ia]}init(){const e=this.editor,n=e.editing.view;this.on("change:isEnabled",(i,a,l)=>{n.change(h=>{for(const p of n.document.roots)l?h.removeClass(s5,p):h.addClass(s5,p)}),l||e.model.change(h=>{h.removeSelectionAttribute(ki)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,n){const i=this.editor,a=i.editing.view,l=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,n),attributes:l}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,n,i,a){this.listenTo(e,n,(...l)=>{this.isEnabled&&i(...l)},a)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,a=Zi(i);if(!a)return!1;const l=i.getSelectedElement();return this._insertParagraph(l,a),!0}_enableTypeAroundUIInjection(){const e=this.editor,n=e.model.schema,i=e.locale.t,a={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(l,h,p)=>{const g=p.mapper.toViewElement(h.item);g&&sa(g,h.item,n)&&(kG(p.writer,a,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,n=e.model,i=n.document.selection,a=n.schema,l=e.editing.view;this._listenToIfEnabled(l.document,"arrowKey",(p,g)=>{this._handleArrowKeyPress(p,g)},{context:[nn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(p,g)=>{g.directChange&&e.model.change(b=>{b.removeSelectionAttribute(ki)})}),this._listenToIfEnabled(n.document,"change:data",()=>{const p=i.getSelectedElement();if(p){const g=e.editing.mapper.toViewElement(p);if(sa(g,p,a))return}e.model.change(g=>{g.removeSelectionAttribute(ki)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(p,g,b)=>{const v=b.writer;if(this._currentFakeCaretModelElement){const F=b.mapper.toViewElement(this._currentFakeCaretModelElement);F&&(v.removeClass(i5.map(h),F),this._currentFakeCaretModelElement=null)}const y=g.selection.getSelectedElement();if(!y)return;const I=b.mapper.toViewElement(y);if(!sa(I,y,a))return;const V=Zi(g.selection);V&&(v.addClass(h(V),I),this._currentFakeCaretModelElement=y)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(p,g,b)=>{b||e.model.change(v=>{v.removeSelectionAttribute(ki)})});function h(p){return`ck-widget_type-around_show-fake-caret_${p}`}}_handleArrowKeyPress(e,n){const i=this.editor,a=i.model,l=a.document.selection,h=a.schema,p=i.editing.view,g=n.keyCode,b=yL(g,i.locale.contentLanguageDirection),v=p.document.selection.getSelectedElement(),y=i.editing.mapper.toModelElement(v);let I;sa(v,y,h)?I=this._handleArrowKeyPressOnSelectedWidget(b):l.isCollapsed?I=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):n.shiftKey||(I=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),I&&(n.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,a=i.document.selection,l=Zi(a);return i.change(h=>{if(l){if(!(l===(e?"after":"before")))return h.removeSelectionAttribute(ki),!0}else return h.setSelectionAttribute(ki,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const n=this.editor,i=n.model,a=i.schema,l=n.plugins.get("Widget"),h=l._getObjectElementNextToSelection(e),p=n.editing.mapper.toViewElement(h);return sa(p,h,a)?(i.change(g=>{l._setSelectionOverElement(h),g.setSelectionAttribute(ki,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const n=this.editor,i=n.model,a=i.schema,l=n.editing.mapper,h=i.document.selection,p=e?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter,g=l.toViewElement(p);return sa(g,p,a)?(i.change(b=>{b.setSelection(p,"on"),b.setSelectionAttribute(ki,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",(i,a)=>{const l=dG(a.domTarget);if(!l)return;const h=hG(l),p=fG(l,n.domConverter),g=e.editing.mapper.toModelElement(p);this._insertParagraph(g,h),a.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,n=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(a,l)=>{if(a.eventPhase!="atTarget")return;const h=n.getSelectedElement(),p=e.editing.mapper.toViewElement(h),g=e.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:sa(p,h,g)&&(this._insertParagraph(h,l.isSoft?"before":"after"),b=!0),b&&(l.preventDefault(),a.stop())},{context:nn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(i,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=n.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(n,"keydown",(i,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,n=e.editing.view,i=e.model,a=i.schema;this._listenToIfEnabled(n.document,"delete",(l,h)=>{if(l.eventPhase!="atTarget")return;const p=Zi(i.document.selection);if(!p)return;const g=h.direction,b=i.document.selection.getSelectedElement(),v=p==="before",y=g=="forward";if(v===y)e.execute("delete",{selection:i.createSelection(b,"on")});else{const V=a.getNearestSelectionRange(i.createPositionAt(b,p),g);if(V)if(!V.isCollapsed)i.change(F=>{F.setSelection(V),e.execute(y?"deleteForward":"delete")});else{const F=i.createSelection(V.start);if(i.modifySelection(F,{direction:g}),!F.focus.isEqual(V.start))i.change(H=>{H.setSelection(V),e.execute(y?"deleteForward":"delete")});else{const H=_G(a,V.start.parent);i.deleteContent(i.createSelection(H,"on"),{doNotAutoparagraph:!0})}}}h.preventDefault(),l.stop()},{context:nn})}_enableInsertContentIntegration(){const e=this.editor,n=this.editor.model,i=n.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[l,h])=>{if(h&&!h.is("documentSelection"))return;const p=Zi(i);if(p)return a.stop(),n.change(g=>{const b=i.getSelectedElement(),v=n.createPositionAt(b,p),y=g.createSelection(v),I=n.insertContent(l,y);return g.setSelection(y),I})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(a,l)=>{const[,h,p={}]=l;if(h&&!h.is("documentSelection"))return;const g=Zi(i);g&&(p.findOptimalPosition=g,l[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(a,[l])=>{if(l&&!l.is("documentSelection"))return;Zi(i)&&a.stop()},{priority:"high"})}}function kG(s,e,n){const i=s.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(a){const l=this.toDomElement(a);return bG(l,e),wG(l),l});s.insert(s.createPositionAt(n,"end"),i)}function bG(s,e){for(const n of i5){const i=new Lr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:e[n],"aria-hidden":"true"},children:[s.ownerDocument.importNode(gG,!0)]});s.appendChild(i.render())}}function wG(s){const e=new Lr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});s.appendChild(e.render())}function _G(s,e){let n=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||s.isLimit(i))break;n=i}return n}function vG(s){const e=s.model;return(n,i)=>{const a=i.keyCode==ze.arrowup,l=i.keyCode==ze.arrowdown,h=i.shiftKey,p=e.document.selection;if(!a&&!l)return;const g=l;if(h&&yG(p,g))return;const b=AG(s,p,g);if(b){if(b.isCollapsed){if(p.isCollapsed)return;if(h)return}(b.isCollapsed||CG(s,b,g))&&(e.change(v=>{const y=g?b.end:b.start;if(h){const I=e.createSelection(p.anchor);I.setFocus(y),v.setSelection(I)}else v.setSelection(y)}),n.stop(),i.preventDefault(),i.stopPropagation())}}}function AG(s,e,n){const i=s.model;if(n){const a=e.isCollapsed?e.focus:e.getLastPosition(),l=a5(i,a,"forward");if(!l)return null;const h=i.createRange(a,l),p=c5(i.schema,h,"backward");return p?i.createRange(a,p):null}else{const a=e.isCollapsed?e.focus:e.getFirstPosition(),l=a5(i,a,"backward");if(!l)return null;const h=i.createRange(l,a),p=c5(i.schema,h,"forward");return p?i.createRange(p,a):null}}function a5(s,e,n){const i=s.schema,a=s.createRangeIn(e.root),l=n=="forward"?"elementStart":"elementEnd";for(const{previousPosition:h,item:p,type:g}of a.getWalker({startPosition:e,direction:n})){if(i.isLimit(p)&&!i.isInline(p))return h;if(g==l&&i.isBlock(p))return null}return null}function c5(s,e,n){const i=n=="backward"?e.end:e.start;if(s.checkChild(i,"$text"))return i;for(const{nextPosition:a}of e.getWalker({direction:n}))if(s.checkChild(a,"$text"))return a;return null}function CG(s,e,n){const i=s.model,a=s.view.domConverter;if(n){const b=i.createSelection(e.start);i.modifySelection(b),!b.focus.isAtEnd&&!e.start.isEqual(b.focus)&&(e=i.createRange(b.focus,e.end))}const l=s.mapper.toViewRange(e),h=a.viewRangeToDom(l),p=Me.getDomRangeRects(h);let g;for(const b of p){if(g===void 0){g=Math.round(b.bottom);continue}if(Math.round(b.top)>=g)return!1;g=Math.max(g,Math.round(b.bottom))}return!0}function yG(s,e){return!s.isCollapsed&&s.isBackward==e}var l5=o(1089),lv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lv.insert="head",lv.singleton=!0,ue()(l5.A,lv),l5.A.locals;class uv extends re{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[mG,ia]}init(){const e=this.editor,n=e.editing.view,i=n.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(l,h,p)=>{const g=p.writer,b=h.selection;if(b.isCollapsed)return;const v=b.getSelectedElement();if(!v)return;const y=e.editing.mapper.toViewElement(v);nn(y)&&p.consumable.consume(b,"selection")&&g.setSelection(g.createRangeOn(y),{fake:!0,label:sG(y)})}),this.editor.editing.downcastDispatcher.on("selection",(l,h,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const g=p.writer,b=g.document.selection;let v=null;for(const y of b.getRanges())for(const I of y){const V=I.item;nn(V)&&!xG(V,v)&&(g.addClass(t5,V),this._previouslySelected.add(V),v=V)}},{priority:"low"}),n.addObserver(Gw),this.listenTo(i,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(i,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[nn,"$text"]}),this.listenTo(i,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(i,"arrowKey",vG(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(l,h)=>{this._handleDelete(h.direction=="forward")&&(h.preventDefault(),l.stop())},{context:"$root"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,n){const i=this.editor,a=i.editing.view,l=a.document;let h=n.target;if(n.domEvent.detail>=3){this._selectBlockContent(h)&&n.preventDefault();return}if(EG(h)||!nn(h)&&(h=h.findAncestor(nn),!h))return;_.isAndroid&&n.preventDefault(),l.isFocused||a.focus();const p=i.editing.mapper.toModelElement(h);this._setSelectionOverElement(p)}_selectBlockContent(e){const n=this.editor,i=n.model,a=n.editing.mapper,l=i.schema,h=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),p=TG(a.toModelElement(h),i.schema);return p?(i.change(g=>{const b=l.isLimit(p)?null:SG(g.createPositionAfter(p),l),v=g.createPositionAt(p,0),y=b?g.createPositionAt(b,0):g.createPositionAt(p,"end");g.setSelection(g.createRange(v,y))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,n){const i=n.keyCode,a=this.editor.model,l=a.schema,h=a.document.selection,p=h.getSelectedElement(),g=iw(i,this.editor.locale.contentLanguageDirection),b=g=="down"||g=="right",v=g=="up"||g=="down";if(p&&l.isObject(p)){const I=b?h.getLastPosition():h.getFirstPosition(),V=l.getNearestSelectionRange(I,b?"forward":"backward");V&&(a.change(F=>{F.setSelection(V)}),n.preventDefault(),e.stop());return}if(!h.isCollapsed&&!n.shiftKey){const I=h.getFirstPosition(),V=h.getLastPosition(),F=I.nodeAfter,H=V.nodeBefore;(F&&l.isObject(F)||H&&l.isObject(H))&&(a.change(W=>{W.setSelection(b?V:I)}),n.preventDefault(),e.stop());return}if(!h.isCollapsed)return;const y=this._getObjectElementNextToSelection(b);if(y&&l.isObject(y)){if(l.isInline(y)&&v)return;this._setSelectionOverElement(y),n.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,n){const i=this.editor.model,a=i.schema,l=i.document.selection.getSelectedElement();l&&a.isObject(l)&&(n.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);if(a)return this.editor.model.change(l=>{let h=i.anchor.parent;for(;h.isEmpty;){const p=h;h=p.parent,l.remove(p)}this._setSelectionOverElement(a)}),!0}_setSelectionOverElement(e){this.editor.model.change(n=>{n.setSelection(n.createRangeOn(e))})}_getObjectElementNextToSelection(e){const n=this.editor.model,i=n.schema,a=n.document.selection,l=n.createSelection(a);if(n.modifySelection(l,{direction:e?"forward":"backward"}),l.isEqual(a))return null;const h=e?l.focus.nodeBefore:l.focus.nodeAfter;return h&&i.isObject(h)?h:null}_clearPreviouslySelectedWidgets(e){for(const n of this._previouslySelected)e.removeClass(t5,n);this._previouslySelected.clear()}}function EG(s){let e=s;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(nn(e))return!1;e=e.parent}return!1}function xG(s,e){return e?Array.from(s.getAncestors()).includes(e):!1}function TG(s,e){for(const n of s.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(n,"$text"))return n;if(e.isLimit(n)&&!e.isObject(n))break}return null}function SG(s,e){const n=new di({startPosition:s});for(const{item:i}of n){if(e.isLimit(i)||!i.is("element"))return null;if(e.checkChild(i,"$text"))return i}return null}class u5 extends re{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[$_]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const n=e.plugins.get("BalloonToolbar");this.listenTo(n,"show",i=>{DG(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:n,items:i,getRelatedElement:a,balloonClassName:l="ck-toolbar-container"}){if(!i.length){Te("widget-toolbar-no-items",{toolbarId:e});return}const h=this.editor,p=h.t,g=new f_(h.locale);if(g.ariaLabel=n||p("Widget toolbar"),this._toolbarDefinitions.has(e))throw new N("widget-toolbar-duplicated",this,{toolbarId:e});const b={view:g,getRelatedElement:a,balloonClassName:l,itemsConfig:i,initialized:!1};h.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const v=a(h.editing.view.document.selection);v&&this._showToolbar(b,v)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(e,b)}_updateToolbarsVisibility(){let e=0,n=null,i=null;for(const a of this._toolbarDefinitions.values()){const l=a.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!l)this._isToolbarInBalloon(a)&&this._hideToolbar(a);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(a)&&this._hideToolbar(a);else{const h=l.getAncestors().length;h>e&&(e=h,n=l,i=a)}}i&&this._showToolbar(i,n)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,n){this._isToolbarVisible(e)?d5(this.editor,n):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:h5(this.editor,n),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const a=i.getRelatedElement(this.editor.editing.view.document.selection);d5(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function d5(s,e){const n=s.plugins.get("ContextualBalloon"),i=h5(s,e);n.updatePosition(i)}function h5(s,e){const n=s.editing.view,i=Mu.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function DG(s){const e=s.getSelectedElement();return!!(e&&nn(e))}var f5=o(6645),dv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dv.insert="head",dv.singleton=!0,ue()(f5.A,dv),f5.A.locals;const hv=dc("px");class IG extends we{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",n=>!n)],style:{left:e.to("left",n=>hv(n)),top:e.to("top",n=>hv(n)),width:e.to("width",n=>hv(n))}}})}}class Sp extends re{constructor(){super(...arguments),this.removeDropMarkerDelayed=uw(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=mp(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=mp(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new IG,this._domEmitter=new(ro()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,n,i,a,l,h){this.removeDropMarkerDelayed.cancel();const p=p5(this.editor,e,n,i,a,l,h);if(p){if(h&&h.containsRange(p))return this.removeDropMarker();this._updateDropMarkerThrottled(p)}}getFinalDropRange(e,n,i,a,l,h){const p=p5(this.editor,e,n,i,a,l,h);return this.removeDropMarker(),p}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(n=>{n.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(n,{writer:i})=>{if(e.model.schema.checkChild(n.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);n.markerRange.isCollapsed?this._updateDropTargetLine(n.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const n=this.editor,i=n.model.markers;n.model.change(a=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(n){const i=this.toDomElement(n);return i.append("⁠",n.createElement("span"),"⁠"),i})}_updateDropTargetLine(e){const n=this.editor.editing,i=e.start.nodeBefore,a=e.start.nodeAfter,l=e.start.parent,h=i?n.mapper.toViewElement(i):null,p=h?n.view.domConverter.mapViewToDom(h):null,g=a?n.mapper.toViewElement(a):null,b=g?n.view.domConverter.mapViewToDom(g):null,v=n.mapper.toViewElement(l);if(!v)return;const y=n.view.domConverter.mapViewToDom(v),I=this._getScrollableRect(v),{scrollX:V,scrollY:F}=ke.window,H=p?new Me(p):null,W=b?new Me(b):null,ee=new Me(y).excludeScrollbarsAndBorders(),de=H?H.bottom:ee.top,Oe=W?W.top:ee.bottom,Ke=ke.window.getComputedStyle(y),lt=de<=Oe?(de+Oe)/2:Oe;if(I.top<lt&&lt<I.bottom){const pe=ee.left+parseFloat(Ke.paddingLeft),Ce=ee.right-parseFloat(Ke.paddingRight),be=Math.max(pe+V,I.left),mt=Math.min(Ce+V,I.right);this._dropTargetLineView.set({isVisible:!0,left:be,top:lt+F,width:mt-be})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const n=e.root.rootName;let i;if(this._scrollables.has(n))i=this._scrollables.get(n).domElement;else{const a=this.editor.editing.view.domConverter.mapViewToDom(e);i=RG(a),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new nw(i,this._reconvertMarkerThrottled);this._scrollables.set(n,{domElement:i,resizeObserver:l})}return new Me(i).excludeScrollbarsAndBorders()}}function p5(s,e,n,i,a,l,h){const p=s.model,g=s.editing.mapper;let v=m5(s,e);for(;v;){if(!l){if(p.schema.checkChild(v,"$text")){if(n){const y=n[0].start,I=g.toModelPosition(y);if(!h||Array.from(h.getItems()).every(F=>p.schema.checkChild(I,F))){if(p.schema.checkChild(I,"$text"))return p.createRange(I);if(y)return Dp(s,m5(s,y.parent),i,a)}}}else if(p.schema.isInline(v))return Dp(s,v,i,a)}if(p.schema.isBlock(v))return Dp(s,v,i,a);if(p.schema.checkChild(v,"$block")){const y=Array.from(v.getChildren()).filter(F=>F.is("element")&&!PG(s,F));let I=0,V=y.length;if(V==0)return p.createRange(p.createPositionAt(v,"end"));for(;I<V-1;){const F=Math.floor((I+V)/2);g5(s,y[F],i,a)=="before"?V=F:I=F}return Dp(s,y[I],i,a)}v=v.parent}return null}function PG(s,e){const n=s.editing.mapper,i=s.editing.view.domConverter,a=n.toViewElement(e);if(!a)return!0;const l=i.mapViewToDom(a);return ke.window.getComputedStyle(l).float!="none"}function Dp(s,e,n,i){const a=s.model;return a.createRange(a.createPositionAt(e,g5(s,e,n,i)))}function g5(s,e,n,i){const a=s.editing.mapper,l=s.editing.view.domConverter,h=a.toViewElement(e),p=l.mapViewToDom(h),g=new Me(p);return s.model.schema.isInline(e)?n<(g.left+g.right)/2?"before":"after":i<(g.top+g.bottom)/2?"before":"after"}function m5(s,e){const n=s.editing.mapper,i=s.editing.view,a=n.toModelElement(e);if(a)return a;const l=i.createPositionBefore(e),h=n.findMappedViewAncestor(l);return n.toModelElement(h)}function RG(s){let e=s;do{e=e.parentElement;const n=ke.window.getComputedStyle(e).overflowY;if(n=="auto"||n=="scroll")break}while(e.tagName!="BODY");return e}class BG extends re{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(ro())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(n,i,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(a,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(ke.document,"dragover",(a,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(ke.document,"drop",(a,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(ke.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(a,l,h)=>{i.setAttribute("draggable",h?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const n=this.editor.model,i=n.document.selection,a=this.editor.editing.view,l=Array.from(i.getSelectedBlocks()),h=n.createRange(n.createPositionBefore(l[0]),n.createPositionAfter(l[l.length-1]));n.change(p=>p.setSelection(h)),this._isBlockDragging=!0,a.focus(),a.getObserver(Uu).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const n=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,a=document.elementFromPoint(n,i),l=this.editor.editing.view;!a||!a.closest(".ck-editor__editable")||l.getObserver(Uu).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:n,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var k5=o(8643),fv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};fv.insert="head",fv.singleton=!0,ue()(k5.A,fv),k5.A.locals;class OG extends re{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=uw(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(ro())}static get pluginName(){return"DragDrop"}static get requires(){return[mi,uv,Sp,BG]}init(){const e=this.editor,n=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,n.addObserver(Uu),n.addObserver(Gw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,a,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,a,l)=>{l||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,n=e.model,i=e.editing.view,a=i.document,l=e.plugins.get(Sp);this.listenTo(a,"dragstart",(h,p)=>{if(p.target&&p.target.is("editableElement")){p.preventDefault();return}if(this._prepareDraggedRange(p.target),!this._draggedRange){p.preventDefault();return}this._draggingUid=Gt(),p.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",p.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const g=n.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(p.dataTransfer,g,"dragstart");const{dataTransfer:v,domTarget:y,domEvent:I}=p,{clientX:V}=I;this._updatePreview({dataTransfer:v,domTarget:y,clientX:V}),p.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(h,p)=>{this._finalizeDragging(!p.dataTransfer.isCanceled&&p.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(ke.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(a,"dragleave",()=>{l.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(h,p)=>{if(!this.isEnabled){p.dataTransfer.dropEffect="none";return}const{clientX:g,clientY:b}=p.domEvent;l.updateDropMarker(p.target,p.targetRanges,g,b,this._blockMode,this._draggedRange),this._draggedRange||(p.dataTransfer.dropEffect="copy"),_.isGecko||(p.dataTransfer.effectAllowed=="copy"?p.dataTransfer.dropEffect="copy":["all","copyMove"].includes(p.dataTransfer.effectAllowed)&&(p.dataTransfer.dropEffect="move")),h.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,a=e.plugins.get(Sp);this.listenTo(i,"clipboardInput",(l,h)=>{if(h.method!="drop")return;const{clientX:p,clientY:g}=h.domEvent,b=a.getFinalDropRange(h.target,h.targetRanges,p,g,this._blockMode,this._draggedRange);if(!b){this._finalizeDragging(!1),l.stop();return}if(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),b5(h.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0)){this._finalizeDragging(!1),l.stop();return}h.targetRanges=[e.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(mi);e.on("contentInsertion",(n,i)=>{if(!this.isEnabled||i.method!=="drop")return;const a=i.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(n,i)=>{if(!this.isEnabled||i.method!=="drop")return;const a=b5(i.dataTransfer)=="move",l=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(l&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,n=e.editing.view,i=n.document;this.listenTo(i,"mousedown",(a,l)=>{if(_.isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let h=w5(l.target);if(_.isBlink&&!e.isReadOnly&&!h&&!i.selection.isCollapsed){const p=i.selection.getSelectedElement();(!p||!nn(p))&&(h=i.selection.editableElement)}h&&(n.change(p=>{p.setAttribute("draggable","true",h)}),this._draggableElement=e.editing.mapper.toModelElement(h))}),this.listenTo(i,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(n=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&n.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const n=this.editor,i=n.model;n.plugins.get(Sp).removeDropMarker(),this._clearDraggableAttributes(),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(l=>{const h=i.createSelection(this._draggedRange);i.deleteContent(h,{doNotAutoparagraph:!0});const p=h.getFirstPosition().parent;p.isEmpty&&!i.schema.checkChild(p,"$text")&&i.schema.checkChild(p,"paragraph")&&l.insertElement("paragraph",p,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const n=this.editor,i=n.model,a=i.document.selection,l=e?w5(e):null;if(l){const b=n.editing.mapper.toModelElement(l);this._draggedRange=Mr.fromRange(i.createRangeOn(b)),this._blockMode=i.schema.isBlock(b),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const h=Array.from(a.getSelectedBlocks()),p=a.getFirstRange();if(h.length==0){this._draggedRange=Mr.fromRange(p);return}const g=_5(i,h);if(h.length>1)this._draggedRange=Mr.fromRange(g),this._blockMode=!0;else if(h.length==1){const b=p.start.isTouching(g.start)&&p.end.isTouching(g.end);this._draggedRange=Mr.fromRange(b?g:p),this._blockMode=b}i.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:n,clientX:i}){const a=this.editor.editing.view,l=a.document.selection.editableElement,h=a.domConverter.mapViewToDom(l),p=ke.window.getComputedStyle(h);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Zn(ke.document,"div",{style:"position: fixed; left: -999999px;"}),ke.document.body.appendChild(this._previewContainer));const g=new Me(h);if(h.contains(n))return;const b=parseFloat(p.paddingLeft),v=Zn(ke.document,"div");v.className="ck ck-content",v.style.width=p.width,v.style.paddingLeft=`${g.left-i+b}px`,_.isiOS&&(v.style.backgroundColor="white"),v.innerHTML=e.getData("text/html"),e.setDragImage(v,0,0),this._previewContainer.appendChild(v)}}function b5(s){return _.isGecko?s.dropEffect:["all","copyMove"].includes(s.effectAllowed)?"move":"copy"}function w5(s){if(s.is("editableElement"))return null;if(s.hasClass("ck-widget__selection-handle"))return s.findAncestor(nn);if(nn(s))return s;const e=s.findAncestor(n=>nn(n)||n.is("editableElement"));return nn(e)?e:null}function _5(s,e){const n=e[0],i=e[e.length-1],a=n.getCommonAncestor(i),l=s.createPositionBefore(n),h=s.createPositionAfter(i);if(a&&a.is("element")&&!s.schema.isLimit(a)){const p=s.createRangeOn(a),g=l.isTouching(p.start),b=h.isTouching(p.end);if(g&&b)return _5(s,[a])}return s.createRange(l,h)}class NG extends re{static get pluginName(){return"PastePlainText"}static get requires(){return[mi]}init(){const e=this.editor,n=e.model,i=e.editing.view,a=i.document,l=n.document.selection;let h=!1;i.addObserver(Uu),this.listenTo(a,"keydown",(p,g)=>{h=g.shiftKey}),e.plugins.get(mi).on("contentInsertion",(p,g)=>{!h&&!MG(g.content,n.schema)||n.change(b=>{const v=Array.from(l.getAttributes()).filter(([I])=>n.schema.getAttributeProperties(I).isFormatting);l.isCollapsed||n.deleteContent(l,{doNotAutoparagraph:!0}),v.push(...l.getAttributes());const y=b.createRangeIn(g.content);for(const I of y.getItems())I.is("$textProxy")&&b.setAttributes(v,I)})})}}function MG(s,e){if(s.childCount>1)return!1;const n=s.getChild(0);return e.isObject(n)?!1:Array.from(n.getAttributeKeys()).length==0}class VG extends re{static get pluginName(){return"Clipboard"}static get requires(){return[$u,mi,OG,NG]}init(){const e=this.editor,n=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Copy selected content"),keystroke:"CTRL+C"},{label:n("Paste content"),keystroke:"CTRL+V"},{label:n("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class LG extends He{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,n=e.document.selection;let i=e.schema.getLimitElement(n);if(n.containsEntireContent(i)||!v5(e.schema,i))do if(i=i.parent,!i)return;while(!v5(e.schema,i));e.change(a=>{a.setSelection(i,"in")})}}function v5(s,e){return s.isLimit(e)&&(s.checkChild(e,"$text")||s.checkChild(e,"paragraph"))}const FG=pu("Ctrl+A");class zG extends re{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.t,a=e.editing.view.document;e.commands.add("selectAll",new LG(e)),this.listenTo(a,"keydown",(l,h)=>{hc(h)===FG&&(e.execute("selectAll"),h.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Select all"),keystroke:"CTRL+A"}]})}}const jG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class UG extends re{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",n=>{const i=e.commands.get("selectAll"),a=new Je(n),l=n.t;return a.set({label:l("Select all"),icon:jG,keystroke:"Ctrl+A",tooltip:!0}),a.bind("isEnabled").to(i,"isEnabled"),this.listenTo(a,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),a})}}class $G extends re{static get requires(){return[zG,UG]}static get pluginName(){return"SelectAll"}}class A5 extends He{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(n,i)=>{i[1]={...i[1]};const a=i[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(n,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const n=this.editor.model.document.selection,i={ranges:n.hasOwnRange?Array.from(n.getRanges()):[],isBackward:n.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,n,i){const a=this.editor.model,l=a.document,h=[],p=e.map(b=>b.getTransformedByOperations(i)),g=p.flat();for(const b of p){const v=b.filter(y=>y.root!=l.graveyard).filter(y=>!qG(y,g));v.length&&(HG(v),h.push(v[0]))}h.length&&a.change(b=>{b.setSelection(h,{backward:n})})}_undo(e,n){const i=this.editor.model,a=i.document;this._createdBatches.add(n);const l=e.operations.slice().filter(h=>h.isDocumentOperation);l.reverse();for(const h of l){const p=h.baseVersion+1,g=Array.from(a.history.getOperations(p)),v=sU([h.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let y of v){const I=y.affectedSelectable;I&&!i.canEditAt(I)&&(y=new Ut(y.baseVersion)),n.addOperation(y),i.applyOperation(y),a.history.setOperationAsUndone(h,y)}}}}function HG(s){s.sort((e,n)=>e.start.isBefore(n.start)?-1:1);for(let e=1;e<s.length;e++){const i=s[e-1].getJoined(s[e],!0);i&&(e--,s.splice(e,2,i))}}function qG(s,e){return e.some(n=>n!==s&&n.containsRange(s,!0))}class WG extends A5{execute(e=null){const n=e?this._stack.findIndex(l=>l.batch==e):this._stack.length-1,i=this._stack.splice(n,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(i.batch,a);const l=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,l)}),this.fire("revert",i.batch,a),this.refresh()}}class GG extends A5{execute(){const e=this._stack.pop(),n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,()=>{const a=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(a);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,n)}),this.refresh()}}class KG extends re{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,n=e.t;this._undoCommand=new WG(e),this._redoCommand=new GG(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,a)=>{const l=a[0];if(!l.isDocumentOperation)return;const h=l.batch,p=this._redoCommand.createdBatches.has(h),g=this._undoCommand.createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(p?this._undoCommand.addBatch(h):g||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,a,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Undo"),keystroke:"CTRL+Z"},{label:n("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class QG extends re{static get pluginName(){return"UndoUI"}init(){const e=this.editor,n=e.locale,i=e.t,a=n.uiLanguageDirection=="ltr"?Re.undo:Re.redo,l=n.uiLanguageDirection=="ltr"?Re.redo:Re.undo;this._addButton("undo",i("Undo"),"CTRL+Z",a),this._addButton("redo",i("Redo"),"CTRL+Y",l)}_addButton(e,n,i,a){const l=this.editor;l.ui.componentFactory.add(e,h=>{const p=l.commands.get(e),g=new Je(h);return g.set({label:n,icon:a,keystroke:i,tooltip:!0}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{l.execute(e),l.editing.view.focus()}),g})}}class C5 extends re{static get requires(){return[KG,QG]}static get pluginName(){return"Undo"}}class JG extends re{static get requires(){return[m$,VG,Ep,$G,oW,Nq,C5]}static get pluginName(){return"Essentials"}}class pv extends He{constructor(e,n){super(e),this.attributeKey=n}refresh(){const e=this.editor.model,n=e.document;this.value=n.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(n.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,a=n.document.selection,l=e.value,h=e.batch,p=g=>{if(a.isCollapsed)l?g.setSelectionAttribute(this.attributeKey,l):g.removeSelectionAttribute(this.attributeKey);else{const b=n.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const v of b)l?g.setAttribute(this.attributeKey,l,v):g.removeAttribute(this.attributeKey,v)}};h?n.enqueueChange(h,g=>{p(g)}):n.change(g=>{p(g)})}}const br="fontSize",wr="fontFamily",Vo="fontColor";function y5(s,e){const n={model:{key:s,values:[]},view:{},upcastAlso:{}};for(const i of e)n.model.values.push(i.model),n.view[i.model]=i.view,i.upcastAlso&&(n.upcastAlso[i.model]=i.upcastAlso);return n}function YG(s){return e=>eK(e.getStyle(s))}function ZG(s){return(e,{writer:n})=>n.createAttributeElement("span",{style:`${s}:${e}`},{priority:7})}function XG({dropdownView:s,colors:e,columns:n,removeButtonLabel:i,colorPickerLabel:a,documentColorsLabel:l,documentColorsCount:h,colorPickerViewConfig:p}){const g=s.locale,b=new CH(g,{colors:e,columns:n,removeButtonLabel:i,colorPickerLabel:a,documentColorsLabel:l,documentColorsCount:h,colorPickerViewConfig:p});return s.colorSelectorView=b,s.panelView.children.add(b),b}function eK(s){return s.replace(/\s/g,"")}class tK extends pv{constructor(e){super(e,wr)}}function E5(s){return s.map(nK).filter(e=>e!==void 0)}function nK(s){if(typeof s=="object")return s;if(s==="default")return{title:"Default",model:void 0};if(typeof s=="string")return rK(s)}function rK(s){const e=s.replace(/"|'/g,"").split(","),n=e[0],i=e.map(oK).join(", ");return{title:n,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}function oK(s){return s=s.trim(),s.indexOf(" ")>0&&(s=`'${s}'`),s}class iK extends re{static get pluginName(){return"FontFamilyEditing"}constructor(e){super(e),e.config.define(wr,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:wr}),e.model.schema.setAttributeProperties(wr,{isFormatting:!0,copyOnEnter:!0});const n=E5(e.config.get("fontFamily.options")).filter(a=>a.model),i=y5(wr,n);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(i),e.commands.add(wr,new tK(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:wr,view:(n,{writer:i})=>i.createAttributeElement("span",{style:"font-family:"+n},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:wr,value:n=>n.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:wr,value:n=>n.getAttribute("face")}})}}const sK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class aK extends re{static get pluginName(){return"FontFamilyUI"}init(){const e=this.editor,n=e.t,i=this._getLocalizedOptions(),a=e.commands.get(wr),l=n("Font Family");e.ui.componentFactory.add(wr,h=>{const p=Mo(h);return hp(p,()=>cK(i,a),{role:"menu",ariaLabel:l}),p.buttonView.set({label:l,icon:sK,tooltip:!0}),p.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),p.bind("isEnabled").to(a),this.listenTo(p,"execute",g=>{e.execute(g.source.commandName,{value:g.source.commandParam}),e.editing.view.focus()}),p})}_getLocalizedOptions(){const e=this.editor,n=e.t;return E5(e.config.get(wr).options).map(a=>(a.title==="Default"&&(a.title=n("Default")),a))}}function cK(s,e){const n=new Nr;for(const i of s){const a={type:"button",model:new kp({commandName:wr,commandParam:i.model,label:i.title,role:"menuitemradio",withText:!0})};a.model.bind("isOn").to(e,"value",l=>l===i.model?!0:!l||!i.model?!1:l.split(",")[0].replace(/'/g,"").toLowerCase()===i.model.toLowerCase()),i.view&&typeof i.view!="string"&&i.view.styles&&a.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),n.add(a)}return n}class lK extends re{static get requires(){return[iK,aK]}static get pluginName(){return"FontFamily"}}class uK extends pv{constructor(e){super(e,br)}}function gv(s){return s.map(e=>dK(e)).filter(e=>e!==void 0)}const x5={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function dK(s){if(typeof s=="number"&&(s=String(s)),typeof s=="object"&&pK(s))return mv(s);const e=fK(s);if(e)return mv(e);if(s==="default")return{model:void 0,title:"Default"};if(!gK(s))return hK(s)}function hK(s){return typeof s=="string"&&(s={title:s,model:`${parseFloat(s)}px`}),s.view={name:"span",styles:{"font-size":s.model}},mv(s)}function mv(s){return s.view&&typeof s.view!="string"&&!s.view.priority&&(s.view.priority=7),s}function fK(s){return typeof s=="string"?x5[s]:x5[s.model]}function pK(s){return s.title&&s.model&&s.view}function gK(s){let e;if(typeof s=="object")if(s.model)e=parseFloat(s.model);else throw new N("font-size-invalid-definition",null,s);else e=parseFloat(s);return isNaN(e)}const T5=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class mK extends re{static get pluginName(){return"FontSizeEditing"}constructor(e){super(e),e.config.define(br,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:br}),e.model.schema.setAttributeProperties(br,{isFormatting:!0,copyOnEnter:!0});const n=e.config.get("fontSize.supportAllValues"),i=gv(this.editor.config.get("fontSize.options")).filter(l=>l.model),a=y5(br,i);n?(this._prepareAnyValueConverters(a),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(a),e.commands.add(br,new uK(e))}_prepareAnyValueConverters(e){const n=this.editor,i=e.model.values.filter(a=>!GU(String(a))&&!QU(String(a)));if(i.length)throw new N("font-size-invalid-use-of-named-presets",null,{presets:i});n.conversion.for("downcast").attributeToElement({model:br,view:(a,{writer:l})=>{if(a)return l.createAttributeElement("span",{style:"font-size:"+a},{priority:7})}}),n.conversion.for("upcast").elementToAttribute({model:{key:br,value:a=>a.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:br,value:n=>{const i=n.getAttribute("size"),a=i[0]==="-"||i[0]==="+";let l=parseInt(i,10);a&&(l=3+l);const h=T5.length-1,p=Math.min(Math.max(l,0),h);return T5[p]}}})}}var S5=o(7724),kv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};kv.insert="head",kv.singleton=!0,ue()(S5.A,kv),S5.A.locals;const kK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class bK extends re{static get pluginName(){return"FontSizeUI"}init(){const e=this.editor,n=e.t,i=this._getLocalizedOptions(),a=e.commands.get(br),l=n("Font Size");e.ui.componentFactory.add(br,h=>{const p=Mo(h);return hp(p,()=>wK(i,a),{role:"menu",ariaLabel:l}),p.buttonView.set({label:l,icon:kK,tooltip:!0}),p.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),p.bind("isEnabled").to(a),this.listenTo(p,"execute",g=>{e.execute(g.source.commandName,{value:g.source.commandParam}),e.editing.view.focus()}),p})}_getLocalizedOptions(){const e=this.editor,n=e.t,i={Default:n("Default"),Tiny:n("Tiny"),Small:n("Small"),Big:n("Big"),Huge:n("Huge")};return gv(e.config.get(br).options).map(l=>{const h=i[l.title];return h&&h!=l.title&&(l=Object.assign({},l,{title:h})),l})}}function wK(s,e){const n=new Nr;for(const i of s){const a={type:"button",model:new kp({commandName:br,commandParam:i.model,label:i.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};i.view&&typeof i.view!="string"&&(i.view.styles&&a.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view.classes&&a.model.set("class",`${a.model.class} ${i.view.classes}`)),a.model.bind("isOn").to(e,"value",l=>l===i.model),n.add(a)}return n}class _K extends re{static get requires(){return[mK,bK]}static get pluginName(){return"FontSize"}normalizeSizeOptions(e){return gv(e)}}class vK extends pv{constructor(e){super(e,Vo)}}class AK extends re{static get pluginName(){return"FontColorEditing"}constructor(e){super(e),e.config.define(Vo,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Vo,value:YG("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Vo,value:n=>n.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:Vo,view:ZG("color")}),e.commands.add(Vo,new vK(e)),e.model.schema.extend("$text",{allowAttributes:Vo}),e.model.schema.setAttributeProperties(Vo,{isFormatting:!0,copyOnEnter:!0})}}class CK extends re{constructor(e,{commandName:n,componentName:i,icon:a,dropdownLabel:l}){super(e),this.commandName=n,this.componentName=i,this.icon=a,this.dropdownLabel=l,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,n=e.locale,i=n.t,a=e.commands.get(this.commandName),l=e.config.get(this.componentName),h=_$(l.colors),p=w$(n,h),g=l.documentColors,b=l.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,v=>{const y=Mo(v);let I=!1;const V=XG({dropdownView:y,colors:p.map(F=>({label:F.label,color:F.model,options:{hasBorder:F.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:g!==0?i("Document colors"):"",documentColorsCount:g===void 0?this.columns:g,colorPickerViewConfig:b?l.colorPicker||{}:!1});return V.bind("selectedColor").to(a,"value"),y.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),y.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),y.bind("isEnabled").to(a),V.on("execute",(F,H)=>{y.isOpen&&e.execute(this.commandName,{value:H.value,batch:this._undoStepBatch}),H.source!=="colorPicker"&&e.editing.view.focus(),H.source==="colorPickerSaveButton"&&(y.isOpen=!1)}),V.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),V.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(y.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),y.on("change:isOpen",(F,H,W)=>{I||(I=!0,y.colorSelectorView.appendUI()),W&&(g!==0&&V.updateDocumentColors(e.model,this.componentName),V.updateSelectedColors(),V.showColorGridsFragment())}),w_(y,()=>y.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(F=>F.isOn)),y})}}const yK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class EK extends CK{constructor(e){const n=e.locale.t;super(e,{commandName:Vo,componentName:Vo,icon:yK,dropdownLabel:n("Font Color")})}static get pluginName(){return"FontColorUI"}}class xK extends re{static get requires(){return[AK,EK]}static get pluginName(){return"FontColor"}}class TK extends He{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,n=e.document,i=tr(n.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&D5(i,e.schema)}execute(e={}){const n=this.editor.model,i=n.document,a=e.selection||i.selection;n.canEditAt(a)&&n.change(l=>{const h=a.getSelectedBlocks();for(const p of h)!p.is("element","paragraph")&&D5(p,n.schema)&&l.rename(p,"paragraph")})}}function D5(s,e){return e.checkChild(s.parent,"paragraph")&&!e.isObject(s)}class SK extends He{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const n=this.editor.model,i=e.attributes;let a=e.position;n.canEditAt(a)&&n.change(l=>{if(a=this._findPositionToInsertParagraph(a,l),!a)return;const h=l.createElement("paragraph");i&&n.schema.setAllowedAttributes(h,i,l),n.insertContent(h,a),l.setSelection(h,"in")})}_findPositionToInsertParagraph(e,n){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const a=i.schema.findAllowedParent(e,"paragraph");if(!a)return null;const l=e.parent,h=i.schema.checkChild(l,"$text");return l.isEmpty||h&&e.isAtEnd?i.createPositionAfter(l):!l.isEmpty&&h&&e.isAtStart?i.createPositionBefore(l):n.split(e,a).position}}class Ip extends re{static get pluginName(){return"Paragraph"}init(){const e=this.editor,n=e.model;e.commands.add("paragraph",new TK(e)),e.commands.add("insertParagraph",new SK(e)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:a})=>!Ip.paragraphLikeElements.has(i.name)||i.isEmpty?null:a.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Ip.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);const I5=Ip;class DK extends He{constructor(e,n){super(e),this.modelElements=n}refresh(){const e=tr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(n=>P5(e,n,this.editor.model.schema))}execute(e){const n=this.editor.model,i=n.document,a=e.value;n.change(l=>{const h=Array.from(i.selection.getSelectedBlocks()).filter(p=>P5(p,a,n.schema));for(const p of h)p.is("element",a)||l.rename(p,a)})}}function P5(s,e,n){return n.checkChild(s.parent,e)&&!n.isObject(s)}const R5="paragraph";class IK extends re{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[I5]}init(){const e=this.editor,n=e.config.get("heading.options"),i=[];for(const a of n)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),i.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new DK(e,i))}afterInit(){const e=this.editor,n=e.commands.get("enter"),i=e.config.get("heading.options");n&&this.listenTo(n,"afterExecute",(a,l)=>{const h=e.model.document.selection.getFirstPosition().parent;i.some(g=>h.is("element",g.model))&&!h.is("element",R5)&&h.childCount===0&&l.writer.rename(h,R5)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:zn.low+1})}}function PK(s){const e=s.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return s.config.get("heading.options").map(i=>{const a=n[i.title];return a&&a!=i.title&&(i.title=a),i})}var B5=o(2863),bv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bv.insert="head",bv.singleton=!0,ue()(B5.A,bv),B5.A.locals;class RK extends re{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,n=e.t,i=PK(e),a=n("Choose heading"),l=n("Heading");e.ui.componentFactory.add("heading",h=>{const p={},g=new Nr,b=e.commands.get("heading"),v=e.commands.get("paragraph"),y=[b];for(const V of i){const F={type:"button",model:new kp({label:V.title,class:V.class,role:"menuitemradio",withText:!0})};V.model==="paragraph"?(F.model.bind("isOn").to(v,"value"),F.model.set("commandName","paragraph"),y.push(v)):(F.model.bind("isOn").to(b,"value",H=>H===V.model),F.model.set({commandName:"heading",commandValue:V.model})),g.add(F),p[V.model]=V.title}const I=Mo(h);return hp(I,g,{ariaLabel:l,role:"menu"}),I.buttonView.set({ariaLabel:l,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:l}),I.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),I.bind("isEnabled").toMany(y,"isEnabled",(...V)=>V.some(F=>F)),I.buttonView.bind("label").to(b,"value",v,"value",(V,F)=>{const H=V||F&&"paragraph";return typeof H=="boolean"||!p[H]?a:p[H]}),this.listenTo(I,"execute",V=>{const{commandName:F,commandValue:H}=V.source;e.execute(F,H?{value:H}:void 0),e.editing.view.focus()}),I})}}class BK extends re{static get requires(){return[IK,RK]}static get pluginName(){return"Heading"}}class OK extends He{refresh(){const e=this.editor.model,n=e.schema,i=e.document.selection;this.isEnabled=NK(i,n,e)}execute(){const e=this.editor.model;e.change(n=>{const i=n.createElement("horizontalLine");e.insertObject(i,null,null,{setSelection:"after"})})}}function NK(s,e,n){const i=MK(s,n);return e.checkChild(i,"horizontalLine")}function MK(s,e){const i=cG(s,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}var O5=o(7528),wv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wv.insert="head",wv.singleton=!0,ue()(O5.A,wv),O5.A.locals;class VK extends re{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,n=e.model.schema,i=e.t,a=e.conversion;n.register("horizontalLine",{inheritAllFrom:"$blockObject"}),a.for("dataDowncast").elementToElement({model:"horizontalLine",view:(l,{writer:h})=>h.createEmptyElement("hr")}),a.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(l,{writer:h})=>{const p=i("Horizontal line"),g=h.createContainerElement("div",null,h.createEmptyElement("hr"));return h.addClass("ck-horizontal-line",g),h.setCustomProperty("hr",!0,g),LK(g,h,p)}}),a.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new OK(e))}}function LK(s,e,n){return e.setCustomProperty("horizontalLine",!0,s),n5(s,e,{label:n})}class FK extends re{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor,n=e.t;e.ui.componentFactory.add("horizontalLine",i=>{const a=e.commands.get("horizontalLine"),l=new Je(i);return l.set({label:n("Horizontal line"),icon:Re.horizontalLine,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),l})}}class zK extends re{static get requires(){return[VK,FK,uv]}static get pluginName(){return"HorizontalLine"}}class jK extends re{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new QE(e)),e.commands.add("outdent",new QE(e))}}class UK extends re{static get pluginName(){return"IndentUI"}init(){const e=this.editor,n=e.locale,i=e.t,a=n.uiLanguageDirection=="ltr"?Re.indent:Re.outdent,l=n.uiLanguageDirection=="ltr"?Re.outdent:Re.indent;this._defineButton("indent",i("Increase indent"),a),this._defineButton("outdent",i("Decrease indent"),l)}_defineButton(e,n,i){const a=this.editor;a.ui.componentFactory.add(e,l=>{const h=a.commands.get(e),p=new Je(l);return p.set({label:n,icon:i,tooltip:!0}),p.bind("isEnabled").to(h,"isEnabled"),this.listenTo(p,"execute",()=>{a.execute(e),a.editing.view.focus()}),p})}}class $K extends re{static get pluginName(){return"Indent"}static get requires(){return[jK,UK]}}class HK{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(n=>this._definitions.add(n)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(n,i,a)=>{if(!a.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||a.schema.isInline(i.item)))return;const l=a.writer,h=l.document.selection;for(const p of this._definitions){const g=l.createAttributeElement("a",p.attributes,{priority:5});p.classes&&l.addClass(p.classes,g);for(const b in p.styles)l.setStyle(b,p.styles[b],g);l.setCustomProperty("link",!0,g),p.callback(i.attributeNewValue)?i.item.is("selection")?l.wrap(h.getFirstRange(),g):l.wrap(a.mapper.toViewRange(i.range),g):l.unwrap(a.mapper.toViewRange(i.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(n,i,{writer:a,mapper:l})=>{const h=l.toViewElement(i.item),p=Array.from(h.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const b=li(g.attributes);if(g.callback(i.attributeNewValue)){for(const[v,y]of b)v==="class"?a.addClass(y,p):a.setAttribute(v,y,p);g.classes&&a.addClass(g.classes,p);for(const v in g.styles)a.setStyle(v,g.styles[v],p)}else{for(const[v,y]of b)v==="class"?a.removeClass(y,p):a.removeAttribute(v,p);g.classes&&a.removeClass(g.classes,p);for(const v in g.styles)a.removeStyle(v,p)}}})}}}function qK(s,e,n){var i=s.length;return n=n===void 0?i:n,!e&&n>=i?s:ax(s,e,n)}const WK=qK;var GK="\\ud800-\\udfff",KK="\\u0300-\\u036f",QK="\\ufe20-\\ufe2f",JK="\\u20d0-\\u20ff",YK=KK+QK+JK,ZK="\\ufe0e\\ufe0f",XK="\\u200d",eQ=RegExp("["+XK+GK+YK+ZK+"]");function tQ(s){return eQ.test(s)}const N5=tQ;function nQ(s){return s.split("")}const rQ=nQ;var M5="\\ud800-\\udfff",oQ="\\u0300-\\u036f",iQ="\\ufe20-\\ufe2f",sQ="\\u20d0-\\u20ff",aQ=oQ+iQ+sQ,cQ="\\ufe0e\\ufe0f",lQ="["+M5+"]",_v="["+aQ+"]",vv="\\ud83c[\\udffb-\\udfff]",uQ="(?:"+_v+"|"+vv+")",V5="[^"+M5+"]",L5="(?:\\ud83c[\\udde6-\\uddff]){2}",F5="[\\ud800-\\udbff][\\udc00-\\udfff]",dQ="\\u200d",z5=uQ+"?",j5="["+cQ+"]?",hQ="(?:"+dQ+"(?:"+[V5,L5,F5].join("|")+")"+j5+z5+")*",fQ=j5+z5+hQ,pQ="(?:"+[V5+_v+"?",_v,L5,F5,lQ].join("|")+")",gQ=RegExp(vv+"(?="+vv+")|"+pQ+fQ,"g");function mQ(s){return s.match(gQ)||[]}const kQ=mQ;function bQ(s){return N5(s)?kQ(s):rQ(s)}const wQ=bQ;function _Q(s){return function(e){e=bw(e);var n=N5(e)?wQ(e):void 0,i=n?n[0]:e.charAt(0),a=n?WK(n,1).join(""):e.slice(1);return i[s]()+a}}var vQ=_Q("toUpperCase");const AQ=vQ,CQ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,yQ="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",EQ=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,xQ=/^((\w+:(\/{2,})?)|(\W))/i,TQ=["https?","ftps?","mailto"],Pp="Ctrl+K";function SQ(s){return s.is("attributeElement")&&!!s.getCustomProperty("link")}function U5(s,{writer:e}){const n=e.createAttributeElement("a",{href:s},{priority:5});return e.setCustomProperty("link",!0,n),n}function $5(s,e=TQ){const n=String(s),i=e.join("|"),a=new RegExp(`${yQ.replace("<protocols>",i)}`,"i");return DQ(n,a)?n:"#"}function DQ(s,e){return!!s.replace(CQ,"").match(e)}function IQ(s,e){const n={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return e.forEach(i=>("label"in i&&n[i.label]&&(i.label=n[i.label]),i)),e}function PQ(s){const e=[];if(s)for(const[n,i]of Object.entries(s)){const a=Object.assign({},i,{id:`link${AQ(n)}`});e.push(a)}return e}function Av(s,e){return s?e.checkAttribute(s.name,"linkHref"):!1}function RQ(s){return EQ.test(s)}function Cv(s,e){const n=RQ(s)?"mailto:":e,i=!!n&&!H5(s);return s&&i?n+s:s}function H5(s){return xQ.test(s)}function q5(s){window.open(s,"_blank","noopener")}class BQ extends He{constructor(){super(...arguments),this.manualDecorators=new Nr,this.automaticDecorators=new HK}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement()||tr(n.getSelectedBlocks());Av(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,n={}){const i=this.editor.model,a=i.document.selection,l=[],h=[];for(const p in n)n[p]?l.push(p):h.push(p);i.change(p=>{if(a.isCollapsed){const g=a.getFirstPosition();if(a.hasAttribute("linkHref")){const b=W5(a);let v=Cp(g,"linkHref",a.getAttribute("linkHref"),i);a.getAttribute("linkHref")===b&&(v=this._updateLinkContent(i,p,v,e)),p.setAttribute("linkHref",e,v),l.forEach(y=>{p.setAttribute(y,!0,v)}),h.forEach(y=>{p.removeAttribute(y,v)}),p.setSelection(p.createPositionAfter(v.end.nodeBefore))}else if(e!==""){const b=li(a.getAttributes());b.set("linkHref",e),l.forEach(y=>{b.set(y,!0)});const{end:v}=i.insertContent(p.createText(e,b),g);p.setSelection(v)}["linkHref",...l,...h].forEach(b=>{p.removeSelectionAttribute(b)})}else{const g=i.schema.getValidRanges(a.getRanges(),"linkHref"),b=[];for(const y of a.getSelectedBlocks())i.schema.checkAttribute(y,"linkHref")&&b.push(p.createRangeOn(y));const v=b.slice();for(const y of g)this._isRangeToUpdate(y,b)&&v.push(y);for(const y of v){let I=y;if(v.length===1){const V=W5(a);a.getAttribute("linkHref")===V&&(I=this._updateLinkContent(i,p,y,e),p.setSelection(p.createSelection(I)))}p.setAttribute("linkHref",e,I),l.forEach(V=>{p.setAttribute(V,!0,I)}),h.forEach(V=>{p.removeAttribute(V,I)})}}})}_getDecoratorStateFromModel(e){const n=this.editor.model,i=n.document.selection,a=i.getSelectedElement();return Av(a,n.schema)?a.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,n){for(const i of n)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,n,i,a){const l=n.createText(a,{linkHref:a});return e.insertContent(l,i)}}function W5(s){if(s.isCollapsed){const e=s.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(s.getFirstRange().getItems());if(e.length>1)return null;const n=e[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class OQ extends He{refresh(){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement();Av(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref")}execute(){const e=this.editor,n=this.editor.model,i=n.document.selection,a=e.commands.get("link");n.change(l=>{const h=i.isCollapsed?[Cp(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),n)]:n.schema.getValidRanges(i.getRanges(),"linkHref");for(const p of h)if(l.removeAttribute("linkHref",p),a)for(const g of a.manualDecorators)l.removeAttribute(g.id,p)})}}class NQ extends tt(){constructor({id:e,label:n,attributes:i,classes:a,styles:l,defaultValue:h}){super(),this.id=e,this.set("value",void 0),this.defaultValue=h,this.label=n,this.attributes=i,this.classes=a,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var G5=o(7865),yv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yv.insert="head",yv.singleton=!0,ue()(G5.A,yv),G5.A.locals;const MQ="ck-link_selected",K5="automatic",VQ="manual",LQ=/^(https?:)?\/\//;class Q5 extends re{static get pluginName(){return"LinkEditing"}static get requires(){return[OS,TS,mi]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,n=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:U5}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,h)=>U5($5(l,n),h)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),e.commands.add("link",new BQ(e)),e.commands.add("unlink",new OQ(e));const i=IQ(e.t,PQ(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(l=>l.mode===K5)),this._enableManualDecorators(i.filter(l=>l.mode===VQ)),e.plugins.get(OS).registerAttribute("linkHref"),$q(e,"linkHref","a",MQ),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const n=this.editor,a=n.commands.get("link").automaticDecorators;n.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:K5,callback:l=>!!l&&LQ.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&n.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const n=this.editor,a=n.commands.get("link").manualDecorators;e.forEach(l=>{n.model.schema.extend("$text",{allowAttributes:l.id});const h=new NQ(l);a.add(h),n.conversion.for("downcast").attributeToElement({model:h.id,view:(p,{writer:g,schema:b},{item:v})=>{if((v.is("selection")||b.isInline(v))&&p){const y=g.createAttributeElement("a",h.attributes,{priority:5});h.classes&&g.addClass(h.classes,y);for(const I in h.styles)g.setStyle(I,h.styles[I],y);return g.setCustomProperty("link",!0,y),y}}}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",...h._createPattern()},model:{key:h.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(a,l)=>{if(!(_.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let p=l.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const g=p.getAttribute("href");g&&(a.stop(),l.preventDefault(),q5(g))},{context:"$capture"}),this.listenTo(i,"keydown",(a,l)=>{const p=e.commands.get("link").value;p&&l.keyCode===ze.enter&&l.altKey&&(a.stop(),q5(p))})}_enableSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection;this.listenTo(i,"change:attribute",(a,{attributeKeys:l})=>{!l.includes("linkHref")||i.hasAttribute("linkHref")||n.change(h=>{FQ(h,zQ(n.schema))})})}_enableClipboardIntegration(){const e=this.editor,n=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,l)=>{n.change(h=>{const p=h.createRangeIn(l.content);for(const g of p.getItems())if(g.hasAttribute("linkHref")){const b=Cv(g.getAttribute("linkHref"),i);h.setAttribute("linkHref",b,g)}})})}}function FQ(s,e){s.removeSelectionAttribute("linkHref");for(const n of e)s.removeSelectionAttribute(n)}function zQ(s){return s.getDefinition("$text").allowAttributes.filter(n=>n.startsWith("link"))}var J5=o(7072),Ev={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ev.insert="head",Ev.singleton=!0,ue()(J5.A,Ev),J5.A.locals;var Y5=o(2375),xv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xv.insert="head",xv.singleton=!0,ue()(Y5.A,xv),Y5.A.locals;class jQ extends we{constructor(e,n){super(e),this.focusTracker=new Sn,this.keystrokes=new fr,this._focusables=new Oo;const i=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Re.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Re.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(n),this.children=this._createFormChildren(n.manualDecorators),this._focusCycler=new No({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];n.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,n)=>(e[n.name]=n.isOn,e),{})}render(){super.render(),f({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,n=new a_(this.locale,__);return n.label=e("Link URL"),n}_createButton(e,n,i,a){const l=new Je(this.locale);return l.set({label:e,icon:n,tooltip:!0}),l.extendTemplate({attributes:{class:i}}),a&&l.delegate("execute").to(this,a),l}_createManualDecoratorSwitches(e){const n=this.createCollection();for(const i of e.manualDecorators){const a=new lp(this.locale);a.set({name:i.id,label:i.label,withText:!0}),a.bind("isOn").toMany([i,e],"value",(l,h)=>h===void 0&&l===void 0?!!i.defaultValue:!!l),a.on("execute",()=>{i.set("value",!a.isOn)}),n.add(a)}return n}_createFormChildren(e){const n=this.createCollection();if(n.add(this.urlInputView),e.length){const i=new we;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),n.add(i)}return n.add(this.saveButtonView),n.add(this.cancelButtonView),n}}var Z5=o(6144),Tv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tv.insert="head",Tv.singleton=!0,ue()(Z5.A,Tv),Z5.A.locals;const UQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class $Q extends we{constructor(e,n={}){super(e),this.focusTracker=new Sn,this.keystrokes=new fr,this._focusables=new Oo;const i=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),UQ,"unlink"),this.editButtonView=this._createButton(i("Edit link"),Re.pencil,"edit"),this.set("href",void 0),this._linkConfig=n,this._focusCycler=new No({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,n,i){const a=new Je(this.locale);return a.set({label:e,icon:n,tooltip:!0}),a.delegate("execute").to(this,i),a}_createPreviewButton(){const e=new Je(this.locale),n=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:n.to("href",a=>a&&$5(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||i("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const HQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Lo="link-ui";class qQ extends re{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[$_]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,n=this.editor.t;e.editing.view.addObserver(qU),this._balloon=e.plugins.get($_),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Lo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Lo,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Create link"),keystroke:Pp},{label:n("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,n=new $Q(e.locale,e.config.get("link")),i=e.commands.get("link"),a=e.commands.get("unlink");return n.bind("href").to(i,"value"),n.editButtonView.bind("isEnabled").to(i),n.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(n,"edit",()=>{this._addFormView()}),this.listenTo(n,"unlink",()=>{e.execute("unlink"),this._hideUI()}),n.keystrokes.set("Esc",(l,h)=>{this._hideUI(),h()}),n.keystrokes.set(Pp,(l,h)=>{this._addFormView(),h()}),n}_createFormView(){const e=this.editor,n=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),a=e.config.get("link.allowCreatingEmptyLinks"),l=new(d(jQ))(e.locale,n);return l.urlInputView.fieldView.bind("value").to(n,"value"),l.urlInputView.bind("isEnabled").to(n,"isEnabled"),l.saveButtonView.bind("isEnabled").to(n,"isEnabled",l.urlInputView,"isEmpty",(h,p)=>h&&(a||!p)),this.listenTo(l,"submit",()=>{const{value:h}=l.urlInputView.fieldView.element,p=Cv(h,i);e.execute("link",p,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(h,p)=>{this._closeFormView(),p()}),l}_createToolbarLinkButton(){const e=this.editor,n=e.commands.get("link"),i=e.t;e.ui.componentFactory.add("link",a=>{const l=new Je(a);return l.isEnabled=!0,l.label=i("Link"),l.icon=HQ,l.keystroke=Pp,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(n,"isEnabled"),l.bind("isOn").to(n,"value",h=>!!h),this.listenTo(l,"execute",()=>this._showUI(!0)),l})}_enableBalloonActivators(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Pp,(i,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,n)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),n())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,n)=>{this._isUIVisible&&(this._hideUI(),n())}),u({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,n=e.editing.view.document;let i=this._getSelectedLinkElement(),a=h();const l=()=>{const p=this._getSelectedLinkElement(),g=h();i&&!p||!i&&g!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=p,a=g};function h(){return n.selection.focus.getAncestors().reverse().find(p=>p.is("element"))}this.listenTo(e.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,n=this.editor.model,i=e.document;let a;if(n.markers.has(Lo)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(Lo)),h=e.createRange(e.createPositionBefore(l[0]),e.createPositionAfter(l[l.length-1]));a=e.domConverter.viewRangeToDom(h)}else a=()=>{const l=this._getSelectedLinkElement();return l?e.domConverter.mapViewToDom(l):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,n=e.document.selection,i=n.getSelectedElement();if(n.isCollapsed||i&&nn(i))return Sv(n.getFirstPosition());{const a=n.getFirstRange().getTrimmed(),l=Sv(a.start),h=Sv(a.end);return!l||l!=h?null:e.createRangeIn(l).getTrimmed().isEqual(a)?l:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(n=>{const i=e.document.selection.getFirstRange();if(e.markers.has(Lo))n.updateMarker(Lo,{range:i});else if(i.start.isAtEnd){const a=i.start.getLastMatchingPosition(({item:l})=>!e.schema.isContent(l),{boundaries:i});n.addMarker(Lo,{usingOperation:!1,affectsData:!1,range:n.createRange(a,i.end)})}else n.addMarker(Lo,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Lo)&&e.change(n=>{n.removeMarker(Lo)})}}function Sv(s){return s.getAncestors().find(e=>SQ(e))||null}const WQ=4,X5=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),GQ=2;class KQ extends re{static get requires(){return[ia,Q5]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,n){return n.textNode&&n.textNode.hasAttribute("linkHref")?Cp(n,"linkHref",n.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,n){const a=this.editor.model,l=a.document.selection,h=l.getFirstPosition(),p=l.getLastPosition();let g=n.getJoined(this._expandLinkRange(a,h)||n);g&&(g=g.getJoined(this._expandLinkRange(a,p)||n)),g&&(g.start.isBefore(h)||g.end.isAfter(p))&&e.setSelection(g)}_enablePasteLinking(){const e=this.editor,n=e.model,i=n.document.selection,a=e.plugins.get("ClipboardPipeline"),l=e.commands.get("link");a.on("inputTransformation",(h,p)=>{if(!this.isEnabled||!l.isEnabled||i.isCollapsed||p.method!=="paste"||i.rangeCount>1)return;const g=i.getFirstRange(),b=p.dataTransfer.getData("text/plain");if(!b)return;const v=b.match(X5);v&&v[2]===b&&(n.change(y=>{this._selectEntireLinks(y,g),l.execute(b)}),h.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,n=new BS(e.model,i=>{if(!QQ(i))return;const a=eD(i.substr(0,i.length-1));if(a)return{url:a}});n.on("matched:data",(i,a)=>{const{batch:l,range:h,url:p}=a;if(!l.isTyping)return;const g=h.end.getShiftedBy(-1),b=g.getShiftedBy(-p.length),v=e.model.createRange(b,g);this._applyAutoLink(p,v)}),n.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,n=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const a=n.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const l=n.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const e=this.editor,n=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const a=n.document.selection.getFirstPosition(),l=n.createRange(n.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(e){const n=this.editor.model,{text:i,range:a}=RS(e,n),l=eD(i);if(l){const h=n.createRange(a.end.getShiftedBy(-l.length),a.end);this._applyAutoLink(l,h)}}_applyAutoLink(e,n){const i=this.editor.model,a=this.editor.config.get("link.defaultProtocol"),l=Cv(e,a);!this.isEnabled||!JQ(n,i)||!H5(l)||YQ(n)||this._persistAutoLink(l,n)}_persistAutoLink(e,n){const i=this.editor.model,a=this.editor.plugins.get("Delete");i.enqueueChange(l=>{l.setAttribute("linkHref",e,n),i.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function QQ(s){return s.length>WQ&&s[s.length-1]===" "&&s[s.length-2]!==" "}function eD(s){const e=X5.exec(s);return e?e[GQ]:null}function JQ(s,e){return e.schema.checkAttributeInSelection(e.createSelection(s),"linkHref")}function YQ(s){const e=s.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class ZQ extends re{static get requires(){return[Q5,qQ,KQ]}static get pluginName(){return"Link"}}var tD=o(1634),Dv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dv.insert="head",Dv.singleton=!0,ue()(tD.A,Dv),tD.A.locals;class jr{constructor(e,n){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=n.direction=="forward",this._includeSelf=!!n.includeSelf,this._sameAttributes=vt(n.sameAttributes||[]),this._sameIndent=!!n.sameIndent,this._lowerIndent=!!n.lowerIndent,this._higherIndent=!!n.higherIndent}static first(e,n){const a=new this(e,n)[Symbol.iterator]();return tr(a)}*[Symbol.iterator](){const e=[];for(const{node:n}of Hu(this._getStartNode(),this._isForward?"forward":"backward")){const i=n.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(n);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>n.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield n}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Hu(s,e="forward"){const n=e=="forward",i=[];let a=null;for(;rn(s);){let l=null;if(a){const h=s.getAttribute("listIndent"),p=a.getAttribute("listIndent");h>p?i[p]=a:h<p?(l=i[h],i.length=h):l=a}yield{node:s,previous:a,previousNodeInList:l},a=s,s=n?s.nextSibling:s.previousSibling}}class XQ{constructor(e){this._listHead=e}[Symbol.iterator](){return Hu(this._listHead,"forward")}}class Rc{static next(){return Gt()}}function rn(s){return!!s&&s.is("element")&&s.hasAttribute("listItemId")}function Iv(s,e={}){return[...Xi(s,{...e,direction:"backward"}),...Xi(s,{...e,direction:"forward"})]}function Xi(s,e={}){const n=e.direction=="forward",i=Array.from(new jr(s,{...e,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?i:i.reverse()}function eJ(s){return Array.from(new jr(s,{direction:"forward",higherIndent:!0}))}function nD(s){const e=new jr(s,{sameIndent:!0,sameAttributes:"listType"}),n=new jr(s,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(e).reverse(),...n]}function aa(s){return!jr.first(s,{sameIndent:!0,sameAttributes:"listItemId"})}function rD(s){return!jr.first(s,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function qu(s,e={}){s=vt(s);const n=e.withNested!==!1,i=new Set;for(const a of s)for(const l of Iv(a,{higherIndent:n}))i.add(l);return ca(i)}function tJ(s){s=vt(s);const e=new Set;for(const n of s)for(const i of nD(n))e.add(i);return ca(e)}function Pv(s,e){const n=Xi(s,{direction:"forward"}),i=Rc.next();for(const a of n)e.setAttribute("listItemId",i,a);return n}function Rv(s,e,n){const i={};for(const[l,h]of e.getAttributes())l.startsWith("list")&&(i[l]=h);const a=Xi(s,{direction:"forward"});for(const l of a)n.setAttributes(i,l);return a}function Bv(s,e,{expand:n,indentBy:i=1}={}){s=vt(s);const a=n?qu(s):s;for(const l of a){const h=l.getAttribute("listIndent")+i;h<0?Rp(l,e):e.setAttribute("listIndent",h,l)}return a}function nJ(s,e){s=vt(s);const n=qu(s),i=new Set,a=Math.min(...n.map(h=>h.getAttribute("listIndent"))),l=new Map;for(const h of n)l.set(h,jr.first(h,{lowerIndent:!0}));for(const h of n){if(i.has(h))continue;i.add(h);const p=h.getAttribute("listIndent")-1;if(p<0){Rp(h,e);continue}if(h.getAttribute("listIndent")==a){const g=oJ(h,l.get(h),e);for(const b of g)i.add(b);if(g.length)continue}e.setAttribute("listIndent",p,h)}return ca(i)}function Rp(s,e){s=vt(s);for(const n of s)n.is("element","listItem")&&e.rename(n,"paragraph");for(const n of s)for(const i of n.getAttributeKeys())i.startsWith("list")&&e.removeAttribute(i,n);return s}function Wu(s){if(!s.length)return!1;const e=s[0].getAttribute("listItemId");return e?!s.some(n=>n.getAttribute("listItemId")!=e):!1}function rJ(s,e){const n=[];let i=Number.POSITIVE_INFINITY;for(const{node:a}of Hu(s.nextSibling,"forward")){const l=a.getAttribute("listIndent");if(l==0)break;l<i&&(i=l);const h=l-i;e.setAttribute("listIndent",h,a),n.push(a)}return n}function ca(s){return Array.from(s).filter(e=>e.root.rootName!=="$graveyard").sort((e,n)=>e.index-n.index)}function Gu(s){const e=s.document.selection.getSelectedElement();return e&&s.schema.isObject(e)&&s.schema.isBlock(e)?e:null}function Ov(s,e){return e.checkChild(s.parent,"listItem")&&e.checkChild(s,"$text")&&!e.isObject(s)}function oJ(s,e,n){return Xi(e,{direction:"forward"}).pop().index>s.index?Rv(s,e,n):[]}class oD extends He{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,n=iD(e.document.selection);e.change(i=>{const a=[];Wu(n)&&!aa(n[0])?(this._direction=="forward"&&a.push(...Bv(n,i)),a.push(...Pv(n[0],i))):this._direction=="forward"?a.push(...Bv(n,i,{expand:!0})):a.push(...nJ(n,i));for(const l of a){if(!l.hasAttribute("listType"))continue;const h=jr.first(l,{sameIndent:!0});h&&i.setAttribute("listType",h.getAttribute("listType"),l)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",ca(new Set(e)))}_checkEnabled(){let e=iD(this.editor.model.document.selection),n=e[0];if(!n)return!1;if(this._direction=="backward"||Wu(e)&&!aa(e[0]))return!0;e=qu(e),n=e[0];const i=jr.first(n,{sameIndent:!0});return i?i.getAttribute("listType")==n.getAttribute("listType"):!1}}function iD(s){const e=Array.from(s.getSelectedBlocks()),n=e.findIndex(i=>!rn(i));return n!=-1&&(e.length=n),e}class sD extends He{constructor(e,n){super(e),this.type=n}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,i=n.document,a=Gu(n),l=Array.from(i.selection.getSelectedBlocks()).filter(p=>n.schema.checkAttribute(p,"listType")||Ov(p,n.schema)),h=e.forceValue!==void 0?!e.forceValue:this.value;n.change(p=>{if(h){const g=l[l.length-1],b=Xi(g,{direction:"forward"}),v=[];b.length>1&&v.push(...Pv(b[1],p)),v.push(...Rp(l,p)),v.push(...rJ(g,p)),this._fireAfterExecute(v)}else if((a||i.selection.isCollapsed)&&rn(l[0])){const g=nD(a||l[0]);for(const b of g)p.setAttribute("listType",this.type,b);this._fireAfterExecute(g)}else{const g=[];for(const b of l)if(!b.hasAttribute("listType"))!b.is("element","listItem")&&Ov(b,n.schema)&&p.rename(b,"listItem"),p.setAttributes({listIndent:0,listItemId:Rc.next(),listType:this.type},b),g.push(b);else for(const v of qu(b,{withNested:!1}))v.getAttribute("listType")!=this.type&&(p.setAttribute("listType",this.type,v),g.push(v));this._fireAfterExecute(g)}})}_fireAfterExecute(e){this.fire("afterExecute",ca(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,n=Array.from(e.getSelectedBlocks());if(!n.length)return!1;for(const i of n)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,n=e.schema,i=e.document.selection,a=Array.from(i.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const l of a)if(n.checkAttribute(l,"listType")||Ov(l,n))return!0;return!1}}class aD extends He{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const n=this.editor.model,i=n.document.selection,a=[];n.change(l=>{const{firstElement:h,lastElement:p}=this._getMergeSubjectElements(i,e),g=h.getAttribute("listIndent")||0,b=p.getAttribute("listIndent"),v=p.getAttribute("listItemId");if(g!=b){const y=eJ(p);a.push(...Bv([p,...y],l,{indentBy:g-b,expand:g<b}))}if(e){let y=i;i.isCollapsed&&(y=l.createSelection(l.createRange(l.createPositionAt(h,"end"),l.createPositionAt(p,0)))),n.deleteContent(y,{doNotResetEntireContent:i.isCollapsed});const I=y.getLastPosition().parent,V=I.nextSibling;a.push(I),V&&V!==p&&V.getAttribute("listItemId")==v&&a.push(...Rv(V,I,l))}else a.push(...Rv(p,h,l));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",ca(new Set(e)))}_checkEnabled(){const e=this.editor.model,n=e.document.selection,i=Gu(e);if(n.isCollapsed||i){const a=i||n.getFirstPosition().parent;if(!rn(a))return!1;const l=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!l||Wu([a,l]))return!1}else{const a=n.getLastPosition(),l=n.getFirstPosition();if(a.parent===l.parent||!rn(a.parent))return!1}return!0}_getMergeSubjectElements(e,n){const i=this.editor.model,a=Gu(i);let l,h;if(e.isCollapsed||a){const p=a||e.getFirstPosition().parent,g=aa(p);this._direction=="backward"?(h=p,g&&!n?l=jr.first(p,{sameIndent:!0,lowerIndent:!0}):l=p.previousSibling):(l=p,h=p.nextSibling)}else l=e.getFirstPosition().parent,h=e.getLastPosition().parent;return{firstElement:l,lastElement:h}}}class cD extends He{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const i=Pv(this._getStartBlock(),n);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",ca(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,n=this._getStartBlock();return e.isCollapsed&&rn(n)&&!aa(n)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class iJ extends re{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return tJ(e)}isFirstBlockOfListItem(e){return aa(e)}isListItemBlock(e){return rn(e)}expandListBlocksToCompleteItems(e,n={}){return qu(e,n)}}function lD(s){return s.is("element","ol")||s.is("element","ul")}function Bp(s){return s.is("element","li")}function sJ(s){let e=0,n=s.parent;for(;n;){if(Bp(n))e++;else{const i=n.previousSibling;i&&Bp(i)&&e++}n=n.parent}return e}function aJ(s,e,n,i=dD(n,e)){return s.createAttributeElement(uD(n),null,{priority:2*e/100-100,id:i})}function cJ(s,e,n){return s.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:n})}function uD(s){return s=="numbered"?"ol":"ul"}function dD(s,e){return`list-${s}-${e}`}function uo(s,e){const n=s.nodeBefore;if(rn(n)){let i=n;for(const{node:a}of Hu(i,"backward"))if(i=a,e.has(i))return;e.set(n,i)}else{const i=s.nodeAfter;rn(i)&&e.set(i,i)}}function lJ(s,e){let n=0,i=-1,a=null,l=!1;for(const{node:h}of s){const p=h.getAttribute("listIndent");if(p>n){let g;a===null?(a=p-n,g=n):(a>p&&(a=p),g=p-a),g>i+1&&(g=i+1),e.setAttribute("listIndent",g,h),l=!0,i=g}else a=null,n=p+1,i=p}return l}function uJ(s,e,n){const i=new Set;let a=!1;for(const{node:l}of s){if(i.has(l))continue;let h=l.getAttribute("listType"),p=l.getAttribute("listItemId");if(e.has(p)&&(p=Rc.next()),e.add(p),l.is("element","listItem")){l.getAttribute("listItemId")!=p&&(n.setAttribute("listItemId",p,l),a=!0);continue}for(const g of Xi(l,{direction:"forward"}))i.add(g),g.getAttribute("listType")!=h&&(p=Rc.next(),h=g.getAttribute("listType")),g.getAttribute("listItemId")!=p&&(n.setAttribute("listItemId",p,g),a=!0)}return a}function dJ(){return(s,e,n)=>{const{writer:i,schema:a}=n;if(!e.modelRange)return;const l=Array.from(e.modelRange.getItems({shallow:!0})).filter(y=>a.checkAttribute(y,"listItemId"));if(!l.length)return;const h=Rc.next(),p=sJ(e.viewItem);let g=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const b=l[0].getAttribute("listType");b&&(g=b);const v={listItemId:h,listIndent:p,listType:g};for(const y of l)y.hasAttribute("listItemId")||i.setAttributes(v,y);l.length>1&&l[1].getAttribute("listItemId")!=v.listItemId&&n.keepEmptyElement(l[0])}}function hD(){return(s,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0}))return;const i=new vc(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))!Bp(a)&&!lD(a)&&i.remove(a)}}function hJ(s,e,n,i){return()=>{const p=s.document.differ.getChanges(),g=[],b=new Map,v=new Set;for(const y of p)if(y.type=="insert"&&y.name!="$text")uo(y.position,b),y.attributes.has("listItemId")?v.add(y.position.nodeAfter):uo(y.position.getShiftedBy(y.length),b);else if(y.type=="remove"&&y.attributes.has("listItemId"))uo(y.position,b);else if(y.type=="attribute"){const I=y.range.start.nodeAfter;n.includes(y.attributeKey)?(uo(y.range.start,b),y.attributeNewValue===null?(uo(y.range.start.getShiftedBy(1),b),l(I)&&g.push(I)):v.add(I)):rn(I)&&l(I)&&g.push(I)}for(const y of b.values())g.push(...a(y,v));for(const y of new Set(g))e.reconvertItem(y)};function a(p,g){const b=[],v=new Set,y=[];for(const{node:I,previous:V}of Hu(p,"forward")){if(v.has(I))continue;const F=I.getAttribute("listIndent");V&&F<V.getAttribute("listIndent")&&(y.length=F+1),y[F]=Object.fromEntries(Array.from(I.getAttributes()).filter(([W])=>n.includes(W)));const H=Xi(I,{direction:"forward"});for(const W of H)v.add(W),(l(W,H)||h(W,y,g))&&b.push(W)}return b}function l(p,g){const b=e.mapper.toViewElement(p);if(!b)return!1;if(i.fire("checkElement",{modelElement:p,viewElement:b}))return!0;if(!p.is("element","paragraph")&&!p.is("element","listItem"))return!1;const y=gD(p,n,g);return y&&b.is("element","p")?!0:!!(!y&&b.is("element","span"))}function h(p,g,b){if(b.has(p))return!1;const v=e.mapper.toViewElement(p);let y=g.length-1;for(let I=v.parent;!I.is("editableElement");I=I.parent){const V=Bp(I),F=lD(I);if(!F&&!V)continue;const H=`checkAttributes:${V?"item":"list"}`;if(i.fire(H,{viewElement:I,modelAttributes:g[y]}))break;if(F&&(y--,y<0))return!1}return!0}}function fD(s,e,n,{dataPipeline:i}={}){const a=bJ(s);return(l,h,p)=>{const{writer:g,mapper:b,consumable:v}=p,y=h.item;if(!s.includes(h.attributeKey)||!a(y,v))return;const I=fJ(y,b,n);pJ(I,g,b),mJ(I,g);const V=gJ(y,I,e,g,{dataPipeline:i});kJ(y,V,e,g)}}function pD(s,{dataPipeline:e}={}){return(n,{writer:i})=>{if(!gD(n,s))return null;if(!e)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function fJ(s,e,n){const i=n.createRangeOn(s);return e.toViewRange(i).getTrimmed().end.nodeBefore}function pJ(s,e,n){for(;s.parent.is("attributeElement")&&s.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeIn(s.parent),s.parent);const i=e.createPositionBefore(s).getWalker({direction:"backward"}),a=[];for(const{item:l}of i){if(l.is("element")&&n.toModelElement(l))break;l.is("element")&&l.getCustomProperty("listItemMarker")&&a.push(l)}for(const l of a)e.remove(l)}function gJ(s,e,n,i,{dataPipeline:a}){let l=i.createRangeOn(e);if(!aa(s))return l;for(const h of n){if(h.scope!="itemMarker")continue;const p=h.createElement(i,s,{dataPipeline:a});if(!p||(i.setCustomProperty("listItemMarker",!0,p),i.insert(l.start,p),l=i.createRange(i.createPositionBefore(p),i.createPositionAfter(e)),!h.createWrapperElement||!h.canWrapElement))continue;const g=h.createWrapperElement(i,s,{dataPipeline:a});i.setCustomProperty("listItemWrapper",!0,g),h.canWrapElement(s)?l=i.wrap(l,g):(l=i.wrap(i.createRangeOn(p),g),l=i.createRange(l.start,i.createPositionAfter(e)))}return l}function mJ(s,e){let n=s.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const i=n.parent;e.unwrap(e.createRangeOn(s),n),n=i}}function kJ(s,e,n,i){if(!s.hasAttribute("listIndent"))return;const a=s.getAttribute("listIndent");let l=s;for(let h=a;h>=0;h--){const p=cJ(i,h,l.getAttribute("listItemId")),g=aJ(i,h,l.getAttribute("listType"));for(const b of n)(b.scope=="list"||b.scope=="item")&&l.hasAttribute(b.attributeName)&&b.setAttributeOnDowncast(i,l.getAttribute(b.attributeName),b.scope=="list"?g:p);if(e=i.wrap(e,p),e=i.wrap(e,g),h==0||(l=jr.first(l,{lowerIndent:!0}),!l))break}}function bJ(s){return(e,n)=>{const i=[];for(const a of s)e.hasAttribute(a)&&i.push(`attribute:${a}`);return i.every(a=>n.test(e,a)!==!1)?(i.forEach(a=>n.consume(e,a)),!0):!1}}function gD(s,e,n=Iv(s)){if(!rn(s))return!1;for(const i of s.getAttributeKeys())if(!i.startsWith("selection:")&&!e.includes(i))return!1;return n.length<2}var mD=o(1374),Nv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nv.insert="head",Nv.singleton=!0,ue()(mD.A,Nv),mD.A.locals;var kD=o(8921),Mv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mv.insert="head",Mv.singleton=!0,ue()(kD.A,Mv),kD.A.locals;const Op=["listType","listIndent","listItemId"];class wJ extends re{static get pluginName(){return"ListEditing"}static get requires(){return[Ep,ia,iJ,mi]}constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}init(){const e=this.editor,n=e.model,i=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new N("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});n.schema.register("$listItem",{allowAttributes:Op}),i?(n.schema.extend("$container",{allowAttributesOf:"$listItem"}),n.schema.extend("$block",{allowAttributesOf:"$listItem"}),n.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):n.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of Op)n.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new sD(e,"numbered")),e.commands.add("bulletedList",new sD(e,"bulleted")),e.commands.add("indentList",new oD(e,"forward")),e.commands.add("outdentList",new oD(e,"backward")),e.commands.add("splitListItemBefore",new cD(e,"before")),e.commands.add("splitListItemAfter",new cD(e,"after")),i&&(e.commands.add("mergeListItemBackward",new aD(e,"backward")),e.commands.add("mergeListItemForward",new aD(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,i=n.get("indent"),a=n.get("outdent");i&&i.registerChildCommand(n.get("indentList"),{priority:"high"}),a&&a.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Op,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,n=e.commands.get("mergeListItemBackward"),i=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,l)=>{const h=e.model.document.selection;Gu(e.model)||e.model.change(()=>{const p=h.getFirstPosition();if(h.isCollapsed&&l.direction=="backward"){if(!p.isAtStart)return;const g=p.parent;if(!rn(g))return;if(!jr.first(g,{sameAttributes:"listType",sameIndent:!0})&&g.getAttribute("listIndent")===0)rD(g)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:bD(e.model,"backward")})}l.preventDefault(),a.stop()}else{if(h.isCollapsed&&!h.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:bD(e.model,"forward")}),l.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,n=e.model,i=e.commands,a=i.get("enter");this.listenTo(e.editing.view.document,"enter",(l,h)=>{const p=n.document,g=p.selection.getFirstPosition().parent;if(p.selection.isCollapsed&&rn(g)&&g.isEmpty&&!h.isSoft){const b=aa(g),v=rD(g);b&&v?(e.execute("outdentList"),h.preventDefault(),l.stop()):b&&!v?(e.execute("splitListItemAfter"),h.preventDefault(),l.stop()):v&&(e.execute("splitListItemBefore"),h.preventDefault(),l.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const l=i.get("splitListItemBefore");if(l.refresh(),!l.isEnabled)return;const p=e.model.document.selection.getLastPosition().parent;Iv(p).length===2&&l.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(n,i)=>{const a=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),i.stopPropagation(),i.preventDefault(),n.stop())},{context:"li"})}_setupConversion(){const e=this.editor,n=e.model,i=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),l=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(h,{writer:p})=>p.createElement(l,{listType:""})}).elementToElement({view:"p",model:(h,{writer:p})=>h.parent&&h.parent.is("element","li")?p.createElement(l,{listType:""}):null,converterPriority:"high"}).add(h=>{h.on("element:li",dJ()),h.on("element:ul",hD(),{priority:"high"}),h.on("element:ol",hD(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:l,view:pD(i),converterPriority:"high"}).add(h=>{h.on("attribute",fD(i,this._downcastStrategies,n))}),e.conversion.for("dataDowncast").elementToElement({model:l,view:pD(i,{dataPipeline:!0}),converterPriority:"high"}).add(h=>{h.on("attribute",fD(i,this._downcastStrategies,n,{dataPipeline:!0}))}),this.listenTo(n.document,"change:data",hJ(n,e.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(h,{viewElement:p,modelAttributes:g})=>{p.id!=g.listItemId&&(h.return=!0,h.stop())}),this.on("checkAttributes:list",(h,{viewElement:p,modelAttributes:g})=>{(p.name!=uD(g.listType)||p.id!=dD(g.listType,g.listIndent))&&(h.return=!0,h.stop())})}_setupModelPostFixing(){const e=this.editor.model,n=this.getListAttributeNames();e.document.registerPostFixer(i=>_J(e,i,n,this)),this.on("postFixer",(i,{listNodes:a,writer:l})=>{i.return=lJ(a,l)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:a,writer:l,seenIds:h})=>{i.return=uJ(a,h,l)||i.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,n=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",vJ(e),{priority:"high"}),this.listenTo(n,"outputTransformation",(i,a)=>{e.change(l=>{const h=Array.from(a.content.getChildren()),p=h[h.length-1];if(h.length>1&&p.is("element")&&p.isEmpty&&h.slice(0,-1).every(rn)&&l.remove(p),a.method=="copy"||a.method=="cut"){const g=Array.from(a.content.getChildren());Wu(g)&&Rp(g,l)}})})}_setupAccessibilityIntegration(){const e=this.editor,n=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:n("Keystrokes that can be used in a list"),keystrokes:[{label:n("Increase list item indent"),keystroke:"Tab"},{label:n("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function _J(s,e,n,i){const a=s.document.differ.getChanges(),l=new Map,h=i.editor.config.get("list.multiBlock");let p=!1;for(const b of a){if(b.type=="insert"&&b.name!="$text"){const v=b.position.nodeAfter;if(!s.schema.checkAttribute(v,"listItemId"))for(const y of Array.from(v.getAttributeKeys()))n.includes(y)&&(e.removeAttribute(y,v),p=!0);uo(b.position,l),b.attributes.has("listItemId")||uo(b.position.getShiftedBy(b.length),l);for(const{item:y,previousPosition:I}of s.createRangeIn(v))rn(y)&&uo(I,l)}else b.type=="remove"?uo(b.position,l):b.type=="attribute"&&n.includes(b.attributeKey)&&(uo(b.range.start,l),b.attributeNewValue===null&&uo(b.range.start.getShiftedBy(1),l));if(!h&&b.type=="attribute"&&Op.includes(b.attributeKey)){const v=b.range.start.nodeAfter;b.attributeNewValue===null&&v&&v.is("element","listItem")?(e.rename(v,"paragraph"),p=!0):b.attributeOldValue===null&&v&&v.is("element")&&v.name!="listItem"&&(e.rename(v,"listItem"),p=!0)}}const g=new Set;for(const b of l.values())p=i.fire("postFixer",{listNodes:new XQ(b),listHead:b,writer:e,seenIds:g})||p;return p}function vJ(s){return(e,[n,i])=>{const a=n.is("documentFragment")?Array.from(n.getChildren()):[n];if(!a.length)return;const h=(i?s.createSelection(i):s.document.selection).getFirstPosition();let p;if(rn(h.parent))p=h.parent;else if(rn(h.nodeBefore))p=h.nodeBefore;else return;s.change(g=>{const b=p.getAttribute("listType"),v=p.getAttribute("listIndent"),y=a[0].getAttribute("listIndent")||0,I=Math.max(v-y,0);for(const V of a){const F=rn(V);p.is("element","listItem")&&V.is("element","paragraph")&&g.rename(V,"listItem"),g.setAttributes({listIndent:(F?V.getAttribute("listIndent"):0)+I,listItemId:F?V.getAttribute("listItemId"):Rc.next(),listType:b},V)}})}}function bD(s,e){const n=s.document.selection;if(!n.isCollapsed)return!Gu(s);if(e==="forward")return!0;const a=n.getFirstPosition().parent,l=a.previousSibling;return s.schema.isObject(l)?!1:l.isEmpty?!0:Wu([a,l])}function wD(s,e,n,i){s.ui.componentFactory.add(e,a=>{const l=s.commands.get(e),h=new Je(a);return h.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(l,"value","isEnabled"),h.on("execute",()=>{s.execute(e),s.editing.view.focus()}),h})}class AJ extends re{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;wD(this.editor,"numberedList",e("Numbered List"),Re.numberedList),wD(this.editor,"bulletedList",e("Bulleted List"),Re.bulletedList)}}class CJ extends re{static get requires(){return[wJ,AJ]}static get pluginName(){return"List"}}const yJ=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:s,typeAttribute:e,listType:n}of yJ);var _D=o(6634),Vv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vv.insert="head",Vv.singleton=!0,ue()(_D.A,Vv),_D.A.locals;var vD=o(5471),Lv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lv.insert="head",Lv.singleton=!0,ue()(vD.A,Lv),vD.A.locals,pu("Ctrl+Enter");var AD=o(3161),Fv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fv.insert="head",Fv.singleton=!0,ue()(AD.A,Fv),AD.A.locals,pu("Ctrl+Enter");function EJ(s,e){if(!s.childCount)return;const n=new vc(s.document),i=TJ(s,n);if(!i.length)return;let a=null,l=1;i.forEach((h,p)=>{const g=NJ(i[p-1],h),b=g?null:i[p-1],v=VJ(b,h);if(g&&(a=null,l=1),!a||v!==0){const I=SJ(h,e);if(!a)a=CD(I,h.element,n);else if(h.indent>l){const V=a.getChild(a.childCount-1),F=V.getChild(V.childCount-1);a=CD(I,F,n),l+=1}else if(h.indent<l){const V=l-h.indent;a=LJ(a,V),l=h.indent}h.indent<=l&&(a.is("element",I.type)||(a=n.rename(I.type,a)))}const y=RJ(h.element,n);n.appendChild(y,a)})}function xJ(s,e){for(const n of e.createRangeIn(s)){const i=n.item;if(i.is("element","li")){const a=i.getChild(0);a&&a.is("element","p")&&e.unwrapElement(a)}}}function TJ(s,e){const n=e.createRangeIn(s),i=new oo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),a=[];for(const l of n)if(l.type==="elementStart"&&i.match(l.item)){const h=BJ(l.item);a.push({element:l.item,id:h.id,order:h.order,indent:h.indent})}return a}function SJ(s,e){const n=new RegExp(`@list l${s.id}:level${s.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,a=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,l=n.exec(e);let h="decimal",p="ol",g=null;if(l&&l[1]){const b=i.exec(l[1]);if(b&&b[1]&&(h=b[1].trim(),p=h!=="bullet"&&h!=="image"?"ol":"ul"),h==="bullet"){const v=DJ(s.element);v&&(h=v)}else{const v=a.exec(l[1]);v&&v[1]&&(g=parseInt(v[1]))}}return{type:p,startIndex:g,style:PJ(h)}}function DJ(s){const e=IJ(s);if(!e)return null;const n=e._data;return n==="o"?"circle":n==="·"?"disc":n==="§"?"square":null}function IJ(s){if(s.getChild(0).is("$text"))return null;for(const e of s.getChildren()){if(!e.is("element","span"))continue;const n=e.getChild(0);if(n)return n.is("$text")?n:n.getChild(0)}return null}function PJ(s){if(s.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(s){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return s;default:return null}}function CD(s,e,n){const i=e.parent,a=n.createElement(s.type),l=i.getChildIndex(e)+1;return n.insertChild(l,a,i),s.style&&n.setStyle("list-style-type",s.style,a),s.startIndex&&s.startIndex>1&&n.setAttribute("start",s.startIndex,a),a}function RJ(s,e){return OJ(s,e),e.removeStyle("text-indent",s),e.rename("li",s)}function BJ(s){const e={},n=s.getStyle("mso-list");if(n){const i=n.match(/(^|\s{1,100})l(\d+)/i),a=n.match(/\s{0,100}lfo(\d+)/i),l=n.match(/\s{0,100}level(\d+)/i);i&&a&&l&&(e.id=i[2],e.order=a[1],e.indent=parseInt(l[1]))}return e}function OJ(s,e){const n=new oo({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(s);for(const a of i)a.type==="elementStart"&&n.match(a.item)&&e.remove(a.item)}function NJ(s,e){if(!s)return!0;if(s.id!==e.id)return e.indent-s.indent!==1;const n=e.element.previousSibling;return n?!MJ(n):!0}function MJ(s){return s.is("element","ol")||s.is("element","ul")}function VJ(s,e){return s?e.indent-s.indent:e.indent-1}function LJ(s,e){const n=s.getAncestors({parentFirst:!0});let i=null,a=0;for(const l of n)if((l.is("element","ul")||l.is("element","ol"))&&a++,a===e){i=l;break}return i}function FJ(s,e){if(!s.childCount)return;const n=new vc(s.document),i=jJ(s,n);UJ(i,s,n),HJ(i,s,n),$J(s,n);const a=qJ(s,n);a.length&&GJ(a,WJ(e),n)}function zJ(s){return btoa(s.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function jJ(s,e){const n=e.createRangeIn(s),i=new oo({name:/v:(.+)/}),a=[];for(const l of n){if(l.type!="elementStart")continue;const h=l.item,p=h.previousSibling,g=p&&p.is("element")?p.name:null,b=["Chart"],v=i.match(h),y=h.getAttribute("o:gfxdata"),I=g==="v:shapetype",V=y&&b.some(F=>h.getAttribute("id").includes(F));v&&y&&!I&&!V&&a.push(l.item.getAttribute("id"))}return a}function UJ(s,e,n){const i=n.createRangeIn(e),a=new oo({name:"img"}),l=[];for(const h of i)if(h.item.is("element")&&a.match(h.item)){const p=h.item,g=p.getAttribute("v:shapes")?p.getAttribute("v:shapes").split(" "):[];g.length&&g.every(b=>s.indexOf(b)>-1)?l.push(p):p.getAttribute("src")||l.push(p)}for(const h of l)n.remove(h)}function $J(s,e){const n=e.createRangeIn(s),i=new oo({name:/v:(.+)/}),a=[];for(const l of n)l.type=="elementStart"&&i.match(l.item)&&a.push(l.item);for(const l of a)e.remove(l)}function HJ(s,e,n){const i=n.createRangeIn(e),a=[];for(const p of i)if(p.type=="elementStart"&&p.item.is("element","v:shape")){const g=p.item.getAttribute("id");if(s.includes(g))continue;l(p.item.parent.getChildren(),g)||a.push(p.item)}for(const p of a){const g={src:h(p)};p.hasAttribute("alt")&&(g.alt=p.getAttribute("alt"));const b=n.createElement("img",g);n.insertChild(p.index+1,b,p.parent)}function l(p,g){for(const b of p)if(b.is("element")&&(b.name=="img"&&b.getAttribute("v:shapes")==g||l(b.getChildren(),g)))return!0;return!1}function h(p){for(const g of p.getChildren())if(g.is("element")&&g.getAttribute("src"))return g.getAttribute("src")}}function qJ(s,e){const n=e.createRangeIn(s),i=new oo({name:"img"}),a=[];for(const l of n)l.item.is("element")&&i.match(l.item)&&l.item.getAttribute("src").startsWith("file://")&&a.push(l.item);return a}function WJ(s){if(!s)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=s.match(n),a=[];if(i)for(const l of i){let h=!1;l.includes("\\pngblip")?h="image/png":l.includes("\\jpegblip")&&(h="image/jpeg"),h&&a.push({hex:l.replace(e,"").replace(/[^\da-fA-F]/g,""),type:h})}return a}function GJ(s,e,n){if(s.length===e.length)for(let i=0;i<s.length;i++){const a=`data:${e[i].type};base64,${zJ(e[i].hex)}`;n.setAttribute("src",a,s[i])}}function KJ(s){const e=[],n=new vc(s.document);for(const{item:i}of n.createRangeIn(s))if(i.is("element")){for(const a of i.getClassNames())/\bmso/gi.exec(a)&&n.removeClass(a,i);for(const a of i.getStyleNames())/\bmso/gi.exec(a)&&n.removeStyle(a,i);i.is("element","w:sdt")&&e.push(i)}for(const i of e){const a=i.parent,l=a.getChildIndex(i);n.insertChild(l,i.getChildren(),a),n.remove(i)}}const QJ=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,JJ=/xmlns:o="urn:schemas-microsoft-com/i;class YJ{constructor(e){this.document=e}isActive(e){return QJ.test(e)||JJ.test(e)}execute(e){const{body:n,stylesString:i}=e._parsedData;EJ(n,i),FJ(n,e.dataTransfer.getData("text/rtf")),KJ(n),e.content=n}}function ZJ(s,e){for(const n of s.getChildren())if(n.is("element","b")&&n.getStyle("font-weight")==="normal"){const i=s.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),s)}}function XJ(s,e){const n=new Qf(e.document.stylesProcessor),i=new Zf(n,{renderingMode:"data"}),a=i.blockElements,l=i.inlineObjectElements,h=[];for(const p of e.createRangeIn(s)){const g=p.item;if(g.is("element","br")){const b=yD(g,"forward",e,{blockElements:a,inlineObjectElements:l}),v=yD(g,"backward",e,{blockElements:a,inlineObjectElements:l}),y=ED(b,a);(ED(v,a)||y)&&h.push(g)}}for(const p of h)p.hasClass("Apple-interchange-newline")?e.remove(p):e.replace(p,e.createElement("p"))}function yD(s,e,n,{blockElements:i,inlineObjectElements:a}){let l=n.createPositionAt(s,e=="forward"?"after":"before");return l=l.getLastMatchingPosition(({item:h})=>h.is("element")&&!i.includes(h.name)&&!a.includes(h.name),{direction:e}),e=="forward"?l.nodeAfter:l.nodeBefore}function ED(s,e){return!!s&&s.is("element")&&e.includes(s.name)}const eY=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class tY{constructor(e){this.document=e}isActive(e){return eY.test(e)}execute(e){const n=new vc(this.document),{body:i}=e._parsedData;ZJ(i,n),xJ(i,n),XJ(i,n),e.content=i}}function nY(s,e){for(const n of s.getChildren())n.is("element","table")&&n.hasAttribute("xmlns")&&e.removeAttribute("xmlns",n)}function rY(s,e){for(const n of s.getChildren())if(n.is("element","google-sheets-html-origin")){const i=s.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),s)}}function oY(s,e){for(const n of s.getChildren())n.is("element","table")&&n.getStyle("width")==="0px"&&e.removeStyle("width",n)}function iY(s,e){for(const n of Array.from(s.getChildren()))n.is("element","style")&&e.remove(n)}const sY=/<google-sheets-html-origin/i;class aY{constructor(e){this.document=e}isActive(e){return sY.test(e)}execute(e){const n=new vc(this.document),{body:i}=e._parsedData;rY(i,n),nY(i,n),oY(i,n),iY(i,n),e.content=i}}function cY(s){return xD(xD(s)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function lY(s){s.querySelectorAll("span[style*=spacerun]").forEach(e=>{const n=e,i=n.innerText.length||0;n.innerText=Array(i+1).join("  ").substr(0,i)})}function xD(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,n)=>n.length===1?" ":Array(n.length+1).join("  ").substr(0,n.length))}function uY(s,e){const n=new DOMParser;s=s.replace(/<!--\[if gte vml 1]>/g,""),s=s.replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,"");const i=cY(fY(s)),a=n.parseFromString(i,"text/html");lY(a);const l=a.body.innerHTML,h=dY(a,e),p=hY(a);return{body:h,bodyString:l,styles:p.styles,stylesString:p.stylesString}}function dY(s,e){const n=new Qf(e),i=new Zf(n,{renderingMode:"data"}),a=s.createDocumentFragment(),l=s.body.childNodes;for(;l.length>0;)a.appendChild(l[0]);return i.domToView(a,{skipComments:!0})}function hY(s){const e=[],n=[],i=Array.from(s.getElementsByTagName("style"));for(const a of i)a.sheet&&a.sheet.cssRules&&a.sheet.cssRules.length&&(e.push(a.sheet),n.push(a.innerHTML));return{styles:e,stylesString:n.join(" ")}}function fY(s){const e="</body>",n="</html>",i=s.indexOf(e);if(i<0)return s;const a=s.indexOf(n,i+e.length);return s.substring(0,i+e.length)+(a>=0?s.substring(a):"")}class pY extends re{static get pluginName(){return"PasteFromOffice"}static get requires(){return[mi]}init(){const e=this.editor,n=e.plugins.get("ClipboardPipeline"),i=e.editing.view.document,a=[];a.push(new YJ(i)),a.push(new tY(i)),a.push(new aY(i)),n.on("inputTransformation",(l,h)=>{if(h._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const g=h.dataTransfer.getData("text/html"),b=a.find(v=>v.isActive(g));b&&(h._parsedData||(h._parsedData=uY(g,i.stylesProcessor)),b.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}function Rt(s,e,n,i,a=1){e!=null&&a!==void 0&&a!==null&&e>a?i.setAttribute(s,e,n):i.removeAttribute(s,n)}function la(s,e,n={}){const i=s.createElement("tableCell",n);return s.insertElement("paragraph",i),s.insert(i,e),i}function zv(s,e){const n=e.parent.parent,i=parseInt(n.getAttribute("headingColumns")||"0"),{column:a}=s.getCellLocation(e);return!!i&&a<i}function gY(){return s=>{s.on("element:figure",(e,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0,classes:"table"}))return;const a=bY(n.viewItem);if(!a||!i.consumable.test(a,{name:!0}))return;i.consumable.consume(n.viewItem,{name:!0,classes:"table"});const l=i.convertItem(a,n.modelCursor),h=tr(l.modelRange.getItems());if(!h){i.consumable.revert(n.viewItem,{name:!0,classes:"table"});return}i.convertChildren(n.viewItem,i.writer.createPositionAt(h,"end")),i.updateConversionResult(h,n)})}}function mY(){return s=>{s.on("element:table",(e,n,i)=>{const a=n.viewItem;if(!i.consumable.test(a,{name:!0}))return;const{rows:l,headingRows:h,headingColumns:p}=wY(a),g={};p&&(g.headingColumns=p),h&&(g.headingRows=h);const b=i.writer.createElement("table",g);if(i.safeInsert(b,n.modelCursor)){if(i.consumable.consume(a,{name:!0}),l.forEach(v=>i.convertItem(v,i.writer.createPositionAt(b,"end"))),i.convertChildren(a,i.writer.createPositionAt(b,"end")),b.isEmpty){const v=i.writer.createElement("tableRow");i.writer.insert(v,i.writer.createPositionAt(b,"end")),la(i.writer,i.writer.createPositionAt(v,"end"))}i.updateConversionResult(b,n)}})}}function kY(){return s=>{s.on("element:tr",(e,n)=>{n.viewItem.isEmpty&&n.modelCursor.index==0&&e.stop()},{priority:"high"})}}function TD(s){return e=>{e.on(`element:${s}`,(n,i,{writer:a})=>{if(!i.modelRange)return;const l=i.modelRange.start.nodeAfter,h=a.createPositionAt(l,0);if(i.viewItem.isEmpty){a.insertElement("paragraph",h);return}const p=Array.from(l.getChildren());if(p.every(g=>g.is("element","$marker"))){const g=a.createElement("paragraph");a.insert(g,a.createPositionAt(l,0));for(const b of p)a.move(a.createRangeOn(b),a.createPositionAt(g,"end"))}},{priority:"low"})}}function bY(s){for(const e of s.getChildren())if(e.is("element","table"))return e}function wY(s){let e=0,n;const i=[],a=[];let l;for(const h of Array.from(s.getChildren())){if(h.name!=="tbody"&&h.name!=="thead"&&h.name!=="tfoot")continue;h.name==="thead"&&!l&&(l=h);const p=Array.from(h.getChildren()).filter(g=>g.is("element","tr"));for(const g of p)if(l&&h===l||h.name==="tbody"&&Array.from(g.getChildren()).length&&Array.from(g.getChildren()).every(b=>b.is("element","th")))e++,i.push(g);else{a.push(g);const b=_Y(g);(!n||b<n)&&(n=b)}}return{headingRows:e,headingColumns:n||0,rows:[...i,...a]}}function _Y(s){let e=0,n=0;const i=Array.from(s.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;n<i.length&&i[n].name==="th";){const a=i[n],l=parseInt(a.getAttribute("colspan")||"1");e=e+l,n++}return e}class Ye{constructor(e,n={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=n.row!==void 0?n.row:n.startRow||0,this._endRow=n.row!==void 0?n.row:n.endRow,this._startColumn=n.column!==void 0?n.column:n.startColumn||0,this._endColumn=n.column!==void 0?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let n=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(n=this._formatOutValue(i.cell,i.row,i.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const l=parseInt(a.getAttribute("colspan")||"1"),h=parseInt(a.getAttribute("rowspan")||"1");(l>1||h>1)&&this._recordSpans(a,h,l),this._shouldSkipSlot()||(n=this._formatOutValue(a)),this._nextCellAtColumn=this._column+l}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,n=this._row,i=this._column){return{done:!1,value:new vY(this,e,n,i)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),n=this._row<this._startRow,i=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||n||i||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,n,i){const a={cell:e,row:this._row,column:this._column};for(let l=this._row;l<this._row+n;l++)for(let h=this._column;h<this._column+i;h++)(l!=this._row||h!=this._column)&&this._markSpannedCell(l,h,a)}_markSpannedCell(e,n,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(n,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let n=this._startRow;!this._jumpedToStartRow;n--)e===this._getRowLength(n)&&(this._row=n,this._rowIndex=n,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}}class vY{constructor(e,n,i,a){this.cell=n,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function SD(s,e){return(n,{writer:i})=>{const a=n.getAttribute("headingRows")||0,l=i.createContainerElement("table",null,[]),h=i.createContainerElement("figure",{class:"table"},l);a>0&&i.insert(i.createPositionAt(l,"end"),i.createContainerElement("thead",null,i.createSlot(p=>p.is("element","tableRow")&&p.index<a))),a<s.getRows(n)&&i.insert(i.createPositionAt(l,"end"),i.createContainerElement("tbody",null,i.createSlot(p=>p.is("element","tableRow")&&p.index>=a)));for(const{positionOffset:p,filter:g}of e.additionalSlots)i.insert(i.createPositionAt(l,p),i.createSlot(g));return i.insert(i.createPositionAt(l,"after"),i.createSlot(p=>p.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:g})=>g(p)))),e.asWidget?CY(h,i):h}}function AY(){return(s,{writer:e})=>s.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function DD(s={}){return(e,{writer:n})=>{const i=e.parent,a=i.parent,l=a.getChildIndex(i),h=new Ye(a,{row:l}),p=a.getAttribute("headingRows")||0,g=a.getAttribute("headingColumns")||0;let b=null;for(const v of h)if(v.cell==e){const I=v.row<p||v.column<g?"th":"td";b=s.asWidget?aG(n.createEditableElement(I),n):n.createContainerElement(I);break}return b}}function ID(s={}){return(e,{writer:n})=>{if(!e.parent.is("element","tableCell")||!PD(e))return null;if(s.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function PD(s){return s.parent.childCount==1&&!yY(s)}function CY(s,e){return e.setCustomProperty("table",!0,s),n5(s,e,{hasSelectionHandle:!0})}function yY(s){return!s.getAttributeKeys().next().done}class EY extends He{refresh(){const e=this.editor.model,n=e.document.selection,i=e.schema;this.isEnabled=xY(n,i)}execute(e={}){const n=this.editor,i=n.model,a=n.plugins.get("TableUtils"),l=n.config.get("table.defaultHeadings.rows"),h=n.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&l&&(e.headingRows=l),e.headingColumns===void 0&&h&&(e.headingColumns=h),i.change(p=>{const g=a.createTable(p,e);i.insertObject(g,null,null,{findOptimalPosition:"auto"}),p.setSelection(p.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}function xY(s,e){const n=s.getFirstPosition().parent,i=n===n.root?n:n.parent;return e.checkChild(i,"table")}class RD extends He{constructor(e,n={}){super(e),this.order=n.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,n=e.model.document.selection,i=e.plugins.get("TableUtils"),a=this.order==="above",l=i.getSelectionAffectedTableCells(n),h=i.getRowIndexes(l),p=a?h.first:h.last,g=l[0].findAncestor("table");i.insertRows(g,{at:a?p:p+1,copyStructureFromAbove:!a})}}class BD extends He{constructor(e,n={}){super(e),this.order=n.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,n=e.model.document.selection,i=e.plugins.get("TableUtils"),a=this.order==="left",l=i.getSelectionAffectedTableCells(n),h=i.getColumnIndexes(l),p=a?h.first:h.last,g=l[0].findAncestor("table");i.insertColumns(g,{columns:1,at:a?p:p+1})}}class OD extends He{constructor(e,n={}){super(e),this.direction=n.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(n,2):e.splitCellVertically(n,2)}}function ND(s,e,n){const{startRow:i,startColumn:a,endRow:l,endColumn:h}=e,p=n.createElement("table"),g=l-i+1;for(let v=0;v<g;v++)n.insertElement("tableRow",p,"end");const b=[...new Ye(s,{startRow:i,endRow:l,startColumn:a,endColumn:h,includeAllSlots:!0})];for(const{row:v,column:y,cell:I,isAnchor:V,cellAnchorRow:F,cellAnchorColumn:H}of b){const W=v-i,ee=p.getChild(W);if(!V)(F<i||H<a)&&la(n,n.createPositionAt(ee,"end"));else{const de=n.cloneElement(I);n.append(de,ee),zD(de,v,y,l,h,n)}}return TY(p,s,i,a,n),p}function MD(s,e,n=0){const i=[],a=new Ye(s,{startRow:n,endRow:e-1});for(const l of a){const{row:h,cellHeight:p}=l,g=h+p-1;h<e&&e<=g&&i.push(l)}return i}function VD(s,e,n){const i=s.parent,a=i.parent,l=i.index,h=parseInt(s.getAttribute("rowspan")),p=e-l,g={},b=h-p;b>1&&(g.rowspan=b);const v=parseInt(s.getAttribute("colspan")||"1");v>1&&(g.colspan=v);const y=l,I=y+p,V=[...new Ye(a,{startRow:y,endRow:I,includeAllSlots:!0})];let F=null,H;for(const W of V){const{row:ee,column:de,cell:Oe}=W;Oe===s&&H===void 0&&(H=de),H!==void 0&&H===de&&ee===I&&(F=la(n,W.getPositionBefore(),g))}return Rt("rowspan",p,s,n),F}function LD(s,e){const n=[],i=new Ye(s);for(const a of i){const{column:l,cellWidth:h}=a,p=l+h-1;l<e&&e<=p&&n.push(a)}return n}function FD(s,e,n,i){const a=parseInt(s.getAttribute("colspan")),l=n-e,h={},p=a-l;p>1&&(h.colspan=p);const g=parseInt(s.getAttribute("rowspan")||"1");g>1&&(h.rowspan=g);const b=la(i,i.createPositionAfter(s),h);return Rt("colspan",l,s,i),b}function zD(s,e,n,i,a,l){const h=parseInt(s.getAttribute("colspan")||"1"),p=parseInt(s.getAttribute("rowspan")||"1");if(n+h-1>a){const v=a-n+1;Rt("colspan",v,s,l,1)}if(e+p-1>i){const v=i-e+1;Rt("rowspan",v,s,l,1)}}function TY(s,e,n,i,a){const l=parseInt(e.getAttribute("headingRows")||"0");if(l>0){const p=l-n;Rt("headingRows",p,s,a,0)}const h=parseInt(e.getAttribute("headingColumns")||"0");if(h>0){const p=h-i;Rt("headingColumns",p,s,a,0)}}function jv(s,e){const n=e.getColumns(s),i=new Array(n).fill(0);for(const{column:l}of new Ye(s))i[l]++;const a=i.reduce((l,h,p)=>h?l:[...l,p],[]);if(a.length>0){const l=a[a.length-1];return e.removeColumns(s,{at:l}),!0}return!1}function Uv(s,e){const n=[],i=e.getRows(s);for(let a=0;a<i;a++)s.getChild(a).isEmpty&&n.push(a);if(n.length>0){const a=n[n.length-1];return e.removeRows(s,{at:a}),!0}return!1}function $v(s,e){jv(s,e)||Uv(s,e)}function jD(s,e){const n=Array.from(new Ye(s,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every(({cellHeight:l})=>l===1))return e.lastRow;const a=n[0].cellHeight-1;return e.lastRow+a}function UD(s,e){const n=Array.from(new Ye(s,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every(({cellWidth:l})=>l===1))return e.lastColumn;const a=n[0].cellWidth-1;return e.lastColumn+a}class Np extends He{constructor(e,n){super(e),this.direction=n.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,n=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(n.selection)[0],l=this.value,h=this.direction;e.change(p=>{const g=h=="right"||h=="down",b=g?a:l,v=g?l:a,y=v.parent;IY(v,b,p);const I=this.isHorizontal?"colspan":"rowspan",V=parseInt(a.getAttribute(I)||"1"),F=parseInt(l.getAttribute(I)||"1");p.setAttribute(I,V+F,b),p.setSelection(p.createRangeIn(b));const H=this.editor.plugins.get("TableUtils"),W=y.findAncestor("table");$v(W,H)})}_getMergeableCell(){const n=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),a=i.getTableCellsContainingSelection(n.selection)[0];if(!a)return;const l=this.isHorizontal?SY(a,this.direction,i):DY(a,this.direction,i);if(!l)return;const h=this.isHorizontal?"rowspan":"colspan",p=parseInt(a.getAttribute(h)||"1");if(parseInt(l.getAttribute(h)||"1")===p)return l}}function SY(s,e,n){const a=s.parent.parent,l=e=="right"?s.nextSibling:s.previousSibling,h=(a.getAttribute("headingColumns")||0)>0;if(!l)return;const p=e=="right"?s:l,g=e=="right"?l:s,{column:b}=n.getCellLocation(p),{column:v}=n.getCellLocation(g),y=parseInt(p.getAttribute("colspan")||"1"),I=zv(n,p),V=zv(n,g);return h&&I!=V?void 0:b+y===v?l:void 0}function DY(s,e,n){const i=s.parent,a=i.parent,l=a.getChildIndex(i);if(e=="down"&&l===n.getRows(a)-1||e=="up"&&l===0)return null;const h=parseInt(s.getAttribute("rowspan")||"1"),p=a.getAttribute("headingRows")||0,g=e=="down"&&l+h===p,b=e=="up"&&l===p;if(p&&(g||b))return null;const v=parseInt(s.getAttribute("rowspan")||"1"),y=e=="down"?l+v:l,I=[...new Ye(a,{endRow:y})],F=I.find(W=>W.cell===s).column,H=I.find(({row:W,cellHeight:ee,column:de})=>de!==F?!1:e=="down"?W===y:y===W+ee);return H&&H.cell?H.cell:null}function IY(s,e,n){$D(s)||($D(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(s),n.createPositionAt(e,"end"))),n.remove(s)}function $D(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class PY extends He{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=n[0];if(i){const a=i.findAncestor("table"),h=e.getRows(a)-1,p=e.getRowIndexes(n),g=p.first===0&&p.last===h;this.isEnabled=!g}else this.isEnabled=!1}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(e.document.selection),a=n.getRowIndexes(i),l=i[0],h=l.findAncestor("table"),p=n.getCellLocation(l).column;e.change(g=>{const b=a.last-a.first+1;n.removeRows(h,{at:a.first,rows:b});const v=RY(h,a.first,p,n.getRows(h));g.setSelection(g.createPositionAt(v,0))})}}function RY(s,e,n,i){const a=s.getChild(Math.min(e,i-1));let l=a.getChild(0),h=0;for(const p of a.getChildren()){if(h>n)return l;l=p,h+=parseInt(p.getAttribute("colspan")||"1")}return l}class BY extends He{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=n[0];if(i){const a=i.findAncestor("table"),l=e.getColumns(a),{first:h,last:p}=e.getColumnIndexes(n);this.isEnabled=p-h<l-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[n,i]=NY(this.editor.model.document.selection,e),a=n.parent.parent,l=[...new Ye(a)],h={first:l.find(g=>g.cell===n).column,last:l.find(g=>g.cell===i).column},p=OY(l,n,i,h);this.editor.model.change(g=>{const b=h.last-h.first+1;e.removeColumns(a,{at:h.first,columns:b}),g.setSelection(g.createPositionAt(p,0))})}}function OY(s,e,n,i){return parseInt(n.getAttribute("colspan")||"1")>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:i.first?s.reverse().find(({column:l})=>l<i.first).cell:s.reverse().find(({column:l})=>l>i.last).cell}function NY(s,e){const n=e.getSelectionAffectedTableCells(s),i=n[0],a=n.pop(),l=[i,a];return i.isBefore(a)?l:l.reverse()}class MY extends He{refresh(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),a=i.length>0;this.isEnabled=a,this.value=a&&i.every(l=>this._isInHeading(l,l.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),l=a[0].findAncestor("table"),{first:h,last:p}=n.getRowIndexes(a),g=this.value?h:p+1,b=l.getAttribute("headingRows")||0;i.change(v=>{if(g){const y=g>b?b:0,I=MD(l,g,y);for(const{cell:V}of I)VD(V,g,v)}Rt("headingRows",g,l,v,0)})}_isInHeading(e,n){const i=parseInt(n.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}}class VY extends He{refresh(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(e.document.selection),a=i.length>0;this.isEnabled=a,this.value=a&&i.every(l=>zv(n,l))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),l=a[0].findAncestor("table"),{first:h,last:p}=n.getColumnIndexes(a),g=this.value?h:p+1;i.change(b=>{if(g){const v=LD(l,g);for(const{cell:y,column:I}of v)FD(y,I,g,b)}Rt("headingColumns",g,l,b,0)})}}function LY(s){if(s.is("element","tableColumnGroup"))return s;const e=s.getChildren();return Array.from(e).find(n=>n.is("element","tableColumnGroup"))}function FY(s){const e=LY(s);return e?Array.from(e.getChildren()):[]}class mn extends re{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const n=e.parent,i=n.parent,a=i.getChildIndex(n),l=new Ye(i,{row:a});for(const{cell:h,row:p,column:g}of l)if(h===e)return{row:p,column:g}}createTable(e,n){const i=e.createElement("table"),a=n.rows||2,l=n.columns||2;return Hv(e,i,0,a,l),n.headingRows&&Rt("headingRows",Math.min(n.headingRows,a),i,e,0),n.headingColumns&&Rt("headingColumns",Math.min(n.headingColumns,l),i,e,0),i}insertRows(e,n={}){const i=this.editor.model,a=n.at||0,l=n.rows||1,h=n.copyStructureFromAbove!==void 0,p=n.copyStructureFromAbove?a-1:a,g=this.getRows(e),b=this.getColumns(e);if(a>g)throw new N("tableutils-insertrows-insert-out-of-range",this,{options:n});i.change(v=>{const y=e.getAttribute("headingRows")||0;if(y>a&&Rt("headingRows",y+l,e,v,0),!h&&(a===0||a===g)){Hv(v,e,a,l,b);return}const I=h?Math.max(a,p):a,V=new Ye(e,{endRow:I}),F=new Array(b).fill(1);for(const{row:H,column:W,cellHeight:ee,cellWidth:de,cell:Oe}of V){const Ke=H+ee-1,lt=H<a&&a<=Ke,pe=H<=p&&p<=Ke;lt?(v.setAttribute("rowspan",ee+l,Oe),F[W]=-de):h&&pe&&(F[W]=de)}for(let H=0;H<l;H++){const W=v.createElement("tableRow");v.insert(W,e,a);for(let ee=0;ee<F.length;ee++){const de=F[ee],Oe=v.createPositionAt(W,"end");de>0&&la(v,Oe,de>1?{colspan:de}:void 0),ee+=Math.abs(de)-1}}})}insertColumns(e,n={}){const i=this.editor.model,a=n.at||0,l=n.columns||1;i.change(h=>{const p=e.getAttribute("headingColumns");a<p&&h.setAttribute("headingColumns",p+l,e);const g=this.getColumns(e);if(a===0||g===a){for(const v of e.getChildren())v.is("element","tableRow")&&Bc(l,h,h.createPositionAt(v,a?"end":0));return}const b=new Ye(e,{column:a,includeAllSlots:!0});for(const v of b){const{row:y,cell:I,cellAnchorColumn:V,cellAnchorRow:F,cellWidth:H,cellHeight:W}=v;if(V<a){h.setAttribute("colspan",H+l,I);const ee=F+W-1;for(let de=y;de<=ee;de++)b.skipRow(de)}else Bc(l,h,v.getPositionBefore())}})}removeRows(e,n){const i=this.editor.model,a=n.rows||1,l=this.getRows(e),h=n.at,p=h+a-1;if(p>l-1)throw new N("tableutils-removerows-row-index-out-of-range",this,{table:e,options:n});i.change(g=>{const b={first:h,last:p},{cellsToMove:v,cellsToTrim:y}=UY(e,b);if(v.size){const I=p+1;$Y(e,I,v,g)}for(let I=p;I>=h;I--)g.remove(e.getChild(I));for(const{rowspan:I,cell:V}of y)Rt("rowspan",I,V,g);jY(e,b,g),jv(e,this)||Uv(e,this)})}removeColumns(e,n){const i=this.editor.model,a=n.at,l=n.columns||1,h=n.at+l-1;i.change(p=>{zY(e,{first:a,last:h},p);const g=FY(e);for(let b=h;b>=a;b--){for(const{cell:v,column:y,cellWidth:I}of[...new Ye(e)])y<=b&&I>1&&y+I>b?Rt("colspan",I-1,v,p):y===b&&p.remove(v);if(g[b]){const v=b===0?g[1]:g[b-1],y=parseFloat(g[b].getAttribute("columnWidth")),I=parseFloat(v.getAttribute("columnWidth"));p.remove(g[b]),p.setAttribute("columnWidth",y+I+"%",v)}}Uv(e,this)||jv(e,this)})}splitCellVertically(e,n=2){const i=this.editor.model,l=e.parent.parent,h=parseInt(e.getAttribute("rowspan")||"1"),p=parseInt(e.getAttribute("colspan")||"1");i.change(g=>{if(p>1){const{newCellsSpan:b,updatedSpan:v}=HD(p,n);Rt("colspan",v,e,g);const y={};b>1&&(y.colspan=b),h>1&&(y.rowspan=h);const I=p>n?n-1:p-1;Bc(I,g,g.createPositionAfter(e),y)}if(p<n){const b=n-p,v=[...new Ye(l)],{column:y}=v.find(({cell:H})=>H===e),I=v.filter(({cell:H,cellWidth:W,column:ee})=>{const de=H!==e&&ee===y,Oe=ee<y&&ee+W>y;return de||Oe});for(const{cell:H,cellWidth:W}of I)g.setAttribute("colspan",W+b,H);const V={};h>1&&(V.rowspan=h),Bc(b,g,g.createPositionAfter(e),V);const F=l.getAttribute("headingColumns")||0;F>y&&Rt("headingColumns",F+b,l,g)}})}splitCellHorizontally(e,n=2){const i=this.editor.model,a=e.parent,l=a.parent,h=l.getChildIndex(a),p=parseInt(e.getAttribute("rowspan")||"1"),g=parseInt(e.getAttribute("colspan")||"1");i.change(b=>{if(p>1){const v=[...new Ye(l,{startRow:h,endRow:h+p-1,includeAllSlots:!0})],{newCellsSpan:y,updatedSpan:I}=HD(p,n);Rt("rowspan",I,e,b);const{column:V}=v.find(({cell:H})=>H===e),F={};y>1&&(F.rowspan=y),g>1&&(F.colspan=g);for(const H of v){const{column:W,row:ee}=H,de=ee>=h+I,Oe=W===V,Ke=(ee+h+I)%y===0;de&&Oe&&Ke&&Bc(1,b,H.getPositionBefore(),F)}}if(p<n){const v=n-p,y=[...new Ye(l,{startRow:0,endRow:h})];for(const{cell:F,cellHeight:H,row:W}of y)if(F!==e&&W+H>h){const ee=H+v;b.setAttribute("rowspan",ee,F)}const I={};g>1&&(I.colspan=g),Hv(b,l,h+1,v,1,I);const V=l.getAttribute("headingRows")||0;V>h&&Rt("headingRows",V+v,l,b)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,a)=>{const l=parseInt(a.getAttribute("colspan")||"1");return i+l},0)}getRows(e){return Array.from(e.getChildren()).reduce((n,i)=>i.is("element","tableRow")?n+1:n,0)}createTableWalker(e,n={}){return new Ye(e,n)}getSelectedTableCells(e){const n=[];for(const i of this.sortRanges(e.getRanges())){const a=i.getContainedElement();a&&a.is("element","tableCell")&&n.push(a)}return n}getTableCellsContainingSelection(e){const n=[];for(const i of e.getRanges()){const a=i.start.findAncestor("tableCell");a&&n.push(a)}return n}getSelectionAffectedTableCells(e){const n=this.getSelectedTableCells(e);return n.length?n:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const n=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(n)}getColumnIndexes(e){const n=e[0].findAncestor("table"),a=[...new Ye(n)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const n=new Set,i=new Set;let a=0;for(const h of e){const{row:p,column:g}=this.getCellLocation(h),b=parseInt(h.getAttribute("rowspan"))||1,v=parseInt(h.getAttribute("colspan"))||1;n.add(p),i.add(g),b>1&&n.add(p+b-1),v>1&&i.add(g+v-1),a+=b*v}return qY(n,i)==a}sortRanges(e){return Array.from(e).sort(HY)}_getFirstLastIndexesObject(e){const n=e.sort((l,h)=>l-h),i=n[0],a=n[n.length-1];return{first:i,last:a}}_areCellInTheSameTableSection(e){const n=e[0].findAncestor("table"),i=this.getRowIndexes(e),a=parseInt(n.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,a))return!1;const l=this.getColumnIndexes(e),h=parseInt(n.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(l,h)}_areIndexesInSameSection({first:e,last:n},i){const a=e<i,l=n<i;return a===l}}function Hv(s,e,n,i,a,l={}){for(let h=0;h<i;h++){const p=s.createElement("tableRow");s.insert(p,e,n),Bc(a,s,s.createPositionAt(p,"end"),l)}}function Bc(s,e,n,i={}){for(let a=0;a<s;a++)la(e,n,i)}function HD(s,e){if(s<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(s/e),i=s-n*e+n;return{newCellsSpan:n,updatedSpan:i}}function zY(s,e,n){const i=s.getAttribute("headingColumns")||0;if(i&&e.first<i){const a=Math.min(i-1,e.last)-e.first+1;n.setAttribute("headingColumns",i-a,s)}}function jY(s,{first:e,last:n},i){const a=s.getAttribute("headingRows")||0;if(e<a){const l=n<a?a-(n-e+1):e;Rt("headingRows",l,s,i,0)}}function UY(s,{first:e,last:n}){const i=new Map,a=[];for(const{row:l,column:h,cellHeight:p,cell:g}of new Ye(s,{endRow:n})){const b=l+p-1;if(l>=e&&l<=n&&b>n){const I=n-l+1,V=p-I;i.set(h,{cell:g,rowspan:V})}if(l<e&&b>=e){let I;b>=n?I=n-e+1:I=b-e+1,a.push({cell:g,rowspan:p-I})}}return{cellsToMove:i,cellsToTrim:a}}function $Y(s,e,n,i){const l=[...new Ye(s,{includeAllSlots:!0,row:e})],h=s.getChild(e);let p;for(const{column:g,cell:b,isAnchor:v}of l)if(n.has(g)){const{cell:y,rowspan:I}=n.get(g),V=p?i.createPositionAfter(p):i.createPositionAt(h,0);i.move(i.createRangeOn(y),V),Rt("rowspan",I,y,i),p=y}else v&&(p=b)}function HY(s,e){const n=s.start,i=e.start;return n.isBefore(i)?-1:1}function qY(s,e){const n=Array.from(s.values()),i=Array.from(e.values()),a=Math.max(...n),l=Math.min(...n),h=Math.max(...i),p=Math.min(...i);return(a-l+1)*(h-p+1)}class WY extends He{refresh(){const e=this.editor.plugins.get(mn),n=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(n)}execute(){const e=this.editor.model,n=this.editor.plugins.get(mn);e.change(i=>{const a=n.getSelectedTableCells(e.document.selection),l=a.shift(),{mergeWidth:h,mergeHeight:p}=KY(l,a,n);Rt("colspan",h,l,i),Rt("rowspan",p,l,i);for(const b of a)GY(b,l,i);const g=l.findAncestor("table");$v(g,n),i.setSelection(l,"in")})}}function GY(s,e,n){qD(s)||(qD(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(s),n.createPositionAt(e,"end"))),n.remove(s)}function qD(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function KY(s,e,n){let i=0,a=0;for(const b of e){const{row:v,column:y}=n.getCellLocation(b);i=WD(b,y,i,"colspan"),a=WD(b,v,a,"rowspan")}const{row:l,column:h}=n.getCellLocation(s),p=i-h,g=a-l;return{mergeWidth:p,mergeHeight:g}}function WD(s,e,n,i){const a=parseInt(s.getAttribute(i)||"1");return Math.max(n,e+a)}class QY extends He{constructor(e){super(e),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(e.document.selection),a=n.getRowIndexes(i),l=i[0].findAncestor("table"),h=[];for(let p=a.first;p<=a.last;p++)for(const g of l.getChild(p).getChildren())h.push(e.createRangeOn(g));e.change(p=>{p.setSelection(h)})}}class JY extends He{constructor(e){super(e),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),a=i[0],l=i.pop(),h=a.findAncestor("table"),p=e.getCellLocation(a),g=e.getCellLocation(l),b=Math.min(p.column,g.column),v=Math.max(p.column,g.column),y=[];for(const I of new Ye(h,{startColumn:b,endColumn:v}))y.push(n.createRangeOn(I.cell));n.change(I=>{I.setSelection(y)})}}function YY(s){s.document.registerPostFixer(e=>ZY(e,s))}function ZY(s,e){const n=e.document.differ.getChanges();let i=!1;const a=new Set;for(const l of n){let h=null;l.type=="insert"&&l.name=="table"&&(h=l.position.nodeAfter),(l.type=="insert"||l.type=="remove")&&(l.name=="tableRow"||l.name=="tableCell")&&(h=l.position.findAncestor("table")),rZ(l)&&(h=l.range.start.findAncestor("table")),h&&!a.has(h)&&(i=XY(h,s)||i,i=eZ(h,s)||i,a.add(h))}return i}function XY(s,e){let n=!1;const i=tZ(s);if(i.length){n=!0;for(const a of i)Rt("rowspan",a.rowspan,a.cell,e,1)}return n}function eZ(s,e){let n=!1;const i=nZ(s),a=[];for(const[g,b]of i.entries())!b&&s.getChild(g).is("element","tableRow")&&a.push(g);if(a.length){n=!0;for(const g of a.reverse())e.remove(s.getChild(g)),i.splice(g,1)}const l=i.filter((g,b)=>s.getChild(b).is("element","tableRow")),h=l[0];if(!l.every(g=>g===h)){const g=l.reduce((b,v)=>v>b?v:b,0);for(const[b,v]of l.entries()){const y=g-v;if(y){for(let I=0;I<y;I++)la(e,e.createPositionAt(s.getChild(b),"end"));n=!0}}}return n}function tZ(s){const e=parseInt(s.getAttribute("headingRows")||"0"),n=Array.from(s.getChildren()).reduce((a,l)=>l.is("element","tableRow")?a+1:a,0),i=[];for(const{row:a,cell:l,cellHeight:h}of new Ye(s)){if(h<2)continue;const g=a<e?e:n;if(a+h>g){const b=g-a;i.push({cell:l,rowspan:b})}}return i}function nZ(s){const e=new Array(s.childCount).fill(0);for(const{rowIndex:n}of new Ye(s,{includeAllSlots:!0}))e[n]++;return e}function rZ(s){if(s.type!=="attribute")return!1;const e=s.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function oZ(s){s.document.registerPostFixer(e=>iZ(e,s))}function iZ(s,e){const n=e.document.differ.getChanges();let i=!1;for(const a of n)a.type=="insert"&&a.name=="table"&&(i=sZ(a.position.nodeAfter,s)||i),a.type=="insert"&&a.name=="tableRow"&&(i=GD(a.position.nodeAfter,s)||i),a.type=="insert"&&a.name=="tableCell"&&(i=qv(a.position.nodeAfter,s)||i),(a.type=="remove"||a.type=="insert")&&aZ(a)&&(i=qv(a.position.parent,s)||i);return i}function sZ(s,e){let n=!1;for(const i of s.getChildren())i.is("element","tableRow")&&(n=GD(i,e)||n);return n}function GD(s,e){let n=!1;for(const i of s.getChildren())n=qv(i,e)||n;return n}function qv(s,e){if(s.childCount==0)return e.insertElement("paragraph",s),!0;const n=Array.from(s.getChildren()).filter(i=>i.is("$text"));for(const i of n)e.wrap(e.createRangeOn(i),"paragraph");return!!n.length}function aZ(s){return s.position.parent.is("element","tableCell")?s.type=="insert"&&s.name=="$text"||s.type=="remove":!1}function cZ(s,e){const n=s.document.differ;for(const i of n.getChanges()){let a,l=!1;if(i.type=="attribute"){const b=i.range.start.nodeAfter;if(!b||!b.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;a=b,l=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(a=i.position.findAncestor("table"),l=i.name=="tableRow");if(!a)continue;const h=a.getAttribute("headingRows")||0,p=a.getAttribute("headingColumns")||0,g=new Ye(a);for(const b of g){const y=b.row<h||b.column<p?"th":"td",I=e.mapper.toViewElement(b.cell);I&&I.is("element")&&I.name!=y&&e.reconvertItem(l?b.cell.parent:b.cell)}}}function lZ(s,e){const n=s.document.differ,i=new Set;for(const a of n.getChanges()){const l=a.type=="attribute"?a.range.start.parent:a.position.parent;l.is("element","tableCell")&&i.add(l)}for(const a of i.values()){const l=Array.from(a.getChildren()).filter(h=>uZ(h,e.mapper));for(const h of l)e.reconvertItem(h)}}function uZ(s,e){if(!s.is("element","paragraph"))return!1;const n=e.toViewElement(s);return n?PD(s)!==n.is("element","span"):!1}var KD=o(9431),Wv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Wv.insert="head",Wv.singleton=!0,ue()(KD.A,Wv),KD.A.locals;class dZ extends re{static get pluginName(){return"TableEditing"}static get requires(){return[mn]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,n=e.model,i=n.schema,a=e.conversion,l=e.plugins.get(mn);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(gY()),a.for("upcast").add(mY()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(l,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(l,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(kY()),a.for("downcast").elementToElement({model:"tableRow",view:AY()}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(TD("td")),a.for("upcast").add(TD("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:DD({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:DD()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:ID({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:ID(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:QD("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:QD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new EY(e)),e.commands.add("insertTableRowAbove",new RD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new RD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new BD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new BD(e,{order:"right"})),e.commands.add("removeTableRow",new PY(e)),e.commands.add("removeTableColumn",new BY(e)),e.commands.add("splitTableCellVertically",new OD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new OD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new WY(e)),e.commands.add("mergeTableCellRight",new Np(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Np(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Np(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Np(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new VY(e)),e.commands.add("setTableRowHeader",new MY(e)),e.commands.add("selectTableRow",new QY(e)),e.commands.add("selectTableColumn",new JY(e)),YY(n),oZ(n),this.listenTo(n.document,"change:data",()=>{cZ(n,e.editing),lZ(n,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function QD(s){return e=>{const n=parseInt(e.getAttribute(s));return Number.isNaN(n)||n<=0?null:n}}var JD=o(1710),Gv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Gv.insert="head",Gv.singleton=!0,ue()(JD.A,Gv),JD.A.locals;class hZ extends we{constructor(e){super(e);const n=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new fr,this.focusTracker=new Sn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,a)=>`${a} × ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":n.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:n.to("label")}]}],on:{mousedown:n.to(i=>{i.preventDefault()}),click:n.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,a)=>{const{row:l,column:h}=a.target.dataset;this.items.get((parseInt(l,10)-1)*10+(parseInt(h,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,a,l)=>{if(!l)return;const{row:h,column:p}=l.dataset;this.set({rows:parseInt(h),columns:parseInt(p)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),m({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,n=this.columns;this.items.map((i,a)=>{const l=Math.floor(a/10),h=a%10,p=l<e&&h<n;i.set("isOn",p)})}_createGridButton(e,n,i,a){const l=new Je(e);return l.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),l.extendTemplate({attributes:{"data-row":n,"data-column":i}}),l}_createGridCollection(){const e=[];for(let n=0;n<100;n++){const i=Math.floor(n/10),a=n%10,l=`${i+1} × ${a+1}`;e.push(this._createGridButton(this.locale,i+1,a+1,l))}return this.createCollection(e)}}const fZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',pZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',gZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class mZ extends re{static get pluginName(){return"TableUI"}init(){const e=this.editor,n=this.editor.t,a=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const h=e.commands.get("insertTable"),p=Mo(l);p.bind("isEnabled").to(h),p.buttonView.set({icon:Re.table,label:n("Insert table"),tooltip:!0});let g;return p.on("change:isOpen",()=>{g||(g=new hZ(l),p.panelView.children.add(g),g.delegate("execute").to(p),p.on("execute",()=>{e.execute("insertTable",{rows:g.rows,columns:g.columns}),e.editing.view.focus()}))}),p}),e.ui.componentFactory.add("tableColumn",l=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return this._prepareDropdown(n("Column"),fZ,h,l)}),e.ui.componentFactory.add("tableRow",l=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return this._prepareDropdown(n("Row"),pZ,h,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(n("Merge cells"),gZ,h,l)})}_prepareDropdown(e,n,i,a){const l=this.editor,h=Mo(a),p=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:e,icon:n,tooltip:!0}),h.bind("isEnabled").toMany(p,"isEnabled",(...g)=>g.some(b=>b)),this.listenTo(h,"execute",g=>{l.execute(g.source.commandName),g.source instanceof lp||l.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(e,n,i,a){const l=this.editor,h=Mo(a,TT),p="mergeTableCells",g=l.commands.get(p),b=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:e,icon:n,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([g,...b],"isEnabled",(...v)=>v.some(y=>y)),this.listenTo(h.buttonView,"execute",()=>{l.execute(p),l.editing.view.focus()}),this.listenTo(h,"execute",v=>{l.execute(v.source.commandName),l.editing.view.focus()}),h}_fillDropdownWithListOptions(e,n){const i=this.editor,a=[],l=new Nr;for(const h of n)kZ(h,i,a,l);return hp(e,l),a}}function kZ(s,e,n,i){if(s.type==="button"||s.type==="switchbutton"){const a=s.model=new kp(s.model),{commandName:l,bindIsOn:h}=s.model,p=e.commands.get(l);n.push(p),a.set({commandName:l}),a.bind("isEnabled").to(p),h&&a.bind("isOn").to(p,"value"),a.set({withText:!0})}i.add(s)}var YD=o(1125),Kv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Kv.insert="head",Kv.singleton=!0,ue()(YD.A,Kv),YD.A.locals;class ua extends re{static get pluginName(){return"TableSelection"}static get requires(){return[mn,mn]}init(){const e=this.editor,n=e.model,i=e.editing.view;this.listenTo(n,"deleteContent",(a,l)=>this._handleDeleteContent(a,l),{priority:"high"}),this.listenTo(i.document,"insertText",(a,l)=>this._handleInsertTextEvent(a,l),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(mn),n=this.editor.model.document.selection,i=e.getSelectedTableCells(n);return i.length==0?null:i}getSelectionAsFragment(){const e=this.editor.plugins.get(mn),n=this.getSelectedTableCells();return n?this.editor.model.change(i=>{const a=i.createDocumentFragment(),{first:l,last:h}=e.getColumnIndexes(n),{first:p,last:g}=e.getRowIndexes(n),b=n[0].findAncestor("table");let v=g,y=h;if(e.isSelectionRectangular(n)){const F={firstColumn:l,lastColumn:h,firstRow:p,lastRow:g};v=jD(b,F),y=UD(b,F)}const V=ND(b,{startRow:p,startColumn:l,endRow:v,endColumn:y},i);return i.insert(V,a,0),a}):null}setCellSelection(e,n){const i=this._getCellsToSelect(e,n);this.editor.model.change(a=>{a.setSelection(i.cells.map(l=>a.createRangeOn(l)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const e=this.editor.model.document.selection,i=tr(e.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const e=this.editor,n=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(l,h,p)=>{const g=p.writer;i(g);const b=this.getSelectedTableCells();if(!b)return;for(const y of b){const I=p.mapper.toViewElement(y);g.addClass("ck-editor__editable_selected",I),n.add(I)}const v=p.mapper.toViewElement(b[b.length-1]);g.setSelection(v,0)},{priority:"lowest"}));function i(a){for(const l of n)a.removeClass("ck-editor__editable_selected",l);n.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const n=this.getSelectedTableCells();if(!n)return;e.model.change(i=>{const a=i.createPositionAt(n[0],0),l=e.model.schema.getNearestSelectionRange(a);i.setSelection(l)})}})}_handleDeleteContent(e,n){const i=this.editor.plugins.get(mn),a=n[0],l=n[1],h=this.editor.model,p=!l||l.direction=="backward",g=i.getSelectedTableCells(a);g.length&&(e.stop(),h.change(b=>{const v=g[p?g.length-1:0];h.change(I=>{for(const V of g)h.deleteContent(I.createSelection(V,"in"))});const y=h.schema.getNearestSelectionRange(b.createPositionAt(v,0));a.is("documentSelection")?b.setSelection(y):a.setTo(y)}))}_handleInsertTextEvent(e,n){const i=this.editor,a=this.getSelectedTableCells();if(!a)return;const l=i.editing.view,h=i.editing.mapper,p=a.map(g=>l.createRangeOn(h.toViewElement(g)));n.selection=l.createSelection(p)}_getCellsToSelect(e,n){const i=this.editor.plugins.get("TableUtils"),a=i.getCellLocation(e),l=i.getCellLocation(n),h=Math.min(a.row,l.row),p=Math.max(a.row,l.row),g=Math.min(a.column,l.column),b=Math.max(a.column,l.column),v=new Array(p-h+1).fill(null).map(()=>[]),y={startRow:h,endRow:p,startColumn:g,endColumn:b};for(const{row:F,cell:H}of new Ye(e.findAncestor("table"),y))v[F-h].push(H);const I=l.row<a.row,V=l.column<a.column;return I&&v.reverse(),V&&v.forEach(F=>F.reverse()),{cells:v.flat(),backward:I||V}}}class bZ extends re{static get pluginName(){return"TableClipboard"}static get requires(){return[$u,mi,ua,mn]}init(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"copy",(i,a)=>this._onCopyCut(i,a)),this.listenTo(n,"cut",(i,a)=>this._onCopyCut(i,a)),this.listenTo(e.model,"insertContent",(i,[a,l])=>this._onInsertContent(i,a,l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,n){const i=this.editor.editing.view,a=this.editor.plugins.get(ua),l=this.editor.plugins.get($u);if(!a.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;n.preventDefault(),e.stop();const h=l._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:n.dataTransfer,content:this.editor.data.toView(h),method:e.name})}_onInsertContent(e,n,i){if(i&&!i.is("documentSelection"))return;const a=this.editor.model,l=this.editor.plugins.get(mn),h=this.editor.plugins.get($u),p=this.getTableIfOnlyTableInContent(n,a);if(!p)return;const g=l.getSelectionAffectedTableCells(a.document.selection);if(!g.length){$v(p,l);return}e.stop(),n.is("documentFragment")?h._pasteMarkersIntoTransformedElement(n.markers,b=>this._replaceSelectedCells(p,g,b)):this.editor.model.change(b=>{this._replaceSelectedCells(p,g,b)})}_replaceSelectedCells(e,n,i){const a=this.editor.plugins.get(mn),l={width:a.getColumns(e),height:a.getRows(e)},h=wZ(n,l,i,a),p=h.lastRow-h.firstRow+1,g=h.lastColumn-h.firstColumn+1,b={startRow:0,startColumn:0,endRow:Math.min(p,l.height)-1,endColumn:Math.min(g,l.width)-1};e=ND(e,b,i);const v=n[0].findAncestor("table"),y=this._replaceSelectedCellsWithPasted(e,l,v,h,i);if(this.editor.plugins.get("TableSelection").isEnabled){const I=a.sortRanges(y.map(V=>i.createRangeOn(V)));i.setSelection(I)}else i.setSelection(y[0],0);return v}_replaceSelectedCellsWithPasted(e,n,i,a,l){const{width:h,height:p}=n,g=vZ(e,h,p),b=[...new Ye(i,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],v=[];let y;for(const W of b){const{row:ee,column:de}=W;de===a.firstColumn&&(y=W.getPositionBefore());const Oe=ee-a.firstRow,Ke=de-a.firstColumn,lt=g[Oe%p][Ke%h],pe=lt?l.cloneElement(lt):null,Ce=this._replaceTableSlotCell(W,pe,y,l);Ce&&(zD(Ce,ee,de,a.lastRow,a.lastColumn,l),v.push(Ce),y=l.createPositionAfter(Ce))}const I=parseInt(i.getAttribute("headingRows")||"0"),V=parseInt(i.getAttribute("headingColumns")||"0"),F=a.firstRow<I&&I<=a.lastRow,H=a.firstColumn<V&&V<=a.lastColumn;if(F){const W={first:a.firstColumn,last:a.lastColumn},ee=Qv(i,I,W,l,a.firstRow);v.push(...ee)}if(H){const W={first:a.firstRow,last:a.lastRow},ee=Jv(i,V,W,l);v.push(...ee)}return v}_replaceTableSlotCell(e,n,i,a){const{cell:l,isAnchor:h}=e;return h&&a.remove(l),n?(a.insert(n,i),n):null}getTableIfOnlyTableInContent(e,n){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const i=n.createRangeIn(e);for(const a of i.getItems())if(a.is("element","table")){const l=n.createRange(i.start,n.createPositionBefore(a));if(n.hasContent(l,{ignoreWhitespaces:!0}))return null;const h=n.createRange(n.createPositionAfter(a),i.end);return n.hasContent(h,{ignoreWhitespaces:!0})?null:a}return null}}function wZ(s,e,n,i){const a=s[0].findAncestor("table"),l=i.getColumnIndexes(s),h=i.getRowIndexes(s),p={firstColumn:l.first,lastColumn:l.last,firstRow:h.first,lastRow:h.last},g=s.length===1;return g&&(p.lastRow+=e.height-1,p.lastColumn+=e.width-1,_Z(a,p.lastRow+1,p.lastColumn+1,i)),g||!i.isSelectionRectangular(s)?AZ(a,p,n):(p.lastRow=jD(a,p),p.lastColumn=UD(a,p)),p}function _Z(s,e,n,i){const a=i.getColumns(s),l=i.getRows(s);n>a&&i.insertColumns(s,{at:a,columns:n-a}),e>l&&i.insertRows(s,{at:l,rows:e-l})}function vZ(s,e,n){const i=new Array(n).fill(null).map(()=>new Array(e).fill(null));for(const{column:a,row:l,cell:h}of new Ye(s))i[l][a]=h;return i}function AZ(s,e,n){const{firstRow:i,lastRow:a,firstColumn:l,lastColumn:h}=e,p={first:i,last:a},g={first:l,last:h};Jv(s,l,p,n),Jv(s,h+1,p,n),Qv(s,i,g,n),Qv(s,a+1,g,n,i)}function Qv(s,e,n,i,a=0){return e<1?void 0:MD(s,e,a).filter(({column:p,cellWidth:g})=>ZD(p,g,n)).map(({cell:p})=>VD(p,e,i))}function Jv(s,e,n,i){return e<1?void 0:LD(s,e).filter(({row:h,cellHeight:p})=>ZD(h,p,n)).map(({cell:h,column:p})=>FD(h,p,e,i))}function ZD(s,e,n){const i=s+e-1,{first:a,last:l}=n,h=s>=a&&s<=l,p=s<a&&i>=a;return h||p}class CZ extends re{static get pluginName(){return"TableKeyboard"}static get requires(){return[ua,mn]}init(){const e=this.editor,i=e.editing.view.document,a=e.t;this.listenTo(i,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(i,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(i,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:a("Keystrokes that can be used in a table cell"),keystrokes:[{label:a("Move the selection to the next cell"),keystroke:"Tab"},{label:a("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:a("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:a("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,n){const i=this.editor,l=i.model.document.selection.getSelectedElement();!l||!l.is("element","table")||(n.preventDefault(),n.stopPropagation(),e.stop(),i.model.change(h=>{h.setSelection(h.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,n){const i=this.editor,a=this.editor.plugins.get(mn),l=this.editor.plugins.get("TableSelection"),h=i.model.document.selection,p=!n.shiftKey;let g=a.getTableCellsContainingSelection(h)[0];if(g||(g=l.getFocusCell()),!g)return;n.preventDefault(),n.stopPropagation(),e.stop();const b=g.parent,v=b.parent,y=v.getChildIndex(b),I=b.getChildIndex(g),V=I===0;if(!p&&V&&y===0){i.model.change(ee=>{ee.setSelection(ee.createRangeOn(v))});return}const F=I===b.childCount-1,H=y===a.getRows(v)-1;if(p&&H&&F&&(i.execute("insertTableRowBelow"),y===a.getRows(v)-1)){i.model.change(ee=>{ee.setSelection(ee.createRangeOn(v))});return}let W;if(p&&F)W=v.getChild(y+1).getChild(0);else if(!p&&V){const ee=v.getChild(y-1);W=ee.getChild(ee.childCount-1)}else W=b.getChild(I+(p?1:-1));i.model.change(ee=>{ee.setSelection(ee.createRangeIn(W))})}_onArrowKey(e,n){const i=this.editor,a=n.keyCode,l=iw(a,i.locale.contentLanguageDirection);this._handleArrowKeys(l,n.shiftKey)&&(n.preventDefault(),n.stopPropagation(),e.stop())}_handleArrowKeys(e,n){const i=this.editor.plugins.get(mn),a=this.editor.plugins.get("TableSelection"),l=this.editor.model,h=l.document.selection,p=["right","down"].includes(e),g=i.getSelectedTableCells(h);if(g.length){let v;return n?v=a.getFocusCell():v=p?g[g.length-1]:g[0],this._navigateFromCellInDirection(v,e,n),!0}const b=h.focus.findAncestor("tableCell");if(!b)return!1;if(!h.isCollapsed)if(n){if(h.isBackward==p&&!h.containsEntireContent(b))return!1}else{const v=h.getSelectedElement();if(!v||!l.schema.isObject(v))return!1}return this._isSelectionAtCellEdge(h,b,p)?(this._navigateFromCellInDirection(b,e,n),!0):!1}_isSelectionAtCellEdge(e,n,i){const a=this.editor.model,l=this.editor.model.schema,h=i?e.getLastPosition():e.getFirstPosition();if(!l.getLimitElement(h).is("element","tableCell"))return a.createPositionAt(n,i?"end":0).isTouching(h);const p=a.createSelection(h);return a.modifySelection(p,{direction:i?"forward":"backward"}),h.isEqual(p.focus)}_navigateFromCellInDirection(e,n,i=!1){const a=this.editor.model,l=e.findAncestor("table"),h=[...new Ye(l,{includeAllSlots:!0})],{row:p,column:g}=h[h.length-1],b=h.find(({cell:de})=>de==e);let{row:v,column:y}=b;switch(n){case"left":y--;break;case"up":v--;break;case"right":y+=b.cellWidth;break;case"down":v+=b.cellHeight;break}const I=v<0||v>p,V=y<0&&v<=0,F=y>g&&v>=p;if(I||V||F){a.change(de=>{de.setSelection(de.createRangeOn(l))});return}y<0?(y=i?0:g,v--):y>g&&(y=i?g:0,v++);const H=h.find(de=>de.row==v&&de.column==y).cell,W=["right","down"].includes(n),ee=this.editor.plugins.get("TableSelection");if(i&&ee.isEnabled){const de=ee.getAnchorCell()||e;ee.setCellSelection(de,H)}else{const de=a.createPositionAt(H,W?0:"end");a.change(Oe=>{Oe.setSelection(de)})}}}class yZ extends Gi{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class EZ extends re{static get pluginName(){return"TableMouse"}static get requires(){return[ua,mn]}init(){this.editor.editing.view.addObserver(yZ),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,n=e.plugins.get(mn);let i=!1;const a=e.plugins.get(ua);this.listenTo(e.editing.view.document,"mousedown",(l,h)=>{const p=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!h.domEvent.shiftKey)return;const g=a.getAnchorCell()||n.getTableCellsContainingSelection(p)[0];if(!g)return;const b=this._getModelTableCellFromDomEvent(h);b&&XD(g,b)&&(i=!0,a.setCellSelection(g,b),h.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",l=>{i&&l.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let n,i,a=!1,l=!1;const h=e.plugins.get(ua);this.listenTo(e.editing.view.document,"mousedown",(p,g)=>{!this.isEnabled||!h.isEnabled||g.domEvent.shiftKey||g.domEvent.ctrlKey||g.domEvent.altKey||(n=this._getModelTableCellFromDomEvent(g))}),this.listenTo(e.editing.view.document,"mousemove",(p,g)=>{if(!g.domEvent.buttons||!n)return;const b=this._getModelTableCellFromDomEvent(g);b&&XD(n,b)&&(i=b,!a&&i!=n&&(a=!0)),a&&(l=!0,h.setCellSelection(n,i),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,l=!1,n=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",p=>{l&&p.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const n=e.target,i=this.editor.editing.view.createPositionAt(n,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function XD(s,e){return s.parent.parent==e.parent.parent}var eI=o(2259),Yv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yv.insert="head",Yv.singleton=!0,ue()(eI.A,Yv),eI.A.locals;class xZ extends re{static get requires(){return[dZ,mZ,ua,EZ,CZ,bZ,uv]}static get pluginName(){return"Table"}}function TZ(s){const e=s.getSelectedElement();return e&&tI(e)?e:null}function SZ(s){const e=s.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&tI(n))return n;n=n.parent}return null}function tI(s){return!!s.getCustomProperty("table")&&nn(s)}class DZ extends re{static get requires(){return[u5]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,n=e.t,i=e.plugins.get(u5),a=e.config.get("table.contentToolbar"),l=e.config.get("table.tableToolbar");a&&i.register("tableContent",{ariaLabel:n("Table toolbar"),items:a,getRelatedElement:SZ}),l&&i.register("table",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:TZ})}}var nI=o(7752),Zv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zv.insert="head",Zv.singleton=!0,ue()(nI.A,Zv),nI.A.locals;var rI=o(637),Xv={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xv.insert="head",Xv.singleton=!0,ue()(rI.A,Xv),rI.A.locals;var oI=o(6369),e0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};e0.insert="head",e0.singleton=!0,ue()(oI.A,e0),oI.A.locals;var iI=o(7181),t0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};t0.insert="head",t0.singleton=!0,ue()(iI.A,t0),iI.A.locals;var sI=o(472),n0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};n0.insert="head",n0.singleton=!0,ue()(sI.A,n0),sI.A.locals;const da=Mu.defaultPositions;da.northArrowSouth,da.northArrowSouthWest,da.northArrowSouthEast,da.southArrowNorth,da.southArrowNorthWest,da.southArrowNorthEast,da.viewportStickyNorth;var aI=o(8252),r0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};r0.insert="head",r0.singleton=!0,ue()(aI.A,r0),aI.A.locals;var cI=o(5513),o0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};o0.insert="head",o0.singleton=!0,ue()(cI.A,o0),cI.A.locals;var lI=o(9317),i0={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};i0.insert="head",i0.singleton=!0,ue()(lI.A,i0),lI.A.locals;class s0 extends mq{}s0.builtinPlugins=[Tq,qq,cW,Kq,mW,JG,xK,lK,_K,BK,zK,$K,Zq,ZQ,CJ,I5,pY,xZ,DZ,Vq,C5],s0.defaultConfig={toolbar:{items:["heading","|","bold","link","italic","fontSize","fontFamily","fontColor","|","numberedList","indent","bulletedList","outdent","alignment","horizontalLine","|","blockQuote","insertTable","undo","redo"]},language:"es",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const IZ=s0})(),c=c.default,c})());const Qde=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Sm={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Sm.exports;(function(r,t){(function(o,c){r.exports=c(J)})(self,o=>(()=>{var c={703:(m,k,w)=>{var A=w(414);function _(){}function C(){}C.resetWarningCache=_,m.exports=function(){function E(B,D,P,O,L,$){if($!==A){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}}function S(){return E}E.isRequired=E;var R={array:E,bigint:E,bool:E,func:E,number:E,object:E,string:E,symbol:E,any:E,arrayOf:S,element:E,elementType:E,instanceOf:S,node:E,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:C,resetWarningCache:_};return R.PropTypes=R,R}},697:(m,k,w)=>{m.exports=w(703)()},414:m=>{m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:m=>{m.exports=o}},u={};function d(m){var k=u[m];if(k!==void 0)return k.exports;var w=u[m]={exports:{}};return c[m](w,w.exports,d),w.exports}d.n=m=>{var k=m&&m.__esModule?()=>m.default:()=>m;return d.d(k,{a:k}),k},d.d=(m,k)=>{for(var w in k)d.o(k,w)&&!d.o(m,w)&&Object.defineProperty(m,w,{enumerable:!0,get:k[w]})},d.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k),d.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var f={};return(()=>{d.r(f),d.d(f,{CKEditor:()=>$i,CKEditorContext:()=>Io,useMultiRootEditor:()=>Mb});var m=d(787),k=d.n(m),w=d(697),A=d.n(w);const _=new Array(256).fill("").map((x,T)=>("0"+T.toString(16)).slice(-2));class C{constructor(T){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof T.crashNumberLimit=="number"?T.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof T.minimumNonErrorTimePeriod=="number"?T.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=M=>{const z="error"in M?M.error:M.reason;z instanceof Error&&this._handleError(z,M)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(T,M){this._listeners[T]||(this._listeners[T]=[]),this._listeners[T].push(M)}off(T,M){this._listeners[T]=this._listeners[T].filter(z=>z!==M)}_fire(T,...M){const z=this._listeners[T]||[];for(const K of z)K.apply(this,[null,...M])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(T,M){if(this._shouldReactToError(T)){this.crashes.push({message:T.message,stack:T.stack,filename:M instanceof ErrorEvent?M.filename:void 0,lineno:M instanceof ErrorEvent?M.lineno:void 0,colno:M instanceof ErrorEvent?M.colno:void 0,date:this._now()});const z=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:T,causesRestart:z}),z?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(T){return T.is&&T.is("CKEditorError")&&T.context!==void 0&&T.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(T)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function E(x,T=new Set){const M=[x],z=new Set;let K=0;for(;M.length>K;){const le=M[K++];if(!z.has(le)&&S(le)&&!T.has(le))if(z.add(le),Symbol.iterator in le)try{for(const ae of le)M.push(ae)}catch{}else for(const ae in le)ae!=="defaultValue"&&M.push(le[ae])}return z}function S(x){const T=Object.prototype.toString.call(x),M=typeof x;return!(M==="number"||M==="boolean"||M==="string"||M==="symbol"||M==="function"||T==="[object Date]"||T==="[object RegExp]"||T==="[object Module]"||x==null||x._watchdogExcluded||x instanceof EventTarget||x instanceof Event)}function R(x,T,M=new Set){if(x===T&&typeof(z=x)=="object"&&z!==null)return!0;var z;const K=E(x,M),le=E(T,M);for(const ae of K)if(le.has(ae))return!0;return!1}const B=function(x){var T=typeof x;return x!=null&&(T=="object"||T=="function")},D=typeof Mp=="object"&&Mp&&Mp.Object===Object&&Mp;var P=typeof self=="object"&&self&&self.Object===Object&&self;const O=D||P||Function("return this")(),L=function(){return O.Date.now()};var $=/\s/;const q=function(x){for(var T=x.length;T--&&$.test(x.charAt(T)););return T};var Y=/^\s+/;const X=function(x){return x&&x.slice(0,q(x)+1).replace(Y,"")},ge=O.Symbol;var he=Object.prototype,et=he.hasOwnProperty,xn=he.toString,Qe=ge?ge.toStringTag:void 0;const ut=function(x){var T=et.call(x,Qe),M=x[Qe];try{x[Qe]=void 0;var z=!0}catch{}var K=xn.call(x);return z&&(T?x[Qe]=M:delete x[Qe]),K};var Gt=Object.prototype.toString;const Ya=function(x){return Gt.call(x)};var zn=ge?ge.toStringTag:void 0;const oe=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":zn&&zn in Object(x)?ut(x):Ya(x)},_e=function(x){return x!=null&&typeof x=="object"},N=function(x){return typeof x=="symbol"||_e(x)&&oe(x)=="[object Symbol]"};var Te=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,Mi=/^0o[0-7]+$/i,Yr=parseInt;const Vi=function(x){if(typeof x=="number")return x;if(N(x))return NaN;if(B(x)){var T=typeof x.valueOf=="function"?x.valueOf():x;x=B(T)?T+"":T}if(typeof x!="string")return x===0?x:+x;x=X(x);var M=yt.test(x);return M||Mi.test(x)?Yr(x.slice(2),M?2:8):Te.test(x)?NaN:+x};var Zr=Math.max,ur=Math.min;const Ul=function(x,T,M){var z,K,le,ae,ce,Be,Pe=0,Xn=!1,hn=!1,zt=!0;if(typeof x!="function")throw new TypeError("Expected a function");function no(fn){var er=z,Ir=K;return z=K=void 0,Pe=fn,ae=x.apply(Ir,er)}function ci(fn){var er=fn-Be;return Be===void 0||er>=T||er<0||hn&&fn-Pe>=le}function Dr(){var fn=L();if(ci(fn))return Kt(fn);ce=setTimeout(Dr,function(er){var Ir=T-(er-Be);return hn?ur(Ir,le-(er-Pe)):Ir}(fn))}function Kt(fn){return ce=void 0,zt&&z?no(fn):(z=K=void 0,ae)}function Un(){var fn=L(),er=ci(fn);if(z=arguments,K=this,Be=fn,er){if(ce===void 0)return function(Ir){return Pe=Ir,ce=setTimeout(Dr,T),Xn?no(Ir):ae}(Be);if(hn)return clearTimeout(ce),ce=setTimeout(Dr,T),no(Be)}return ce===void 0&&(ce=setTimeout(Dr,T)),ae}return T=Vi(T)||0,B(M)&&(Xn=!!M.leading,le=(hn="maxWait"in M)?Zr(Vi(M.maxWait)||0,T):le,zt="trailing"in M?!!M.trailing:zt),Un.cancel=function(){ce!==void 0&&clearTimeout(ce),Pe=0,z=Be=K=ce=void 0},Un.flush=function(){return ce===void 0?ae:Kt(L())},Un},Xr=function(x,T,M){var z=!0,K=!0;if(typeof x!="function")throw new TypeError("Expected a function");return B(M)&&(z="leading"in M?!!M.leading:z,K="trailing"in M?!!M.trailing:K),Ul(x,T,{leading:z,maxWait:T,trailing:K})},$l=function(x,T){return function(M){return x(T(M))}},$e=$l(Object.getPrototypeOf,Object);var Ik=Function.prototype,Uh=Object.prototype,Za=Ik.toString,$h=Uh.hasOwnProperty,Pk=Za.call(Object);const Rk=function(x){if(!_e(x)||oe(x)!="[object Object]")return!1;var T=$e(x);if(T===null)return!0;var M=$h.call(T,"constructor")&&T.constructor;return typeof M=="function"&&M instanceof M&&Za.call(M)==Pk},Xa=function(x){return _e(x)&&x.nodeType===1&&!Rk(x)},Hh=function(){this.__data__=[],this.size=0},Hl=function(x,T){return x===T||x!=x&&T!=T},ec=function(x,T){for(var M=x.length;M--;)if(Hl(x[M][0],T))return M;return-1};var ql=Array.prototype.splice;const Bk=function(x){var T=this.__data__,M=ec(T,x);return!(M<0)&&(M==T.length-1?T.pop():ql.call(T,M,1),--this.size,!0)},pt=function(x){var T=this.__data__,M=ec(T,x);return M<0?void 0:T[M][1]},tc=function(x){return ec(this.__data__,x)>-1},nc=function(x,T){var M=this.__data__,z=ec(M,x);return z<0?(++this.size,M.push([x,T])):M[z][1]=T,this};function eo(x){var T=-1,M=x==null?0:x.length;for(this.clear();++T<M;){var z=x[T];this.set(z[0],z[1])}}eo.prototype.clear=Hh,eo.prototype.delete=Bk,eo.prototype.get=pt,eo.prototype.has=tc,eo.prototype.set=nc;const to=eo,qh=function(){this.__data__=new to,this.size=0},Wh=function(x){var T=this.__data__,M=T.delete(x);return this.size=T.size,M},tt=function(x){return this.__data__.get(x)},Wl=function(x){return this.__data__.has(x)},Gh=function(x){if(!B(x))return!1;var T=oe(x);return T=="[object Function]"||T=="[object GeneratorFunction]"||T=="[object AsyncFunction]"||T=="[object Proxy]"},Gl=O["__core-js_shared__"];var Kh=function(){var x=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}();const Qh=function(x){return!!Kh&&Kh in x};var Ok=Function.prototype.toString;const ii=function(x){if(x!=null){try{return Ok.call(x)}catch{}try{return x+""}catch{}}return""};var Nk=/^\[object .+?Constructor\]$/,Jh=Function.prototype,Mk=Object.prototype,Vk=Jh.toString,Kl=Mk.hasOwnProperty,dn=RegExp("^"+Vk.call(Kl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const jn=function(x){return!(!B(x)||Qh(x))&&(Gh(x)?dn:Nk).test(ii(x))},Lk=function(x,T){return x==null?void 0:x[T]},Ao=function(x,T){var M=Lk(x,T);return jn(M)?M:void 0},zs=Ao(O,"Map"),js=Ao(Object,"create"),dr=function(){this.__data__=js?js(null):{},this.size=0},Fk=function(x){var T=this.has(x)&&delete this.__data__[x];return this.size-=T?1:0,T};var Sr=Object.prototype.hasOwnProperty;const Yh=function(x){var T=this.__data__;if(js){var M=T[x];return M==="__lodash_hash_undefined__"?void 0:M}return Sr.call(T,x)?T[x]:void 0};var zk=Object.prototype.hasOwnProperty;const jk=function(x){var T=this.__data__;return js?T[x]!==void 0:zk.call(T,x)},Us=function(x,T){var M=this.__data__;return this.size+=this.has(x)?0:1,M[x]=js&&T===void 0?"__lodash_hash_undefined__":T,this};function Li(x){var T=-1,M=x==null?0:x.length;for(this.clear();++T<M;){var z=x[T];this.set(z[0],z[1])}}Li.prototype.clear=dr,Li.prototype.delete=Fk,Li.prototype.get=Yh,Li.prototype.has=jk,Li.prototype.set=Us;const Zh=Li,Uk=function(){this.size=0,this.__data__={hash:new Zh,map:new(zs||to),string:new Zh}},$k=function(x){var T=typeof x;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?x!=="__proto__":x===null},rc=function(x,T){var M=x.__data__;return $k(T)?M[typeof T=="string"?"string":"hash"]:M.map},Hk=function(x){var T=rc(this,x).delete(x);return this.size-=T?1:0,T},qk=function(x){return rc(this,x).get(x)},Wk=function(x){return rc(this,x).has(x)},Xh=function(x,T){var M=rc(this,x),z=M.size;return M.set(x,T),this.size+=M.size==z?0:1,this};function Fi(x){var T=-1,M=x==null?0:x.length;for(this.clear();++T<M;){var z=x[T];this.set(z[0],z[1])}}Fi.prototype.clear=Uk,Fi.prototype.delete=Hk,Fi.prototype.get=qk,Fi.prototype.has=Wk,Fi.prototype.set=Xh;const Co=Fi,Gk=function(x,T){var M=this.__data__;if(M instanceof to){var z=M.__data__;if(!zs||z.length<199)return z.push([x,T]),this.size=++M.size,this;M=this.__data__=new Co(z)}return M.set(x,T),this.size=M.size,this};function Ft(x){var T=this.__data__=new to(x);this.size=T.size}Ft.prototype.clear=qh,Ft.prototype.delete=Wh,Ft.prototype.get=tt,Ft.prototype.has=Wl,Ft.prototype.set=Gk;const Kk=Ft,Yn=function(x,T){for(var M=-1,z=x==null?0:x.length;++M<z&&T(x[M],M,x)!==!1;);return x},ef=function(){try{var x=Ao(Object,"defineProperty");return x({},"",{}),x}catch{}}(),tf=function(x,T,M){T=="__proto__"&&ef?ef(x,T,{configurable:!0,enumerable:!0,value:M,writable:!0}):x[T]=M};var nf=Object.prototype.hasOwnProperty;const Zn=function(x,T,M){var z=x[T];nf.call(x,T)&&Hl(z,M)&&(M!==void 0||T in x)||tf(x,T,M)},oc=function(x,T,M,z){var K=!M;M||(M={});for(var le=-1,ae=T.length;++le<ae;){var ce=T[le],Be=z?z(M[ce],x[ce],ce,M,x):void 0;Be===void 0&&(Be=x[ce]),K?tf(M,ce,Be):Zn(M,ce,Be)}return M},rf=function(x,T){for(var M=-1,z=Array(x);++M<x;)z[M]=T(M);return z},of=function(x){return _e(x)&&oe(x)=="[object Arguments]"};var ic=Object.prototype,Qk=ic.hasOwnProperty,Jk=ic.propertyIsEnumerable;const Yk=of(function(){return arguments}())?of:function(x){return _e(x)&&Qk.call(x,"callee")&&!Jk.call(x,"callee")},sc=Array.isArray,Zk=function(){return!1};var sf=t&&!t.nodeType&&t,af=sf&&!0&&r&&!r.nodeType&&r,Tn=af&&af.exports===sf?O.Buffer:void 0;const cf=(Tn?Tn.isBuffer:void 0)||Zk;var Xk=/^(?:0|[1-9]\d*)$/;const eb=function(x,T){var M=typeof x;return!!(T=T??9007199254740991)&&(M=="number"||M!="symbol"&&Xk.test(x))&&x>-1&&x%1==0&&x<T},zi=function(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=9007199254740991};var at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;const ac=function(x){return _e(x)&&zi(x.length)&&!!at[oe(x)]},Ql=function(x){return function(T){return x(T)}};var lf=t&&!t.nodeType&&t,$s=lf&&!0&&r&&!r.nodeType&&r,Jl=$s&&$s.exports===lf&&D.process;const ji=function(){try{var x=$s&&$s.require&&$s.require("util").types;return x||Jl&&Jl.binding&&Jl.binding("util")}catch{}}();var uf=ji&&ji.isTypedArray;const tb=uf?Ql(uf):ac;var nb=Object.prototype.hasOwnProperty;const df=function(x,T){var M=sc(x),z=!M&&Yk(x),K=!M&&!z&&cf(x),le=!M&&!z&&!K&&tb(x),ae=M||z||K||le,ce=ae?rf(x.length,String):[],Be=ce.length;for(var Pe in x)!T&&!nb.call(x,Pe)||ae&&(Pe=="length"||K&&(Pe=="offset"||Pe=="parent")||le&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||eb(Pe,Be))||ce.push(Pe);return ce};var rb=Object.prototype;const yo=function(x){var T=x&&x.constructor;return x===(typeof T=="function"&&T.prototype||rb)},cc=$l(Object.keys,Object);var ob=Object.prototype.hasOwnProperty;const ib=function(x){if(!yo(x))return cc(x);var T=[];for(var M in Object(x))ob.call(x,M)&&M!="constructor"&&T.push(M);return T},hf=function(x){return x!=null&&zi(x.length)&&!Gh(x)},Yl=function(x){return hf(x)?df(x):ib(x)},sb=function(x,T){return x&&oc(T,Yl(T),x)},ab=function(x){var T=[];if(x!=null)for(var M in Object(x))T.push(M);return T};var cb=Object.prototype.hasOwnProperty;const lb=function(x){if(!B(x))return ab(x);var T=yo(x),M=[];for(var z in x)(z!="constructor"||!T&&cb.call(x,z))&&M.push(z);return M},Zl=function(x){return hf(x)?df(x,!0):lb(x)},ub=function(x,T){return x&&oc(T,Zl(T),x)};var ff=t&&!t.nodeType&&t,pf=ff&&!0&&r&&!r.nodeType&&r,gf=pf&&pf.exports===ff?O.Buffer:void 0,Eo=gf?gf.allocUnsafe:void 0;const db=function(x,T){if(T)return x.slice();var M=x.length,z=Eo?Eo(M):new x.constructor(M);return x.copy(z),z},Xl=function(x,T){var M=-1,z=x.length;for(T||(T=Array(z));++M<z;)T[M]=x[M];return T},mf=function(x,T){for(var M=-1,z=x==null?0:x.length,K=0,le=[];++M<z;){var ae=x[M];T(ae,M,x)&&(le[K++]=ae)}return le},kf=function(){return[]};var hb=Object.prototype.propertyIsEnumerable,bf=Object.getOwnPropertySymbols;const eu=bf?function(x){return x==null?[]:(x=Object(x),mf(bf(x),function(T){return hb.call(x,T)}))}:kf,fb=function(x,T){return oc(x,eu(x),T)},xo=function(x,T){for(var M=-1,z=T.length,K=x.length;++M<z;)x[K+M]=T[M];return x},wf=Object.getOwnPropertySymbols?function(x){for(var T=[];x;)xo(T,eu(x)),x=$e(x);return T}:kf,pb=function(x,T){return oc(x,wf(x),T)},_f=function(x,T,M){var z=T(x);return sc(x)?z:xo(z,M(x))},gb=function(x){return _f(x,Yl,eu)},mb=function(x){return _f(x,Zl,wf)},tu=Ao(O,"DataView"),nu=Ao(O,"Promise"),ru=Ao(O,"Set"),ou=Ao(O,"WeakMap");var vf="[object Map]",Af="[object Promise]",Cf="[object Set]",To="[object WeakMap]",yf="[object DataView]",Hs=ii(tu),kb=ii(zs),qs=ii(nu),bb=ii(ru),wb=ii(ou),si=oe;(tu&&si(new tu(new ArrayBuffer(1)))!=yf||zs&&si(new zs)!=vf||nu&&si(nu.resolve())!=Af||ru&&si(new ru)!=Cf||ou&&si(new ou)!=To)&&(si=function(x){var T=oe(x),M=T=="[object Object]"?x.constructor:void 0,z=M?ii(M):"";if(z)switch(z){case Hs:return yf;case kb:return vf;case qs:return Af;case bb:return Cf;case wb:return To}return T});const iu=si;var _b=Object.prototype.hasOwnProperty;const vb=function(x){var T=x.length,M=new x.constructor(T);return T&&typeof x[0]=="string"&&_b.call(x,"index")&&(M.index=x.index,M.input=x.input),M},Ef=O.Uint8Array,su=function(x){var T=new x.constructor(x.byteLength);return new Ef(T).set(new Ef(x)),T},Ab=function(x,T){var M=T?su(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.byteLength)};var Cb=/\w*$/;const yb=function(x){var T=new x.constructor(x.source,Cb.exec(x));return T.lastIndex=x.lastIndex,T};var xf=ge?ge.prototype:void 0,Tf=xf?xf.valueOf:void 0;const Eb=function(x){return Tf?Object(Tf.call(x)):{}},xb=function(x,T){var M=T?su(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.length)},Tb=function(x,T,M){var z=x.constructor;switch(T){case"[object ArrayBuffer]":return su(x);case"[object Boolean]":case"[object Date]":return new z(+x);case"[object DataView]":return Ab(x,M);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xb(x,M);case"[object Map]":case"[object Set]":return new z;case"[object Number]":case"[object String]":return new z(x);case"[object RegExp]":return yb(x);case"[object Symbol]":return Eb(x)}};var ai=Object.create;const Sf=function(){function x(){}return function(T){if(!B(T))return{};if(ai)return ai(T);x.prototype=T;var M=new x;return x.prototype=void 0,M}}(),Sb=function(x){return typeof x.constructor!="function"||yo(x)?{}:Sf($e(x))},Db=function(x){return _e(x)&&iu(x)=="[object Map]"};var Df=ji&&ji.isMap;const Ib=Df?Ql(Df):Db,Pb=function(x){return _e(x)&&iu(x)=="[object Set]"};var Ws=ji&&ji.isSet;const Rb=Ws?Ql(Ws):Pb;var If="[object Arguments]",Pf="[object Function]",Rf="[object Object]",nt={};nt[If]=nt["[object Array]"]=nt["[object ArrayBuffer]"]=nt["[object DataView]"]=nt["[object Boolean]"]=nt["[object Date]"]=nt["[object Float32Array]"]=nt["[object Float64Array]"]=nt["[object Int8Array]"]=nt["[object Int16Array]"]=nt["[object Int32Array]"]=nt["[object Map]"]=nt["[object Number]"]=nt[Rf]=nt["[object RegExp]"]=nt["[object Set]"]=nt["[object String]"]=nt["[object Symbol]"]=nt["[object Uint8Array]"]=nt["[object Uint8ClampedArray]"]=nt["[object Uint16Array]"]=nt["[object Uint32Array]"]=!0,nt["[object Error]"]=nt[Pf]=nt["[object WeakMap]"]=!1;const Bb=function x(T,M,z,K,le,ae){var ce,Be=1&M,Pe=2&M,Xn=4&M;if(z&&(ce=le?z(T,K,le,ae):z(T)),ce!==void 0)return ce;if(!B(T))return T;var hn=sc(T);if(hn){if(ce=vb(T),!Be)return Xl(T,ce)}else{var zt=iu(T),no=zt==Pf||zt=="[object GeneratorFunction]";if(cf(T))return db(T,Be);if(zt==Rf||zt==If||no&&!le){if(ce=Pe||no?{}:Sb(T),!Be)return Pe?pb(T,ub(ce,T)):fb(T,sb(ce,T))}else{if(!nt[zt])return le?T:{};ce=Tb(T,zt,Be)}}ae||(ae=new Kk);var ci=ae.get(T);if(ci)return ci;ae.set(T,ce),Rb(T)?T.forEach(function(Kt){ce.add(x(Kt,M,z,Kt,T,ae))}):Ib(T)&&T.forEach(function(Kt,Un){ce.set(Un,x(Kt,M,z,Un,T,ae))});var Dr=hn?void 0:(Xn?Pe?mb:gb:Pe?Zl:Yl)(T);return Yn(Dr||T,function(Kt,Un){Dr&&(Kt=T[Un=Kt]),Zn(ce,Un,x(Kt,M,z,Un,T,ae))}),ce},Ob=function(x,T){return Bb(x,5,T=typeof T=="function"?T:void 0)};class au extends C{constructor(T,M={}){super(M),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Xr(this._save.bind(this),typeof M.saveInterval=="number"?M.saveInterval:5e3),T&&(this._creator=(z,K)=>T.create(z,K)),this._destructor=z=>z.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(T){this._creator=T}setDestructor(T){this._destructor=T}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(T=>{console.error("An error happened during the editor destroying.",T)}).then(()=>{const T={},M=[],z=this._config.rootsAttributes||{},K={};for(const[ae,ce]of Object.entries(this._data.roots))ce.isLoaded?(T[ae]="",K[ae]=z[ae]||{}):M.push(ae);const le={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:M,rootsAttributes:K,_watchdogInitialData:this._data};return delete le.initialData,le.extraPlugins.push(Ui),this._initUsingData?this.create(T,le,le.context):Xa(this._elementOrData)?this.create(this._elementOrData,le,le.context):this.create(this._editables,le,le.context)}).then(()=>{this._fire("restart")})}create(T=this._elementOrData,M=this._config,z){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=T,this._initUsingData=typeof T=="string"||Object.keys(T).length>0&&typeof Object.values(T)[0]=="string",this._config=this._cloneEditorConfiguration(M)||{},this._config.context=z,this._creator(T,this._config))).then(K=>{this._editor=K,K.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=K.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const T=this._editor;return this._editor=null,T.model.document.off("change:data",this._throttledSave),this._destructor(T)})}_save(){const T=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=T}catch(M){console.error(M,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(T){this._excludedProps=T}_getData(){const T=this._editor,M=T.model.document.roots.filter(ce=>ce.isAttached()&&ce.rootName!="$graveyard"),{plugins:z}=T,K=z.has("CommentsRepository")&&z.get("CommentsRepository"),le=z.has("TrackChanges")&&z.get("TrackChanges"),ae={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};M.forEach(ce=>{ae.roots[ce.rootName]={content:JSON.stringify(Array.from(ce.getChildren())),attributes:JSON.stringify(Array.from(ce.getAttributes())),isLoaded:ce._isLoaded}});for(const ce of T.model.markers)ce._affectsData&&(ae.markers[ce.name]={rangeJSON:ce.getRange().toJSON(),usingOperation:ce._managedUsingOperations,affectsData:ce._affectsData});return K&&(ae.commentThreads=JSON.stringify(K.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),le&&(ae.suggestions=JSON.stringify(le.getSuggestions({toJSON:!0,skipNotAttached:!0}))),ae}_getEditables(){const T={};for(const M of this.editor.model.document.getRootNames()){const z=this.editor.ui.getEditableElement(M);z&&(T[M]=z)}return T}_isErrorComingFromThisItem(T){return R(this._editor,T.context,this._excludedProps)}_cloneEditorConfiguration(T){return Ob(T,(M,z)=>Xa(M)||z==="context"?M:void 0)}}class Ui{constructor(T){this.editor=T,this._data=T.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",T=>{T.stop(),this.editor.model.enqueueChange({isUndoable:!1},M=>{this._restoreCollaborationData(),this._restoreEditorData(M)}),this.editor.data.fire("ready")},{priority:999})}_createNode(T,M){if("name"in M){const z=T.createElement(M.name,M.attributes);if(M.children)for(const K of M.children)z._appendChild(this._createNode(T,K));return z}return T.createText(M.data,M.attributes)}_restoreEditorData(T){const M=this.editor;Object.entries(this._data.roots).forEach(([z,{content:K,attributes:le}])=>{const ae=JSON.parse(K),ce=JSON.parse(le),Be=M.model.document.getRoot(z);for(const[Pe,Xn]of ce)T.setAttribute(Pe,Xn,Be);for(const Pe of ae){const Xn=this._createNode(T,Pe);T.insert(Xn,Be,"end")}}),Object.entries(this._data.markers).forEach(([z,K])=>{const{document:le}=M.model,{rangeJSON:{start:ae,end:ce},...Be}=K,Pe=le.getRoot(ae.root),Xn=T.createPositionFromPath(Pe,ae.path,ae.stickiness),hn=T.createPositionFromPath(Pe,ce.path,ce.stickiness),zt=T.createRange(Xn,hn);T.addMarker(z,{range:zt,...Be})})}_restoreCollaborationData(){const T=JSON.parse(this._data.commentThreads),M=JSON.parse(this._data.suggestions);T.forEach(z=>{const K=this.editor.config.get("collaboration.channelId"),le=this.editor.plugins.get("CommentsRepository");le.hasCommentThread(z.threadId)&&le.getCommentThread(z.threadId).remove(),le.addCommentThread({channelId:K,...z})}),M.forEach(z=>{const K=this.editor.plugins.get("TrackChangesEditing");K.hasSuggestion(z.id)?K.getSuggestion(z.id).attributes=z.attributes:K.addSuggestionData(z)})}}const So=Symbol("MainQueueId");class cu extends C{constructor(T,M={}){super(M),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Nb,this._watchdogConfig=M,this._creator=z=>T.create(z),this._destructor=z=>z.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(T){this._creator=T}setDestructor(T){this._destructor=T}get context(){return this._context}create(T={}){return this._actionQueues.enqueue(So,()=>(this._contextConfig=T,this._create()))}getItem(T){return this._getWatchdog(T)._item}getItemState(T){return this._getWatchdog(T).state}add(T){const M=Bf(T);return Promise.all(M.map(z=>this._actionQueues.enqueue(z.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let K;if(this._watchdogs.has(z.id))throw new Error(`Item with the given id is already added: '${z.id}'.`);if(z.type==="editor")return K=new au(null,this._watchdogConfig),K.setCreator(z.creator),K._setExcludedProperties(this._contextProps),z.destructor&&K.setDestructor(z.destructor),this._watchdogs.set(z.id,K),K.on("error",(le,{error:ae,causesRestart:ce})=>{this._fire("itemError",{itemId:z.id,error:ae}),ce&&this._actionQueues.enqueue(z.id,()=>new Promise(Be=>{const Pe=()=>{K.off("restart",Pe),this._fire("itemRestart",{itemId:z.id}),Be()};K.on("restart",Pe)}))}),K.create(z.sourceElementOrData,z.config,this._context);throw new Error(`Not supported item type: '${z.type}'.`)})))}remove(T){const M=Bf(T);return Promise.all(M.map(z=>this._actionQueues.enqueue(z,()=>{const K=this._getWatchdog(z);return this._watchdogs.delete(z),K.destroy()})))}destroy(){return this._actionQueues.enqueue(So,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(So,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(T=>{console.error("An error happened during destroying the context or items.",T)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(T=>(this._context=T,this._contextProps=E(this._context),Promise.all(Array.from(this._watchdogs.values()).map(M=>(M._setExcludedProperties(this._contextProps),M.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const T=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(M=>M.destroy())).then(()=>this._destructor(T))})}_getWatchdog(T){const M=this._watchdogs.get(T);if(!M)throw new Error(`Item with the given id was not registered: ${T}.`);return M}_isErrorComingFromThisItem(T){for(const M of this._watchdogs.values())if(M._isErrorComingFromThisItem(T))return!1;return R(this._context,T.context)}}class Nb{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(T){this._onEmptyCallbacks.push(T)}enqueue(T,M){const z=T===So;this._activeActions++,this._queues.get(T)||this._queues.set(T,Promise.resolve());const K=(z?Promise.all(this._queues.values()):Promise.all([this._queues.get(So),this._queues.get(T)])).then(M),le=K.catch(()=>{});return this._queues.set(T,le),K.finally(()=>{this._activeActions--,this._queues.get(T)===le&&this._activeActions===0&&this._onEmptyCallbacks.forEach(ae=>ae())})}}function Bf(x){return Array.isArray(x)?x:[x]}const Do=k().createContext("contextWatchdog");class Io extends k().Component{constructor(T,M){super(T,M),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(T){return this._shouldComponentUpdate(T)}async _shouldComponentUpdate(T){return T.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(T.config)),T.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(T.config),!0):this.props.children!==T.children}render(){return k().createElement(Do.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(T){this.contextWatchdog=new cu(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(M,z)=>{this.props.onError(z.error,{phase:"runtime",willContextRestart:z.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(T).catch(M=>{this.props.onError(M,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Io.defaultProps={isLayoutReady:!0,onError:(x,T)=>console.error(x,T)},Io.propTypes={id:A().string,isLayoutReady:A().bool,context:A().func,watchdogConfig:A().object,config:A().object,onReady:A().func,onError:A().func};const lu="Lock from React integration (@ckeditor/ckeditor5-react)";class $i extends k().Component{constructor(T){super(T),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:M}=window;if(M){const[z]=M.split(".").map(Number);z<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(T){return!!this.editor&&(T.id!==this.props.id||T.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(T)&&this.editor.data.set(T.data),"disabled"in T&&(T.disabled?this.editor.enableReadOnlyMode(lu):this.editor.disableReadOnlyMode(lu)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof cu?this.watchdog=new Of(this.context):this.watchdog=new $i._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((T,M)=>this._createEditor(T,M)),this.watchdog.on("error",(T,{error:M,causesRestart:z})=>{(this.props.onError||console.error)(M,{phase:"runtime",willEditorRestart:z})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(T=>{(this.props.onError||console.error)(T,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(T,M){return this.props.editor.create(T,M).then(z=>{"disabled"in this.props&&this.props.disabled&&z.enableReadOnlyMode(lu);const K=z.model.document,le=z.editing.view.document;return K.on("change:data",ae=>{this.props.onChange&&this.props.onChange(ae,z)}),le.on("focus",ae=>{this.props.onFocus&&this.props.onFocus(ae,z)}),le.on("blur",ae=>{this.props.onBlur&&this.props.onBlur(ae,z)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(z)}),z})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(T=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,T()):this.instance?(await this.instance.destroy(),this.instance=null,T()):void T())})}_shouldUpdateEditor(T){return this.props.data!==T.data&&this.editor.data.get()!==T.data}_getConfig(){const T=this.props.config||{};return this.props.data&&T.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...T,initialData:T.initialData||this.props.data||""}}}$i.contextType=Do,$i.propTypes={editor:A().func.isRequired,data:A().string,config:A().object,disableWatchdog:A().bool,watchdogConfig:A().object,onChange:A().func,onReady:A().func,onFocus:A().func,onBlur:A().func,onError:A().func,disabled:A().bool,id:A().any},$i._EditorWatchdog=au;class Of{constructor(T){this._contextWatchdog=T,this._id=function(){const M=4294967296*Math.random()>>>0,z=4294967296*Math.random()>>>0,K=4294967296*Math.random()>>>0,le=4294967296*Math.random()>>>0;return"e"+_[M>>0&255]+_[M>>8&255]+_[M>>16&255]+_[M>>24&255]+_[z>>0&255]+_[z>>8&255]+_[z>>16&255]+_[z>>24&255]+_[K>>0&255]+_[K>>8&255]+_[K>>16&255]+_[K>>24&255]+_[le>>0&255]+_[le>>8&255]+_[le>>16&255]+_[le>>24&255]}()}setCreator(T){this._creator=T}create(T,M){return this._contextWatchdog.add({sourceElementOrData:T,config:M,creator:this._creator,id:this._id,type:"editor"})}on(T,M){this._contextWatchdog.on("itemError",(z,{itemId:K,error:le})=>{K===this._id&&M(null,{error:le,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Hi="Lock from React integration (@ckeditor/ckeditor5-react)",Mb=x=>{let T=null;const M=(0,m.useRef)(null),z=(0,m.useContext)(Do),[K,le]=(0,m.useState)(null),[ae,ce]=(0,m.useState)(x.data),[Be,Pe]=(0,m.useState)(x.rootsAttributes||{}),[Xn,hn]=(0,m.useState)([]),zt=(0,m.useRef)(!0),no=(0,m.useRef)(null),ci=k().createElement("div",{ref:no});(0,m.useEffect)(()=>((async()=>(await M.current,x.isLayoutReady!==!1&&er()))(),()=>{fn().then(()=>{M.current=null})}),[x.isLayoutReady]),(0,m.useEffect)(()=>{K&&(x.disabled?K.enableReadOnlyMode(Hi):K.disableReadOnlyMode(Hi))},[x.disabled]),(0,m.useEffect)(()=>{const De=no.current;if(K&&!M.current){const ct=K.getFullData();ce({...ct}),Pe({...K.getRootsAttributes()}),hn([...Object.keys(ct).map(Ne=>Kt(K,Ne))]),De&&De.appendChild(K.ui.view.toolbar.element)}return()=>{De&&De.firstChild&&De.removeChild(De.firstChild)}},[K&&K.id]);const Dr=()=>{const De=x.config||{};return x.data&&De.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...De,rootsAttributes:Be}},Kt=(De,ct)=>k().createElement("div",{id:ct,key:ct,ref:Ne=>{if(Ne){const Pr=De.ui.view.createEditable(ct,Ne);De.ui.addEditable(Pr),De.editing.view.forceRender()}}}),Un=(De,ct)=>x.editor.create(De,ct).then(Ne=>{x.disabled&&x.disabled&&Ne.enableReadOnlyMode(Hi);const Pr=Ne.model.document,Po=Ne.editing.view.document;return Pr.on("change:data",hr=>((Rr,Br)=>{const pn=Rr.model.document,Or={},$n={};pn.differ.getChanges().forEach(Et=>{let Xt;if(Xt=Et.type=="insert"||Et.type=="remove"?Et.position.root:Et.range.root,!Xt.isAttached())return;const{rootName:qi}=Xt;Or[qi]=Rr.getData({rootName:qi})}),pn.differ.getChangedRoots().forEach(Et=>{if(Et.state)return void(Or[Et.name]!==void 0&&delete Or[Et.name]);const Xt=Et.name;$n[Xt]=Rr.getRootAttributes(Xt)}),Object.keys(Or).length&&ce(Et=>({...Et,...Or})),Object.keys($n).length&&Pe(Et=>({...Et,...$n})),x.onChange&&x.onChange(Br,Rr)})(Ne,hr)),Ne.on("addRoot",(hr,Rr)=>((Br,pn,Or)=>{const $n=Or.rootName,Et=Kt(Br,$n);ce(Xt=>({...Xt,[$n]:Br.getData({rootName:$n})})),Pe(Xt=>({...Xt,[$n]:Br.getRootAttributes($n)})),hn(Xt=>[...Xt,Et])})(Ne,0,Rr)),Ne.on("detachRoot",(hr,Rr)=>((Br,pn,Or)=>{const $n=Or.rootName;hn(Et=>Et.filter(Xt=>Xt.props.id!==$n)),ce(Et=>{const{[$n]:Xt,...qi}=Et;return{...qi}}),Pe(Et=>{const{[$n]:Xt,...qi}=Et;return{...qi}}),Br.detachEditable(Or)})(Ne,0,Rr)),Po.on("focus",hr=>{x.onFocus&&x.onFocus(hr,Ne)}),Po.on("blur",hr=>{x.onBlur&&x.onBlur(hr,Ne)}),le(Ne),x.onReady&&x.onReady(Ne),Ne}),fn=async()=>{le(null),ce({}),Pe({}),hn([]),M.current=new Promise(De=>{setTimeout(async()=>T?(await T.destroy(),T=null,De()):K?(await K.destroy(),De()):void De())})},er=async()=>{x.disableWatchdog?await Un(x.data,Dr()):T||(T=z instanceof cu?new Of(z):new au(x.editor,x.watchdogConfig),T.setCreator((De,ct)=>Un(De,ct)),T.on("error",(De,{error:ct,causesRestart:Ne})=>{(x.onError||console.error)(ct,{phase:"runtime",willEditorRestart:Ne})}),await T.create(ae,Dr()).catch(De=>{(x.onError||console.error)(De,{phase:"initialization",willEditorRestart:!1})}))};(0,m.useEffect)(()=>{if(K&&zt.current){zt.current=!1;const De=Object.keys(ae),ct=Object.keys(Be);if(!De.every(pn=>ct.includes(pn)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Ne=K.getFullData(),Pr=K.getRootsAttributes(),{addedKeys:Po,removedKeys:hr}=Ir(Ne,ae||{}),Rr=De.some(pn=>Ne[pn]!==void 0&&JSON.stringify(Ne[pn])!==JSON.stringify(ae[pn])),Br=ct.filter(pn=>JSON.stringify(Pr[pn])!==JSON.stringify(Be[pn]));K.model.change(pn=>{Vb(Po),Nf(hr),Rr&&Lb(),Br.length&&Fb(pn,Br)})}},[ae,Be]);const Ir=(De,ct)=>{const Ne=Object.keys(De),Pr=Object.keys(ct);return{addedKeys:Pr.filter(Po=>!Ne.includes(Po)),removedKeys:Ne.filter(Po=>!Pr.includes(Po))}},Vb=De=>{De.forEach(ct=>{K.addRoot(ct,{data:ae[ct]||"",attributes:(Be==null?void 0:Be[ct])||{},isUndoable:!0})})},Nf=De=>{De.forEach(ct=>{K.detachRoot(ct,!0)})},Lb=()=>{K.data.set(ae,{suppressErrorInCollaboration:!0})},Fb=(De,ct)=>{ct.forEach(Ne=>{Object.keys(Be[Ne]).forEach(Pr=>{K.registerRootAttribute(Pr)}),De.clearAttributes(K.model.document.getRoot(Ne)),De.setAttributes(Be[Ne],K.model.document.getRoot(Ne))})},Gs=(0,m.useCallback)(De=>{zt.current=!0,ce(De)},[ce]),zb=(0,m.useCallback)(De=>{zt.current=!0,Pe(De)},[Pe]);return{editor:K,editableElements:Xn,toolbarElement:ci,data:ae,setData:Gs,attributes:Be,setAttributes:zb}}})(),f})())})(Sm,Sm.exports);var Jde=Sm.exports;const Yde=()=>{const[r,t]=J.useState({title:"",content:"",picture:"",summary:""}),[o,c]=J.useState({title:!1,summary:!1}),[u,d]=J.useState(null),f=(A,_)=>{const C=_.getData();t({...r,content:C})},m=A=>{const _=A.target.value,C=A.target.name;t({...r,[C]:_}),c({...o,[C]:_.trim()!==""})},k=async A=>{const _=yk(jl,"posts");await cM(_,A)},w=async A=>{try{A.preventDefault();let _="";if(u){const C=await Bde(u);_=await Ode(C.ref.fullPath)}else _=r.picture;r.picture=_,Object.values(o).every(C=>C===!0)?(k(r),alert("Post Creado"),r.title="",r.content="",r.picture="",r.summary="",d(""),c({title:!1,summary:!1})):alert("Completa el formulario")}catch(_){throw console.log(_.message),new _}};return j.jsx("div",{className:"containerForm",children:j.jsxs("form",{onSubmit:w,className:"formulario",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"title",children:"Titulo del Post"}),j.jsx("input",{type:"text",name:"title",placeholder:"Titulo",id:"titulo",value:r.title,onChange:m})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"summary",children:"Resumen del Post"}),j.jsx("input",{type:"text",name:"summary",placeholder:"Resumen",id:"summary",value:r.summary,onChange:m})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"picture",children:"Foto del Post URL (recomendado HD)"}),j.jsx("input",{type:"text",name:"picture",placeholder:"URL de la Foto",id:"picture",value:r.picture,onChange:m})]}),j.jsx("h3",{style:{margin:"0px",padding:"0px",textAlign:"center"},children:"o"}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"picture",children:"Foto del Post desde PC (recomendado HD)"}),j.jsx("input",{type:"file",name:"picture",id:"picture",accept:"image/png, image/jpeg",onChange:A=>d(A.target.files[0])})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"content",children:"Contenido del Post"}),j.jsx(Jde.CKEditor,{editor:Qde,data:r.content,onChange:f})]}),j.jsx("button",{type:"submit",children:"Crear Post"})]})})},Zde=({id:r,title:t,summary:o,picture:c,content:u})=>j.jsxs("div",{className:"containerPost",children:[j.jsxs("header",{children:[j.jsx("h1",{className:"postTitle",children:t}),j.jsx("h4",{className:"postSummary",children:o})]}),j.jsx("picture",{className:"postPicture",children:j.jsx("img",{src:c,alt:`${t}-img`})}),j.jsx("hr",{}),j.jsx("div",{className:"postContent",children:j.jsx("div",{dangerouslySetInnerHTML:{__html:u},className:"postText"})})]},r),Xde=()=>{const[r,t]=J.useState([]),[o,c]=J.useState(!0),{postId:u}=Bte();return J.useEffect(()=>{c(!0);const d=E1(jl,"posts",u);iM(d).then(f=>{const m={id:f.id,...f.data()};t(m)}).catch(f=>console.error(f)).finally(()=>c(!1))},[u]),o?j.jsx(h6,{}):j.jsx(Zde,{...r})},ehe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAq5SURBVHic7Z17sFVVHce/S1IDLVIIUwolErMQ6SnqiIhaYgg6ymDvcqT3a6y0kims0Rp752gWPZypqWxg0gwlwdBr46gl5SMEE5EEUzDgKhhc772f/lj3THfg3HP23mf99tr7nP2ZYZi5c2ev3/e39rln77V+6/uTOgzgROCHwGpgx8C/1cA1wAmx46swAjgUuInm3Ai8Ina8FQEBjgYeTzD5NR4Hjo4dd0UAgAnAphSTX+Np4KjY8Ve0ADAWeCzD5Nf4F3B4bB0VGQBejn+4a5VHqJ4JygUwErgvwOTXuB84OLauigQAI4CugJNf427gwNj6KhoA7AfcYjD5NW4DXhxbZ0UdgGHAYsPJr/F7YN/YeisGAewD/CqHya+xGBgWW3eFJMAB1+Y4+TV+DrjY+jse4MoIk1/j+7H1dzTAwoiTX+MrsfPQkQCfij3zg/h87Hx0FMAHgP7Ysz6IfuDDsfPSEQDnAr2RJ7wefcA7Y+enrQHOAnoiT3QjeoFzY+cpDaV5jQFmSFoqqegrcT2S5jjnlsUOJAmluAGA4yStkFSWtfjnJZ3hnLszdiDNKPwNAEyWtFJS2XbjuiXNcM6tih1IIwp9A+ArcrokjTEa4taB/99mdP3NkqY559YaXb99AV5Fujq+tNwFHIjfPr7DcJyNwPjY+SwVwBhgjeGk/B04aNB4LwX+Yjjeo8BhMXNaGoDRwEOGk7EWOCTCuGvqjVsxCOw/iRuAcQ3GPwTbvzx/Y9BfnopBAMOB2w2TvxF4dYI4xmH/7HFAHjktDfhSrqWGSd8CvC5FPEcCTxnGsxzY3zKnpQFfynW9YbK3A2/KENdk4D+Gcf0OeJFFTksDvprnJ4ZJ3gmc1EJ8U4HnDOP7BbBPyJyWCuA7hsndDcwMEOMM4L+GcV4dIpelA/i6YVJ7gbkBY52N7S7kd0PFWgqALxkmsx+4wCDm87CtQ/hi6JgLCfBxwyT2Ax8xjN26Eukiq9gLAfBefOWMFZfkoMGyFrEfuNBaQxSAs4EXDJN3WY5aLjPU0QvMy0tLLgCnA7sMk3ZVBE3fNNTTA7wjb00mACfgjZisuI4I79L4NYwfGep6Hjg5b11BAaYA2wyTtISIq2nYn0nsBt4SS19LAJOAZwyT80cKsJ4O7Esy97GsbAOmxNaZCrwx05OGSfkzBdpRw29mLTPUWx7DKuCVtGbM1Ix7gJfE1rkn+NKyOw11F9+winDGTEPxADAqts6hILw30Z4U17AqB/H/BA6NrbMZ5PMhKFaJPPZ//p4AjoitMynYfw3eTVG+BsnnAei1sXWmhewOpUn5E7ENq8jnFegNUUW2AO38Koz9IsgO4MQo4gJCPoth+RpWkc8y6PRcRRlCPsvh+R3zw34jZFZuYnIC+w2xH+QlxHor9PxchEQA+y3xhdYCrIsh5psKKADYF8VcbBW4dTnUZ00CLyDAxwzzGN6wCvuCyAVBAy4B2BbG9gHvChWodUn094IEWkKAKwzz2guc12qA1ocifkaH++0C3zbM727gjKyBTcL2WNQv6eRjUQPgF9SuM8zzc8Ckocav++nDLy/eL8mqCOEGSXOdc71G1x8S/Pn82ZKmSxo78ONN8kZUNznntkWIaZik6yVZeQyulTTZOdeTNKCPGt6RK4iwiYHft7gUeLZBbN34h7PcG0LgN9X+YJj35AdmgFVGQUQp5cLXKqxIEedyYGSEOC0Nq+5LGsTB2CxUrCJeUrPUKkTZc8fOJqePJNVUwLEGg9c1ZrKG1msVouy5Ay/D+wmFZvKeY9V7Ct8vsJ718o6ZTwe+bkPw3+NLJL29hcucIulGct5zd85tl3SmpEcDX3p4098ADgt4x20igTFTaAhfq5D/nrtMzDKbF5Ti9/rXBxgslTFTKLCrVch3z/3/eo7Cl8W1ymNpBm3VvWM78EbDvDSK3bJWIZ899701HQtsbTH2y9MMeBDZa9l2AtMM89EobstahRoLI2k7jsZrGI3YStrzFPjWLGlfB3cBVs7bzeLNs4mUzZ57c41Z9mb6gHOyDvghku8EbgdOC6w5aZx5N5GK1iQKOIXkXwc9tFpkAxxP84WJm4GJgTSmjc+6VmEowu25p9f8GnwP40bcCxzf7FqJnmrxT7/TJM2U9HpJIyVtkfSQpCXOuQda0JMZYLakxZJiNXPuk3S+c25xjMGBYyTNkTRF0mhJz0paI99bqcs5R4y4cgH7WoWkZN9zLwClLMYApkparuI0kSpNk6g9Kd0NQHGbSHVLOtU5l2zXrSCU6gYAjpRvIlXMM/L+uWi6c2517ECSUpobAN/po0tSsV0yfHXRSc659bEDSUIpavLwW8m3qviTL/kys+WUpElU4W8AYLSk22RXn2jBBEkrKUGTqELfAPgKomXyaw8WrBv4Z8FESUuJUAXVFpBTQ0dyalAZO5+lAl/KdbPhpGxmUK0CvknUvw3HW05sO5eygG8i9VvDyajbRAr7JlE30OlNoppB5CZS+D33qklUDPCTf41h8hOt2WO/x/BTOvw8ZF2AbxgmPdVJWaomUfkCLDBMdqZ9e3xFlGWdwaUWuSwd2DeRyly5Q+WKYgvwPgrul0Pli2QDcA4lccwCFhrG2dbOaHWhhJ55wJWG8bZPk6hmUFLXTPxr6rWGcbeVO2pdgLeS/XBDEkybSFH5I2cHOIY2cM7GL1UvNtRRaof0uuDr2C2bSOV6jh+/WXWLoZ5S9kioC757xnrDZMVy8hgBdBnqKlWXlLrg++c8bJikqP1zqPokDc1AcqzMpmrJiV4dTCc2iWoGcAD2PfSOiK2zBjCWDuyVWBdgOLDSMBmFfEDCvklUobql1oUObyKFt3N5ylB/Ifol1wX/fvxrQ/Gl6KSNbxLVqp1LI6J2TK8Lfpn0x4aiS7VMivdUsF7uLk5pGfAtQ7Gl3CgBTsN2w+uq2BolScDXDEX2AvNia8wK9k2ivhpb4KcNxfUDF0YVGADgPdgWvVwSS9gHqcqlEoF9k6jkVvCBBFnf1W1XMAl8xjBf/cAFeQmZg+33WtuWTAOXG+atF5hrLeBUbA9NXG0qoABg3yRqplXgU6mOTbUMfs1kkWEew1v1EsasuBEddXASv2r6G8N8dgNvDhXsRGzXtzvy6DR+38SySVTrdv3AOGCDYZAdbZ6A/c5p9oYdwGhgnWFwf6WyT6k1ibrXMM/r8D5LqYJytNZsqRn/SB1UGwOMAh40zPcy0pyVAM4yDGYD3vOvYhDAGGzrJ2elCSZNk8U0bATGG+ax1ACH48vdLFhRb8y9/iwAIyRtlRS68mSLpJOdcw8Hvm5bge+70CUptMfgbkmjnHM7B/+w3sLLeIWf/G5JM6vJb45z7hFJp8t/CEOyv+o4rda7AUK/lu2UdGbZXLRj4px7UL5x5I7Al97rraveDbA54IA98m3i7wp4zY7AOXePfJv7XQEv+2TT38AvU4bwy3sBmBMw+I4EmEUYw6pnSNr9FG9l1gp9wLuNc9MxAPNo3bBqUZoBJ+C3FrOQf4VKBwC8n+wVWLtJ29UN+HLGwT5nlIOOh+xVRQuyDJbWtrWfSB01OwngItKV4y2iFcsc4JM0t3V5Ajg7oM6KBuCdTJutGHYDnwg14CjgC8DteKv1Xvyy7jJgPkU/tNiG4LeS5wNLB+aiB1+3cQdwMQmPlP8PCeXQFgRFqWQAAAAASUVORK5CYII=",the=()=>{const[r,t]=J.useState(!1);J.useEffect(()=>{const c=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};if(r)return j.jsx("button",{className:"scroll-button",onClick:o,children:j.jsx("img",{src:ehe,alt:"Boton subir"})})},nhe=()=>{const[r,t]=J.useState(!1),[o,c]=J.useState(""),[u,d]=J.useState(""),f=Sy(),m=async k=>{try{if(k.preventDefault(),r===!0){await Kce(Tm,o,u);const w=yk(jl,"users");await cM(w,{email:o,rol:"user"})}else await Qce(Tm,o,u);f("/")}catch(w){console.log(w.message),w.code==="auth/email-already-in-use"?alert("El email ya se esta usando"):w.code==="auth/invalid-email"?alert("Email invalido"):w.code==="auth/weak-password"?alert("La contraseña es muy debil"):w.code&&alert("Algo salio mal")}};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"containerLogin",children:j.jsxs("form",{className:"styleForm",onSubmit:m,children:[j.jsx("h1",{children:r?"Registrate":"Inicia sesion"}),j.jsxs("div",{children:[j.jsxs("div",{children:[j.jsx("label",{children:"Email"}),j.jsx("input",{type:"email",name:"email",id:"email",placeholder:"",autoComplete:"off",required:!0,value:o,onChange:k=>c(k.target.value)})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Contraseña"}),j.jsx("input",{type:"password",name:"password",id:"password",placeholder:"",autoComplete:"off",required:!0,value:u,onChange:k=>d(k.target.value)})]})]}),j.jsx("button",{className:"buttonChange",type:"submit",children:r?"Registrate":"Inicia sesion"})]})}),j.jsx("br",{}),j.jsx("button",{className:"buttonChange",onClick:()=>t(!r),children:r?"Ya tengo una cuenta":"Quiero registrarme"})]})},rhe=({redirectPath:r="/"})=>{const{user:t}=s6();return t&&t.email==="micamarco@gmail.com"&&t.uid==="NBPITtX9YiThi48aBiEVlMOFwFG2"?j.jsx(Kte,{}):j.jsx(Gte,{to:r,replace:!0})},ohe=()=>j.jsxs(one,{children:[j.jsx(Mde,{}),j.jsxs(Jte,{children:[j.jsx(ma,{exact:!0,path:"/",element:j.jsx(Kde,{})}),j.jsx(ma,{exact:!0,path:"/post/:postId",element:j.jsx(Xde,{})}),j.jsx(ma,{element:j.jsx(rhe,{}),children:j.jsx(ma,{exact:!0,path:"/publicar-post",element:j.jsx(Yde,{})})}),j.jsx(ma,{exact:!0,path:"/login",element:j.jsx(nhe,{})}),j.jsx(ma,{path:"*",element:j.jsx("h1",{children:"Error 404"})})]}),j.jsx(the,{}),j.jsx(jde,{})]}),ihe=()=>{const[r,t]=J.useState(""),[o,c]=J.useState("");return J.useEffect(()=>{typeof window<"u"&&fetch("https://criptoya.com/api/dolar").then(d=>d.json()).then(d=>{t(`Dolar Blue venta: $${d.blue.ask}`),c(`Dolar Blue compra: $${d.blue.bid}`)}).catch(d=>console.error(d))},[]),j.jsxs("div",{className:"dPrices",children:[j.jsx("p",{className:"dStylePrices",children:r}),j.jsx("p",{className:"dStylePrices",children:o})]})},she="modulepreload",ahe=function(r){return"https://facundomarcobacigalupo.github.io/Blog/"+r},e4={},fa=function(t,o,c){let u=Promise.resolve();if(o&&o.length>0){const d=document.getElementsByTagName("link");u=Promise.all(o.map(f=>{if(f=ahe(f),f in e4)return;e4[f]=!0;const m=f.endsWith(".css"),k=m?'[rel="stylesheet"]':"";if(!!c)for(let _=d.length-1;_>=0;_--){const C=d[_];if(C.href===f&&(!m||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${k}`))return;const A=document.createElement("link");if(A.rel=m?"stylesheet":she,m||(A.as="script",A.crossOrigin=""),A.href=f,document.head.appendChild(A),m)return new Promise((_,C)=>{A.addEventListener("load",_),A.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}return u.then(()=>t()).catch(d=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d})},che=()=>{const[r,t]=J.useState({}),[o,c]=J.useState("");async function u(w){switch(w.weather[0].main){case"Thunderstorm":c(await fa(()=>import("./thunder-Dw-6fzd1.js"),__vite__mapDeps([])));break;case"Drizzle":c(await fa(()=>import("./rainy-2-CNqXcRon.js"),__vite__mapDeps([])));break;case"Rain":c(await fa(()=>import("./rainy-7-BxPUcVZe.js"),__vite__mapDeps([])));break;case"Snow":c(await fa(()=>import("./snowy-6-Bl60x7OE.js"),__vite__mapDeps([])));break;case"Clear":c(await fa(()=>import("./day-CE9-ByzA.js"),__vite__mapDeps([])));break;case"Atmosphere":c(await fa(()=>import("./weather-C6M-T3A1.js"),__vite__mapDeps([])));break;case"Clouds":c(await fa(()=>import("./cloudy-day-1-Db9KW6Cg.js"),__vite__mapDeps([])));break}}J.useEffect(()=>{const w="6bffa96718465883b031a6c75c10e366";if(typeof window<"u"){const A=`https://api.openweathermap.org/data/2.5/weather?q=cañuelas&appid=${w}&units=metric`;fetch(A).then(_=>_.json()).then(_=>{let E={temperature:`${Math.round(_.main.temp)}°`,humidity:`Humeda: ${_.main.humidity} %`,wind:`Viento: ${_.wind.speed} km/h`};t(E),u(_).catch(S=>console.error(S))})}},[]);let d=new Date,f=d.getDate(),k=(()=>{if(d.getMonth()===0)return"Enero";if(d.getMonth()===1)return"Febrero";if(d.getMonth()===2)return"Marzo";if(d.getMonth()===3)return"Abril";if(d.getMonth()===4)return"Mayo";if(d.getMonth()===5)return"Junio";if(d.getMonth()===6)return"Julio";if(d.getMonth()===7)return"Agosto";if(d.getMonth()===8)return"Septiembre";if(d.getMonth()===9)return"Octubre";if(d.getMonth()===10)return"Noviembre";if(d.getMonth()===11)return"Diciembre"})();return j.jsx(J.Fragment,{children:r&&j.jsxs("div",{className:"containerWeather",children:[j.jsx("p",{children:`${f} de ${k}. Cañuelas, Argentina.`}),j.jsx("img",{src:o.default,alt:"img of climate"}),j.jsx("p",{children:r.temperature})]})})};function lhe(){return j.jsxs(Nde,{children:[j.jsxs("div",{className:"containerComponent",children:[j.jsx(ihe,{}),j.jsx(che,{})]}),j.jsx(ohe,{})]})}nA.createRoot(document.getElementById("root")).render(j.jsx(NC.StrictMode,{children:j.jsx(lhe,{})}))});export default uhe();
